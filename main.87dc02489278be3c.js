"use strict";(self.webpackChunkniedzielny_projekt=self.webpackChunkniedzielny_projekt||[]).push([[179],{2011:(it,Ce,R)=>{R.d(Ce,{hO:()=>We,xv:()=>ne,Dh:()=>ie,GT:()=>pe,cc:()=>Me,on:()=>j,pX:()=>X});var u=R(5e3),K=R(127),N=R(6351);it=R.hmd(it);const le=["ngOnDestroy"],X=(De,et,Ze,Se={})=>new Proxy(De,{get:(ve,we)=>Ze.runOutsideAngular(()=>{var Ye;if(De[we])return(null===(Ye=null==Se?void 0:Se.spy)||void 0===Ye?void 0:Ye.get)&&Se.spy.get(we,De[we]),De[we];if(le.indexOf(we)>-1)return()=>{};const Ue=et.toPromise().then(te=>{const q=te&&te[we];return"function"==typeof q?q.bind(te):q&&q.then?q.then(se=>Ze.run(()=>se)):Ze.run(()=>q)});return new Proxy(()=>{},{get:(te,q)=>Ue[q],apply:(te,q,se)=>Ue.then(ge=>{var ae;const xe=ge&&ge(...se);return(null===(ae=null==Se?void 0:Se.spy)||void 0===ae?void 0:ae.apply)&&Se.spy.apply(we,se,xe),xe})})})}),pe=(De,et)=>{et.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Se=>{Object.defineProperty(De.prototype,Se,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Se))})})};class oe{constructor(et){return et}}const ie=new u.OlP("angularfire2.app.options"),ne=new u.OlP("angularfire2.app.name");function j(De,et,Ze){const ve="object"==typeof Ze&&Ze||{};ve.name=ve.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Ye=K.Z.apps.filter(Ue=>Ue&&Ue.name===ve.name)[0]||et.runOutsideAngular(()=>K.Z.initializeApp(De,ve));try{JSON.stringify(De)!==JSON.stringify(Ye.options)&&Y("error",`${Ye.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new oe(Ye)}const Y=(De,...et)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...et)},J={provide:oe,useFactory:j,deps:[ie,u.R0b,[new u.FiY,ne]]};let We=(()=>{class De{constructor(Ze){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",u.q4F.full,Ze.toString())}static initializeApp(Ze,Se){return{ngModule:De,providers:[{provide:ie,useValue:Ze},{provide:ne,useValue:Se}]}}}return De.\u0275fac=function(Ze){return new(Ze||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[J]}),De})();function Me(De,et,Ze,Se,ve){const[,we,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===De)||[];if(we)return function Re(De,et){try{return De.toString()===et.toString()}catch(Ze){return De===et}}(ve,Ye)||(fe("error",`${et} was already initialized on the ${Ze} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ve,was:Ye})),we;{const Ue=Se();return globalThis.\u0275AngularfireInstanceCache.push([De,Ue,ve]),Ue}}const Fe=!!it.hot,fe=(De,...et)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(it,Ce,R)=>{R.d(Ce,{q4:()=>sa,iC:()=>vl,HU:()=>Ro,vb:()=>Gt,JM:()=>yf});var u=R(5e3),K=R(5867),N=R(5861),le=R(9681),X=R(2090),pe=R(4859),oe=R(1877);const ie="@firebase/installations",Y="w:0.5.7",J="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(E){return E instanceof X.ZR&&E.code.includes("request-failed")}function Ze({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Se(E){return{token:E.token,requestStatus:2,expiresIn:se(E.expiresIn),creationTime:Date.now()}}function ve(E,T){return we.apply(this,arguments)}function we(){return(we=(0,N.Z)(function*(E,T){const F=(yield T.json()).error;return De.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ye({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Ue(E,{refreshToken:T}){const x=Ye(E);return x.append("Authorization",function ge(E){return`${J} ${E}`}(T)),x}function te(E){return q.apply(this,arguments)}function q(){return(q=(0,N.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function se(E){return Number(E.replace("s","000"))}function ae(E,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const F=Ze(E),z=Ye(E),re=T.getImmediate({optional:!0});if(re){const Et=yield re.getHeartbeatsHeader();Et&&z.append("x-firebase-client",Et)}const Je={method:"POST",headers:z,body:JSON.stringify({fid:x,authVersion:J,appId:E.appId,sdkVersion:Y})},Mt=yield te(()=>fetch(F,Je));if(Mt.ok){const Et=yield Mt.json();return{fid:Et.fid||x,registrationStatus:2,refreshToken:Et.refreshToken,authToken:Se(Et.authToken)}}throw yield ve("Create Installation",Mt)})).apply(this,arguments)}function ce(E){return new Promise(T=>{setTimeout(T,E)})}const on=/^[cdef][\w-]{21}$/;function lt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function vt(E){return function At(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return on.test(x)?x:""}catch(E){return""}}function yn(E){return`${E.appName}!${E.appId}`}const vn=new Map;function Vi(E,T){const x=yn(E);an(x,T),function Kt(E,T){const x=function yi(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=E=>{an(E.data.key,E.data.fid)}),Er}();x&&x.postMessage({key:E,fid:T}),function lo(){0===vn.size&&Er&&(Er.close(),Er=null)}()}(x,T)}function an(E,T){const x=vn.get(E);if(x)for(const F of x)F(T)}let Er=null;const qr="firebase-installations-store";let Is=null;function Ms(){return Is||(Is=(0,X.X3)("firebase-installations-database",1,(E,T)=>{0===T&&E.createObjectStore(qr)})),Is}function ct(E,T){return ui.apply(this,arguments)}function ui(){return(ui=(0,N.Z)(function*(E,T){const x=yn(E),z=(yield Ms()).transaction(qr,"readwrite"),re=z.objectStore(qr),ke=yield re.get(x);return yield re.put(T,x),yield z.complete,(!ke||ke.fid!==T.fid)&&Vi(E,T.fid),T})).apply(this,arguments)}function gr(E){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*(E){const T=yn(E),F=(yield Ms()).transaction(qr,"readwrite");yield F.objectStore(qr).delete(T),yield F.complete})).apply(this,arguments)}function vi(E,T){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,N.Z)(function*(E,T){const x=yn(E),z=(yield Ms()).transaction(qr,"readwrite"),re=z.objectStore(qr),ke=yield re.get(x),Je=T(ke);return void 0===Je?yield re.delete(x):yield re.put(Je,x),yield z.complete,Je&&(!ke||ke.fid!==Je.fid)&&Vi(E,Je.fid),Je})).apply(this,arguments)}function In(E){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(function*(E){let T;const x=yield vi(E.appConfig,F=>{const z=uo(F),re=al(E,z);return T=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function uo(E){return zt(E||{fid:lt(),registrationStatus:0})}function al(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(De.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function Qt(E,T){return st.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:St(E)}:{installationEntry:T}}function st(){return(st=(0,N.Z)(function*(E,T){try{const x=yield ae(E,T);return ct(E.appConfig,x)}catch(x){throw et(x)&&409===x.customData.serverCode?yield gr(E.appConfig):yield ct(E.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function St(E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,N.Z)(function*(E){let T=yield ls(E.appConfig);for(;1===T.registrationStatus;)yield ce(100),T=yield ls(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield In(E);return F||x}return T})).apply(this,arguments)}function ls(E){return vi(E,T=>{if(!T)throw De.create("installation-not-found");return zt(T)})}function zt(E){return function zo(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Lr(E,T){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const F=ht(E,x),z=Ue(E,x),re=T.getImmediate({optional:!0});if(re){const Et=yield re.getHeartbeatsHeader();Et&&z.append("x-firebase-client",Et)}const Je={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Y,appId:E.appId}})},Mt=yield te(()=>fetch(F,Je));if(Mt.ok)return Se(yield Mt.json());throw yield ve("Generate Auth Token",Mt)})).apply(this,arguments)}function ht(E,{fid:T}){return`${Ze(E)}/${T}/authTokens:generate`}function Pr(E){return $t.apply(this,arguments)}function $t(){return($t=(0,N.Z)(function*(E,T=!1){let x;const F=yield vi(E.appConfig,re=>{if(!Ut(re))throw De.create("not-registered");const ke=re.authToken;if(!T&&U(ke))return re;if(1===ke.requestStatus)return x=Ke(E,T),re;{if(!navigator.onLine)throw De.create("app-offline");const Je=G(re);return x=ft(E,Je),Je}});return x?yield x:F.authToken})).apply(this,arguments)}function Ke(E,T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,N.Z)(function*(E,T){let x=yield Qe(E.appConfig);for(;1===x.authToken.requestStatus;)yield ce(100),x=yield Qe(E.appConfig);const F=x.authToken;return 0===F.requestStatus?Pr(E,T):F})).apply(this,arguments)}function Qe(E){return vi(E,T=>{if(!Ut(T))throw De.create("not-registered");return function de(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function ft(E,T){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,N.Z)(function*(E,T){try{const x=yield Lr(E,T),F=Object.assign(Object.assign({},T),{authToken:x});return yield ct(E.appConfig,F),x}catch(x){if(!et(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ct(E.appConfig,F)}else yield gr(E.appConfig);throw x}})).apply(this,arguments)}function Ut(E){return void 0!==E&&2===E.registrationStatus}function U(E){return 2===E.requestStatus&&!function V(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function G(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function Be(){return(Be=(0,N.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:F}=yield In(T);return F?F.catch(console.error):Pr(T).catch(console.error),x.fid})).apply(this,arguments)}function tn(){return(tn=(0,N.Z)(function*(E,T=!1){const x=E;return yield Fr(x),(yield Pr(x,T)).token})).apply(this,arguments)}function Fr(E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(E){const{registrationPromise:T}=yield In(E);T&&(yield T)})).apply(this,arguments)}function dr(E){return De.create("missing-app-config-values",{valueName:E})}const ul="installations",Ne=E=>{const T=E.getProvider("app").getImmediate(),x=function As(E){if(!E||!E.options)throw dr("App Configuration");if(!E.name)throw dr("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw dr(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=E=>{const T=E.getProvider("app").getImmediate(),x=(0,le._getProvider)(T,ul).getImmediate();return{getId:()=>function Q(E){return Be.apply(this,arguments)}(x),getToken:z=>function bt(E){return tn.apply(this,arguments)}(x,z)}};(function Dn(){(0,le._registerComponent)(new pe.wA(ul,Ne,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",Vt,"PRIVATE"))})(),(0,le.registerVersion)(ie,"0.5.7"),(0,le.registerVersion)(ie,"0.5.7","esm2017");const Ir="@firebase/remote-config",Zn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ff{constructor(T,x,F,z){this.client=T,this.storage=x,this.storageCache=F,this.logger=z}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,z=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${z}.`),z}fetch(T){var x=this;return(0,N.Z)(function*(){const[F,z]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(z&&x.isCachedDataFresh(T.cacheMaxAgeMillis,F))return z;T.eTag=z&&z.eTag;const re=yield x.client.fetch(T),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(ke),re})()}}function Dd(E=navigator){return E.languages&&E.languages[0]||E.language}class ql{constructor(T,x,F,z,re,ke){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=F,this.projectId=z,this.apiKey=re,this.appId=ke}fetch(T){var x=this;return(0,N.Z)(function*(){const[F,z]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Mt={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:z,app_id:x.appId,language_code:Dd()},Et={method:"POST",headers:Je,body:JSON.stringify(Mt)},Bt=fetch(ke,Et),wt=new Promise((Jr,ps)=>{T.signal.addEventListener(()=>{const mu=new Error("The operation was aborted.");mu.name="AbortError",ps(mu)})});let Dt;try{yield Promise.race([Bt,wt]),Dt=yield Bt}catch(Jr){let ps="fetch-client-network";throw"AbortError"===Jr.name&&(ps="fetch-timeout"),Zn.create(ps,{originalErrorMessage:Jr.message})}let Yt=Dt.status;const bl=Dt.headers.get("ETag")||void 0;let Wi,aa;if(200===Dt.status){let Jr;try{Jr=yield Dt.json()}catch(ps){throw Zn.create("fetch-client-parse",{originalErrorMessage:ps.message})}Wi=Jr.entries,aa=Jr.state}if("INSTANCE_STATE_UNSPECIFIED"===aa?Yt=500:"NO_CHANGE"===aa?Yt=304:("NO_TEMPLATE"===aa||"EMPTY_CONFIG"===aa)&&(Wi={}),304!==Yt&&200!==Yt)throw Zn.create("fetch-status",{httpStatus:Yt});return{status:Yt,eTag:bl,config:Wi}})()}}class Cm{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,N.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:F}){var z=this;return(0,N.Z)(function*(){yield function ir(E,T){return new Promise((x,F)=>{const z=Math.max(T-Date.now(),0),re=setTimeout(x,z);E.addEventListener(()=>{clearTimeout(re),F(Zn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const re=yield z.client.fetch(T);return yield z.storage.deleteThrottleMetadata(),re}catch(re){if(!function Cd(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(re))throw re;const ke={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield z.storage.setThrottleMetadata(ke),z.attemptFetch(T,ke)}})()}}class Na{constructor(T,x,F,z,re){this.app=T,this._client=x,this._storageCache=F,this._storage=z,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ec(E,T){const x=E.target.error||void 0;return Zn.create(T,{originalErrorMessage:x&&x.message})}const mo="app_namespace_store";class Im{constructor(T,x,F,z=function Sm(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{T(ec(F,"storage-open"))},x.onsuccess=F=>{E(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(mo,{keyPath:"compositeKey"})}}catch(x){T(Zn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=F,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,N.Z)(function*(){const F=yield x.openDbPromise;return new Promise((z,re)=>{const Je=F.transaction([mo],"readonly").objectStore(mo),Mt=x.createCompositeKey(T);try{const Et=Je.get(Mt);Et.onerror=Bt=>{re(ec(Bt,"storage-get"))},Et.onsuccess=Bt=>{const wt=Bt.target.result;z(wt?wt.value:void 0)}}catch(Et){re(Zn.create("storage-get",{originalErrorMessage:Et&&Et.message}))}})})()}set(T,x){var F=this;return(0,N.Z)(function*(){const z=yield F.openDbPromise;return new Promise((re,ke)=>{const Mt=z.transaction([mo],"readwrite").objectStore(mo),Et=F.createCompositeKey(T);try{const Bt=Mt.put({compositeKey:Et,value:x});Bt.onerror=wt=>{ke(ec(wt,"storage-set"))},Bt.onsuccess=()=>{re()}}catch(Bt){ke(Zn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(T){var x=this;return(0,N.Z)(function*(){const F=yield x.openDbPromise;return new Promise((z,re)=>{const Je=F.transaction([mo],"readwrite").objectStore(mo),Mt=x.createCompositeKey(T);try{const Et=Je.delete(Mt);Et.onerror=Bt=>{re(ec(Bt,"storage-delete"))},Et.onsuccess=()=>{z()}}catch(Et){re(Zn.create("storage-delete",{originalErrorMessage:Et&&Et.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Td{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const x=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),z=T.storage.getActiveConfig(),re=yield x;re&&(T.lastFetchStatus=re);const ke=yield F;ke&&(T.lastSuccessfulFetchTimestampMillis=ke);const Je=yield z;Je&&(T.activeConfig=Je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Zo(){return pf.apply(this,arguments)}function pf(){return(pf=(0,N.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}!function La(){(0,le._registerComponent)(new pe.wA("remote-config",function E(T,{instanceIdentifier:x}){const F=T.getProvider("app").getImmediate(),z=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Zn.create("registration-window");if(!(0,X.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:re,apiKey:ke,appId:Je}=F.options;if(!re)throw Zn.create("registration-project-id");if(!ke)throw Zn.create("registration-api-key");if(!Je)throw Zn.create("registration-app-id");const Mt=new Im(Je,F.name,x=x||"firebase"),Et=new Td(Mt),Bt=new oe.Yd(Ir);Bt.logLevel=oe.in.ERROR;const wt=new ql(z,le.SDK_VERSION,x,re,ke,Je),Dt=new Cm(wt,Mt),Yt=new ff(Dt,Mt,Et,Bt),bl=new Na(F,Yt,Et,Mt,Bt);return function hr(E){const T=(0,X.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(bl),bl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Ir,"0.3.6"),(0,le.registerVersion)(Ir,"0.3.6","esm2017")}();const tc="/firebase-messaging-sw.js",go="/firebase-cloud-messaging-push-scope",hi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ko="google.c.a.c_id",dl="google.c.a.c_l",Sd="google.c.a.ts",Mm="google.c.a.e";var _o=(()=>{return(E=_o||(_o={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",_o;var E})();function wi(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kl(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),z=new Uint8Array(F.length);for(let re=0;re<F.length;++re)z[re]=F.charCodeAt(re);return z}const Ql="fcm_token_details_db",Ar="fcm_token_object_Store";function mf(E){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,N.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Ql))return null;let T=null;return(yield(0,X.X3)(Ql,5,function(){var F=(0,N.Z)(function*(z,re,ke,Je){var Mt;if(re<2||!z.objectStoreNames.contains(Ar))return;const Et=Je.objectStore(Ar),Bt=yield Et.index("fcmSenderId").get(E);if(yield Et.clear(),Bt)if(2===re){const wt=Bt;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;T={token:wt.fcmToken,createTime:null!==(Mt=wt.createTime)&&void 0!==Mt?Mt:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:wi(wt.vapidKey)}}}else if(3===re){const wt=Bt;T={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:wi(wt.auth),p256dh:wi(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:wi(wt.vapidKey)}}}else if(4===re){const wt=Bt;T={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:wi(wt.auth),p256dh:wi(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:wi(wt.vapidKey)}}}});return function(z,re,ke,Je){return F.apply(this,arguments)}}())).close(),yield(0,X.Lj)(Ql),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Id(T)?T:null}),Jl.apply(this,arguments)}function Id(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Ns="firebase-messaging-store";let hl=null;function nc(){return hl||(hl=(0,X.X3)("firebase-messaging-database",1,(E,T)=>{0===T&&E.createObjectStore(Ns)})),hl}function Tn(E){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,N.Z)(function*(E){const T=Jo(E),F=yield(yield nc()).transaction(Ns).objectStore(Ns).get(T);if(F)return F;{const z=yield mf(E.appConfig.senderId);if(z)return yield yo(E,z),z}})).apply(this,arguments)}function yo(E,T){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.Z)(function*(E,T){const x=Jo(E),z=(yield nc()).transaction(Ns,"readwrite");return yield z.objectStore(Ns).put(T,x),yield z.complete,T})).apply(this,arguments)}function Md(E){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,N.Z)(function*(E){const T=Jo(E),F=(yield nc()).transaction(Ns,"readwrite");yield F.objectStore(Ns).delete(T),yield F.complete})).apply(this,arguments)}function Jo({appConfig:E}){return E.appId}const Kn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fl(E,T){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,N.Z)(function*(E,T){const x=yield bo(E),F=pt(T),z={method:"POST",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(fi(E.appConfig),z)).json()}catch(ke){throw Kn.create("token-subscribe-failed",{errorInfo:ke})}if(re.error)throw Kn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Kn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Br(E,T){return vo.apply(this,arguments)}function vo(){return(vo=(0,N.Z)(function*(E,T){const x=yield bo(E),F=pt(T.subscriptionOptions),z={method:"PATCH",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(`${fi(E.appConfig)}/${T.token}`,z)).json()}catch(ke){throw Kn.create("token-update-failed",{errorInfo:ke})}if(re.error)throw Kn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Kn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Ls(E,T){return tu.apply(this,arguments)}function tu(){return(tu=(0,N.Z)(function*(E,T){const F={method:"DELETE",headers:yield bo(E)};try{const re=yield(yield fetch(`${fi(E.appConfig)}/${T}`,F)).json();if(re.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(z){throw Kn.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function fi({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function bo(E){return wo.apply(this,arguments)}function wo(){return(wo=(0,N.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function pt({p256dh:E,auth:T,endpoint:x,vapidKey:F}){const z={web:{endpoint:x,auth:T,p256dh:E}};return F!==hi&&(z.web.applicationPubKey=F),z}const nu=6048e5;function pl(E){return ru.apply(this,arguments)}function ru(){return(ru=(0,N.Z)(function*(E){const T=yield sc(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:wi(T.getKey("auth")),p256dh:wi(T.getKey("p256dh"))},F=yield Tn(E.firebaseDependencies);if(F){if(Va(F.subscriptionOptions,x))return Date.now()>=F.createTime+nu?rc(E,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield Ls(E.firebaseDependencies,F.token)}catch(z){console.warn(z)}return Ee(E.firebaseDependencies,x)}return Ee(E.firebaseDependencies,x)})).apply(this,arguments)}function iu(E){return su.apply(this,arguments)}function su(){return(su=(0,N.Z)(function*(E){const T=yield Tn(E.firebaseDependencies);T&&(yield Ls(E.firebaseDependencies,T.token),yield Md(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function rc(E,T){return ic.apply(this,arguments)}function ic(){return(ic=(0,N.Z)(function*(E,T){try{const x=yield Br(E.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield yo(E.firebaseDependencies,F),x}catch(x){throw yield iu(E),x}})).apply(this,arguments)}function Ee(E,T){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(E,T){const F={token:yield fl(E,T),createTime:Date.now(),subscriptionOptions:T};return yield yo(E,F),F.token})).apply(this,arguments)}function sc(E,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,N.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kl(T)})})).apply(this,arguments)}function Va(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function Ba(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function pi(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const F=T.notification.body;F&&(E.notification.body=F);const z=T.notification.image;z&&(E.notification.image=z)}(T,E),function oc(E,T){!T.data||(E.data=T.data)}(T,E),function ac(E,T){if(!T.fcmOptions)return;E.fcmOptions={};const x=T.fcmOptions.link;x&&(E.fcmOptions.link=x);const F=T.fcmOptions.analytics_label;F&&(E.fcmOptions.analyticsLabel=F)}(T,E),T}function Ad(E){return"object"==typeof E&&!!E&&Ko in E}function lc(E,T){const x=[];for(let F=0;F<E.length;F++)x.push(E.charAt(F)),F<T.length&&x.push(T.charAt(F));return x.join("")}function Do(E){return Kn.create("missing-app-config-values",{valueName:E})}lc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kr{constructor(T,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function ou(E){if(!E||!E.options)throw Do("App Configuration Object");if(!E.name)throw Do("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const F of T)if(!x[F])throw Do(F);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:z,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Di(E){return au.apply(this,arguments)}function au(){return(au=(0,N.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(tc,{scope:go}),E.swRegistration.update().catch(()=>{})}catch(T){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Co(E,T){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,N.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield Di(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function uc(E,T){return lu.apply(this,arguments)}function lu(){return(lu=(0,N.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=hi)})).apply(this,arguments)}function cc(){return(cc=(0,N.Z)(function*(E,T){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield uc(E,null==T?void 0:T.vapidKey),yield Co(E,null==T?void 0:T.serviceWorkerRegistration),pl(E)})).apply(this,arguments)}function ml(E,T,x){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(E,T,x){const F=dc(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[Ko],message_name:x[dl],message_time:x[Sd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dc(E){switch(E){case _o.NOTIFICATION_CLICKED:return"notification_open";case _o.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function kd(){return(kd=(0,N.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===_o.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ba(x)):E.onMessageHandler.next(Ba(x)));const F=x.data;Ad(F)&&"1"===F[Mm]&&(yield ml(E,x.messageType,F))})).apply(this,arguments)}const fc="@firebase/messaging",xd=E=>{const T=new kr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function hc(E,T){return kd.apply(this,arguments)}(T,x)),T},ea=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:F=>function uu(E,T){return cc.apply(this,arguments)}(T,F)}};function Rd(){return ta.apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(){try{yield(0,X.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Od(){(0,le._registerComponent)(new pe.wA("messaging",xd,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",ea,"PRIVATE")),(0,le.registerVersion)(fc,"0.9.11"),(0,le.registerVersion)(fc,"0.9.11","esm2017")}();const mc="analytics",ny="firebase_id",gl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cu="https://www.googletagmanager.com/gtag/js",sr=new oe.Yd("@firebase/analytics");function Ld(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function Am(E,T){const x=document.createElement("script");x.src=`${cu}?l=${E}&id=${T}`,x.async=!0,document.head.appendChild(x)}function Ua(E,T,x,F,z,re){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,N.Z)(function*(E,T,x,F,z,re){const ke=F[z];try{if(ke)yield T[ke];else{const Mt=(yield Ld(x)).find(Et=>Et.measurementId===z);Mt&&(yield T[Mt.appId])}}catch(Je){sr.error(Je)}E("config",z,re)})).apply(this,arguments)}function _c(E,T,x,F,z){return na.apply(this,arguments)}function na(){return(na=(0,N.Z)(function*(E,T,x,F,z){try{let re=[];if(z&&z.send_to){let ke=z.send_to;Array.isArray(ke)||(ke=[ke]);const Je=yield Ld(x);for(const Mt of ke){const Et=Je.find(wt=>wt.measurementId===Mt),Bt=Et&&T[Et.appId];if(!Bt){re=[];break}re.push(Bt)}}0===re.length&&(re=Object.values(T)),yield Promise.all(re),E("event",F,z||{})}catch(re){sr.error(re)}})).apply(this,arguments)}function km(){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(cu))return T;return null}const Jn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),vr=new class or{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ja(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Vd(E){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.Z)(function*(E){var T;const{appId:x,apiKey:F}=E,z={method:"GET",headers:ja(F)},re=gl.replace("{app-id}",x),ke=yield fetch(re,z);if(200!==ke.status&&304!==ke.status){let Je="";try{const Mt=yield ke.json();(null===(T=Mt.error)||void 0===T?void 0:T.message)&&(Je=Mt.error.message)}catch(Mt){}throw Jn.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Je})}return ke.json()})).apply(this,arguments)}function _f(E){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,N.Z)(function*(E,T=vr,x){const{appId:F,apiKey:z,measurementId:re}=E.options;if(!F)throw Jn.create("no-app-id");if(!z){if(re)return{measurementId:re,appId:F};throw Jn.create("no-api-key")}const ke=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new yc;return setTimeout((0,N.Z)(function*(){Je.abort()}),void 0!==x?x:6e4),du({appId:F,apiKey:z,measurementId:re},ke,Je,T)})).apply(this,arguments)}function du(E,T,x){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,N.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},F,z=vr){const{appId:re,measurementId:ke}=E;try{yield Nt(F,T)}catch(Je){if(ke)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:re,measurementId:ke};throw Je}try{const Je=yield Vd(E);return z.deleteThrottleMetadata(re),Je}catch(Je){if(!Bd(Je)){if(z.deleteThrottleMetadata(re),ke)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:re,measurementId:ke};throw Je}const Mt=503===Number(Je.customData.httpStatus)?(0,X.$s)(x,z.intervalMillis,30):(0,X.$s)(x,z.intervalMillis),Et={throttleEndTimeMillis:Date.now()+Mt,backoffCount:x+1};return z.setThrottleMetadata(re,Et),sr.debug(`Calling attemptFetch again in ${Mt} millis`),du(E,Et,F,z)}})).apply(this,arguments)}function Nt(E,T){return new Promise((x,F)=>{const z=Math.max(T-Date.now(),0),re=setTimeout(x,z);E.addEventListener(()=>{clearTimeout(re),F(Jn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Bd(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class yc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function vc(){return ra.apply(this,arguments)}function ra(){return(ra=(0,N.Z)(function*(){if(!(0,X.hl)())return sr.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(E){return sr.warn(Jn.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Vs(){return(Vs=(0,N.Z)(function*(E,T,x,F,z,re,ke){var Je;const Mt=_f(E);Mt.then(Yt=>{x[Yt.measurementId]=Yt.appId,E.options.measurementId&&Yt.measurementId!==E.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>sr.error(Yt)),T.push(Mt);const Et=vc().then(Yt=>{if(Yt)return F.getId()}),[Bt,wt]=yield Promise.all([Mt,Et]);km()||Am(re,Bt.measurementId),z("js",new Date);const Dt=null!==(Je=null==ke?void 0:ke.config)&&void 0!==Je?Je:{};return Dt.origin="firebase",Dt.update=!0,null!=wt&&(Dt[ny]=wt),z("config",Bt.measurementId,Dt),Bt.measurementId})).apply(this,arguments)}class ia{constructor(T){this.app=T}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},So=[];const Ti={};let Io,ds,cs="dataLayer",wc=!1;function ji(E,T,x){!function Mo(){const E=[];if((0,X.ru)()&&E.push("This is a browser extension environment."),(0,X.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((F,z)=>`(${z+1}) ${F}`).join(" "),x=Jn.create("invalid-analytics-context",{errorInfo:T});sr.warn(x.message)}}();const F=E.options.appId;if(!F)throw Jn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Jn.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ei[F])throw Jn.create("already-exists",{id:F});if(!wc){!function Fs(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(cs);const{wrappedGtag:re,gtagCore:ke}=function gf(E,T,x,F,z){let re=function(...ke){window[F].push(arguments)};return window[z]&&"function"==typeof window[z]&&(re=window[z]),window[z]=function Fd(E,T,x,F){function re(){return(re=(0,N.Z)(function*(ke,Je,Mt){try{"event"===ke?yield _c(E,T,x,Je,Mt):"config"===ke?yield Ua(E,T,x,F,Je,Mt):E("set",Je)}catch(Et){sr.error(Et)}})).apply(this,arguments)}return function z(ke,Je,Mt){return re.apply(this,arguments)}}(re,E,T,x),{gtagCore:re,wrappedGtag:window[z]}}(Ei,So,Ti,cs,"gtag");ds=re,Io=ke,wc=!0}return Ei[F]=function Xn(E,T,x,F,z,re,ke){return Vs.apply(this,arguments)}(E,So,Ti,T,Io,cs,x),new ia(E)}function hs(){return(hs=(0,N.Z)(function*(E,T,x,F,z){if(z&&z.global)E("event",x,F);else{const re=yield T;E("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Vn(){return ko.apply(this,arguments)}function ko(){return(ko=(0,N.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}const xo="@firebase/analytics";!function Nm(){(0,le._registerComponent)(new pe.wA(mc,(T,{options:x})=>ji(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function E(T){try{const x=T.getProvider(mc).getImmediate();return{logEvent:(F,z,re)=>function Rm(E,T,x,F){E=(0,X.m9)(E),function Ya(E,T,x,F,z){return hs.apply(this,arguments)}(ds,Ei[E.app.options.appId],T,x,F).catch(z=>sr.error(z))}(x,F,z,re)}}catch(x){throw Jn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(xo,"0.7.7"),(0,le.registerVersion)(xo,"0.7.7","esm2017")}();var Oo=R(233),Bs=R(4986),hu=R(8505),Bn=R(9468),Dc=R(5363);const sa=new u.GfV("7.3.0"),Yd="__angularfire_symbol__analyticsIsSupportedValue",_l="__angularfire_symbol__analyticsIsSupported",br="__angularfire_symbol__remoteConfigIsSupportedValue",Qr="__angularfire_symbol__remoteConfigIsSupported",yl="__angularfire_symbol__messagingIsSupportedValue",Hs="__angularfire_symbol__messagingIsSupported";function yf(E,T,x){if(T){if(1===T.length)return T[0];const re=T.filter(ke=>ke.app===x);if(1===re.length)return re[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[_l]||(globalThis[_l]=Vn().then(E=>globalThis[Yd]=E).catch(()=>globalThis[Yd]=!1)),globalThis[Hs]||(globalThis[Hs]=Rd().then(E=>globalThis[yl]=E).catch(()=>globalThis[yl]=!1)),globalThis[Qr]||(globalThis[Qr]=Zo().then(E=>globalThis[br]=E).catch(()=>globalThis[br]=!1));const Gt=(E,T)=>{const x=T?[T]:(0,K.C6)(),F=[];return x.forEach(z=>{z.container.getProvider(E).instances.forEach(ke=>{F.includes(ke)||F.push(ke)})}),F};function Us(){}class tr{constructor(T,x=Oo.N){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,F){const z=this.zone;return this.delegate.schedule(function(ke){z.runGuarded(()=>{T.apply(this,[ke])})},x,F)}}class fu{constructor(T){this.zone=T,this.task=null}call(T,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us)),x.pipe((0,hu.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ro=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new tr(Zone.current)),this.insideAngular=x.run(()=>new tr(Zone.current,Bs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function No(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function vl(E){return No(),function Wd(E){return function(x){return(x=x.lift(new fu(E.ngZone))).pipe((0,Bn.R)(E.outsideAngular),(0,Dc.Q)(E.insideAngular))}}(No())(E)}},2090:(it,Ce,R)=>{R.d(Ce,{BH:()=>Me,LL:()=>At,ZR:()=>ce,zI:()=>ge,US:()=>oe,tV:()=>j,L:()=>ne,$s:()=>zo,r3:()=>an,Sg:()=>Re,ne:()=>ct,vZ:()=>lo,ZB:()=>J,Lj:()=>Wt,pd:()=>Is,m9:()=>ht,z$:()=>Fe,jU:()=>et,ru:()=>Ze,d:()=>ve,xb:()=>Er,w1:()=>we,hl:()=>q,uI:()=>fe,UG:()=>De,b$:()=>Se,G6:()=>te,Mn:()=>Ye,X3:()=>ft,xO:()=>as,zd:()=>qr,eu:()=>se});var u=R(5861);const X=function(U){const V=[];let G=0;for(let de=0;de<U.length;de++){let Q=U.charCodeAt(de);Q<128?V[G++]=Q:Q<2048?(V[G++]=Q>>6|192,V[G++]=63&Q|128):55296==(64512&Q)&&de+1<U.length&&56320==(64512&U.charCodeAt(de+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++de)),V[G++]=Q>>18|240,V[G++]=Q>>12&63|128,V[G++]=Q>>6&63|128,V[G++]=63&Q|128):(V[G++]=Q>>12|224,V[G++]=Q>>6&63|128,V[G++]=63&Q|128)}return V},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Q=0;Q<U.length;Q+=3){const Be=U[Q],bt=Q+1<U.length,tn=bt?U[Q+1]:0,Fr=Q+2<U.length,Jt=Fr?U[Q+2]:0;let wn=(15&tn)<<2|Jt>>6,yr=63&Jt;Fr||(yr=64,bt||(wn=64)),de.push(G[Be>>2],G[(3&Be)<<4|tn>>4],G[wn],G[yr])}return de.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(X(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let G=0,de=0;for(;G<U.length;){const Q=U[G++];if(Q<128)V[de++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Be=U[G++];V[de++]=String.fromCharCode((31&Q)<<6|63&Be)}else if(Q>239&&Q<365){const Fr=((7&Q)<<18|(63&U[G++])<<12|(63&U[G++])<<6|63&U[G++])-65536;V[de++]=String.fromCharCode(55296+(Fr>>10)),V[de++]=String.fromCharCode(56320+(1023&Fr))}else{const Be=U[G++],bt=U[G++];V[de++]=String.fromCharCode((15&Q)<<12|(63&Be)<<6|63&bt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Q=0;Q<U.length;){const Be=G[U.charAt(Q++)],tn=Q<U.length?G[U.charAt(Q)]:0;++Q;const Jt=Q<U.length?G[U.charAt(Q)]:64;++Q;const Ft=Q<U.length?G[U.charAt(Q)]:64;if(++Q,null==Be||null==tn||null==Jt||null==Ft)throw Error();de.push(Be<<2|tn>>4),64!==Jt&&(de.push(tn<<4&240|Jt>>2),64!==Ft&&de.push(Jt<<6&192|Ft))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ne=function(U){return function(U){const V=X(U);return oe.encodeByteArray(V,!0)}(U).replace(/\./g,"")},j=function(U){try{return oe.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!We(G)||(U[G]=J(U[G],V[G]));return U}function We(U){return"__proto__"!==U}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,de)=>{G?this.reject(G):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,de))}}}function Re(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",Q=U.iat||0,Be=U.sub||U.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Q,exp:Q+3600,auth_time:Q,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(bt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function et(){return"object"==typeof self&&self.self===self}function Ze(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Fe().indexOf("Electron/")>=0}function we(){const U=Fe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ye(){return Fe().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function se(){return new Promise((U,V)=>{try{let G=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(de);Q.onsuccess=()=>{Q.result.close(),G||self.indexedDB.deleteDatabase(de),U(!0)},Q.onupgradeneeded=()=>{G=!1},Q.onerror=()=>{var Be;V((null===(Be=Q.error)||void 0===Be?void 0:Be.message)||"")}}catch(G){V(G)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(V,G,de){super(G),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(V,G,de){this.service=V,this.serviceName=G,this.errors=de}create(V,...G){const de=G[0]||{},Q=`${this.service}/${V}`,Be=this.errors[V],bt=Be?function on(U,V){return U.replace(qn,(G,de)=>{const Q=V[de];return null!=Q?String(Q):`<${de}?>`})}(Be,de):"Error";return new ce(Q,`${this.serviceName}: ${bt} (${Q}).`,de)}}const qn=/\{\$([^}]+)}/g;function an(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function Er(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function lo(U,V){if(U===V)return!0;const G=Object.keys(U),de=Object.keys(V);for(const Q of G){if(!de.includes(Q))return!1;const Be=U[Q],bt=V[Q];if(zr(Be)&&zr(bt)){if(!lo(Be,bt))return!1}else if(Be!==bt)return!1}for(const Q of de)if(!G.includes(Q))return!1;return!0}function zr(U){return null!==U&&"object"==typeof U}function as(U){const V=[];for(const[G,de]of Object.entries(U))Array.isArray(de)?de.forEach(Q=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function qr(U){const V={};return U.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Q,Be]=de.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Be)}}),V}function Is(U){const V=U.indexOf("?");if(!V)return"";const G=U.indexOf("#",V);return U.substring(V,G>0?G:void 0)}function ct(U,V){const G=new ui(U,V);return G.subscribe.bind(G)}class ui{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,de){let Q;if(void 0===V&&void 0===G&&void 0===de)throw new Error("Missing Observer.");Q=function cr(U,V){if("object"!=typeof U||null===U)return!1;for(const G of V)if(G in U&&"function"==typeof U[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:de},void 0===Q.next&&(Q.next=vi),void 0===Q.error&&(Q.error=vi),void 0===Q.complete&&(Q.complete=vi);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(bt){}}),this.observers.push(Q),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vi(){}function zo(U,V=1e3,G=2){const de=V*Math.pow(G,U),Q=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+Q)}function ht(U){return U&&U._delegate?U._delegate:U}function Pr(U,V){return new Promise((G,de)=>{U.onsuccess=Q=>{G(Q.target.result)},U.onerror=Q=>{var Be;de(`${V}: ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}})}class $t{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,G){return new Ke(this._db.transaction.call(this._db,V,G))}createObjectStore(V,G){return new Ie(this._db.createObjectStore(V,G))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise((G,de)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new Qe(this._store.index(V))}createIndex(V,G,de){return new Qe(this._store.createIndex(V,G,de))}get(V){return Pr(this._store.get(V),"Error reading from IndexedDB")}put(V,G){return Pr(this._store.put(V,G),"Error writing to IndexedDB")}delete(V){return Pr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Pr(this._store.clear(),"Error clearing IndexedDB object store")}}class Qe{constructor(V){this._index=V}get(V){return Pr(this._index.get(V),"Error reading from IndexedDB")}}function ft(U,V,G){return new Promise((de,Q)=>{try{const Be=indexedDB.open(U,V);Be.onsuccess=bt=>{de(new $t(bt.target.result))},Be.onerror=bt=>{var tn;Q(`Error opening indexedDB: ${null===(tn=bt.target.error)||void 0===tn?void 0:tn.message}`)},Be.onupgradeneeded=bt=>{G(new $t(Be.result),bt.oldVersion,bt.newVersion,new Ke(Be.transaction))}}catch(Be){Q(`Error opening indexedDB: ${Be.message}`)}})}function Wt(U){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(U){return new Promise((V,G)=>{try{const de=indexedDB.deleteDatabase(U);de.onsuccess=()=>{V()},de.onerror=Q=>{var Be;G(`Error deleting indexedDB database "${U}": ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}}catch(de){G(`Error deleting indexedDB database "${U}": ${de.message}`)}})})).apply(this,arguments)}},7753:(it,Ce,R)=>{var u=R(5e3);let K=null;function N(){return K}const oe=new u.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ne(){return(0,u.LFG)(Y)}()},providedIn:"platform"}),n})();const j=new u.OlP("Location Initialized");let Y=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function We(){return new Y((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const e=(0,u.LFG)(oe).location;return new Ze((0,u.LFG)(ie),e&&e.origin||"")}()},providedIn:"root"}),n})();const et=new u.OlP("appBaseHref");let Ze=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Fe(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Fe(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(et,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Fe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Fe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(et,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(Ue(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Me,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function we(){return new ve((0,u.LFG)(fe),(0,u.LFG)(ie))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}let ks=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new fo(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),xs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xs(n,e){n.context.$implicit=e.item}let hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Gl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Gl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function Gl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Wl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ci=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Zr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Wl(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ci,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class Cd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Cm{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Rs=new Cm,Em=new Cd;let Na=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return Rs;if((0,u.F4k)(t))return Em;throw function ir(n,e){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Mr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const _o="browser";function Ar(n){return"server"===n}let Xl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new eu((0,u.LFG)(oe),window)}),n})();class eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ns(this.window.history)||Ns(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ns(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yo extends class Fa extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new yo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Md(){return pn=pn||document.querySelector("base"),pn?pn.getAttribute("href"):null}();return null==t?null:function Jo(n){Qo=Qo||document.createElement("a"),Qo.setAttribute("href",n);const e=Qo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){pn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ra(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Qo,pn=null;const Vr=new u.OlP("TRANSITION_ID"),fl=[{provide:u.ip1,useFactory:function Kn(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Vr,oe,u.zs3],multi:!0}];class Bi{static init(){(0,u.VLi)(new Bi)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Br=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const vo=new u.OlP("EventManagerPlugins");let Ls=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class tu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let fi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),bo=(()=>{class n extends fi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(wo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(wo))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function wo(n){N().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nu=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ee(n,i,t):(i=i.replace(nu,n),t.push(i))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Va(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new oc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new ac(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ls),u.LFG(bo),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Va{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=pt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(r)):this.eventManager.addEventListener(e,t,jt(r))}}class oc extends Va{constructor(e,t,r,i){super(e),this.component=r;const a=Ee(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function rc(n){return"_ngcontent-%COMP%".replace(nu,n)}(i+"-"+r.id),this.hostAttr=function ic(n){return"_nghost-%COMP%".replace(nu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ac extends Va{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ee(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ad=(()=>{class n extends tu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=["alt","control","meta","shift"],Do={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Di={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let au=(()=>{class n extends tu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(lc.forEach(_=>{const D=r.indexOf(_);D>-1&&(r.splice(D,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function Co(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&kr.hasOwnProperty(e)&&(e=kr[e]))}return Do[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lc.forEach(a=>{a!=i&&Di[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:_o},{provide:u.g9A,useValue:function Hi(){yo.makeCurrent(),Bi.init()},multi:!0},{provide:oe,useFactory:function lu(){return(0,u.RDi)(document),document},deps:[]}]),ml=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function uc(){return new u.qLn},deps:[]},{provide:vo,useClass:Ad,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:vo,useClass:au,multi:!0,deps:[oe]},{provide:Mn,useClass:Mn,deps:[Ls,bo,u.AFp]},{provide:u.FYo,useExisting:Mn},{provide:fi,useExisting:bo},{provide:bo,useClass:bo,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ls,useClass:Ls,deps:[vo,u.R0b]},{provide:class Tn{},useClass:Br,deps:[]}];let Ha=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Vr,useExisting:u.AFp},fl]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ml,imports:[Mr,u.hGG]}),n})();"undefined"!=typeof window&&window;var Qn=R(8996),Jn=R(3269);function gt(...n){const e=(0,Jn.yG)(n);return(0,Qn.D)(n,e)}var Fn=R(7579);class or extends Fn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var vr=R(8306);const{isArray:ja}=Array,{getPrototypeOf:Vd,prototype:Cn,keys:_f}=Object;function Ui(n){if(1===n.length){const e=n[0];if(ja(e))return{args:e,keys:null};if(function du(n){return n&&"object"==typeof n&&Vd(n)===Cn}(e)){const t=_f(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ci=R(4671),Nt=R(4004);const{isArray:Bd}=Array;function vc(n){return(0,Nt.U)(e=>function yc(n,e){return Bd(e)?n(...e):n(e)}(n,e))}function ra(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Xn=R(5403),Vs=R(9672);function ia(...n){const e=(0,Jn.yG)(n),t=(0,Jn.jO)(n),{args:r,keys:i}=Ui(n);if(0===r.length)return(0,Qn.D)([],e);const a=new vr.y(function Ei(n,e,t=Ci.y){return r=>{So(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)So(e,()=>{const D=(0,Qn.D)(n[_],e);let S=!1;D.subscribe((0,Xn.x)(r,A=>{a[_]=A,S||(S=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ra(i,c):Ci.y));return t?a.pipe(vc(t)):a}function So(n,e,t){n?(0,Vs.f)(t,n,e):e()}var Ti=R(576);function cs(n,e){const t=(0,Ti.m)(n)?n:()=>n,r=i=>i.error(t());return new vr.y(e?i=>e.schedule(r,0,i):r)}const Io=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ds=R(8189);function Hd(...n){return function wc(){return(0,ds.J)(1)}()((0,Qn.D)(n,(0,Jn.yG)(n)))}var Mo=R(8421);function ji(n){return new vr.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var Ya=R(515),hs=R(727),Ur=R(4482);function Yi(){return(0,Ur.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ud extends vr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ur.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hs.w0.EMPTY)}return e}refCount(){return Yi()(this)}}function er(n,e){return(0,Ur.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Xn.x)(r,_=>{null==i||i.unsubscribe();let D=0;const S=a++;(0,Mo.Xf)(n(_,S)).subscribe(i=(0,Xn.x)(r,A=>r.next(e?e(_,A,S,D++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var Ao=R(5698);function $i(...n){const e=(0,Jn.yG)(n);return(0,Ur.e)((t,r)=>{(e?Hd(n,t,e):Hd(n,t)).subscribe(r)})}function $a(n,e,t,r,i){return(a,c)=>{let f=t,_=e,D=0;a.subscribe((0,Xn.x)(c,S=>{const A=D++;_=f?n(_,S,A):(f=!0,S),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function xr(n,e){return(0,Ur.e)($a(n,e,arguments.length>=2,!0))}function An(n,e){return(0,Ur.e)((t,r)=>{let i=0;t.subscribe((0,Xn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function fs(n){return(0,Ur.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Xn.x)(t,void 0,void 0,c=>{a=(0,Mo.Xf)(n(c,fs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Vn=R(5577);function ko(n,e){return(0,Ti.m)(e)?(0,Vn.z)(n,e,1):(0,Vn.z)(n,1)}function jd(n){return n<=0?()=>Ya.E:(0,Ur.e)((e,t)=>{let r=[];e.subscribe((0,Xn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $n(n=xm){return(0,Ur.e)((e,t)=>{let r=!1;e.subscribe((0,Xn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xm(){return new Io}function Om(n){return(0,Ur.e)((e,t)=>{let r=!1;e.subscribe((0,Xn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,a)=>n(i,a,r)):Ci.y,(0,Ao.q)(1),t?Om(e):$n(()=>new Io))}var mi=R(8505);class Oo{constructor(e,t){this.id=e,this.url=t}}class Bs extends Oo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hu extends Oo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bn extends Oo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dc extends Oo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sa extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yd extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _l extends Oo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class br extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $d{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lm{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class Us{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tr(n){return new Us(n)}const fu="ngNavigationCancelingError";function Ro(n){const e=Error("NavigationCancelingError: "+n);return e[fu]=!0,e}function Gd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ys(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Cc(n[i],e[i]))return!1;return!0}function Cc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function vl(n){return Array.prototype.concat.apply([],n)}function Wd(n){return n.length>0?n[n.length-1]:null}function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function E(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Qn.D)(Promise.resolve(n)):gt(n)}const x={exact:function ke(n,e,t){if(!Wi(n.segments,e.segments)||!Bt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ke(n.children[r],e.children[r],t))return!1;return!0},subset:Mt},F={exact:function re(n,e){return Ys(n,e)},subset:function Je(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cc(n[t],e[t]))},ignored:()=>!0};function z(n,e,t){return x[t.paths](n.root,e.root,t.matrixParams)&&F[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Mt(n,e,t){return Et(n,e,e.segments,t)}function Et(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wi(i,t)||e.hasChildren()||!Bt(i,t,r))}if(n.segments.length===t.length){if(!Wi(n.segments,t)||!Bt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Mt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Wi(n.segments,i)&&Bt(n.segments,i,r)&&n.children[Gt])&&Et(n.children[Gt],e,a,r)}}function Bt(n,e,t){return e.every((r,i)=>F[t](n[i].parameters,r.parameters))}class wt{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return mu.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ec(this)}}class Yt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return wl(this)}}function Wi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Jr{}class ps{parse(e){const t=new qd(e);return new wt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lo(e.root,!0)}`,r=function ry(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${_u(t)}=${_u(i)}`).join("&"):`${_u(t)}=${_u(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function yu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mu=new ps;function Ec(n){return n.segments.map(e=>wl(e)).join("/")}function Lo(n,e){if(!n.hasChildren())return Ec(n);if(e){const t=n.children[Gt]?Lo(n.children[Gt],!1):"",r=[];return fr(n.children,(i,a)=>{a!==Gt&&r.push(`${a}:${Lo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function aa(n,e){let t=[];return fr(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),fr(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[Lo(n.children[Gt],!1)]:[`${i}:${Lo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Ec(n)}/${t[0]}`:`${Ec(n)}/(${t.join("//")})`}}function gu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _u(n){return gu(n).replace(/%3B/gi,";")}function zd(n){return gu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tc(n){return decodeURIComponent(n)}function Sc(n){return Tc(n.replace(/\+/g,"%20"))}function wl(n){return`${zd(n.path)}${function Pm(n){return Object.keys(n).map(e=>`;${zd(e)}=${zd(n[e])}`).join("")}(n.parameters)}`}const iy=/^[^\/()?;=#]+/;function $s(n){const e=n.match(iy);return e?e[0]:""}const Ic=/^[^=?&#]+/,oy=/^[^&#]+/;class qd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new Dt(e,t)),r}parseSegment(){const e=$s(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yt(Tc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$s(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=$s(this.remaining);i&&(r=i,this.capture(r))}e[Tc(t)]=Tc(r)}parseQueryParam(e){const t=function sy(n){const e=n.match(Ic);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Fm(n){const e=n.match(oy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Sc(t),a=Sc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$s(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Gt]:new Dt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ay{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=vf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bf(e,this._root).map(t=>t.value)}}function vf(n,e){if(n===e.value)return e;for(const t of e.children){const r=vf(n,t);if(r)return r}return null}function bf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bf(n,t);if(r.length)return r.unshift(e),r}return[]}class la{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ua(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zd extends ay{constructor(e,t){super(e),this.snapshot=t,Qd(this,e)}toString(){return this.snapshot.toString()}}function Dl(n,e){const t=function ly(n,e){const c=new vu([],{},{},"",{},Gt,e,null,n.root,-1,{});return new wf("",new la(c,[]))}(n,e),r=new or([new Yt("",{})]),i=new or({}),a=new or({}),c=new or({}),f=new or(""),_=new Ga(r,i,c,f,a,Gt,e,t.root);return _.snapshot=t.root,new Zd(new la(_,[]),t)}class Ga{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(e=>tr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(e=>tr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Kd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vu{constructor(e,t,r,i,a,c,f,_,D,S,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=S,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wf extends ay{constructor(e,t){super(t),this.url=e,Qd(this,t)}toString(){return Jd(this._root)}}function Qd(n,e){e.value._routerState=n,e.children.forEach(t=>Qd(n,t))}function Jd(n){const e=n.children.length>0?` { ${n.children.map(Jd).join(", ")} } `:"";return`${n.value}${e}`}function Xd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ys(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ys(e.params,t.params)||n.params.next(t.params),function js(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ys(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ys(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Df(n,e){const t=Ys(n.params,e.params)&&function bl(n,e){return Wi(n,e)&&n.every((t,r)=>Ys(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Df(n.parent,e.parent))}function Mc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Cf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mc(n,r,i);return Mc(n,r)})}(n,e,t);return new la(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Mc(n,f)),c}}const r=function dy(n){return new Ga(new or(n.url),new or(n.params),new or(n.queryParams),new or(n.fragment),new or(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Mc(n,a));return new la(r,i)}}function Wa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bu(n){return"object"==typeof n&&null!=n&&n.outlets}function Vm(n,e,t,r,i){let a={};if(r&&fr(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(D=>`${D}`):`${f}`}),n===e)return new wt(t,a,i);const c=Ef(n,e,t);return new wt(c,a,i)}function Ef(n,e,t){const r={};return fr(n.children,(i,a)=>{r[a]=i===e?t:Ef(i,e,t)}),new Dt(n.segments,r)}class hy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wa(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(bu);if(i&&i!==Wd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gy(n,e,t){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return Fo(n,e,t);const r=function cw(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(bu(f))break;const _=`${f}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!zi(_,D,c))return a;r+=2}else{if(!zi(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Dt(n.segments.slice(0,r.pathIndex),{});return a.children[Gt]=new Dt(n.segments.slice(r.pathIndex),n.children),Fo(a,0,i)}return r.match&&0===i.length?new Dt(n.segments,{}):r.match&&!n.hasChildren()?Sf(n,e,t):r.match?Fo(n,0,i):Sf(n,e,t)}function Fo(n,e,t){if(0===t.length)return new Dt(n.segments,{});{const r=function my(n){return bu(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return fr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=gy(n.children[c],e,a))}),fr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Dt(n.segments,i)}}function Sf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(bu(a)){const _=wu(a.outlets);return new Dt(r,_)}if(0===i&&Wa(t[0])){r.push(new Yt(n.segments[e].path,If(t[0]))),i++;continue}const c=bu(a)?a.outlets[Gt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Wa(f)?(r.push(new Yt(c,If(f))),i+=2):(r.push(new Yt(c,{})),i++)}return new Dt(r,{})}function wu(n){const e={};return fr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sf(new Dt([],{}),0,t))}),e}function If(n){const e={};return fr(n,(t,r)=>e[r]=`${t}`),e}function zi(n,e,t){return n==t.path&&Ys(e,t.parameters)}class Hm{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ua(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),fr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ua(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ua(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ua(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Lm(a.value.snapshot))}),e.children.length&&this.forwardEvent(new oa(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Xd(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Xd(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function eh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class th{constructor(e,t){this.routes=e,this.module=t}}function Cl(n){return"function"==typeof n}function Du(n){return n instanceof wt}const kc=Symbol("INITIAL_VALUE");function za(){return er(n=>ia(n.map(e=>e.pipe((0,Ao.q)(1),$i(kc)))).pipe(xr((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==kc?i:(a===kc&&(r=!0),r||!1!==a&&c!==t.length-1&&!Du(a)?i:a),e)},kc),An(e=>e!==kc),(0,Nt.U)(e=>Du(e)?e:!0===e),(0,Ao.q)(1)))}class _y{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xc,this.attachRef=null}}class xc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _y,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Oc=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new xf(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xc),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ga?this.route:e===xc?this.childContexts:this.parent.get(e,t)}}let Of=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Oc],encapsulation:2}),n})();function Rc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];nh(r,Rf(e,r))}}function nh(n,e){n.children&&Rc(n.children,e)}function Rf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Nf(n){const e=n.children&&n.children.map(Nf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=Of),t}function un(n){return n.outlet||Gt}function Lf(n,e){const t=n.filter(r=>un(r)===e);return t.push(...n.filter(r=>un(r)!==e)),t}const jm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},jm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Gd)(t,n,e);if(!a)return Object.assign({},jm);const c={};fr(a.posParams,(_,D)=>{c[D]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Nc(n,e,t,r,i="corrected"){if(t.length>0&&function vy(n,e,t){return t.some(r=>ih(n,e,r)&&un(r)!==Gt)}(n,t,r)){const c=new Dt(e,function rh(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&un(a)!==Gt){const c=new Dt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[un(a)]=c}return i}(n,e,r,new Dt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Ym(n,e,t){return t.some(r=>ih(n,e,r))}(n,t,r)){const c=new Dt(n.segments,function yy(n,e,t,r,i,a){const c={};for(const f of r)if(ih(n,t,f)&&!i[un(f)]){const _=new Dt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[un(f)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Dt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function ih(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function by(n,e,t,r){return!!(un(n)===r||r!==Gt&&ih(e,t,n))&&("**"===n.path||Cu(e,n,t).matched)}function wy(n,e,t){return 0===e.length&&!n.children[t]}class qa{constructor(e){this.segmentGroup=e||null}}class jr{constructor(e){this.urlTree=e}}function ca(n){return cs(new qa(n))}function Lc(n){return cs(new jr(n))}class Ff{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Nc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,Nt.U)(a=>this.createUrlTree(Tl(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fs(a=>{if(a instanceof jr)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof qa?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,Nt.U)(i=>this.createUrlTree(Tl(i),e.queryParams,e.fragment))).pipe(fs(i=>{throw i instanceof qa?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Dt([],{[Gt]:e}):e;return new wt(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Nt.U)(a=>new Dt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Qn.D)(i).pipe(ko(a=>{const c=r.children[a],f=Lf(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Nt.U)(_=>({segment:_,outlet:a})))}),xr((a,c)=>(a[c.outlet]=c.segment,a),{}),function Rm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,a)=>n(i,a,r)):Ci.y,jd(1),t?Om(e):$n(()=>new Io))}())}expandSegment(e,t,r,i,a,c){return(0,Qn.D)(r).pipe(ko(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(fs(D=>{if(D instanceof qa)return gt(null);throw D}))),xo(f=>!!f),fs((f,_)=>{if(f instanceof Io||"EmptyError"===f.name)return wy(t,i,a)?gt(new Dt([],{})):ca(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return by(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):ca(t):ca(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Lc(a):this.lineralizeSegments(r,a).pipe((0,Vn.z)(c=>{const f=new Dt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:D,positionalParamSegments:S}=Cu(t,i,a);if(!f)return ca(t);const A=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?Lc(A):this.lineralizeSegments(i,A).pipe((0,Vn.z)(L=>this.expandSegment(e,t,r,L.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Nt.U)(A=>(r._loadedConfig=A,new Dt(i,{})))):gt(new Dt(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=Cu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Vn.z)(S=>{const A=S.module,L=S.routes,{segmentGroup:B,slicedSegments:$}=Nc(t,f,_,L),ee=new Dt(B.segments,B.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(A,L,ee).pipe((0,Nt.U)(ze=>new Dt(f,ze)));if(0===L.length&&0===$.length)return gt(new Dt(f,{}));const _e=un(r)===a;return this.expandSegment(A,ee,L,$,_e?Gt:a,!0).pipe((0,Nt.U)(Oe=>new Dt(f.concat(Oe.segments),Oe.children)))})):ca(t)}getChildConfig(e,t,r){return t.children?gt(new th(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Vn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Nt.U)(a=>(t._loadedConfig=a,a))):function Xr(n){return cs(Ro(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):gt(new th([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?gt(i.map(c=>{const f=e.get(c);let _;if(function Mf(n){return n&&Cl(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Cl(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return E(_)})).pipe(za(),(0,mi.b)(c=>{if(!Du(c))return;const f=Ro(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Nt.U)(c=>!0===c)):gt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[Gt])return cs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new wt(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return fr(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new Dt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Tl(n){const e={};for(const r of Object.keys(n.children)){const a=Tl(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function qi(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new Dt(n.segments.concat(e.segments),e.children)}return n}(new Dt(n.segments,e))}class $m{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sl{constructor(e,t){this.component=e,this.route=t}}function Bf(n,e,t){const r=n._root;return Si(r,e?e._root:null,t,[r.value])}function Pc(n,e,t){const r=function Dy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Si(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ua(e);return n.children.forEach(c=>{(function Wm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function Cy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(n.url,e.url)||!Ys(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(n,e)||!Ys(n.queryParams,e.queryParams);default:return!Df(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new $m(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Si(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Sl(f.outlet.component,c))}else c&&Il(e,f,i),i.canActivateChecks.push(new $m(r)),Si(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),fr(a,(c,f)=>Il(c,t.getContext(f),i)),i}function Il(n,e,t){const r=ua(n),i=n.value;fr(r,(a,c)=>{Il(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Sl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class jf{}function Yf(n){return new vr.y(e=>e.error(n))}class $f{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=Nc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const r=new vu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new la(r,t),a=new wf(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=uy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=Lf(e,a),_=this.processSegmentGroup(f,c,a);if(null===_)return null;r.push(..._)}const i=qm(r);return function Iy(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return wy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!by(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?Wd(r).parameters:{};a=new vu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),un(e),e.component,e,p(t),g(t)+r.length,I(e))}else{const B=Cu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new vu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),un(e),e.component,e,p(t),g(t)+c.length,I(e))}const _=function My(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:S}=Nc(t,c,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&D.hasChildren()){const B=this.processChildren(_,D);return null===B?null:[new la(a,B)]}if(0===_.length&&0===S.length)return[new la(a,[])];const A=un(e)===i,L=this.processSegment(_,D,S,A?Gt:i);return null===L?null:[new la(a,L)]}}function Ay(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qm(n){const e=[],t=new Set;for(const r of n){if(!Ay(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=qm(r.children);e.push(new la(r.value,i))}return e.filter(r=>!t.has(r))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function I(n){return n.resolve||{}}function Xe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return er(e=>{const t=n(e);return t?(0,Qn.D)(t).pipe((0,Nt.U)(()=>e)):gt(e)})}class Vc extends class ms{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Eu=new u.OlP("ROUTES");class Tu{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Nt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new th(vl(c.injector.get(Eu,void 0,u.XFs.Self|u.XFs.Optional)).map(Nf),c)}),fs(a=>{throw t._loader$=void 0,a}));return t._loader$=new Ud(i,()=>new Fn.x).pipe(Yi()),t._loader$}loadModuleFactory(e){return E(e()).pipe((0,Vn.z)(t=>t instanceof u.YKP?gt(t):(0,Qn.D)(this.compiler.compileModuleAsync(t))))}}class ky{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Za(n){throw n}function sh(n,e,t){return e.parse("/")}function oh(n,e){return gt(null)}const Wf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ah={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fn.x,this.errorHandler=Za,this.malformedUriErrorHandler=sh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oh,afterPreactivation:oh},this.urlHandlingStrategy=new ky,this.routeReuseStrategy=new Vc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const A=c.get(u.R0b);this.isNgZoneEnabled=A instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function T(){return new wt(new Dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tu(c,f,L=>this.triggerEvent(new yl(L)),L=>this.triggerEvent(new Hs(L))),this.routerState=Dl(this.currentUrlTree,this.rootComponentType),this.transitions=new or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(An(i=>0!==i.id),(0,Nt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),er(i=>{let a=!1,c=!1;return gt(i).pipe((0,mi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),er(f=>{const _=this.browserUrlTree.toString(),D=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Zm(f.source)&&(this.browserUrlTree=f.extractedUrl),gt(f).pipe(er(A=>{const L=this.transitions.getValue();return r.next(new Bs(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),L!==this.transitions.getValue()?Ya.E:Promise.resolve(A)}),function Vf(n,e,t,r){return er(i=>function El(n,e,t,r,i){return new Ff(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Nt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,mi.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function O(n,e,t,r,i){return(0,Vn.z)(a=>function Sy(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new $f(n,e,t,r,i,a).recognize();return null===c?Yf(new jf):gt(c)}catch(c){return Yf(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Nt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,mi.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const L=new sa(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(L)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:$,restoredState:ee,extras:_e}=f,Ve=new Bs(L,this.serializeUrl(B),$,ee);r.next(Ve);const Oe=Dl(B,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},f),{targetSnapshot:Oe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ya.E}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!L,replaceUrl:!!B})}),(0,mi.b)(f=>{const _=new Yd(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Nt.U)(f=>Object.assign(Object.assign({},f),{guards:Bf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Ey(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function zm(n,e,t,r){return(0,Qn.D)(n).pipe((0,Vn.z)(i=>function Fc(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(f=>{const _=Pc(f,e,i);let D;if(function dw(n){return n&&Cl(n.canDeactivate)}(_))D=E(_.canDeactivate(n,e,t,r));else{if(!Cl(_))throw new Error("Invalid CanDeactivate guard");D=E(_(n,e,t,r))}return D.pipe(xo())})).pipe(za()):gt(!0)}(i.component,i.route,t,e,r)),xo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Vn.z)(f=>f&&function Um(n){return"boolean"==typeof n}(f)?function Yr(n,e,t,r){return(0,Qn.D)(e).pipe(ko(i=>Hd(function Uf(n,e){return null!==n&&e&&e(new Gi(n)),gt(!0)}(i.route.parent,r),function Hf(n,e){return null!==n&&e&&e(new $d(n)),gt(!0)}(i.route,r),function da(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Gm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ji(()=>gt(c.guards.map(_=>{const D=Pc(_,c.node,t);let S;if(function kf(n){return n&&Cl(n.canActivateChild)}(D))S=E(D.canActivateChild(r,n));else{if(!Cl(D))throw new Error("Invalid CanActivateChild guard");S=E(D(r,n))}return S.pipe(xo())})).pipe(za())));return gt(a).pipe(za())}(n,i.path,t),function Ty(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(a=>ji(()=>{const c=Pc(a,e,t);let f;if(function Af(n){return n&&Cl(n.canActivate)}(c))f=E(c.canActivate(e,n));else{if(!Cl(c))throw new Error("Invalid CanActivate guard");f=E(c(e,n))}return f.pipe(xo())}));return gt(i).pipe(za())}(n,i.route,t))),xo(i=>!0!==i,!0))}(r,a,n,e):gt(f)),(0,Nt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,mi.b)(f=>{if(Du(f.guardsResult)){const D=Ro(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw D.url=f.guardsResult,D}const _=new _l(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),An(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),at(f=>{if(f.guards.canActivateChecks.length)return gt(f).pipe((0,mi.b)(_=>{const D=new br(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),er(_=>{let D=!1;return gt(_).pipe(function W(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let a=0;return(0,Qn.D)(i).pipe(ko(c=>function ue(n,e,t,r){return function He(n,e,t,r){const i=Xe(n);if(0===i.length)return gt({});const a={};return(0,Qn.D)(i).pipe((0,Vn.z)(c=>function Ct(n,e,t,r){const i=Pc(n,e,r);return E(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,mi.b)(f=>{a[c]=f}))),jd(1),(0,Vn.z)(()=>Xe(a).length===i.length?gt(a):Ya.E))}(n._resolve,n,e,r).pipe((0,Nt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),uy(n,t).resolve),null)))}(c.route,r,n,e)),(0,mi.b)(()=>a++),jd(1),(0,Vn.z)(c=>a===i.length?gt(t):Ya.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,mi.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,mi.b)(_=>{const D=new Qr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Nt.U)(f=>{const _=function cy(n,e,t){const r=Mc(n,e._root,t?t._root:void 0);return new Zd(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,mi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Nt.U)(r=>(new Hm(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,mi.b)({next(){a=!0},complete(){a=!0}}),function Nm(n){return(0,Ur.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),fs(f=>{if(c=!0,function No(n){return n&&n[fu]}(f)){const _=Du(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const D=new Bn(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(D),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zm(i.source)};this.scheduleNavigation(S,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Dc(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return Ya.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Rc(t),this.config=t.map(Nf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,D=i||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function Po(n,e,t,r,i){if(0===t.length)return Vm(e.root,e.root,e.root,r,i);const a=function fy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hy(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return fr(a.outlets,(_,D)=>{f[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new hy(t,e,r)}(t);if(a.toRoot())return Vm(e.root,e.root,new Dt([],{}),r,i);const c=function Bm(n,e,t){if(n.isAbsolute)return new Tf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Tf(a,a===e.root,0)}const r=Wa(n.commands[0])?0:1;return function py(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Tf(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?Fo(c.segmentGroup,c.index,a.commands):gy(c.segmentGroup,c.index,a.commands);return Vm(e.root,c.segmentGroup,f,r,i)}(D,this.currentUrlTree,t,A,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Du(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function zf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Wf):!1===r?Object.assign({},ah):r,Du(t))return z(this.currentUrlTree,t,i);const a=this.parseUrl(t);return z(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new hu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,_;if(this.disposed)return Promise.resolve(!1);let D,S,A;c?(D=c.resolve,S=c.reject,A=c.promise):A=new Promise(($,ee)=>{D=$,S=ee});const L=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:L,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:D,reject:S,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Bn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Zm(n){return"imperative"!==n}let qf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Fn.x,this.subscription=t.events.subscribe(a=>{a instanceof hu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:lh(this.skipLocationChange),replaceUrl:lh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:lh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi),u.Y36(Ga),u.Y36(fe))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function lh(n){return""===n||!!n}class Ry{}class fw{preload(e,t){return gt(null)}}let pw=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Tu(i,r,_=>t.triggerEvent(new yl(_)),_=>t.triggerEvent(new Hs(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof hu),ko(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Qn.D)(i).pipe((0,ds.J)(),(0,Nt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Vn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zi),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Ry))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Km=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new yf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Gs=new u.OlP("ROUTER_CONFIGURATION"),Ly=new u.OlP("ROUTER_FORROOT_GUARD"),mw=[ve,{provide:Jr,useClass:ps},{provide:Zi,useFactory:function Fy(n,e,t,r,i,a,c={},f,_){const D=new Zi(null,n,e,t,r,i,vl(a));return f&&(D.urlHandlingStrategy=f),_&&(D.routeReuseStrategy=_),function yw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),c.enableTracing&&D.events.subscribe(S=>{var A,L;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),D},deps:[Jr,xc,ve,u.zs3,u.Sil,Eu,Gs,[class Gf{},new u.FiY],[class Gn{},new u.FiY]]},xc,{provide:Ga,useFactory:function Qm(n){return n.routerState.root},deps:[Zi]},pw,fw,class Ny{preload(e,t){return t().pipe(fs(()=>gt(null)))}},{provide:Gs,useValue:{enableTracing:!1}}];function tS(){return new u.PXZ("Router",Zi)}let Ka=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[mw,Py(t),{provide:Ly,useFactory:_w,deps:[[Zi,new u.FiY,new u.tp0]]},{provide:Gs,useValue:r||{}},{provide:fe,useFactory:gw,deps:[ie,[new u.tBr(et),new u.FiY],Gs]},{provide:Km,useFactory:nS,deps:[Zi,Xl,Gs]},{provide:Ry,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fw},{provide:u.PXZ,multi:!0,useFactory:tS},[uh,{provide:u.ip1,multi:!0,useFactory:vw,deps:[uh]},{provide:By,useFactory:Vy,deps:[uh]},{provide:u.tb,multi:!0,useExisting:By}]]}}static forChild(t){return{ngModule:n,providers:[Py(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ly,8),u.LFG(Zi,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function nS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Km(n,e,t)}function gw(n,e,t={}){return t.useHash?new Se(n,e):new Ze(n,e)}function _w(n){return"guarded"}function Py(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Eu,multi:!0,useValue:n}]}let uh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Zi),c=this.injector.get(Gs);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Gs),i=this.injector.get(pw),a=this.injector.get(Km),c=this.injector.get(Zi),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function vw(n){return n.appInitializer.bind(n)}function Vy(n){return n.bootstrapListener.bind(n)}const By=new u.OlP("Router Initializer");let rS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard-page"]],decls:10,vars:0,consts:[[1,"container","d-flex","align-items-center","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],[1,"container-flex","text-center","mt-5"],["routerLink","/event-form","role","button",1,"btn","bg-success","text-white"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Dashboard"),u.qZA()(),u.TgZ(3,"div",2)(4,"h1"),u._uU(5,"Start building your dashboard"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Create your first event"),u.qZA(),u.TgZ(8,"a",3),u._uU(9,"Create event"),u.qZA()())},directives:[qf],encapsulation:2,changeDetection:0}),n})(),bw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ka.forChild([{path:"",component:rS}])]]}),n})(),ww=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Su=(()=>{class n extends ww{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ki=new u.OlP("NgValueAccessor"),Cw={provide:Ki,useExisting:(0,u.Gpc)(()=>ch),multi:!0},Ew=new u.OlP("CompositionEventMode");let ch=(()=>{class n extends ww{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oS(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ew,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([Cw]),u.qOj]}),n})();function Iu(n){return null==n||0===n.length}function Vo(n){return null!=n&&"number"==typeof n.length}const ei=new u.OlP("NgValidators"),Ml=new u.OlP("NgAsyncValidators"),aS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dh{static min(e){return function Tw(n){return e=>{if(Iu(e.value)||Iu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Sw(n){return e=>{if(Iu(e.value)||Iu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Uy(n){return Iu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Iw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Mw(n){return Iu(n.value)||aS.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Aw(n){return e=>Iu(e.value)||!Vo(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Lt(n){return e=>Vo(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jy(n){if(!n)return Zf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Iu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Qa(e)}static composeAsync(e){return Gy(e)}}function Zf(n){return null}function Yy(n){return null!=n}function Kf(n){const e=(0,u.QGY)(n)?(0,Qn.D)(n):n;return(0,u.CqO)(e),e}function Bo(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $y(n,e){return e.map(t=>t(n))}function Xm(n){return n.map(e=>function lS(n){return!n.validate}(e)?e:t=>e.validate(t))}function Qa(n){if(!n)return null;const e=n.filter(Yy);return 0==e.length?null:function(t){return Bo($y(t,e))}}function Qf(n){return null!=n?Qa(Xm(n)):null}function Gy(n){if(!n)return null;const e=n.filter(Yy);return 0==e.length?null:function(t){return function iS(...n){const e=(0,Jn.jO)(n),{args:t,keys:r}=Ui(n),i=new vr.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,D=c;for(let S=0;S<c;S++){let A=!1;(0,Mo.Xf)(t[S]).subscribe((0,Xn.x)(a,L=>{A||(A=!0,D--),f[S]=L},()=>_--,void 0,()=>{(!_||!A)&&(D||a.next(r?ra(r,f):f),a.complete())}))}});return e?i.pipe(vc(e)):i}($y(t,e).map(Kf)).pipe((0,Nt.U)(Bo))}}function Jf(n){return null!=n?Gy(Xm(n)):null}function uS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wy(n){return n._rawValidators}function cS(n){return n._rawAsyncValidators}function hh(n){return n?Array.isArray(n)?n:[n]:[]}function Bc(n,e){return Array.isArray(n)?n.includes(e):n===e}function eg(n,e){const t=hh(e);return hh(n).forEach(i=>{Bc(t,i)||t.push(i)}),t}function tg(n,e){return hh(e).filter(t=>!Bc(n,t))}class ng{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hc extends ng{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qi extends ng{get formDirective(){return null}get path(){return null}}class kw{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Xf=(()=>{class n extends kw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Hc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),zy=(()=>{class n extends kw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Uc(n,e){sg(n,e),e.valueAccessor.writeValue(n.value),function fS(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Qy(n,e)})}(n,e),function pS(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Mu(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Qy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ky(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ig(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ep(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sg(n,e){const t=Wy(n);null!==e.validator?n.setValidators(uS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=cS(n);null!==e.asyncValidator?n.setAsyncValidators(uS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ep(e._rawValidators,i),ep(e._rawAsyncValidators,i)}function fh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Wy(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=cS(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return ep(e._rawValidators,r),ep(e._rawAsyncValidators,r),t}function Qy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ku(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ph="VALID",mh="INVALID",xu="PENDING",gh="DISABLED";function Xy(n){return(tp(n)?n.validators:n)||null}function ev(n){return Array.isArray(n)?Qf(n):n||null}function Nw(n,e){return(tp(e)?e.asyncValidators:n)||null}function tv(n){return Array.isArray(n)?Jf(n):n||null}function tp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Lw=n=>n instanceof $c,cg=n=>n instanceof np;function Pw(n){return Lw(n)?n.value:n.getRawValue()}function gs(n,e){const t=cg(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function Fw(n,e){cg(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class nv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ev(this._rawValidators),this._composedAsyncValidatorFn=tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ph}get invalid(){return this.status===mh}get pending(){return this.status==xu}get disabled(){return this.status===gh}get enabled(){return this.status!==gh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ev(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=tv(e)}addValidators(e){this.setValidators(eg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tg(e,this._rawAsyncValidators))}hasValidator(e){return Bc(this._rawValidators,e)}hasAsyncValidator(e){return Bc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gh,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ph,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ph||this.status===xu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gh:ph}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xu,this._hasOwnPendingAsyncValidator=!0;const t=Kf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ug(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=cg(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Vw)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?gh:this.errors?mh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xu)?xu:this._anyControlsHaveStatus(mh)?mh:ph}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $c extends nv{constructor(e=null,t,r){super(Xy(t),Nw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ku(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ku(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class np extends nv{constructor(e,t,r){super(Xy(t),Nw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Fw(this,e),Object.keys(e).forEach(r=>{gs(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Pw(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Vw extends nv{constructor(e,t,r){super(Xy(t),Nw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Fw(this,e),e.forEach((r,i)=>{gs(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Pw(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let sp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const lv=new u.OlP("NgModelWithFormControlWarning"),ES={provide:Qi,useExisting:(0,u.Gpc)(()=>Al)};let Al=(()=>{class n extends Qi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Uc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ig(t.control||null,t,!1),ku(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function jc(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ig(r||null,t),Lw(i)&&(Uc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function og(n,e){sg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function mS(n,e){return fh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sg(this.form,this),this._oldForm&&fh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ei,10),u.Y36(Ml,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([ES]),u.qOj,u.TTD]}),n})();const TS={provide:Hc,useExisting:(0,u.Gpc)(()=>ap)};let ap=(()=>{class n extends Hc{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Yc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===ch?t=a:function Jy(n){return Object.getPrototypeOf(n.constructor)===Su}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Au(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ha(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Qi,13),u.Y36(ei,10),u.Y36(Ml,10),u.Y36(Ki,10),u.Y36(lv,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([TS]),u.qOj,u.TTD]}),n})(),OS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Hw]]}),n})(),Ws=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[OS]}),n})();const bv=new u.OlP("ADDS_EVENT_DTO");var Xw=R(5032);function eD(n){return(0,Ur.e)((e,t)=>{(0,Mo.Xf)(n).subscribe((0,Xn.x)(t,()=>t.complete(),Xw.Z)),!t.closed&&e.subscribe(t)})}function mg(n,e=Ci.y){return n=null!=n?n:LS,(0,Ur.e)((t,r)=>{let i,a=!0;t.subscribe((0,Xn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function LS(n,e){return n===e}function Nu(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function _s(n){return"string"==typeof n}function up(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function Lu(n){return n&&n.getTime&&!isNaN(n.getTime())}function bh(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function wh(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Hn(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Ii(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Pu(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function FS(n){return void 0===n}function Ot(n){const e=+n;let t=0;return 0!==e&&isFinite(e)&&(t=Nu(e)),t}const gg={},VS={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function gi(n,e){const t=n.toLowerCase();let r=n;t in VS&&(r=VS[t]),gg[t]=gg[`${t}s`]=gg[e]=r}function wv(n){return _s(n)?gg[n]||gg[n.toLowerCase()]:void 0}function kl(n,e,t){const r=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}const Dv={},Dh={},cp=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function It(n,e,t,r){n&&(Dh[n]=r),e&&(Dh[e[0]]=function(){return kl(r.apply(null,arguments),e[1],e[2])}),t&&(Dh[t]=function(i,a){return a.locale.ordinal(r.apply(null,arguments),n)})}function dp(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function _g(n,e,t){const r=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(r.getUTCFullYear())&&r.setUTCFullYear(n),r}function yg(n,e=0,t=1,r=0,i=0,a=0,c=0){const f=new Date(n,e,t,r,i,a,c);return n<100&&n>=0&&isFinite(f.getFullYear())&&f.setFullYear(n),f}function qt(n,e=!1){return e?n.getUTCHours():n.getHours()}function Ji(n,e=!1){return e?n.getUTCMinutes():n.getMinutes()}function Wc(n,e=!1){return e?n.getUTCSeconds():n.getSeconds()}function nr(n,e=!1){return e?n.getUTCMilliseconds():n.getMilliseconds()}function zs(n,e=!1){return e?n.getUTCDay():n.getDay()}function ti(n,e=!1){return e?n.getUTCDate():n.getDate()}function Zt(n,e=!1){return e?n.getUTCMonth():n.getMonth()}function kn(n,e=!1){return e?n.getUTCFullYear():n.getFullYear()}function ya(n,e){return!(!n||!e)&&va(n,e)&&Zt(n)===Zt(e)}function va(n,e){return!(!n||!e)&&kn(n)===kn(e)}function xl(n,e){return!(!n||!e)&&va(n,e)&&ya(n,e)&&ti(n)===ti(e)}const Cv=/\d/,ys=/\d\d/,Ev=/\d{3}/,vg=/\d{4}/,pp=/[+-]?\d{6}/,Un=/\d\d?/,Tv=/\d\d\d\d?/,Sv=/\d\d\d\d\d\d?/,bg=/\d{1,3}/,wg=/\d{1,4}/,Dg=/[+-]?\d{1,6}/,rD=/\d+/,mp=/[+-]?\d+/,Cg=/Z|[+-]\d\d(?::?\d\d)?/gi,iD=/[+-]?\d+(\.\d{1,3})?/,gp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_p={};function dt(n,e,t){_p[n]=bh(e)?e:function(r,i){return r&&t?t:e}}function YS(n,e){return Ii(_p,n)?_p[n](!1,e):new RegExp(function xO(n){return qc(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,r,i,a)=>t||r||i||a))}(n))}function qc(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const yp={};function Nn(n,e){const t=_s(n)?[n]:n;let r=e;if(wh(e)&&(r=function(i,a,c){return a[e]=Ot(i),c}),Hn(t)&&bh(r)){let i;for(i=0;i<t.length;i++)yp[t[i]]=r}}function vp(n,e){Nn(n,function(t,r,i,a){return i._w=i._w||{},e(t,i._w,i,a)})}function OO(n,e,t){return null!=e&&Ii(yp,n)&&yp[n](e,t._a,t,n),t}const RO={};function Xi(n,e){RO[n]=e}function mn(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function Iv(n,e){return e.locale.getFullYear?e.locale.getFullYear(n,e.isUTC).toString():kn(n,e.isUTC).toString()}function Mv(n){return Ot(n)+(Ot(n)>68?1900:2e3)}function Mh(n){return Av(n)?366:365}function Av(n){return n%4==0&&n%100!=0||n%400==0}function bp(n,e){if(isNaN(n)||isNaN(e))return NaN;const t=function PS(n,e){return(n%e+e)%e}(e,12);return 1===t?Av(n+(e-t)/12)?29:28:31-t%7%2}const GS={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function $r(n,e){const t=Object.assign({},GS,e),r=n.getFullYear()+(t.year||0),i=n.getMonth()+(t.month||0);let a=n.getDate()+(t.day||0);return t.month&&!t.day&&(a=Math.min(a,bp(r,i))),yg(r,i,a,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function Ah(n,e){return wh(e)?e:n}function Zc(n,e,t){const r=Math.min(ti(n),bp(kn(n),e));return t?n.setUTCMonth(e,r):n.setMonth(e,r),n}function wp(n,e,t){return t?n.setUTCDate(e):n.setDate(e),n}function ba(n){return new Date(n.getTime())}function Ol(n,e,t){const r=ba(n);switch(e){case"year":Zc(r,0,t);case"quarter":case"month":wp(r,1,t);case"week":case"isoWeek":case"day":case"date":!function oD(n,e,t){t?n.setUTCHours(e):n.setHours(e)}(r,0,t);case"hours":!function qS(n,e,t){t?n.setUTCMinutes(e):n.setMinutes(e)}(r,0,t);case"minutes":!function aD(n,e,t){t?n.setUTCSeconds(e):n.setSeconds(e)}(r,0,t);case"seconds":!function lD(n,e,t){t?n.setUTCMilliseconds(e):n.setMilliseconds(e)}(r,0,t)}return"week"===e&&function kp(n,e,t={}){tl(n,e-Kv(n,t.locale,t.isUTC),"day")}(r,0,{isUTC:t}),"isoWeek"===e&&function MI(n,e,t={}){const r=function Vg(n,e=Rr()){return _s(n)?e.weekdaysParse(n)%7||7:wh(n)&&isNaN(n)?null:n}(e,t.locale);Nh(n,function Dr(n,e){return zs(n,e)}(n)%7?r:r-7)}(r,1),"quarter"===e&&Zc(r,3*Math.floor(Zt(r,t)/3),t),r}function kv(n,e,t){let r=e;return"date"===r&&(r="day"),function Ap(n,e,t,r){return ZD(n,Fg(e,t),-1,r)}(tl(Ol(n,r,t),1,"isoWeek"===r?"week":r,t),1,"milliseconds",t)}function Tg(n,e){const t=+Ol(n,"day",e),r=+Ol(n,"year",e);return Math.round((t-r)/864e5)+1}function kh(n,e,t){const r=e-t+7;return-(_g(n,0,r).getUTCDay()-e+7)%7+r-1}function Rl(n,e,t,r){const i=kh(kn(n,r),e,t),a=Math.floor((Tg(n,r)-i-1)/7)+1;let c,f;return a<1?(f=kn(n,r)-1,c=a+Ja(f,e,t)):a>Ja(kn(n,r),e,t)?(c=a-Ja(kn(n,r),e,t),f=kn(n,r)+1):(f=kn(n,r),c=a),{week:c,year:f}}function Ja(n,e,t){const r=kh(n,e,t),i=kh(n+1,e,t);return(Mh(n)-r+i)/7}const Sg=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,PO="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ig="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Cp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hD="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xv={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},pD=gp,Rv=gp;class Nv{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];this[bh(r)?t:`_${t}`]=r}this._config=e}calendar(e,t,r){const i=this._calendar[e]||this._calendar.sameElse;return bh(i)?i.call(null,t,r):i}longDateFormat(e){const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(i){return i.slice(1)}),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return kn(e,t)}postformat(e){return e}relativeTime(e,t,r,i){const a=this._relativeTime[r];return bh(a)?a(e,t,r,i):a.replace(/%d/i,e.toString(10))}pastFuture(e,t){const r=this._relativeTime[e>0?"future":"past"];return bh(r)?r(t):r.replace(/%s/i,t)}months(e,t,r=!1){if(!e)return Hn(this._months)?this._months:this._months.standalone;if(Hn(this._months))return this._months[Zt(e,r)];const i=(this._months.isFormat||Sg).test(t)?"format":"standalone";return this._months[i][Zt(e,r)]}monthsShort(e,t,r=!1){if(!e)return Hn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(Hn(this._monthsShort))return this._monthsShort[Zt(e,r)];const i=Sg.test(t)?"format":"standalone";return this._monthsShort[i][Zt(e,r)]}monthsParse(e,t,r){let i,a,c;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),c=0;c<12;c++){if(i=new Date(Date.UTC(2e3,c)),r&&!this._longMonthsParse[c]){const f=this.months(i,"",!0).replace(".",""),_=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[c]=new RegExp(`^${f}$`,"i"),this._shortMonthsParse[c]=new RegExp(`^${_}$`,"i")}if(!r&&!this._monthsParse[c]&&(a=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[c]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[c].test(e)||r&&"MMM"===t&&this._shortMonthsParse[c].test(e)||!r&&this._monthsParse[c].test(e))return c}}monthsRegex(e){return this._monthsParseExact?(Ii(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(Ii(this,"_monthsRegex")||(this._monthsRegex=Rv),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(Ii(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ii(this,"_monthsShortRegex")||(this._monthsShortRegex=pD),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return Rl(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,r){if(!e)return Hn(this._weekdays)?this._weekdays:this._weekdays.standalone;if(Hn(this._weekdays))return this._weekdays[zs(e,r)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][zs(e,r)]}weekdaysMin(e,t,r){return e?this._weekdaysMin[zs(e,r)]:this._weekdaysMin}weekdaysShort(e,t,r){return e?this._weekdaysShort[zs(e,r)]:this._weekdaysShort}weekdaysParse(e,t,r){let i,a;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const c=Nh(new Date(Date.UTC(2e3,1)),i,null,!0);if(r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(c,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(c,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(c,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(a=`^${this.weekdays(c,"",!0)}|^${this.weekdaysShort(c,"",!0)}|^${this.weekdaysMin(c,"",!0)}`,this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),!(Hn(this._fullWeekdaysParse)&&Hn(this._shortWeekdaysParse)&&Hn(this._minWeekdaysParse)&&Hn(this._weekdaysParse)))return;if(r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(Ii(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ii(this,"_weekdaysRegex")||(this._weekdaysRegex=gp),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(Ii(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ii(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gp),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(Ii(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ii(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=gp),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:xv;const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,i=>i.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,r){const i=e.toLocaleLowerCase();let a,c,f;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)f=new Date(2e3,a),this._shortMonthsParse[a]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(f,"").toLocaleLowerCase();return r?"MMM"===t?(c=this._shortMonthsParse.indexOf(i),-1!==c?c:null):(c=this._longMonthsParse.indexOf(i),-1!==c?c:null):"MMM"===t?(c=this._shortMonthsParse.indexOf(i),-1!==c?c:(c=this._longMonthsParse.indexOf(i),-1!==c?c:null)):(c=this._longMonthsParse.indexOf(i),-1!==c?c:(c=this._shortMonthsParse.indexOf(i),-1!==c?c:null))}handleWeekStrictParse(e,t,r){let i;const a=e.toLocaleLowerCase();if(!this._weekdaysParse){let c;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],c=0;c<7;++c){const f=Nh(new Date(Date.UTC(2e3,1)),c,null,!0);this._minWeekdaysParse[c]=this.weekdaysMin(f).toLocaleLowerCase(),this._shortWeekdaysParse[c]=this.weekdaysShort(f).toLocaleLowerCase(),this._weekdaysParse[c]=this.weekdays(f,"").toLocaleLowerCase()}}if(Hn(this._weekdaysParse)&&Hn(this._shortWeekdaysParse)&&Hn(this._minWeekdaysParse))return r?"dddd"===t?(i=this._weekdaysParse.indexOf(a),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(a),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(a),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(a),-1!==i||(i=this._shortWeekdaysParse.indexOf(a),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(a),-1!==i?i:null)):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(a),-1!==i||(i=this._weekdaysParse.indexOf(a),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(a),-1!==i?i:null)):(i=this._minWeekdaysParse.indexOf(a),-1!==i||(i=this._weekdaysParse.indexOf(a),-1!==i)?i:(i=this._shortWeekdaysParse.indexOf(a),-1!==i?i:null))}computeMonthsParse(){const e=[],t=[],r=[];let i,a;for(a=0;a<12;a++)i=new Date(2e3,a),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(Kc),t.sort(Kc),r.sort(Kc),a=0;a<12;a++)e[a]=qc(e[a]),t[a]=qc(t[a]);for(a=0;a<24;a++)r[a]=qc(r[a]);this._monthsRegex=new RegExp(`^(${r.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],r=[],i=[];let a;for(a=0;a<7;a++){const c=Nh(new Date(Date.UTC(2e3,1)),a,null,!0),f=this.weekdaysMin(c),_=this.weekdaysShort(c),D=this.weekdays(c);e.push(f),t.push(_),r.push(D),i.push(f),i.push(_),i.push(D)}for(e.sort(Kc),t.sort(Kc),r.sort(Kc),i.sort(Kc),a=0;a<7;a++)t[a]=qc(t[a]),r[a]=qc(r[a]),i[a]=qc(i[a]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function Kc(n,e){return e.length-n.length}const Lv={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:xv,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:PO,monthsShort:dD,week:{dow:0,doy:6},weekdays:Ig,weekdaysMin:hD,weekdaysShort:Cp,meridiemParse:/[ap]\.?m?\.?/i};function gD(n,e,t){const r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length);let c,a=0;for(c=0;c<r;c++)(t&&n[c]!==e[c]||!t&&Ot(n[c])!==Ot(e[c]))&&a++;return a+i}function Ep(n,e){It(null,[n,n.length,!1],null,e)}function Fv(n,e){return vD(n,e.locale).toString()}function Vv(n){return bD(n).toString()}function vD(n,e=Rr(),t){return Rl(n,e.firstDayOfWeek(),e.firstDayOfYear(),t).year}function bD(n,e){return Rl(n,1,4,e).year}function ED(n,e){It(n,null,null,function(t,r){let i=function Nl(n,e={}){return e._isUTC?e._offset||0:function kg(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:r.isUTC,_offset:r.offset}),a="+";return i<0&&(i=-i,a="-"),a+kl(~~(i/60),2)+e+kl(~~i%60,2)})}const iI=/([\+\-]|\d\d)/gi;const ni={},Tp={};let Sp;function MD(n){return n&&n.toLowerCase().replace("_","-")}function AD(n){return ni[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),ni[n]}function xg(n,e){let t;return n&&(FS(e)?t=Rr(n):_s(n)&&(t=kD(n,e)),t&&(Sp=t)),Sp&&Sp._abbr}function kD(n,e){if(null===e)return delete ni[n],Sp=Rr("en"),null;if(!e)return;let t=Lv;if(e.abbr=n,null!=e.parentLocale){if(null==ni[e.parentLocale])return Tp[e.parentLocale]||(Tp[e.parentLocale]=[]),Tp[e.parentLocale].push({name:n,config:e}),null;t=ni[e.parentLocale]._config}return ni[n]=new Nv(function Oh(n,e){const t=Object.assign({},n);for(const r in e)!Ii(e,r)||(Pu(n[r])&&Pu(e[r])?(t[r]={},Object.assign(t[r],n[r]),Object.assign(t[r],e[r])):null!=e[r]?t[r]=e[r]:delete t[r]);for(const r in n)Ii(n,r)&&!Ii(e,r)&&Pu(n[r])&&(t[r]=Object.assign({},t[r]));return t}(t,e)),Tp[n]&&Tp[n].forEach(function(r){kD(r.name,r.config)}),xg(n),ni[n]}function Rr(n){return function aI(){ni.en||(xg("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const e=n%10;return n+(1===Ot(n%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function Pv(){It("w",["ww",2,!1],"wo",function(n,e){return function Vu(n,e=Rr(),t){return e.week(n,t)}(n,e.locale).toString(10)}),It("W",["WW",2,!1],"Wo",function(n){return function Mg(n,e){return Rl(n,1,4,e).week}(n).toString(10)}),gi("week","w"),gi("isoWeek","W"),Xi("week",5),Xi("isoWeek",5),dt("w",Un),dt("ww",Un,ys),dt("W",Un),dt("WW",Un,ys),vp(["w","ww","W","WW"],function(n,e,t,r){return e[r.substr(0,1)]=Ot(n),t})}(),function yD(){It(null,["gg",2,!1],null,function(n,e){return(vD(n,e.locale)%100).toString()}),It(null,["GG",2,!1],null,function(n){return(bD(n)%100).toString()}),Ep("gggg",Fv),Ep("ggggg",Fv),Ep("GGGG",Vv),Ep("GGGGG",Vv),gi("weekYear","gg"),gi("isoWeekYear","GG"),Xi("weekYear",1),Xi("isoWeekYear",1),dt("G",mp),dt("g",mp),dt("GG",Un,ys),dt("gg",Un,ys),dt("GGGG",wg,vg),dt("gggg",wg,vg),dt("GGGGG",Dg,pp),dt("ggggg",Dg,pp),vp(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){return e[r.substr(0,2)]=Ot(n),t}),vp(["gg","GG"],function(n,e,t,r){return e[r]=Mv(n),t})}(),function Ih(){It("Y",null,null,function(n,e){const t=kn(n,e.isUTC);return t<=9999?t.toString(10):`+${t}`}),It(null,["YY",2,!1],null,function(n,e){return(kn(n,e.isUTC)%100).toString(10)}),It(null,["YYYY",4,!1],null,Iv),It(null,["YYYYY",5,!1],null,Iv),It(null,["YYYYYY",6,!0],null,Iv),gi("year","y"),Xi("year",1),dt("Y",mp),dt("YY",Un,ys),dt("YYYY",wg,vg),dt("YYYYY",Dg,pp),dt("YYYYYY",Dg,pp),Nn(["YYYYY","YYYYYY"],0),Nn("YYYY",function(n,e,t){return e[0]=2===n.length?Mv(n):Ot(n),t}),Nn("YY",function(n,e,t){return e[0]=Mv(n),t}),Nn("Y",function(n,e,t){return e[0]=parseInt(n,10),t})}(),function tI(){It("z",null,null,function(n,e){return e.isUTC?"UTC":""}),It("zz",null,null,function(n,e){return e.isUTC?"Coordinated Universal Time":""})}(),function rI(){It("X",null,null,function(n){return function Ch(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),It("x",null,null,function(n){return n.valueOf().toString(10)}),dt("x",mp),dt("X",iD),Nn("X",function(n,e,t){return t._d=new Date(1e3*parseFloat(n)),t}),Nn("x",function(n,e,t){return t._d=new Date(Ot(n)),t})}(),function DD(){It("s",["ss",2,!1],null,function(n,e){return Wc(n,e.isUTC).toString(10)}),gi("second","s"),Xi("second",15),dt("s",Un),dt("ss",Un,ys),Nn(["s","ss"],5)}(),function CD(){It("Q",null,"Qo",function(n,e){return function xh(n,e=!1){return Math.ceil((Zt(n,e)+1)/3)}(n,e.isUTC).toString(10)}),gi("quarter","Q"),Xi("quarter",7),dt("Q",Cv),Nn("Q",function(n,e,t){return e[1]=3*(Ot(n)-1),t})}(),function TD(){ED("Z",":"),ED("ZZ",""),dt("Z",Cg),dt("ZZ",Cg),Nn(["Z","ZZ"],function(n,e,t){return t._useUTC=!0,t._tzm=function Ag(n,e){const t=(e||"").match(n);if(null===t)return null;const i=t[t.length-1].match(iI)||["-","0","0"],a=60*parseInt(i[1],10)+Ot(i[2]);return 0===a?0:"+"===i[0]?a:-a}(Cg,n),t})}(),function Eg(){It("M",["MM",2,!1],"Mo",function(n,e){return(Zt(n,e.isUTC)+1).toString(10)}),It("MMM",null,null,function(n,e){return e.locale.monthsShort(n,e.format,e.isUTC)}),It("MMMM",null,null,function(n,e){return e.locale.months(n,e.format,e.isUTC)}),gi("month","M"),Xi("month",8),dt("M",Un),dt("MM",Un,ys),dt("MMM",function(n,e){return e.monthsShortRegex(n)}),dt("MMMM",function(n,e){return e.monthsRegex(n)}),Nn(["M","MM"],function(n,e,t){return e[1]=Ot(n)-1,t}),Nn(["MMM","MMMM"],function(n,e,t,r){const i=t._locale.monthsParse(n,r,t._strict);return null!=i?e[1]=i:mn(t).invalidMonth=!!n,t})}(),function wa(){It("m",["mm",2,!1],null,function(n,e){return Ji(n,e.isUTC).toString(10)}),gi("minute","m"),Xi("minute",14),dt("m",Un),dt("mm",Un,ys),Nn(["m","mm"],4)}(),function SD(){let n;for(It("S",null,null,function(t,r){return(~~(nr(t,r.isUTC)/100)).toString(10)}),It(null,["SS",2,!1],null,function(t,r){return(~~(nr(t,r.isUTC)/10)).toString(10)}),It(null,["SSS",3,!1],null,function(t,r){return nr(t,r.isUTC).toString(10)}),It(null,["SSSS",4,!1],null,function(t,r){return(10*nr(t,r.isUTC)).toString(10)}),It(null,["SSSSS",5,!1],null,function(t,r){return(100*nr(t,r.isUTC)).toString(10)}),It(null,["SSSSSS",6,!1],null,function(t,r){return(1e3*nr(t,r.isUTC)).toString(10)}),It(null,["SSSSSSS",7,!1],null,function(t,r){return(1e4*nr(t,r.isUTC)).toString(10)}),It(null,["SSSSSSSS",8,!1],null,function(t,r){return(1e5*nr(t,r.isUTC)).toString(10)}),It(null,["SSSSSSSSS",9,!1],null,function(t,r){return(1e6*nr(t,r.isUTC)).toString(10)}),gi("millisecond","ms"),Xi("millisecond",16),dt("S",bg,Cv),dt("SS",bg,ys),dt("SSS",bg,Ev),n="SSSS";n.length<=9;n+="S")dt(n,rD);function e(t,r,i){return r[6]=Ot(1e3*parseFloat(`0.${t}`)),i}for(n="S";n.length<=9;n+="S")Nn(n,e)}(),function ID(){function n(i,a){return qt(i,a)%12||12}function t(i,a){It(i,null,null,function(c,f){return f.locale.meridiem(qt(c,f.isUTC),Ji(c,f.isUTC),a)})}function r(i,a){return a._meridiemParse}It("H",["HH",2,!1],null,function(i,a){return qt(i,a.isUTC).toString(10)}),It("h",["hh",2,!1],null,function(i,a){return n(i,a.isUTC).toString(10)}),It("k",["kk",2,!1],null,function(i,a){return function e(i,a){return qt(i,a)||24}(i,a.isUTC).toString(10)}),It("hmm",null,null,function(i,a){return`${n(i,a.isUTC)}${kl(Ji(i,a.isUTC),2)}`}),It("hmmss",null,null,function(i,a){return`${n(i,a.isUTC)}${kl(Ji(i,a.isUTC),2)}${kl(Wc(i,a.isUTC),2)}`}),It("Hmm",null,null,function(i,a){return`${qt(i,a.isUTC)}${kl(Ji(i,a.isUTC),2)}`}),It("Hmmss",null,null,function(i,a){return`${qt(i,a.isUTC)}${kl(Ji(i,a.isUTC),2)}${kl(Wc(i,a.isUTC),2)}`}),t("a",!0),t("A",!1),gi("hour","h"),Xi("hour",13),dt("a",r),dt("A",r),dt("H",Un),dt("h",Un),dt("k",Un),dt("HH",Un,ys),dt("hh",Un,ys),dt("kk",Un,ys),dt("hmm",Tv),dt("hmmss",Sv),dt("Hmm",Tv),dt("Hmmss",Sv),Nn(["H","HH"],3),Nn(["k","kk"],function(i,a,c){const f=Ot(i);return a[3]=24===f?0:f,c}),Nn(["a","A"],function(i,a,c){return c._isPm=c._locale.isPM(i),c._meridiem=i,c}),Nn(["h","hh"],function(i,a,c){return a[3]=Ot(i),mn(c).bigHour=!0,c}),Nn("hmm",function(i,a,c){const f=i.length-2;return a[3]=Ot(i.substr(0,f)),a[4]=Ot(i.substr(f)),mn(c).bigHour=!0,c}),Nn("hmmss",function(i,a,c){const f=i.length-4,_=i.length-2;return a[3]=Ot(i.substr(0,f)),a[4]=Ot(i.substr(f,2)),a[5]=Ot(i.substr(_)),mn(c).bigHour=!0,c}),Nn("Hmm",function(i,a,c){const f=i.length-2;return a[3]=Ot(i.substr(0,f)),a[4]=Ot(i.substr(f)),c}),Nn("Hmmss",function(i,a,c){const f=i.length-4,_=i.length-2;return a[3]=Ot(i.substr(0,f)),a[4]=Ot(i.substr(f,2)),a[5]=Ot(i.substr(_)),c})}(),function Dp(){It("DDD",["DDDD",3,!1],"DDDo",function(n){return Tg(n).toString(10)}),gi("dayOfYear","DDD"),Xi("dayOfYear",4),dt("DDD",bg),dt("DDDD",Ev),Nn(["DDD","DDDD"],function(n,e,t){return t._dayOfYear=Ot(n),t})}(),function TI(){It("d",null,"do",function(n,e){return zs(n,e.isUTC).toString(10)}),It("dd",null,null,function(n,e){return e.locale.weekdaysMin(n,e.format,e.isUTC)}),It("ddd",null,null,function(n,e){return e.locale.weekdaysShort(n,e.format,e.isUTC)}),It("dddd",null,null,function(n,e){return e.locale.weekdays(n,e.format,e.isUTC)}),It("e",null,null,function(n,e){return Kv(n,e.locale,e.isUTC).toString(10)}),It("E",null,null,function(n,e){return function Lh(n,e){return zs(n,e)||7}(n,e.isUTC).toString(10)}),gi("day","d"),gi("weekday","e"),gi("isoWeekday","E"),Xi("day",11),Xi("weekday",11),Xi("isoWeekday",11),dt("d",Un),dt("e",Un),dt("E",Un),dt("dd",function(n,e){return e.weekdaysMinRegex(n)}),dt("ddd",function(n,e){return e.weekdaysShortRegex(n)}),dt("dddd",function(n,e){return e.weekdaysRegex(n)}),vp(["dd","ddd","dddd"],function(n,e,t,r){const i=t._locale.weekdaysParse(n,r,t._strict);return null!=i?e.d=i:mn(t).invalidWeekday=!!n,t}),vp(["d","e","E"],function(n,e,t,r){return e[r]=Ot(n),t})}(),function $S(){It("D",["DD",2,!1],"Do",function(n,e){return ti(n,e.isUTC).toString(10)}),gi("date","D"),Xi("date",9),dt("D",Un),dt("DD",Un,ys),dt("Do",function(n,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),Nn(["D","DD"],2),Nn("Do",function(n,e,t){return e[2]=Ot(n.match(Un)[0]),t})}())}(),n?function Bv(n){let e,t,r=0;for(;r<n.length;){const i=MD(n[r]).split("-");let a=i.length;for(e=MD(n[r+1]),e=e?e.split("-"):null;a>0;){if(t=AD(i.slice(0,a).join("-")),t)return t;if(e&&e.length>=a&&gD(i,e,!0)>=a-1)break;a--}r++}return null}(Hn(n)?n:[n]):Sp}const Rh=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],xD=Rh.reduce((n,e)=>(n[e]=!0,n),{});function Ip(n){return n<0?Math.floor(n):Math.ceil(n)}function jv(n){return 4800*n/146097}function Og(n){return 146097*n/4800}let Pl=Math.round;const Da_ss=44,Da_s=45,Da_m=45,Da_h=22,Da_d=26,Da_M=11;function RD(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}class LD{constructor(e,t={}){this._data={},this._locale=Rr(),this._locale=t&&t._locale||Rr();const i=e.year||0,a=e.quarter||0,c=e.month||0,f=e.week||0,_=e.day||0,D=e.hours||0,S=e.minutes||0,A=e.seconds||0,L=e.milliseconds||0;return this._isValid=function Uv(n){if(Object.keys(n).some(r=>r in xD&&null===n[r]||isNaN(n[r])))return!1;let t=!1;for(let r=0;r<Rh.length;++r)if(n[Rh[r]]){if(t)return!1;n[Rh[r]]!==Ot(n[Rh[r]])&&(t=!0)}return!0}(e),this._milliseconds=+L+1e3*A+60*S*1e3+1e3*D*60*60,this._days=+_+7*f,this._months=+c+3*a+12*i,function OD(n){let e=n._milliseconds,t=n._days,r=n._months;const i=n._data;e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=864e5*Ip(Og(r)+t),t=0,r=0),i.milliseconds=e%1e3;const a=Nu(e/1e3);i.seconds=a%60;const c=Nu(a/60);i.minutes=c%60;const f=Nu(c/60);i.hours=f%24,t+=Nu(f/24);const _=Nu(jv(t));r+=_,t-=Ip(Og(_));const D=Nu(r/12);return r%=12,i.day=t,i.month=r,i.year=D,n}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let r=function ND(n,e,t){const r=Fg(n).abs(),i=Pl(r.as("s")),a=Pl(r.as("m")),c=Pl(r.as("h")),f=Pl(r.as("d")),_=Pl(r.as("M")),D=Pl(r.as("y")),S=i<=Da_ss&&["s",i]||i<Da_s&&["ss",i]||a<=1&&["m"]||a<Da_m&&["mm",a]||c<=1&&["h"]||c<Da_h&&["hh",c]||f<=1&&["d"]||f<Da_d&&["dd",f]||_<=1&&["M"]||_<Da_M&&["MM",_]||D<=1&&["y"]||["yy",D];return RD.apply(null,[S[0],S[1],e,+n>0,t])}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}localeData(){return this._locale}locale(e){return e?(this._locale=Rr(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,r;const i=this._milliseconds,a=wv(e);if("month"===a||"year"===a)return t=this._days+i/864e5,r=this._months+jv(t),"month"===a?r:r/12;switch(t=this._days+Math.round(Og(this._months)),a){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${a}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Ot(this._months/12):NaN}}function Yv(n){if(null==n._isValid){const e=mn(n),t=Array.prototype.some.call(e.parsedDateParts,function(i){return null!=i});let r=!isNaN(n._d&&n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return r;n._isValid=r}return n._isValid}function Rg(n,e){return n._d=new Date(NaN),Object.assign(mn(n),e||{userInvalidated:!0}),n}const dI=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hI=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fI=/Z|[+-]\d\d(?::?\d\d)?/,Ng=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],$v=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pI=/^\/?Date\((\-?\d+)/i,mI={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},gI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function PD(n){if(!_s(n._i))return n;const e=n._i,t=dI.exec(e)||hI.exec(e);let r,i,a,c,f,_;if(!t)return n._isValid=!1,n;for(f=0,_=Ng.length;f<_;f++)if(Ng[f][1].exec(t[1])){i=Ng[f][0],r=!1!==Ng[f][2];break}if(null==i)return n._isValid=!1,n;if(t[3]){for(f=0,_=$v.length;f<_;f++)if($v[f][1].exec(t[3])){a=(t[2]||" ")+$v[f][0];break}if(null==a)return n._isValid=!1,n}if(!r&&null!=a)return n._isValid=!1,n;if(t[4]){if(!fI.exec(t[4]))return n._isValid=!1,n;c="Z"}return n._f=i+(a||"")+(c||""),Hu(n)}function yI(n){const e=parseInt(n,10);return e<=49?e+2e3:e}function Gv(n){if(!_s(n._i))return n;const e=gI.exec(function vI(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!e)return function cI(n){return n._isValid=!1,n}(n);const t=function _I(n,e,t,r,i,a){const c=[yI(n),dD.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return a&&c.push(parseInt(a,10)),c}(e[4],e[3],e[2],e[5],e[6],e[7]);return function FD(n,e,t){return!n||Cp.indexOf(n)===new Date(e[0],e[1],e[2]).getDay()||(mn(t).weekdayMismatch=!0,t._isValid=!1,!1)}(e[1],t,n)&&(n._a=t,n._tzm=function VD(n,e,t){if(n)return mI[n];if(e)return 0;{const r=parseInt(t,10),i=r%100;return(r-i)/100*60+i}}(e[8],e[9],e[10]),n._d=_g.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),mn(n).rfc2822=!0),n}function Zs(n,e,t,r,i=0){const a=Rr(t||"en");if(!a)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const f=function HD(n,e,t,r,i=0){if(!Lu(n))return t.invalidDate;const a=Wv(e,t);return Dv[a]=Dv[a]||function US(n){const e=n.match(cp),t=e.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=Dh[e[i]]?Dh[e[i]]:dp(e[i]);return function(i,a,c,f=0){let _="";for(let D=0;D<t;D++)_+=bh(r[D])?r[D].call(null,i,{format:n,locale:a,isUTC:c,offset:f}):r[D];return _}}(a),Dv[a](n,t,r,i)}(n,e||(r?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),a,r,i);return f&&a.postformat(f)}function Wv(n,e){let t=n,r=5;const i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,a=c=>e.formatLongDate(c)||c;for(i.lastIndex=0;r>=0&&i.test(t);)t=t.replace(i,a),i.lastIndex=0,r-=1;return t}function Qc(n,e,t){return null!=n?n:null!=e?e:t}function Lg(n){const e=[];let t,r,i;if(n._d)return n;const a=function UD(n){const e=new Date;return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function jD(n){let e,t,r,i,a,c,f;const _=n._w;if(null!=_.GG||null!=_.W||null!=_.E)i=1,a=4,e=Qc(_.GG,n._a[0],Rl(new Date,1,4).year),t=Qc(_.W,1),r=Qc(_.E,1),(r<1||r>7)&&(f=!0);else{i=n._locale._week.dow,a=n._locale._week.doy;const D=Rl(new Date,i,a);e=Qc(_.gg,n._a[0],D.year),t=Qc(_.w,D.week),null!=_.d?(r=_.d,(r<0||r>6)&&(f=!0)):null!=_.e?(r=_.e+i,(_.e<0||_.e>6)&&(f=!0)):r=i}t<1||t>Ja(e,i,a)?mn(n)._overflowWeeks=!0:null!=f?mn(n)._overflowWeekday=!0:(c=function cD(n,e,t,r,i){const f=1+7*(e-1)+(7+t-r)%7+kh(n,r,i);let _,D;return f<=0?(_=n-1,D=Mh(_)+f):f>Mh(n)?(_=n+1,D=f-Mh(n)):(_=n,D=f),{year:_,dayOfYear:D}}(e,t,r,i,a),n._a[0]=c.year,n._dayOfYear=c.dayOfYear)}(n),null!=n._dayOfYear&&(i=Qc(n._a[0],a[0]),(n._dayOfYear>Mh(i)||0===n._dayOfYear)&&(mn(n)._overflowDayOfYear=!0),r=new Date(Date.UTC(i,0,n._dayOfYear)),n._a[1]=r.getUTCMonth(),n._a[2]=r.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=a[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?_g:yg).apply(null,e);const c=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&void 0!==n._w.d&&n._w.d!==c&&(mn(n).weekdayMismatch=!0),n}function Bu(n){let e;const t=n._a;return t&&-2===mn(n).overflow&&(e=t[1]<0||t[1]>11?1:t[2]<1||t[2]>bp(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,mn(n)._overflowDayOfYear&&(e<0||e>2)&&(e=2),mn(n)._overflowWeeks&&-1===e&&(e=7),mn(n)._overflowWeekday&&-1===e&&(e=8),mn(n).overflow=e),n}function Hu(n){if("ISO_8601"===n._f)return PD(n);if("RFC_2822"===n._f)return Gv(n);if(n._a=[],mn(n).empty=!0,Hn(n._f)||!n._i&&0!==n._i)return n;let e=n._i.toString(),t=0;const r=e.length,i=Wv(n._f,n._locale).match(cp)||[];let a,c,f,_;for(a=0;a<i.length;a++)c=i[a],f=(e.match(YS(c,n._locale))||[])[0],f&&(_=e.substr(0,e.indexOf(f)),_.length>0&&mn(n).unusedInput.push(_),e=e.slice(e.indexOf(f)+f.length),t+=f.length),Dh[c]?(f?mn(n).empty=!1:mn(n).unusedTokens.push(c),OO(c,f,n)):n._strict&&!f&&mn(n).unusedTokens.push(c);return mn(n).charsLeftOver=r-t,e.length>0&&mn(n).unusedInput.push(e),n._a[3]<=12&&!0===mn(n).bigHour&&n._a[3]>0&&(mn(n).bigHour=void 0),mn(n).parsedDateParts=n._a.slice(0),mn(n).meridiem=n._meridiem,n._a[3]=function GO(n,e,t){let r=e;if(null==t)return r;if(null!=n.meridiemHour)return n.meridiemHour(r,t);if(null==n.isPM)return r;const i=n.isPM(t);return i&&r<12&&(r+=12),!i&&12===r&&(r=0),r}(n._locale,n._a[3],n._meridiem),Lg(n),Bu(n)}function YD(n){const e=Bu(function $D(n){let e=n._i;const t=n._f;return n._locale=n._locale||Rr(n._l),null===e||void 0===t&&""===e?Rg(n,{nullInput:!0}):(_s(e)&&(n._i=e=n._locale.preparse(e,t)),up(e)?(n._d=ba(e),n):(Hn(t)?function zv(n){let e,t,r,i,a;if(!n._f||0===n._f.length)return mn(n).invalidFormat=!0,Rg(n);for(a=0;a<n._f.length;a++)i=0,e=Object.assign({},n),null!=n._useUTC&&(e._useUTC=n._useUTC),e._f=n._f[a],Hu(e),Yv(e)&&(i+=mn(e).charsLeftOver,i+=10*mn(e).unusedTokens.length,mn(e).score=i,(null==r||i<r)&&(r=i,t=e));Object.assign(n,t||e)}(n):t?Hu(n):function zO(n){const e=n._i;if(FS(e))n._d=new Date;else if(up(e))n._d=ba(e);else if(_s(e))!function BD(n){if(!_s(n._i))return n;const e=pI.exec(n._i);null!==e?n._d=new Date(+e[1]):(PD(n),!1!==n._isValid||(delete n._isValid,Gv(n),!1!==n._isValid||(delete n._isValid,Rg(n))))}(n);else if(Hn(e)&&e.length){const t=e.slice(0);n._a=t.map(r=>_s(r)?parseInt(r,10):r),Lg(n)}else if(Pu(e))!function WO(n){if(n._d)return n;const e=n._i;if(Pu(e)){const t=function nD(n){const e={};let t,r;for(r in n)Ii(n,r)&&(t=wv(r),t&&(e[t]=n[r]));return e}(e);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(r=>_s(r)?parseInt(r,10):r)}return Lg(n)}(n);else{if(!wh(e))return Rg(n);n._d=new Date(e)}}(n),Yv(n)||(n._d=null),n))}(n));return e._d=new Date(null!=e._d?e._d.getTime():NaN),Yv(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}function Mp(n,e,t,r,i){return up(n)?n:function Tt(n,e,t,r,i){const a={};let c=n;return(Pu(c)&&function tD(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let e;for(e in n)if(n.hasOwnProperty(e))return!1;return!0}(c)||Hn(c)&&0===c.length)&&(c=void 0),a._useUTC=a._isUTC=i,a._l=t,a._i=c,a._f=e,a._strict=r,YD(a)}(n,e,t,r,i)._d}function GD(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function qv(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function vs(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()>e.valueOf():e.valueOf()<Ol(n,t).valueOf())}function el(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()<e.valueOf():kv(n,t).valueOf()<e.valueOf())}function Ln(n,e,t="milliseconds"){if(!n||!e)return!1;if("milliseconds"===t)return n.valueOf()===e.valueOf();const r=e.valueOf();return Ol(n,t).valueOf()<=r&&r<=kv(n,t).valueOf()}const CI=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,WD=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fg(n,e,t={}){const r=function zD(n,e){if(null==n)return{};if(function uI(n){return n instanceof LD}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(wh(n))return e?{[e]:n}:{milliseconds:n};if(_s(n)){let t=CI.exec(n);if(t){const r="-"===t[1]?-1:1;return{year:0,day:Ot(t[2])*r,hours:Ot(t[3])*r,minutes:Ot(t[4])*r,seconds:Ot(t[5])*r,milliseconds:Ot(qv(1e3*Ot(t[6])))*r}}if(t=WD.exec(n),t){const r="-"===t[1]?-1:1;return{year:Uu(t[2],r),month:Uu(t[3],r),week:Uu(t[4],r),day:Uu(t[5],r),hours:Uu(t[6],r),minutes:Uu(t[7],r),seconds:Uu(t[8],r)}}}if(Pu(n)&&("from"in n||"to"in n)){const t=function EI(n,e){if(!Lu(n)||!Lu(e))return{milliseconds:0,months:0};let t;const r=function jO(n,e,t={}){if(!t._isUTC)return n;const r=ba(e),i=6e4*(t._offset||0),a=n.valueOf()-r.valueOf()+i;return r.setTime(r.valueOf()+a),r}(e,n,{_offset:n.getTimezoneOffset()});return el(n,r)?t=qD(n,r):(t=qD(r,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(Mp(n.from),Mp(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,e);return new LD(r,t)}function Uu(n,e){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function qD(n,e){const t={milliseconds:0,months:0};return t.months=Zt(e)-Zt(n)+12*(kn(e)-kn(n)),vs(tl(ba(n),t.months,"month"),e)&&--t.months,t.milliseconds=+e-+tl(ba(n),t.months,"month"),t}function tl(n,e,t,r){return ZD(n,Fg(e,t),1,r)}function ZD(n,e,t,r){const i=e._milliseconds,a=qv(e._days),c=qv(e._months);return c&&Zc(n,Zt(n,r)+c*t,r),a&&wp(n,ti(n,r)+a*t,r),i&&function LO(n,e){n.setTime(e)}(n,function zc(n){return n.getTime()}(n)+i*t),ba(n)}function Nh(n,e,t=Rr(),r){const i=zs(n,r),a=function SI(n,e){if(!_s(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const r=e.weekdaysParse(n);return wh(r)?r:null}(e,t);return tl(n,a-i,"day")}function Kv(n,e=Rr(),t){return(zs(n,t)+7-e.firstDayOfWeek())%7}const Qv=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},KD={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Ks=function(n){return function(e,t){const r=Qv(e);let i=KD[n][Qv(e)];return 2===r&&(i=i[t?0:1]),i.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Ks("s"),Ks("s"),Ks("m"),Ks("m"),Ks("h"),Ks("h"),Ks("d"),Ks("d"),Ks("M"),Ks("M"),Ks("y"),Ks("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const Bg="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),Ph="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,e){let t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+n[t]+"$|^"+e[t]+"$","i")})(Bg,Ph),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(Ph),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(Bg),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const sM={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,e,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,e){const t=sM.longDateFormat[e]?sM.longDateFormat[e]:e;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,e=!1)=>543+(e?n.getUTCFullYear():n.getFullYear())};function Bh(n){return function(e){return n+"\u043e"+(11===qt(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),Bh("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),Bh("[\u0417\u0430\u0432\u0442\u0440\u0430 "),Bh("[\u0412\u0447\u043e\u0440\u0430 "),Bh("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class pC{}const Bl="*";function qg(n,e=null){return{type:4,styles:e,timings:n}}function o0(n,e=null){return{type:2,steps:n,options:e}}function rd(n){return{type:6,styles:n,offset:null}}function a0(n,e,t){return{type:0,name:n,styles:e,options:t}}function l0(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Hh(n){Promise.resolve(null).then(n)}class Lp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hh(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Zg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Hh(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var hM=R(233),id=R(5363);class Uh extends or{constructor(e,t,r){super(e),t.pipe((0,id.Q)(hM.N)).pipe(xr((c,f)=>f?r(c,f):c,e)).subscribe(c=>this.next(c))}}class Kg extends vr.y{constructor(e,t,r){super(),this._dispatcher=e,this._reducer=t,this.source=r}select(e){var t;return((null===(t=this.source)||void 0===t?void 0:t.pipe((0,Nt.U)(e)))||(new vr.y).pipe((0,Nt.U)(e))).pipe(mg())}lift(e){const t=new Kg(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}class fM{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const pM={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function jh(n,e=pM){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(a=>a.split(":")).map(a=>{const c=e[a[0]]||a;return new fM(c[0],c[1])}),i=r.filter(a=>a.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const Wn="undefined"!=typeof window&&window||{};let Js;function c0(){if(void 0===Wn.document)return"bs4";const n=Wn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Wn.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=Wn.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(Wn.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Wn.document.head.removeChild(n),"bs4"):(Wn.document.head.removeChild(n),"bs5")}function Pp(){return void 0===Wn||(void 0===Wn.__theme?(Js||(Js=c0()),"bs3"===Js):"bs3"===Wn.__theme)}function d0(){return!Pp()&&(Js||(Js=c0()),"bs4"===Js)}function sd(){return{isBs3:Pp(),isBs4:d0(),isBs5:!Pp()&&!d0()&&(Js||(Js=c0()),"bs5"===Js)}}function CC(){const n="Change";return function(t,r){const i=` __${r}Value`;Object.defineProperty(t,r,{get(){return this[i]},set(a){const c=this[i];this[i]=a,c!==a&&this[r+n]&&this[r+n].emit(a)}})}}const EC={},TC="undefined"==typeof console||!("warn"in console);function ws(n){!(0,u.X6Q)()||TC||n in EC||(EC[n]=!0,console.warn(n))}var Mi=R(6451),Yh=R(1144);const DM=["addListener","removeListener"],CM=["addEventListener","removeEventListener"],TR=["on","off"];function $u(n,e,t,r){if((0,Ti.m)(t)&&(r=t,t=void 0),r)return $u(n,e,t).pipe(vc(r));const[i,a]=function IC(n){return(0,Ti.m)(n.addEventListener)&&(0,Ti.m)(n.removeEventListener)}(n)?CM.map(c=>f=>n[c](e,f,t)):function h0(n){return(0,Ti.m)(n.addListener)&&(0,Ti.m)(n.removeListener)}(n)?DM.map(SC(n,e)):function EM(n){return(0,Ti.m)(n.on)&&(0,Ti.m)(n.off)}(n)?TR.map(SC(n,e)):[];if(!i&&(0,Yh.z)(n))return(0,Vn.z)(c=>$u(c,e,t))((0,Mo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new vr.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function SC(n,e){return t=>r=>n[t](e,r)}var TM=R(4408);const Fp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Fp;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new hs.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Fp;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Fp;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var MC=R(7565);const Qg=new class AC extends MC.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class f0 extends TM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Fp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Fp.cancelAnimationFrame(t),e._scheduled=void 0)}});var p0=(()=>{return(n=p0||(p0={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",p0;var n})(),od=(()=>{return(n=od||(od={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",od;var n})();function ad(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function Jg(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===ad(t,"position")?Jg(t):t:r?r.ownerDocument.documentElement:document.documentElement}function e_(n){return null!==n.parentNode?e_(n.parentNode):n}function t_(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);const c=a.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function Xg(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||Jg(n.firstElementChild)===n)}(c)?c:Jg(c);const f=e_(n);return f.host?t_(f.host,e):t_(n,e_(e).host)}function n_(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===ad(e,"transform");)e=e.parentElement;return e||document.documentElement}function r_(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function SM(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function xC(n){const e=n.body,t=n.documentElement;return{height:SM("Height",e,t),width:SM("Width",e,t)}}function Vp(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function zn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function RC(n){const e=n.getBoundingClientRect();if(!(e&&zn(e.top)&&zn(e.left)&&zn(e.bottom)&&zn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?xC(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||zn(e.right)&&zn(t.left)&&e.right-t.left||0,a=(null==r?void 0:r.height)||n.clientHeight||zn(e.bottom)&&zn(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,f=n.offsetHeight-a;if(c||f){const _=ad(n);c-=r_(_,"x"),f-=r_(_,"y"),t.width-=c,t.height-=f}return Vp(t)}function i_(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function s_(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=ad(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:s_(i_(n))}function m0(n,e,t=!1){var r,i,a,c,f,_;const D="HTML"===e.nodeName,S=RC(n),A=RC(e),B=(s_(n),ad(e)),$=parseFloat(B.borderTopWidth),ee=parseFloat(B.borderLeftWidth);t&&D&&(A.top=Math.max(null!==(r=A.top)&&void 0!==r?r:0,0),A.left=Math.max(null!==(i=A.left)&&void 0!==i?i:0,0));const _e=Vp({top:(null!==(a=S.top)&&void 0!==a?a:0)-(null!==(c=A.top)&&void 0!==c?c:0)-$,left:(null!==(f=S.left)&&void 0!==f?f:0)-(null!==(_=A.left)&&void 0!==_?_:0)-ee,width:S.width,height:S.height});if(_e.marginTop=0,_e.marginLeft=0,D){const Ve=parseFloat(B.marginTop),Oe=parseFloat(B.marginLeft);zn(_e.top)&&(_e.top-=$-Ve),zn(_e.bottom)&&(_e.bottom-=$-Ve),zn(_e.left)&&(_e.left-=ee-Oe),zn(_e.right)&&(_e.right-=ee-Oe),_e.marginTop=Ve,_e.marginLeft=Oe}return _e}function NC(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function PC(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===ad(n,"position")||PC(i_(n)))}function o_(n,e,t=0,r,i=!1){let a={top:0,left:0};const c=i?n_(n):t_(n,e);if("viewport"===r)a=function LC(n,e=!1){const t=n.ownerDocument.documentElement,r=m0(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),a=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:NC(t),f=e?0:NC(t,"left");return Vp({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:a})}(c,i);else{let f;"scrollParent"===r?(f=s_(i_(e)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const _=m0(f,c,i);if(_&&"HTML"===f.nodeName&&!PC(c)){const{height:D,width:S}=xC(n.ownerDocument);zn(a.top)&&zn(_.top)&&zn(_.marginTop)&&(a.top+=_.top-_.marginTop),zn(a.top)&&(a.bottom=Number(D)+Number(_.top)),zn(a.left)&&zn(_.left)&&zn(_.marginLeft)&&(a.left+=_.left-_.marginLeft),zn(a.top)&&(a.right=Number(S)+Number(_.left))}else _&&(a=_)}return zn(a.left)&&(a.left+=t),zn(a.top)&&(a.top+=t),zn(a.right)&&(a.right-=t),zn(a.bottom)&&(a.bottom-=t),a}function FC({width:n,height:e}){return n*e}function g0(n,e,t,r,i=["top","bottom","right","left"],a="viewport",c=0){var f,_,D,S,A,L,B,$,ee,_e,Ve,Oe;if(-1===n.indexOf("auto"))return n;const ze=o_(t,r,c,a),Ge={top:{width:null!==(f=null==ze?void 0:ze.width)&&void 0!==f?f:0,height:(null!==(_=null==e?void 0:e.top)&&void 0!==_?_:0)-(null!==(D=null==ze?void 0:ze.top)&&void 0!==D?D:0)},right:{width:(null!==(S=null==ze?void 0:ze.right)&&void 0!==S?S:0)-(null!==(A=null==e?void 0:e.right)&&void 0!==A?A:0),height:null!==(L=null==ze?void 0:ze.height)&&void 0!==L?L:0},bottom:{width:null!==(B=null==ze?void 0:ze.width)&&void 0!==B?B:0,height:(null!==($=null==ze?void 0:ze.bottom)&&void 0!==$?$:0)-(null!==(ee=null==e?void 0:e.bottom)&&void 0!==ee?ee:0)},left:{width:(null!==(_e=e.left)&&void 0!==_e?_e:0)-(null!==(Ve=null==ze?void 0:ze.left)&&void 0!==Ve?Ve:0),height:null!==(Oe=null==ze?void 0:ze.height)&&void 0!==Oe?Oe:0}},yt=Object.keys(Ge).map(Sn=>Object.assign(Object.assign({position:Sn},Ge[Sn]),{area:FC(Ge[Sn])})).sort((Sn,en)=>en.area-Sn.area);let ut=yt.filter(({width:Sn,height:en})=>Sn>=t.clientWidth&&en>=t.clientHeight);ut=ut.filter(({position:Sn})=>i.some(en=>en===Sn));const sn=ut.length>0?ut[0].position:yt[0].position,On=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${sd().isBs5?od[sn]:sn}`),sn+(On?`-${On}`:"")}const _0=(n,e=0)=>n?parseFloat(n):e;function y0(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=_0(null==t?void 0:t.marginTop)+_0(null==t?void 0:t.marginBottom),i=_0(null==t?void 0:t.marginLeft)+_0(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function AM(n,e,t){return m0(e,t?n_(n):t_(n,e),t)}function BC(n,e,t){var r,i,a;const c=t.split(" ")[0],f=y0(n),_={width:f.width,height:f.height},D=-1!==["right","left"].indexOf(c),S=D?"top":"left",A=D?"left":"top",L=D?"height":"width",B=D?"width":"height";return _[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[L]/2-f[L]/2,_[A]=c===A?(null!==(i=e[A])&&void 0!==i?i:0)-f[B]:null!==(a=e[function IM(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(A)])&&void 0!==a?a:0,_}function kM(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const SR={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function v0(n,e){return!!sd().isBs5&&SR[e].includes(n)}function xM(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function OC(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function a_(n){var e,t,r,i,a,c;let f=n.offsets.target;const _=n.instance.target.querySelector(".arrow");if(!_)return n;const D=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=D?"height":"width",A=D?"Top":"Left",L=A.toLowerCase(),B=D?"left":"top",$=D?"bottom":"right",ee=y0(_)[S],_e=n.placement.split(" ")[1];(null!==(e=n.offsets.host[$])&&void 0!==e?e:0)-ee<(null!==(t=f[L])&&void 0!==t?t:0)&&(f[L]-=(null!==(r=f[L])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[$])&&void 0!==i?i:0)-ee)),Number(n.offsets.host[L])+Number(ee)>(null!==(a=f[$])&&void 0!==a?a:0)&&(f[L]+=Number(n.offsets.host[L])+Number(ee)-Number(f[$])),f=Vp(f);const Ve=ad(n.instance.target),Oe=parseFloat(Ve[`margin${A}`])||0,ze=parseFloat(Ve[`border${A}Width`])||0;let Ge;if(_e){const ut=parseFloat(Ve.borderRadius)||0,sn=Number(Oe+ze+ut);Ge=L===_e?Number(n.offsets.host[L])+sn:Number(n.offsets.host[L])+Number(n.offsets.host[S]-sn)}else Ge=Number(n.offsets.host[L])+Number(n.offsets.host[S]/2-ee/2);let yt=Ge-(null!==(c=f[L])&&void 0!==c?c:0)-Oe-ze;return yt=Math.max(Math.min(f[S]-(ee+5),yt),0),n.offsets.arrow={[L]:Math.round(yt),[B]:""},n.instance.arrow=_,n}function AR(n){if(n.offsets.target=Vp(n.offsets.target),!kM(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),BC(n.instance.target,n.offsets.host,n.placement)),n;const e=o_(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=g0("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),_=[t,f];return _.forEach((D,S)=>{var A,L,B,$,ee,_e,Ve,Oe,ze,Ge,yt,ut,sn,On,Sn,en;if(t!==D||_.length===S+1)return;t=n.placement.split(" ")[0];const Pn="left"===t&&Math.floor(null!==(A=n.offsets.target.right)&&void 0!==A?A:0)>Math.floor(null!==(L=n.offsets.host.left)&&void 0!==L?L:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==($=n.offsets.host.right)&&void 0!==$?$:0)||"top"===t&&Math.floor(null!==(ee=n.offsets.target.bottom)&&void 0!==ee?ee:0)>Math.floor(null!==(_e=n.offsets.host.top)&&void 0!==_e?_e:0)||"bottom"===t&&Math.floor(null!==(Ve=n.offsets.target.top)&&void 0!==Ve?Ve:0)<Math.floor(null!==(Oe=n.offsets.host.bottom)&&void 0!==Oe?Oe:0),oo=Math.floor(null!==(ze=n.offsets.target.left)&&void 0!==ze?ze:0)<Math.floor(null!==(Ge=e.left)&&void 0!==Ge?Ge:0),Ju=Math.floor(null!==(yt=n.offsets.target.right)&&void 0!==yt?yt:0)>Math.floor(null!==(ut=e.right)&&void 0!==ut?ut:0),aw=Math.floor(null!==(sn=n.offsets.target.top)&&void 0!==sn?sn:0)<Math.floor(null!==(On=e.top)&&void 0!==On?On:0),lw=Math.floor(null!==(Sn=n.offsets.target.bottom)&&void 0!==Sn?Sn:0)>Math.floor(null!==(en=e.bottom)&&void 0!==en?en:0),rt="left"===t&&oo||"right"===t&&Ju||"top"===t&&aw||"bottom"===t&&lw,mt=-1!==["top","bottom"].indexOf(t),kt=mt&&"left"===r&&oo||mt&&"right"===r&&Ju||!mt&&"left"===r&&aw||!mt&&"right"===r&&lw;(Pn||rt||kt)&&((Pn||rt)&&(t=_[S+1]),kt&&(r=function MM(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),BC(n.instance.target,n.offsets.host,n.placement)))}),n}function b0(n){var e;if(!kM(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:a,[t]:c}=r;r.top="",r.left="",r[t]="";const f=o_(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=a,r[t]=c;const D={primary(S){var A,L,B,$;let ee=n.offsets.target[S];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)<(null!==(L=f[S])&&void 0!==L?L:0)&&(ee=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==($=f[S])&&void 0!==$?$:0)),{[S]:ee}},secondary(S){var A,L,B,$;const ee="right"===S,_e=ee?"left":"top";let Oe=n.offsets.target[_e];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)>(null!==(L=f[S])&&void 0!==L?L:0)&&(Oe=Math.min(null!==(B=n.offsets.target[_e])&&void 0!==B?B:0,(null!==($=f[S])&&void 0!==$?$:0)-n.offsets.target[ee?"width":"height"])),{[_e]:Oe}}};return["left","right","top","bottom"].forEach(S=>{const A=-1!==["left","top","start"].indexOf(S)?D.primary:D.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),A(S))}),n}function UC(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:a,target:c}=n.offsets,f=-1!==["bottom","top"].indexOf(r),_=f?"left":"top",D=f?"width":"height",S={start:{[_]:a[_]},end:{[_]:(null!==(e=a[_])&&void 0!==e?e:0)+a[D]-c[D]}};n.offsets.target=Object.assign(Object.assign({},c),{[_]:_===i?S.start[_]:S.end[_]})}return n}const kR=new class jC{position(e,t){return this.offset(e,t)}offset(e,t){return AM(t,e)}positionElements(e,t,r,i,a){const c=[AR,UC,b0,a_],_=function HC(n,e,t,r){if(!n||!e)return;const i=AM(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const a=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const f=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(c=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=g0(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:BC(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:a}}(t,e,p0[r],a);if(_)return c.reduce((D,S)=>S(D),_)}};function w0(n,e,t,r,i,a){const c=kR.positionElements(n,e,t,r,i);if(!c)return;const f=function VC(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);xM(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},a),c.instance.arrow&&xM(c.instance.arrow,c.offsets.arrow,a),function MR(n,e){const t=n.instance.target;let r=t.className;const i=sd().isBs5?od[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function IR(n){return sd().isBs5?v0(n,"end")?"ms-2":v0(n,"start")?"me-2":v0(n,"top")?"mb-2":v0(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,a)}let ld=(()=>{class n{constructor(t,r,i){this.update$$=new Fn.x,this.positionElements=new Map,this.isDisabled=!1,function Kr(n){return n===_o}(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,Mi.T)($u(window,"scroll",{passive:!0}),$u(window,"resize",{passive:!0}),gt(0,Qg),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(a=>{w0(Bp(a.target),Bp(a.element),a.attachment,a.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Bp(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Bp(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(u.FYo),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bp(n){return"string"==typeof n?document.querySelector(n):n instanceof u.SBq?n.nativeElement:null!=n?n:null}var D0=R(655),OM=R(4986),YC=R(3532);class l_{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class OR{constructor(e,t,r,i,a,c,f,_){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=a,this._ngZone=c,this._applicationRef=f,this._posService=_,this.onBeforeShow=new u.vpe,this.onShown=new u.vpe,this.onBeforeHide=new u.vpe,this.onHidden=new u.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=u.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof u.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,a,c,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const _=this._componentRef.location.nativeElement;return null===(t=_.parentNode)||void 0===t||t.removeChild(_),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(a=this._contentRef)||void 0===a?void 0:a.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function mM(n,e){const t=jh(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],a=[],c=()=>{a.forEach(f=>i.push(f())),a.length=0};return t.forEach(f=>{const _=f.open===f.close,D=_?e.toggle:e.show;if(!_&&f.close&&e.hide){const S=n.listen(r,f.close,e.hide);a.push(()=>S)}D&&i.push(n.listen(r,f.open,()=>D(c)))}),()=>{i.forEach(f=>f())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function gM(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function mC(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new l_([]);if(e instanceof u.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new l_([c.rootNodes],c)}const a=e.createEmbeddedView({});return this._applicationRef.attachView(a),new l_([a.rootNodes],a)}if("function"==typeof e){const a=this._componentFactoryResolver.resolveComponentFactory(e),c=u.zs3.create({providers:this._providers,parent:this._injector}),f=a.create(c);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new l_([[f.location.nativeElement]],f.hostView,f)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new l_([i])}}let u_=(()=>{class n{constructor(t,r,i,a,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=a,this._applicationRef=c}createLoader(t,r,i){return new OR(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(u.zs3),u.LFG(ld),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NM=["*"];let E0=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LM=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return sd()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=od[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(E0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("id",r.id),u.Tol("tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass),u.ekj("show",!r._bsVersions.isBs3)("bs3",r._bsVersions.isBs3))},ngContentSelectors:NM,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),RR=0,PM=(()=>{class n{constructor(t,r,i,a,c,f){this._elementRef=a,this._renderer=c,this._positionService=f,this.tooltipId=RR++,this.adaptivePosition=!0,this.tooltipChange=new u.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new u.vpe,this._tooltip=r.createLoader(this._elementRef,t,this._renderer).provide({provide:E0,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){ws("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){ws("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){ws("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return ws("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){ws("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return ws("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){ws('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return ws('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){ws("tooltipClass deprecated")}set _tooltipContext(t){ws("tooltipContext deprecated")}set _tooltipPopupDelay(t){ws("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return ws("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){ws("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(LM).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function C0(n=0,e,t=OM.P){let r=-1;return null!=e&&((0,YC.K)(e)?t=e:r=e),new vr.y(i=>{let a=function RM(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(this.delay).subscribe(()=>{t(),r()}),this.triggers&&jh(this.triggers).forEach(i=>{!i.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,i.close,()=>{var a;null===(a=this._delaySubscription)||void 0===a||a.unsubscribe(),r()}))})):t()}hide(){var t;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(t=this._tooltip.instance)||void 0===t?void 0:t.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u_),u.Y36(E0),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(ld))},n.\u0275dir=u.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,D0.gn)([CC(),(0,D0.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),T0=(()=>{class n{static forRoot(){return{ngModule:n,providers:[u_,ld]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Mr]]}),n})();function FM(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function Sa(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(i.minuteStep)}),u._UZ(2,"span",2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function VM(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0"),u.qZA())}function S0(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(i.secondsStep)}),u._UZ(2,"span",2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function BM(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function HM(n,e){1&n&&u._UZ(0,"td")}function I0(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0:\xa0"),u.qZA())}function $C(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4)(1,"input",5),u.NdJ("wheel",function(i){u.CHM(t);const a=u.oxw();return a.prevDef(i),a.changeMinutes(a.minuteStep*a.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(i.minuteStep,"key")})("keydown.ArrowDown",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(-i.minuteStep,"key")})("change",function(i){return u.CHM(t),u.oxw().updateMinutes(i.target)}),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("has-error",t.invalidMinutes),u.xp6(1),u.ekj("is-invalid",t.invalidMinutes),u.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),u.uIk("aria-label",t.labelMinutes)}}function GC(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0:\xa0"),u.qZA())}function UM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4)(1,"input",5),u.NdJ("wheel",function(i){u.CHM(t);const a=u.oxw();return a.prevDef(i),a.changeSeconds(a.secondsStep*a.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(i.secondsStep,"key")})("keydown.ArrowDown",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(-i.secondsStep,"key")})("change",function(i){return u.CHM(t),u.oxw().updateSeconds(i.target)}),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("has-error",t.invalidSeconds),u.xp6(1),u.ekj("is-invalid",t.invalidSeconds),u.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),u.uIk("aria-label",t.labelSeconds)}}function WC(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function zC(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"button",8),u.NdJ("click",function(){return u.CHM(t),u.oxw().toggleMeridian()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.isEditable||!t.canToggleMeridian),u.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),u.xp6(1),u.hij("",t.meridian," ")}}function jM(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function YM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(-i.minuteStep)}),u._UZ(2,"span",7),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function M0(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0"),u.qZA())}function Ia(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(-i.secondsStep)}),u._UZ(2,"span",7),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function $M(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function NR(n,e){1&n&&u._UZ(0,"td")}function A0(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||A0(new Date(n)))}function QC(n,e){return!(n.min&&e<n.min||n.max&&e>n.max)}function Gu(n){return void 0===n?NaN:"number"==typeof n?n:parseInt(n,10)}function JC(n,e=!1){const t=Gu(n);return isNaN(t)||t<0||t>(e?12:24)?NaN:t}function XC(n){const e=Gu(n);return isNaN(e)||e<0||e>60?NaN:e}function k0(n){const e=Gu(n);return isNaN(e)||e<0||e>60?NaN:e}function c_(n){return"string"==typeof n?new Date(n):n}function Ds(n,e){if(!n)return Ds(d_(new Date,0,0,0),e);if(!e)return n;let t=n.getHours(),r=n.getMinutes(),i=n.getSeconds();return e.hour&&(t+=Gu(e.hour)),e.minute&&(r+=Gu(e.minute)),e.seconds&&(i+=Gu(e.seconds)),d_(n,t,r,i)}function x0(n,e){let t=JC(e.hour);const r=XC(e.minute),i=k0(e.seconds)||0;return e.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(r)?n:d_(n,t,r,i):isNaN(t)||isNaN(r)?n:d_(new Date,t,r,i)}function d_(n,e,t,r){const i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e,t,r,n.getMilliseconds());return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),i}function h_(n){const e=n.toString();return e.length>1?e:`0${e}`}function O0(n,e){return!isNaN(JC(n,e))}function eE(n){return!isNaN(XC(n))}function tE(n){return!isNaN(k0(n))}function R0(n,e="0",t="0",r){return O0(n,r)&&eE(e)&&tE(t)}function f_(n,e){return!(n.readonlyInput||n.disabled||e&&("wheel"===e.source&&!n.mousewheel||"key"===e.source&&!n.arrowkeys))}function KM(n){const{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:a,mousewheel:c,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:L,max:B}=n;return{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:a,mousewheel:c,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:L,max:B}}let QM=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wu=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nE={value:void 0,config:new QM,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function Hp(n=nE,e){switch(e.type){case Wu.WRITE_VALUE:return Object.assign({},n,{value:e.payload});case Wu.CHANGE_HOURS:{if(!f_(n.config,e.payload)||!function qM(n,e){return!(!n.step||n.step>0&&!e.canIncrementHours||n.step<0&&!e.canDecrementHours)}(e.payload,n.controls))return n;const t=Ds(n.value,{hour:e.payload.step});return!n.config.max&&!n.config.min||QC(n.config,t)?Object.assign({},n,{value:t}):n}case Wu.CHANGE_MINUTES:{if(!f_(n.config,e.payload)||!function ZM(n,e){return!(!n.step||n.step>0&&!e.canIncrementMinutes||n.step<0&&!e.canDecrementMinutes)}(e.payload,n.controls))return n;const t=Ds(n.value,{minute:e.payload.step});return!n.config.max&&!n.config.min||QC(n.config,t)?Object.assign({},n,{value:t}):n}case Wu.CHANGE_SECONDS:{if(!f_(n.config,e.payload)||!function FR(n,e){return!(!n.step||n.step>0&&!e.canIncrementSeconds||n.step<0&&!e.canDecrementSeconds)}(e.payload,n.controls))return n;const t=Ds(n.value,{seconds:e.payload.step});return!n.config.max&&!n.config.min||QC(n.config,t)?Object.assign({},n,{value:t}):n}case Wu.SET_TIME_UNIT:{if(!f_(n.config))return n;const t=x0(n.value,e.payload);return Object.assign({},n,{value:t})}case Wu.UPDATE_CONTROLS:{const t=function VR(n,e){const{min:i,max:a,hourStep:c,minuteStep:f,secondsStep:_,showSeconds:D}=e,S={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return S;if(a){const A=Ds(n,{hour:c});if(S.canIncrementHours=a>A&&n.getHours()+c<24,!S.canIncrementHours){const L=Ds(n,{minute:f});S.canIncrementMinutes=D?a>L:a>=L}if(!S.canIncrementMinutes){const L=Ds(n,{seconds:_});S.canIncrementSeconds=a>=L}n.getHours()<12&&(S.canToggleMeridian=Ds(n,{hour:12})<a)}if(i){const A=Ds(n,{hour:-c});if(S.canDecrementHours=i<A,!S.canDecrementHours){const L=Ds(n,{minute:-f});S.canDecrementMinutes=D?i<L:i<=L}if(!S.canDecrementMinutes){const L=Ds(n,{seconds:-_});S.canDecrementSeconds=i<=L}n.getHours()>=12&&(S.canToggleMeridian=Ds(n,{hour:-12})>i)}return S}(n.value,e.payload),r={value:n.value,config:e.payload,controls:t};return n.config.showMeridian!==r.config.showMeridian&&n.value&&(r.value=new Date(n.value)),Object.assign({},n,r)}default:return n}}let p_=(()=>{class n extends Kg{constructor(){const t=new or({type:"[mini-ngrx] dispatcher init"});super(t,Hp,new Uh(nE,t,Hp))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const JM={provide:Ki,useExisting:(0,u.Gpc)(()=>m_),multi:!0};let m_=(()=>{class n{constructor(t,r,i,a){this._cd=r,this._store=i,this._timepickerActions=a,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new u.vpe,this.meridianChange=new u.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(c=>c.value).subscribe(c=>{this._renderTime(c),this.onChange(c),this._store.dispatch(this._timepickerActions.updateControls(KM(this)))}),i.select(c=>c.controls).subscribe(c=>{const f=R0(this.hours,this.minutes,this.seconds,this.isPM()),_=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||f;this.isValid.emit(_),Object.assign(this,c),r.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(KM(this)))}changeHours(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:r}))}changeMinutes(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:r}))}changeSeconds(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:r}))}updateHours(t){this.resetValidation(),this.hours=t.value;const r=O0(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const r=eE(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const r=tE(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function LR(n,e,t){const r=x0(new Date,n);return!(!r||e&&r>e||t&&r<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function PR(n,e,t){return 0===n.length||0===e.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=R0(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){A0(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(c_(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){var t;null===(t=this.timepickerSub)||void 0===t||t.unsubscribe()}_renderTime(t){if(!t||!A0(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const r=c_(t);if(!r)return;let a=r.getHours();this.showMeridian&&(this.meridian=this.meridians[a>=12?1:0],this.meridianChange.emit(this.meridian),a%=12,0===a&&(a=12)),this.hours=h_(a),this.minutes=h_(r.getMinutes()),this.seconds=h_(r.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(QM),u.Y36(u.sBO),u.Y36(p_),u.Y36(Wu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[u._Bn([JM,p_]),u.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,r){1&t&&(u.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),u.NdJ("click",function(){return r.changeHours(r.hourStep)}),u._UZ(5,"span",2),u.qZA()(),u.YNc(6,FM,2,0,"td",3),u.YNc(7,Sa,3,2,"td",3),u.YNc(8,VM,2,0,"td",3),u.YNc(9,S0,3,2,"td",3),u.YNc(10,BM,2,0,"td",3),u.YNc(11,HM,1,0,"td",3),u.qZA(),u.TgZ(12,"tr")(13,"td",4)(14,"input",5),u.NdJ("wheel",function(a){return r.prevDef(a),r.changeHours(r.hourStep*r.wheelSign(a),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(a){return r.updateHours(a.target)}),u.qZA()(),u.YNc(15,I0,2,0,"td",3),u.YNc(16,$C,2,9,"td",6),u.YNc(17,GC,2,0,"td",3),u.YNc(18,UM,2,9,"td",6),u.YNc(19,WC,2,0,"td",3),u.YNc(20,zC,3,4,"td",3),u.qZA(),u.TgZ(21,"tr",0)(22,"td")(23,"a",1),u.NdJ("click",function(){return r.changeHours(-r.hourStep)}),u._UZ(24,"span",7),u.qZA()(),u.YNc(25,jM,2,0,"td",3),u.YNc(26,YM,3,2,"td",3),u.YNc(27,M0,2,0,"td",3),u.YNc(28,Ia,3,2,"td",3),u.YNc(29,$M,2,0,"td",3),u.YNc(30,NR,1,0,"td",3),u.qZA()()()),2&t&&(u.xp6(2),u.Q6J("hidden",!r.showSpinners),u.xp6(2),u.ekj("disabled",!r.canIncrementHours||!r.isEditable),u.xp6(2),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(2),u.ekj("has-error",r.invalidHours),u.xp6(1),u.ekj("is-invalid",r.invalidHours),u.Q6J("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),u.uIk("aria-label",r.labelHours),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("hidden",!r.showSpinners),u.xp6(2),u.ekj("disabled",!r.canDecrementHours||!r.isEditable),u.xp6(2),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("ngIf",r.showMeridian))},directives:[hr],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),ud=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Wu,p_]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[p_],imports:[[Mr]]}),n})();function rE(n,e){1&n&&u._UZ(0,"bs-current-date",4)}function N0(n,e){1&n&&u._UZ(0,"bs-timepicker")}const L0=[[["bs-datepicker-navigation-view"]],"*"],XM=["bs-datepicker-navigation-view","*"];function P0(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._uU(1," \u200b "),u.TgZ(2,"button",2),u.NdJ("click",function(){return u.CHM(t),u.oxw().view("month")}),u.TgZ(3,"span"),u._uU(4),u.qZA()(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(4),u.Oqu(t.calendar.monthTitle)}}const F0=["bsDatepickerDayDecorator",""];function g_(n,e){1&n&&u._UZ(0,"th")}function BR(n,e){if(1&n&&(u.TgZ(0,"th",5),u._uU(1),u.qZA()),2&n){const t=e.index,r=u.oxw();u.xp6(1),u.hij("",r.calendar.weekdays[t]," ")}}function HR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().selectWeek(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2).index,r=u.oxw();u.xp6(1),u.Oqu(r.calendar.weekNumbers[t])}}function UR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",12),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().selectWeek(i)})("mouseenter",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().weekHoverHandler(i,!0)})("mouseleave",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().weekHoverHandler(i,!1)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2).index,r=u.oxw();u.xp6(1),u.Oqu(r.calendar.weekNumbers[t])}}function jR(n,e){if(1&n&&(u.TgZ(0,"td",8),u.YNc(1,HR,2,1,"span",9),u.YNc(2,UR,2,1,"span",10),u.qZA()),2&n){const t=u.oxw(2);u.ekj("active-week",t.isWeekHovered),u.xp6(1),u.Q6J("ngIf",t.isiOS),u.xp6(1),u.Q6J("ngIf",!t.isiOS)}}function iE(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",17),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).selectDay(i)})("mouseenter",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!0)})("mouseleave",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!1)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.s9C("tooltip",t.tooltipText),u.Q6J("day",t),u.xp6(1),u.hij("",t.label," 3")}}function eA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).selectDay(i)})("mouseenter",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!0)})("mouseleave",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!1)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.Q6J("day",t),u.xp6(1),u.hij("",t.label," 2")}}function tA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",19),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).selectDay(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.Q6J("day",t),u.xp6(1),u.hij("",t.label," 1")}}function nA(n,e){if(1&n&&(u.TgZ(0,"td",13),u.YNc(1,iE,2,3,"span",14),u.YNc(2,eA,2,2,"span",15),u.YNc(3,tA,2,2,"span",16),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),u.xp6(1),u.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),u.xp6(1),u.Q6J("ngIf",t.isiOS)}}function rA(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,jR,3,4,"td",6),u.YNc(2,nA,4,3,"td",7),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("ngIf",r.options&&r.options.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",t.days)}}function sE(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(2).viewMonth(a)})("mouseenter",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverMonth(a,!0)})("mouseleave",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverMonth(a,!1)}),u.TgZ(1,"span"),u._uU(2),u.qZA()()}if(2&n){const t=e.$implicit;u.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),u.xp6(1),u.ekj("selected",t.isSelected),u.xp6(1),u.Oqu(t.label)}}function oE(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,sE,3,7,"td",3),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngForOf",t)}}function aE(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(2).viewYear(a)})("mouseenter",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverYear(a,!0)})("mouseleave",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverYear(a,!1)}),u.TgZ(1,"span"),u._uU(2),u.qZA()()}if(2&n){const t=e.$implicit;u.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),u.xp6(1),u.ekj("selected",t.isSelected),u.xp6(1),u.Oqu(t.label)}}function iA(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,aE,3,7,"td",3),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngForOf",t)}}function sA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",2),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().selectFromRanges(a)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw();u.ekj("selected",t.value===r.selectedRange),u.xp6(1),u.hij(" ",t.label," ")}}const V0=["startTP"];function B0(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-days-calendar-view",11),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return u.CHM(t),u.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).daySelectHandler(i)}),u.ALo(1,"async"),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)("options",u.lcZ(1,4,r.options$))}}function YR(n,e){1&n&&u._UZ(0,"timepicker",null,15)}function lE(n,e){if(1&n&&(u.TgZ(0,"div",12),u._UZ(1,"timepicker",null,13),u.YNc(3,YR,2,0,"timepicker",14),u.qZA()),2&n){const t=u.oxw(3);u.xp6(3),u.Q6J("ngIf",t.isRangePicker)}}function H0(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",8),u.YNc(2,B0,2,6,"bs-days-calendar-view",9),u.ALo(3,"async"),u.qZA(),u.YNc(4,lE,4,1,"div",10),u.BQk()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,2,t.daysCalendar$)),u.xp6(2),u.Q6J("ngIf",t.withTimepicker)}}function oA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-month-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).monthSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function aA(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,oA,1,3,"bs-month-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.monthsCalendar))}}function $R(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-years-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).yearSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function GR(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,$R,1,3,"bs-years-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.yearsCalendar))}}function WR(n,e){1&n&&(u.TgZ(0,"div",18)(1,"button",19),u._uU(2,"Apply"),u.qZA(),u.TgZ(3,"button",20),u._uU(4,"Cancel"),u.qZA()())}function lA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).setToday()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),u.xp6(2),u.Oqu(t.todayBtnLbl)}}function uA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",25)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).clearDate()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),u.xp6(2),u.Oqu(t.clearBtnLbl)}}function zR(n,e){if(1&n&&(u.TgZ(0,"div",18),u.YNc(1,lA,3,7,"div",21),u.YNc(2,uA,3,7,"div",22),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.showTodayBtn),u.xp6(1),u.Q6J("ngIf",t.showClearBtn)}}function qR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"bs-custom-date-view",27),u.NdJ("onSelect",function(i){return u.CHM(t),u.oxw(2).setRangeOnCalendar(i)}),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function ZR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",1)(1,"div",2),u.NdJ("@datepickerAnimation.done",function(){return u.CHM(t),u.oxw().positionServiceEnable()}),u.TgZ(2,"div",3),u.ALo(3,"async"),u.YNc(4,H0,5,4,"ng-container",4),u.YNc(5,aA,3,3,"div",5),u.YNc(6,GR,3,3,"div",5),u.qZA(),u.YNc(7,WR,5,0,"div",6),u.YNc(8,zR,3,2,"div",6),u.qZA(),u.YNc(9,qR,2,3,"div",7),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngClass",t.containerClass),u.xp6(1),u.Q6J("@datepickerAnimation",t.animationState),u.xp6(1),u.Q6J("ngSwitch",u.lcZ(3,9,t.viewMode)),u.xp6(2),u.Q6J("ngSwitchCase","day"),u.xp6(1),u.Q6J("ngSwitchCase","month"),u.xp6(1),u.Q6J("ngSwitchCase","year"),u.xp6(1),u.Q6J("ngIf",!1),u.xp6(1),u.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),u.xp6(1),u.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const w=["endTP"];function C(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-days-calendar-view",11),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return u.CHM(t),u.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).daySelectHandler(i)}),u.ALo(1,"async"),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)("options",u.lcZ(1,4,r.options$))}}function M(n,e){1&n&&u._UZ(0,"timepicker",null,15)}function k(n,e){if(1&n&&(u.TgZ(0,"div",12),u._UZ(1,"timepicker",null,13),u.YNc(3,M,2,0,"timepicker",14),u.qZA()),2&n){const t=u.oxw(3);u.xp6(3),u.Q6J("ngIf",t.isRangePicker)}}function P(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",8),u.YNc(2,C,2,6,"bs-days-calendar-view",9),u.ALo(3,"async"),u.qZA(),u.YNc(4,k,4,1,"div",10),u.BQk()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,2,t.daysCalendar$)),u.xp6(2),u.Q6J("ngIf",t.withTimepicker)}}function H(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-month-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).monthSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function Z(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,H,1,3,"bs-month-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.monthsCalendar))}}function ye(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-years-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).yearSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function Le(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,ye,1,3,"bs-years-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.yearsCalendar))}}function je(n,e){1&n&&(u.TgZ(0,"div",18)(1,"button",19),u._uU(2,"Apply"),u.qZA(),u.TgZ(3,"button",20),u._uU(4,"Cancel"),u.qZA()())}function tt(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).setToday()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),u.xp6(2),u.Oqu(t.todayBtnLbl)}}function Te(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",25)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).clearDate()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),u.xp6(2),u.Oqu(t.clearBtnLbl)}}function _t(n,e){if(1&n&&(u.TgZ(0,"div",18),u.YNc(1,tt,3,7,"div",21),u.YNc(2,Te,3,7,"div",22),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.showTodayBtn),u.xp6(1),u.Q6J("ngIf",t.showClearBtn)}}function Xt(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"bs-custom-date-view",27),u.NdJ("onSelect",function(i){return u.CHM(t),u.oxw(2).setRangeOnCalendar(i)}),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function En(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",1)(1,"div",2),u.NdJ("@datepickerAnimation.done",function(){return u.CHM(t),u.oxw().positionServiceEnable()}),u.TgZ(2,"div",3),u.ALo(3,"async"),u.YNc(4,P,5,4,"ng-container",4),u.YNc(5,Z,3,3,"div",5),u.YNc(6,Le,3,3,"div",5),u.qZA(),u.YNc(7,je,5,0,"div",6),u.YNc(8,_t,3,2,"div",6),u.qZA(),u.YNc(9,Xt,2,3,"div",7),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngClass",t.containerClass),u.xp6(1),u.Q6J("@datepickerAnimation",t.animationState),u.xp6(1),u.Q6J("ngSwitch",u.lcZ(3,9,t.viewMode)),u.xp6(2),u.Q6J("ngSwitchCase","day"),u.xp6(1),u.Q6J("ngSwitchCase","month"),u.xp6(1),u.Q6J("ngSwitchCase","year"),u.xp6(1),u.Q6J("ngIf",!1),u.xp6(1),u.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),u.xp6(1),u.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let dd=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nN="220ms cubic-bezier(0, 0, 0.2, 1)",rN=function Np(n,e){return{type:7,name:n,definitions:e,options:{}}}("datepickerAnimation",[a0("animated-down",rd({height:"*",overflow:"hidden"})),l0("* => animated-down",[rd({height:0,overflow:"hidden"}),qg(nN)]),a0("animated-up",rd({height:"*",overflow:"hidden"})),l0("* => animated-up",[rd({height:"*",overflow:"hidden"}),qg(nN)]),l0("* => unanimated",qg("0s"))]);class iN{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new hs.w0,this.selectedTimeSub=new hs.w0}set minDate(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}set maxDate(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}set daysDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}set datesDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}set datesEnabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}set isDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}set dateCustomClasses(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}set dateTooltipTexts(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}let ri=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,r){return{type:n.SELECT_TIME,payload:{date:t,index:r}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),uE=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new or(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),K0=(()=>{class n{constructor(t,r){this._actions=t,this._localeService=r,this._subs=[]}init(t){return this._store=t,this}setValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.select(t))}setRangeValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.selectRange(t))}setMinDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.minDate(t)),this}setMaxDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){var r;const i=Object.assign({locale:this._localeService.currentLocale},t);return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(r=>r.selectedTime).pipe(An(r=>!!r)),t.daysCalendar$=this._store.select(r=>r.flaggedMonths).pipe(An(r=>!!r)),t.monthsCalendar=this._store.select(r=>r.flaggedMonthsCalendar).pipe(An(r=>!!r)),t.yearsCalendar=this._store.select(r=>r.yearsCalendarFlagged).pipe(An(r=>!!r)),t.viewMode=this._store.select(r=>{var i;return null===(i=r.view)||void 0===i?void 0:i.mode}),t.options$=ia([this._store.select(r=>r.showWeekNumbers),this._store.select(r=>r.displayMonths)]).pipe((0,Nt.U)(r=>({showWeekNumbers:r[0],displayMonths:r[1]}))),this):this}setEventHandlers(t){return t.setViewMode=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.changeViewMode(r))},t.navigateTo=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.navigateStep(r.step))},t.dayHoverHandler=r=>{var i;const a=r.cell;a.isOtherMonth||a.isDisabled||(null===(i=this._store)||void 0===i||i.dispatch(this._actions.hoverDay(r)),a.isHovered=r.isHovered)},t.monthHoverHandler=r=>{r.cell.isHovered=r.isHovered},t.yearHoverHandler=r=>{r.cell.isHovered=r.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.format())})),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedDate).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedRange).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(An(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(t=>{var r;return null===(r=this._store)||void 0===r?void 0:r.dispatch(this._actions.setLocale(t))})),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ri),u.LFG(uE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const GB={date:new Date,mode:"day"},sN=Object.assign(new dd,{locale:"en",view:GB,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function dA(n,e,t){const r=e&&el(kv(n,"month"),e,"day"),i=t&&vs(Ol(n,"month"),t,"day");return r||i||!1}function Q0(n,e,t){const r=e&&el(kv(n,"year"),e,"day"),i=t&&vs(Ol(n,"year"),t,"day");return r||i||!1}function hA(n,e,t){return!!(e&&Hn(e)&&e.length)&&(t&&"year"===t&&!e[0].getDate()?e.some(r=>Ln(n,r,"year")):e.some(r=>Ln(n,r,"date")))}function fA(n,e,t){return!!(e&&Hn(e)&&e.length)&&!e.some(r=>Ln(n,r,t||"date"))}function oN(n,e=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[e];return(null==t?void 0:t.years[0])&&t.years[0][0]&&t.years[0][0].date}function qB(n,e){return!n||!e||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=lN(t.value,e)),n)),n}function aN(n,e){return!n||!e||n instanceof Array&&!n.length||n instanceof Date?n:lN(n,e)}function lN(n,e){return n instanceof Array?n.map(r=>r&&(vs(r,e,"date")&&(r=e),r)):n}function uN(n){return n&&dN(n)}function cN(n){return(null==n?void 0:n.length)&&n.map(e=>e&&dN(e)),n}function dN(n){const e=new Date;return n.setMilliseconds(e.getMilliseconds()),n.setSeconds(e.getSeconds()),n.setMinutes(e.getMinutes()),n.setHours(e.getHours()),n}function pA(n,e){let t=n.initialDate;const r=new Array(n.height);for(let i=0;i<n.height;i++){r[i]=new Array(n.width);for(let a=0;a<n.width;a++)r[i][a]=e(t),t=$r(t,n.shift)}return r}function mA(n,e){const t=function Eh(n){return yg(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),r=function WB(n,e){if(function Sh(n,e){return n.getDay()===Number(e)}(n,e.firstDayOfWeek))return n;const r=function zB(n,e){const t=Number(e);if(isNaN(t))return 0;if(0===t)return n;const r=n-t%7;return r<0?r+7:r}(zs(n),e.firstDayOfWeek);return $r(n,{day:-r})}(t,e);return{daysMatrix:pA({width:e.width||0,height:e.height||0,initialDate:r,shift:{day:1}},c=>c),month:t}}function KB(n,e,t){return n.map(r=>r[0]?Zs(r[0],e,t):"")}function QB(n){const e=Rr(n),t=e.weekdaysShort(),r=e.firstDayOfWeek();return[...t.slice(r),...t.slice(0,r)]}function hN(n,e){return!e||n>=e}const nH={month:1};function fN(n,e){return{months:pA({width:3,height:4,initialDate:Ol(n,"year"),shift:nH},a=>({date:a,label:Zs(a,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:Zs(n,e.yearTitle,e.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const pN=-1*(Math.floor(8)-1),iH={year:1};function mN(n,e,t){const r=function sH(n,e){return e&&n.getFullYear()>=e.getFullYear()&&n.getFullYear()<e.getFullYear()+16?e:$r(n,{year:pN})}(n,t),a=pA({width:4,height:4,initialDate:r,shift:iH},f=>({date:f,label:Zs(f,e.yearLabel,e.locale)})),c=function oH(n,e){return`${Zs(n[0][0].date,e.yearTitle,e.locale)} - ${Zs(n[3][3].date,e.yearTitle,e.locale)}`}(a,e);return{years:a,monthTitle:"",yearTitle:c,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function yA(n,e){!n||!isNaN(n.getTime())||(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds()),n.setMilliseconds(e.getMilliseconds()))}function gN(n=sN,e){var t;switch(e.type){case ri.CALCULATE:return function lH(n){if(!n.view)return n;let e;e=n.displayOneMonthRange&&_N(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=$r(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=Rr(n.locale).firstDayOfWeek();let r=new Array(e);for(let i=0;i<e;i++)r[i]=mA(t,n.monthViewOptions),t=$r(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const i=mA(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===i.month.getMonth()&&(r=n.flaggedMonths.map(a=>n.monthViewOptions?mA(a.month,n.monthViewOptions):null).filter(a=>null!==a))}return Object.assign({},n,{monthsModel:r})}if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=fN(t,J0(n)),t=$r(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=mN(t,J0(n),"year"===n.minMode?oN(n,i):void 0),t=$r(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case ri.FORMAT:return function uH(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const r=n.monthsModel.map((i,a)=>function ZB(n,e,t){return{month:n.month,monthTitle:Zs(n.month,e.monthTitle,e.locale),yearTitle:Zs(n.month,e.yearTitle,e.locale),weekNumbers:KB(n.daysMatrix,e.weekNumbers,e.locale),weekdays:QB(e.locale),weeks:n.daysMatrix.map((r,i)=>({days:r.map((a,c)=>({date:a,label:Zs(a,e.dayLabel,e.locale),monthIndex:t,weekIndex:i,dayIndex:c}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(i,J0(n),a));return Object.assign({},n,{formattedMonths:r})}const e=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=fN(t,J0(n)),t=$r(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=mN(t,J0(n)),t=$r(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case ri.FLAG:return function cH(n){if(!n.view)return n;const e=_N(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((r,i)=>function JB(n,e){return n.weeks.forEach(t=>{t.days.forEach((r,i)=>{const a=!ya(r.date,n.month),c=!a&&xl(r.date,e.hoveredDate),f=!a&&e.selectedRange&&xl(r.date,e.selectedRange[0]),_=!a&&e.selectedRange&&xl(r.date,e.selectedRange[1]),D=!a&&xl(r.date,e.selectedDate)||f||_,S=!a&&e.selectedRange&&function XB(n,e,t){return!!(n&&e&&e[0])&&(e[1]?n>e[0]&&n<=e[1]:!!t&&n>e[0]&&n<=t)}(r.date,e.selectedRange,e.hoveredDate),A=e.isDisabled||el(r.date,e.minDate,"day")||vs(r.date,e.maxDate,"day")||function Pg(n,e){return!(void 0===e||!e||!e.length)&&e.some(t=>t===n.getDay())}(r.date,e.daysDisabled)||hA(r.date,e.datesDisabled)||fA(r.date,e.datesEnabled),L=new Date,B=!a&&xl(r.date,L),$=e.dateCustomClasses&&e.dateCustomClasses.map(Ve=>xl(r.date,Ve.date)?Ve.classes:[]).reduce((Ve,Oe)=>Ve.concat(Oe),[]).join(" ")||"",ee=e.dateTooltipTexts&&e.dateTooltipTexts.map(Ve=>xl(r.date,Ve.date)?Ve.tooltipText:"").reduce((Ve,Oe)=>(Ve.push(Oe),Ve),[]).join(" ")||"",_e=Object.assign({},r,{isOtherMonth:a,isHovered:c,isSelected:D,isSelectionStart:f,isSelectionEnd:_,isInRange:S,isDisabled:A,isToday:B,customClasses:$,tooltipText:ee});(r.isOtherMonth!==_e.isOtherMonth||r.isHovered!==_e.isHovered||r.isSelected!==_e.isSelected||r.isSelectionStart!==_e.isSelectionStart||r.isSelectionEnd!==_e.isSelectionEnd||r.isDisabled!==_e.isDisabled||r.isInRange!==_e.isInRange||r.customClasses!==_e.customClasses||r.tooltipText!==_e.tooltipText)&&(t.days[i]=_e)})}),n.hideLeftArrow=e.isDisabled||!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=e.isDisabled||(!!e.monthIndex||0===e.monthIndex)&&!!e.displayMonths&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=dA($r(n.month,{month:-1}),e.minDate,e.maxDate),n.disableRightArrow=dA($r(n.month,{month:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:e,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:i}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((r,i)=>function rH(n,e){return n.months.forEach((t,r)=>{t.forEach((i,a)=>{let c;const f=ya(i.date,e.hoveredMonth),_=e.isDisabled||hA(i.date,e.datesDisabled)||fA(i.date,e.datesEnabled,"month")||dA(i.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(c=ya(i.date,e.selectedRange[0]),c||(c=ya(i.date,e.selectedRange[1]))):c=ya(i.date,e.selectedDate);const D=Object.assign(i,{isHovered:f,isDisabled:_,isSelected:c});(i.isHovered!==D.isHovered||i.isDisabled!==D.isDisabled||i.isSelected!==D.isSelected)&&(n.months[r][a]=D)})}),n.hideLeftArrow=!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=(!!e.monthIndex||0===e.monthIndex)&&(!!e.displayMonths||0===e.displayMonths)&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=Q0($r(n.months[0][0].date,{year:-1}),e.minDate,e.maxDate),n.disableRightArrow=Q0($r(n.months[0][0].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,monthIndex:i}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((r,i)=>function aH(n,e){n.years.forEach((i,a)=>{i.forEach((c,f)=>{let _;const D=va(c.date,e.hoveredYear),S=e.isDisabled||hA(c.date,e.datesDisabled,"year")||fA(c.date,e.datesEnabled,"year")||Q0(c.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(_=va(c.date,e.selectedRange[0]),_||(_=va(c.date,e.selectedRange[1]))):_=va(c.date,e.selectedDate);const A=Object.assign(c,{isHovered:D,isDisabled:S,isSelected:_});(c.isHovered!==A.isHovered||c.isDisabled!==A.isDisabled||c.isSelected!==A.isSelected)&&(n.years[a][f]=A)})}),n.hideLeftArrow=!!e.yearIndex&&e.yearIndex>0&&e.yearIndex!==e.displayMonths,n.hideRightArrow=!!e.yearIndex&&!!e.displayMonths&&e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,n.disableLeftArrow=Q0($r(n.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const t=n.years.length-1;return n.disableRightArrow=Q0($r(n.years[t][n.years[t].length-1].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,yearIndex:i}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case ri.NAVIGATE_OFFSET:return function dH(n,e){if(!n.view)return n;const t=function hH(n,e){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=oN(n,0);if(t){const r=$r(t,{year:-pN});return $r(r,e.payload)}}return $r(Ol(n.view.date,"month"),e.payload)}}(n,e);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}(n,e);case ri.NAVIGATE_TO:{const r=e.payload;if(!n.view||!r.unit)return n;const i=function WS(n,e){return yg(Ah(n.getFullYear(),e.year),Ah(n.getMonth(),e.month),1,Ah(n.getHours(),e.hour),Ah(n.getMinutes(),e.minute),Ah(n.getSeconds(),e.seconds),Ah(n.getMilliseconds(),e.milliseconds))}(n.view.date,r.unit);let a,c;return hN(r.viewMode,n.minMode)?(c=r.viewMode,a={view:{date:i,mode:c}}):(c=n.view.mode,a={selectedDate:i,view:{date:i,mode:c}}),Object.assign({},n,a)}case ri.CHANGE_VIEWMODE:return hN(e.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:e.payload}}):n;case ri.HOVER:return Object.assign({},n,{hoveredDate:e.payload});case ri.SELECT:{if(!n.view)return n;const r={selectedDate:e.payload,view:n.view};if(Array.isArray(n.selectedTime)){const f=n.selectedTime[0];r.selectedDate&&f&&yA(r.selectedDate,f)}const i=n.view.mode,c=vA(e.payload||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:c},Object.assign({},n,r)}case ri.SELECT_TIME:{const{date:r,index:i}=e.payload,a=n.selectedTime?[...n.selectedTime]:[];return a[i]=r,Object.assign({},n,{selectedTime:a})}case ri.SET_OPTIONS:{if(!n.view)return n;const r=e.payload,i=r.minMode?r.minMode:n.view.mode,c=vA(Lu(r.value)&&r.value||Hn(r.value)&&Lu(r.value[0])&&r.value[0]||n.view.date,r.minDate,r.maxDate);return r.view={mode:i,date:c},r.value&&(Hn(r.value)&&(r.selectedRange=r.value,r.selectedTime=r.value.map(f=>f)),r.value instanceof Date&&(r.selectedDate=r.value,r.selectedTime=[r.value])),Object.assign({},n,r)}case ri.SELECT_RANGE:{if(!n.view)return n;const r={selectedRange:e.payload,view:n.view};null===(t=r.selectedRange)||void 0===t||t.forEach((f,_)=>{if(Array.isArray(n.selectedTime)){const D=n.selectedTime[_];D&&yA(f,D)}});const i=n.view.mode,c=vA(e.payload&&e.payload[0]||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:c},Object.assign({},n,r)}case ri.SET_MIN_DATE:return Object.assign({},n,{minDate:e.payload});case ri.SET_MAX_DATE:return Object.assign({},n,{maxDate:e.payload});case ri.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:e.payload});case ri.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:e.payload});case ri.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:e.payload});default:return n}}function J0(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function vA(n,e,t){const r=Array.isArray(n)?n[0]:n;return e&&vs(e,r,"day")?e:t&&el(t,r,"day")?t:r}function _N(n,e,t){return!(!t||!Ln(t,n,"day"))||e&&t&&e.getMonth()===t.getMonth()}let X0=(()=>{class n extends Kg{constructor(){const t=new or({type:"[datepicker] dispatcher init"});super(t,gN,new Uh(sN,t,gN))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();var $h=(()=>{return(n=$h||($h={}))[n.UP=0]="UP",n[n.DOWN=1]="DOWN",$h;var n})();let fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"span"),u._uU(2),u.qZA()()),2&t&&(u.xp6(2),u.Oqu(r.title))},encapsulation:2}),n})(),pH=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u._uU(3,"-"),u.qZA(),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._uU(6,"+"),u.qZA()(),u.TgZ(7,"div",1)(8,"button",2),u._uU(9,"-"),u.qZA(),u._UZ(10,"input",3),u.TgZ(11,"button",4),u._uU(12,"+"),u.qZA()(),u.TgZ(13,"button",5),u._uU(14),u._UZ(15,"img",6),u.qZA()()),2&t&&(u.xp6(4),u.Q6J("value",r.hours),u.xp6(6),u.Q6J("value",r.minutes),u.xp6(4),u.hij("",r.ampm," "))},encapsulation:2}),n})(),bA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:XM,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,r){1&t&&(u.F$t(L0),u.YNc(0,rE,1,0,"bs-current-date",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u.TgZ(3,"div",2),u.Hsn(4,1),u.qZA(),u.YNc(5,N0,1,0,"bs-timepicker",3)),2&t&&(u.Q6J("ngIf",!1),u.xp6(5),u.Q6J("ngIf",!1))},directives:[fH,pH,hr],encapsulation:2}),n})(),wA=(()=>{class n{constructor(){this.onNavigate=new u.vpe,this.onViewMode=new u.vpe}navTo(t){this.onNavigate.emit(t?$h.DOWN:$h.UP)}view(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,r){1&t&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return r.navTo(!0)}),u.TgZ(1,"span"),u._uU(2,"\u2039"),u.qZA()(),u.YNc(3,P0,5,1,"ng-container",1),u._uU(4," \u200b "),u.TgZ(5,"button",2),u.NdJ("click",function(){return r.view("year")}),u.TgZ(6,"span"),u._uU(7),u.qZA()(),u._uU(8," \u200b "),u.TgZ(9,"button",3),u.NdJ("click",function(){return r.navTo(!1)}),u.TgZ(10,"span"),u._uU(11,"\u203a"),u.qZA()()),2&t&&(u.Udp("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),u.Q6J("disabled",r.calendar.disableLeftArrow),u.xp6(3),u.Q6J("ngIf",r.calendar&&r.calendar.monthTitle),u.xp6(4),u.Oqu(r.calendar.yearTitle),u.xp6(2),u.Udp("visibility",r.calendar.hideRightArrow?"hidden":"visible"),u.Q6J("disabled",r.calendar.disableRightArrow))},directives:[hr],encapsulation:2,changeDetection:0}),n})(),mH=(()=>{class n{constructor(t,r,i){this._config=t,this._elRef=r,this._renderer=i,this.day={date:new Date,label:""}}ngOnInit(){var t,r,i;(null===(t=this.day)||void 0===t?void 0:t.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(r=this.day)||void 0===r?void 0:r.customClasses)&&(null===(i=this.day)||void 0===i||i.customClasses.split(" ").filter(a=>a).forEach(a=>{this._renderer.addClass(this._elRef.nativeElement,a)}))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dd),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:F0,decls:1,vars:1,template:function(t,r){1&t&&u._uU(0),2&t&&u.Oqu(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0}),n})(),yN=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new u.vpe,this.onViewMode=new u.vpe,this.onSelect=new u.vpe,this.onHover=new u.vpe,this.onHoverWeek=new u.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:$h.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const r=t.days.find(i=>(this._config.selectFromOtherMonth||!i.isOtherMonth)&&!i.isDisabled);if(this.onSelect.emit(r),this._config.selectWeekDateRange){const a=t.days.slice(0).reverse().find(c=>(this._config.selectFromOtherMonth||!c.isOtherMonth)&&!c.isDisabled);this.onSelect.emit(a)}}weekHoverHandler(t,r){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(a=>(this._config.selectFromOtherMonth||!a.isOtherMonth)&&!a.isDisabled)&&(t.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(t))}hoverDay(t,r){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(i=>{xl(i.date,t.date)&&(t.tooltipText=i.tooltipText)})),this.onHover.emit({cell:t,isHovered:r})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dd))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,r){1&t&&(u.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),u.NdJ("onNavigate",function(a){return r.navigateTo(a)})("onViewMode",function(a){return r.changeViewMode(a)}),u.qZA(),u.TgZ(2,"table",1)(3,"thead")(4,"tr"),u.YNc(5,g_,1,0,"th",2),u.YNc(6,BR,2,1,"th",3),u.qZA()(),u.TgZ(7,"tbody"),u.YNc(8,rA,3,2,"tr",4),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("calendar",r.calendar),u.xp6(4),u.Q6J("ngIf",r.options&&r.options.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",r.calendar.weekdays),u.xp6(2),u.Q6J("ngForOf",r.calendar.weeks))},directives:[bA,wA,mH,hr,Rn,PM],encapsulation:2}),n})(),vN=(()=>{class n{constructor(){this.onNavigate=new u.vpe,this.onViewMode=new u.vpe,this.onSelect=new u.vpe,this.onHover=new u.vpe}navigateTo(t){this.onNavigate.emit({step:{year:$h.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(u.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),u.NdJ("onNavigate",function(a){return r.navigateTo(a)})("onViewMode",function(a){return r.changeViewMode(a)}),u.qZA(),u.TgZ(2,"table",1)(3,"tbody"),u.YNc(4,oE,2,1,"tr",2),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("calendar",r.calendar),u.xp6(3),u.Q6J("ngForOf",null==r.calendar?null:r.calendar.months))},directives:[bA,wA,Rn],encapsulation:2}),n})(),bN=(()=>{class n{constructor(){this.onNavigate=new u.vpe,this.onViewMode=new u.vpe,this.onSelect=new u.vpe,this.onHover=new u.vpe}navigateTo(t){this.onNavigate.emit({step:{year:16*($h.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(u.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),u.NdJ("onNavigate",function(a){return r.navigateTo(a)})("onViewMode",function(a){return r.changeViewMode(a)}),u.qZA(),u.TgZ(2,"table",1)(3,"tbody"),u.YNc(4,iA,2,1,"tr",2),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("calendar",r.calendar),u.xp6(3),u.Q6J("ngForOf",null==r.calendar?null:r.calendar.years))},directives:[bA,wA,Rn],encapsulation:2}),n})(),wN=(()=>{class n{constructor(){this.onSelect=new u.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,sA,2,3,"button",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.ranges))},directives:[Rn],encapsulation:2,changeDetection:0}),n})(),gH=(()=>{class n extends iN{constructor(t,r,i,a,c,f,_){super(),this._config=r,this._store=i,this._element=a,this._actions=c,this._positionService=_,this.valueChange=new u.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=f,t.setStyle(a.nativeElement,"display","block"),t.setStyle(a.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Ao.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>this.valueChange.emit(i))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){var t,r;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(i=>{var a;Array.isArray(i)&&i.length>=1&&(null===(a=this.startTimepicker)||void 0===a||a.writeValue(i[0]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(i=>{this.timeSelectHandler(i,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Zt(t.date),year:kn(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:kn(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(dd),u.Y36(X0),u.Y36(u.SBq),u.Y36(ri),u.Y36(K0),u.Y36(ld))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(V0,5),2&t){let i;u.iGM(i=u.CRH())&&(r.startTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r._stopPropagation(a)})},features:[u._Bn([X0,K0]),u.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(u.YNc(0,ZR,10,11,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.viewMode))},directives:[yN,m_,vN,bN,wN,hr,ks,ci,Zr,Rn],pipes:[Na],encapsulation:2,data:{animation:[rN]}}),n})(),DN=(()=>{class n{constructor(t,r,i,a,c){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Fn.x,this.isDisabled=!1,this.bsValueChange=new u.vpe,this._subs=[],this._dateInputFormat$=new Fn.x,Object.assign(this,this._config),this._datepicker=c.createLoader(r,a,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new or(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue||!t||this._config.withTimepicker||yA(t,new Date),t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=uN(t)),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,a,c;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(a=t.bsConfig.previousValue)||void 0===a?void 0:a.initCurrentTime)&&this._bsValue&&(this._bsValue=uN(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&((null===(c=this._elementRef)||void 0===c?void 0:c.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe(An(t=>t!==this.isOpen),eD(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:dd,useValue:this._config}).attach(gH).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:aN(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dd),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.s_b),u.Y36(u_))},n.\u0275dir=u.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[u.TTD]}),n})(),_H=(()=>{class n extends iN{constructor(t,r,i,a,c,f,_){super(),this._config=r,this._store=i,this._element=a,this._actions=c,this._positionService=_,this.valueChange=new u.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=f,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(a.nativeElement,"display","block"),t.setStyle(a.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setRangeValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Ao.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{this.valueChange.emit(i),this.chosenRange=i||[]}))}ngAfterViewInit(){var t,r,i;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(a=>{var c,f;Array.isArray(a)&&a.length>=2&&(null===(c=this.startTimepicker)||void 0===c||c.writeValue(a[0]),null===(f=this.endTimepicker)||void 0===f||f.writeValue(a[1]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(a=>{this.timeSelectHandler(a,0)}),null===(i=this.endTimepicker)||void 0===i||i.registerOnChange(a=>{this.timeSelectHandler(a,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Zt(t.date),year:kn(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:kn(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){var r;let i=new Date(t);if(this._config.maxDate){const a=this._config.maxDate.getTime(),c=t.getTime()+864e5*(this._config.maxDateRange||0);i=c>a?new Date(this._config.maxDate):new Date(c)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));null===(r=this._effects)||void 0===r||r.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(dd),u.Y36(X0),u.Y36(u.SBq),u.Y36(ri),u.Y36(K0),u.Y36(ld))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,r){if(1&t&&(u.Gf(V0,5),u.Gf(w,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.startTimepicker=i.first),u.iGM(i=u.CRH())&&(r.endTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r._stopPropagation(a)})},features:[u._Bn([X0,K0]),u.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(u.YNc(0,En,10,11,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.viewMode))},directives:[yN,m_,vN,bN,wN,hr,ks,ci,Zr,Rn],pipes:[Na],encapsulation:2,data:{animation:[rN]}}),n})();const yH={provide:Ki,useExisting:(0,u.Gpc)(()=>DA),multi:!0},vH={provide:ei,useExisting:(0,u.Gpc)(()=>DA),multi:!0};let DA=(()=>{class n{constructor(t,r,i,a,c){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=a,this.changeDetection=c,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new hs.w0}ngOnInit(){const t=r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(mg()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const r=t?Zs(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const r=t.value;if(null==r||""===r)return null;if(up(r)){if(!Lu(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&el(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&vs(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Rr(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);this._value=Mp(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=GD(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(DN,1),u.Y36(uE),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a)})("keyup.esc",function(){return r.hide()})("keydown",function(a){return r.onKeydownEvent(a)})("blur",function(){return r.onBlur()})},features:[u._Bn([yH,vH])]}),n})(),bH=(()=>{class n extends dd{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wH=(()=>{class n{constructor(t,r,i,a,c){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Fn.x,this.isDisabled=!1,this.bsValueChange=new u.vpe,this._subs=[],this._rangeInputFormat$=new Fn.x,this._datepicker=c.createLoader(r,a,i),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new or(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue!==t&&(t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=cN(t)),this._bsValue=t,this.bsValueChange.emit(t))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Fn.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,a,c;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(a=t.bsConfig.previousValue)||void 0===a?void 0:a.initCurrentTime)&&this._bsValue&&(this._bsValue=cN(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&((null===(c=this._elementRef)||void 0===c?void 0:c.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(An(t=>t!==this.isOpen),eD(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:dd,useValue:this._config}).attach(_H).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(An(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()}))}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:aN(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:qB(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bH),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.s_b),u.Y36(u_))},n.\u0275dir=u.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[u.TTD]}),n})();const DH={provide:Ki,useExisting:(0,u.Gpc)(()=>CN),multi:!0},CH={provide:ei,useExisting:(0,u.Gpc)(()=>CN),multi:!0};let CN=(()=>{class n{constructor(t,r,i,a,c){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=a,this.changeDetection=c,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new hs.w0}ngOnInit(){this._picker._bsValue&&(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(mg()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let r="";if(t){const i=t[0]?Zs(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",a=t[1]?Zs(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=i&&a?i+this._picker._config.rangeSeparator+a:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let r=t.value;const i=[];if(null==r||!Hn(r))return null;r=r.slice().sort((f,_)=>f.getTime()-_.getTime());const a=Lu(r[0]),c=Lu(r[1]);return a?c?(this._picker&&this._picker.minDate&&el(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,i.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&vs(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,i.push({bsDate:{maxDate:this._picker.maxDate}})),i.length>0?(this.writeValue(r),i):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Rr(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);let a=[];if("string"==typeof t){const c=this._picker._config.rangeSeparator.trim();a=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(c.length>0?c:this._picker._config.rangeSeparator).map(f=>f.trim())}Array.isArray(t)&&(a=t),this._value=a.map(c=>this._picker._config.useUtc?GD(Mp(c,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):Mp(c,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(c=>isNaN(c.valueOf())?void 0:c)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wH,1),u.Y36(uE),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a)})("keyup.esc",function(){return r.hide()})("keydown",function(a){return r.onKeydownEvent(a)})("blur",function(){return r.onBlur()})},features:[u._Bn([DH,CH])]}),n})(),EH=(()=>{class n{static forRoot(){return{ngModule:n,providers:[u_,ld,X0,ri,K0,uE,Wu]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Mr,T0,ud]]}),n})(),TH=(()=>{class n{constructor(t){this._addsEventDto=t,this.createEvent=new np({imageUrl:new $c("",dh.required),description:new $c("",dh.required),title:new $c("",dh.required),date:new $c("",dh.required)})}onCreateEventSubmited(t){var r,i,a,c;t.invalid||(this._addsEventDto.add({imageUrl:null===(r=t.get("imageUrl"))||void 0===r?void 0:r.value,description:null===(i=t.get("description"))||void 0===i?void 0:i.value,title:null===(a=t.get("title"))||void 0===a?void 0:a.value,date:null===(c=t.get("date"))||void 0===c?void 0:c.value}),this.createEvent.reset())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-create-event"]],decls:21,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],[1,"form-control","d-flex","bg-white","h-100","w-100","justify-content-center","align-content-center"],["type","file","formControlName","imageUrl","placeholder","click here to upload",1,"text-dark","pt-4"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title","placeholder","Add event title",1,"form-control"],["type","text","formControlName","date","placeholder","Add event date","bsDatepicker","",1,"form-control"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onCreateEventSubmited(r.createEvent)}),u.TgZ(1,"div",1)(2,"div",2)(3,"p"),u._uU(4,"Add event image"),u.qZA(),u.TgZ(5,"div",3),u._UZ(6,"input",4),u.qZA()(),u.TgZ(7,"div",2)(8,"p"),u._uU(9,"Event Description"),u.qZA(),u._UZ(10,"textarea",5),u.qZA(),u.TgZ(11,"div",2)(12,"p"),u._uU(13,"Event Title"),u.qZA(),u._UZ(14,"input",6),u.qZA(),u.TgZ(15,"div",2)(16,"p"),u._uU(17,"Event Date"),u.qZA(),u._UZ(18,"input",7),u.qZA()(),u.TgZ(19,"div",8),u._UZ(20,"input",9),u.qZA()()),2&t&&(u.Q6J("formGroup",r.createEvent),u.xp6(20),u.Q6J("disabled",!r.createEvent.valid))},directives:[sp,zy,Al,ch,Xf,ap,DA,DN],encapsulation:2,changeDetection:0}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-event-form-page"]],decls:5,vars:0,consts:[[1,"container","d-flex","align-items-center","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],[1,"container-flex"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Event - Create your event"),u.qZA()(),u.TgZ(3,"div",2),u._UZ(4,"lib-create-event"),u.qZA())},directives:[TH],encapsulation:2,changeDetection:0}),n})(),IH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ws,EH.forRoot()]]}),n})();var es=R(6351);function CA(){return(0,Ur.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var nt,Hl=R(2011),MH=(R(4087),R(3942)),be=R(5861),Up=R(9681),dE=R(4859),Gh=R(1877),nn=R(2090),AH="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hd={},EA=EA||{},Ht=AH||self;function hE(){}function TA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var SA="closure_uid_"+(1e9*Math.random()>>>0),xH=0;function OH(n,e,t){return n.call.apply(n.bind,arguments)}function RH(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ts(n,e,t){return(ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OH:RH).apply(null,arguments)}function fE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ns(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Wh(){this.s=this.s,this.o=this.o}var LH={};Wh.prototype.s=!1,Wh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function kH(n){return Object.prototype.hasOwnProperty.call(n,SA)&&n[SA]||(n[SA]=++xH)}(this);delete LH[n]}},Wh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},TN=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function SN(n){return Array.prototype.concat.apply([],arguments)}function IA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function pE(n){return/^[\s\xa0]*$/.test(n)}var to,IN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function eo(n,e){return-1!=n.indexOf(e)}function MA(n,e){return n<e?-1:n>e?1:0}e:{var MN=Ht.navigator;if(MN){var AN=MN.userAgent;if(AN){to=AN;break e}}to=""}function AA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kN(n){const e={};for(const t in n)e[t]=n[t];return e}var xN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ON(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<xN.length;a++)t=xN[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function kA(n){return kA[" "](n),n}kA[" "]=hE;var mE,n,VH=eo(to,"Opera"),__=eo(to,"Trident")||eo(to,"MSIE"),RN=eo(to,"Edge"),xA=RN||__,NN=eo(to,"Gecko")&&!(eo(to.toLowerCase(),"webkit")&&!eo(to,"Edge"))&&!(eo(to,"Trident")||eo(to,"MSIE"))&&!eo(to,"Edge"),BH=eo(to.toLowerCase(),"webkit")&&!eo(to,"Edge");function LN(){var n=Ht.document;return n?n.documentMode:void 0}e:{var OA="",RA=(n=to,NN?/rv:([^\);]+)(\)|;)/.exec(n):RN?/Edge\/([\d\.]+)/.exec(n):__?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BH?/WebKit\/(\S+)/.exec(n):VH?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RA&&(OA=RA?RA[1]:""),__){var NA=LN();if(null!=NA&&NA>parseFloat(OA)){mE=String(NA);break e}}mE=OA}var HH={};var jH=Ht.document&&__&&(LN()||parseInt(mE,10))||void 0,YH=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",hE,e),Ht.removeEventListener("test",hE,e)}catch(t){}return n}();function Cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function tb(n,e){if(Cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NN){e:{try{kA(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$H[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tb.Z.h.call(this)}}Cs.prototype.h=function(){this.defaultPrevented=!0},ns(tb,Cs);var $H={2:"touch",3:"pen",4:"mouse"};tb.prototype.h=function(){tb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nb="closure_listenable_"+(1e6*Math.random()|0),GH=0;function WH(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++GH,this.ca=this.fa=!1}function gE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _E(n){this.src=n,this.g={},this.h=0}function PA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=EN(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(gE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function FA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}_E.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=FA(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new WH(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var VA="closure_lm_"+(1e6*Math.random()|0),BA={};function FN(n,e,t,r,i){if(r&&r.once)return BN(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)FN(n,e[a],t,r,i);return null}return t=YA(t),n&&n[nb]?n.N(e,t,eb(r)?!!r.capture:!!r,i):VN(n,e,t,!1,r,i)}function VN(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=eb(i)?!!i.capture:!!i,f=UA(n);if(f||(n[VA]=f=new _E(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function zH(){var e=qH;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)YH||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(UN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BN(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)BN(n,e[a],t,r,i);return null}return t=YA(t),n&&n[nb]?n.O(e,t,eb(r)?!!r.capture:!!r,i):VN(n,e,t,!0,r,i)}function HN(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)HN(n,e[a],t,r,i);else r=eb(r)?!!r.capture:!!r,t=YA(t),n&&n[nb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=FA(a=n.g[e],t,r,i))&&(gE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=UA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=FA(e,t,r,i)),(t=-1<n?e[n]:null)&&HA(t))}function HA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[nb])PA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=UA(e))?(PA(t,n),0==t.h&&(t.src=null,e[VA]=null)):gE(n)}}}function UN(n){return n in BA?BA[n]:BA[n]="on"+n}function qH(n,e){if(n.ca)n=!0;else{e=new tb(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&HA(n),n=t.call(r,e)}return n}function UA(n){return(n=n[VA])instanceof _E?n:null}var jA="__closure_events_fn_"+(1e9*Math.random()>>>0);function YA(n){return"function"==typeof n?n:(n[jA]||(n[jA]=function(e){return n.handleEvent(e)}),n[jA])}function Ai(){Wh.call(this),this.i=new _E(this),this.P=this,this.I=null}function rs(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Cs(e,n);else if(e instanceof Cs)e.target=e.target||n;else{var i=e;ON(e=new Cs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=yE(c,r,!0,e)&&i}if(i=yE(c=e.g=n,r,!0,e)&&i,i=yE(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=yE(c=e.g=t[a],r,!1,e)&&i}function yE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&PA(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}ns(Ai,Wh),Ai.prototype[nb]=!0,Ai.prototype.removeEventListener=function(n,e,t,r){HN(this,n,e,t,r)},Ai.prototype.M=function(){if(Ai.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gE(t[r]);delete n.g[e],n.h--}}this.I=null},Ai.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var $A=Ht.JSON.stringify;function ZH(){var n=YN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var WA,jN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new QH,n=>n.reset());class QH{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JH(n){Ht.setTimeout(()=>{throw n},0)}function GA(n,e){WA||function XH(){var n=Ht.Promise.resolve(void 0);WA=function(){n.then(eU)}}(),zA||(WA(),zA=!0),YN.add(n,e)}var zA=!1,YN=new class KH{constructor(){this.h=this.g=null}add(e,t){const r=jN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function eU(){for(var n;n=ZH();){try{n.h.call(n.g)}catch(t){JH(t)}var e=jN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zA=!1}function vE(n,e){Ai.call(this),this.h=n||1,this.g=e||Ht,this.j=ts(this.kb,this),this.l=Date.now()}function qA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ZA(n,e,t){if("function"==typeof n)t&&(n=ts(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ts(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function $N(n){n.g=ZA(()=>{n.g=null,n.i&&(n.i=!1,$N(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ns(vE,Ai),(nt=vE.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rs(this,"tick"),this.da&&(qA(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){vE.Z.M.call(this),qA(this),delete this.g};class tU extends Wh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$N(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rb(n){Wh.call(this),this.h=n,this.g={}}ns(rb,Wh);var GN=[];function WN(n,e,t,r){Array.isArray(t)||(t&&(GN[0]=t.toString()),t=GN);for(var i=0;i<t.length;i++){var a=FN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function zN(n){AA(n.g,function(e,t){this.g.hasOwnProperty(t)&&HA(e)},n),n.g={}}function bE(){this.g=!0}function y_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return $A(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}rb.prototype.M=function(){rb.Z.M.call(this),zN(this)},rb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bE.prototype.Aa=function(){this.g=!1},bE.prototype.info=function(){};var jp={},qN=null;function wE(){return qN=qN||new Ai}function ZN(n){Cs.call(this,jp.Ma,n)}function ib(n){const e=wE();rs(e,new ZN(e,n))}function KN(n,e){Cs.call(this,jp.STAT_EVENT,n),this.stat=e}function no(n){const e=wE();rs(e,new KN(e,n))}function QN(n,e){Cs.call(this,jp.Na,n),this.size=e}function sb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}jp.Ma="serverreachability",ns(ZN,Cs),jp.STAT_EVENT="statevent",ns(KN,Cs),jp.Na="timingevent",ns(QN,Cs);var DE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},JN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function KA(){}function eL(){}KA.prototype.h=null;var XA,ob={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function QA(){Cs.call(this,"d")}function JA(){Cs.call(this,"c")}function CE(){}function ab(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new rb(this),this.P=oU,this.W=new vE(n=xA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tL}function tL(){this.i=null,this.g="",this.h=!1}ns(QA,Cs),ns(JA,Cs),ns(CE,KA),CE.prototype.g=function(){return new XMLHttpRequest},CE.prototype.i=function(){return{}},XA=new CE;var oU=45e3,e1={},EE={};function t1(n,e,t){n.K=1,n.v=AE(fd(e)),n.s=t,n.U=!0,nL(n,null)}function nL(n,e){n.F=Date.now(),lb(n),n.A=fd(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),dL(t.h,"t",r),n.C=0,t=n.l.H,n.h=new tL,n.g=NL(n.l,t?e:null,!n.s),0<n.O&&(n.L=new tU(ts(n.Ia,n,n.g),n.O)),WN(n.V,n.g,"readystatechange",n.gb),e=n.H?kN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ib(1),function nU(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var D=f[_].split("=");if(1<D.length){var S=D[0];D=D[1];var A=S.split("_");c=2<=A.length&&"type"==A[1]?c+(S+"=")+D+"&":c+(S+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function iL(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=aU(n,t),i==EE){4==e&&(n.o=4,no(14),r=!1),y_(n.j,n.m,null,"[Incomplete Response]");break}if(i==e1){n.o=4,no(15),y_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}y_(n.j,n.m,i,null),n1(n,i)}rL(n)&&i!=EE&&i!=e1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,no(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),f1(e),e.L=!0,no(11))):(y_(n.j,n.m,t,"[Invalid Chunked Response]"),Yp(n),ub(n))}function aU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?EE:(t=Number(e.substring(t,r)),isNaN(t)?e1:(r+=1)+t>e.length?EE:(e=e.substr(r,t),n.C=r+t,e))}function lb(n){n.Y=Date.now()+n.P,sL(n,n.P)}function sL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sb(ts(n.eb,n),e)}function TE(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function ub(n){0==n.l.G||n.I||kL(n.l,n)}function Yp(n){TE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,qA(n.W),zN(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function n1(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||s1(t.i,n)))if(t.I=n.N,!n.J&&s1(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=sb(ts(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;LE(t),RE(t)}h1(t),no(18)}if(1>=pL(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else Wp(t,11)}else if((n.J||t.g==n)&&LE(t),!pE(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const A=D[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const L=D[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.i;!a.g&&(eo($,"spdy")||eo($,"quic")||eo($,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(o1(a,a.h),a.h=null))}if(r.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,pr(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=RL(r,r.H?r.la:null,r.W),c.J){mL(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(TE(f),lb(f)),r.g=c}else ML(r);0<t.l.length&&NE(t)}else"stop"!=D[0]&&"close"!=D[0]||Wp(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Wp(t,7):c1(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}ib(4)}catch(D){}}function r1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(TA(n)||"string"==typeof n)TN(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(TA(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function lU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(TA(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function v_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof v_)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function i1(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];$p(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)$p(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function $p(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=ab.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==pd(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const S=pd(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>S)&&(3!=S||xA||this.g&&(this.h.h||this.g.ga()||CL(this.g)))){this.I||4!=S||7==e||ib(8==e||0>=A?3:2),TE(this);var t=this.g.ba();this.N=t;t:if(rL(this)){var r=CL(this.g);n="";var i=r.length,a=4==pd(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yp(this),ub(this);var c="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function rU(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pE(f)){var D=f;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,no(12),Yp(this),ub(this);break e}y_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,n1(this,t)}this.U?(iL(this,S,c),xA&&this.i&&3==S&&(WN(this.V,this.W,"tick",this.fb),this.W.start())):(y_(this.j,this.m,c,null),n1(this,c)),4==S&&Yp(this),this.i&&!this.I&&(4==S?kL(this.l,this):(this.i=!1,lb(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,no(12)):(this.o=0,no(13)),Yp(this),ub(this)}}}catch(S){}},nt.fb=function(){if(this.g){var n=pd(this.g),e=this.g.ga();this.C<e.length&&(TE(this),iL(this,n,e),this.i&&4!=n&&lb(this))}},nt.cancel=function(){this.I=!0,Yp(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ib(3),no(17)),Yp(this),this.o=2,ub(this)):sL(this,this.Y-n)},(nt=v_.prototype).R=function(){i1(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return i1(this),this.g.concat()},nt.get=function(n,e){return $p(this.h,n)?this.h[n]:e},nt.set=function(n,e){$p(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var oL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Gp){this.g=void 0!==e?e:n.g,SE(this,n.j),this.s=n.s,IE(this,n.i),ME(this,n.m),this.l=n.l,e=n.h;var t=new hb;t.i=e.i,e.g&&(t.g=new v_(e.g),t.h=e.h),aL(this,t),this.o=n.o}else n&&(t=String(n).match(oL))?(this.g=!!e,SE(this,t[1]||"",!0),this.s=cb(t[2]||""),IE(this,t[3]||"",!0),ME(this,t[4]),this.l=cb(t[5]||"",!0),aL(this,t[6]||"",!0),this.o=cb(t[7]||"")):(this.g=!!e,this.h=new hb(null,this.g))}function fd(n){return new Gp(n)}function SE(n,e,t){n.j=t?cb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function IE(n,e,t){n.i=t?cb(e,!0):e}function ME(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function aL(n,e,t){e instanceof hb?(n.h=e,function _U(n,e){e&&!n.j&&(zh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(uL(this,r),dL(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=db(e,mU)),n.h=new hb(e,n.g))}function pr(n,e,t){n.h.set(e,t)}function AE(n){return pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function db(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(db(e,lL,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(db(e,lL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(db(t,"/"==t.charAt(0)?pU:fU,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",db(t,gU)),n.join("")};var lL=/[#\/\?@]/g,fU=/[#\?:]/g,pU=/[#\?]/g,mU=/[#\?@]/g,gU=/#/g;function hb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zh(n){n.g||(n.g=new v_,n.h=0,n.i&&function uU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uL(n,e){zh(n),e=b_(n,e),$p(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,$p((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&i1(n)))}function cL(n,e){return zh(n),e=b_(n,e),$p(n.g.h,e)}function dL(n,e,t){uL(n,e),0<t.length&&(n.i=null,n.g.set(b_(n,e),IA(t)),n.h+=t.length)}function b_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hL(n){this.l=n||vU,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ea&&Ht.g.Ea()&&Ht.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=hb.prototype).add=function(n,e){zh(this),this.i=null,n=b_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){zh(this),this.g.forEach(function(t,r){TN(t,function(i){n.call(e,i,r,this)},this)},this)},nt.T=function(){zh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},nt.R=function(n){zh(this);var e=[];if("string"==typeof n)cL(this,n)&&(e=SN(e,this.g.get(b_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=SN(e,n[t])}return e},nt.set=function(n,e){return zh(this),this.i=null,cL(this,n=b_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var vU=10;function fL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pL(n){return n.h?1:n.g?n.g.size:0}function s1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function o1(n,e){n.g?n.g.add(e):n.h=e}function mL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return IA(n.i)}function a1(){}function bU(){this.g=new a1}function wU(n,e,t){const r=t||"";try{r1(n,function(i,a){let c=i;eb(i)&&(c=$A(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function fb(n){this.l=n.$b||null,this.j=n.ib||!1}function xE(n,e){Ai.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=l1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hL.prototype.cancel=function(){if(this.i=gL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},a1.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},a1.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},ns(fb,KA),fb.prototype.g=function(){return new xE(this.l,this.j)},fb.prototype.i=function(n){return function(){return n}}({}),ns(xE,Ai);var l1=0;function _L(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mb(n)}function mb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=xE.prototype).open=function(n,e){if(this.readyState!=l1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mb(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pb(this)),this.readyState=l1},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mb(this)),this.g&&(this.readyState=3,mb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ht.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_L(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pb(this):mb(this),3==this.readyState&&_L(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,pb(this))},nt.Ta=function(n){this.g&&(this.response=n,pb(this))},nt.ha=function(){this.g&&pb(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CU=Ht.JSON.parse;function ii(n){Ai.call(this),this.headers=new v_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yL,this.K=this.L=!1}ns(ii,Ai);var yL="",EU=/^https?$/i,TU=["POST","PUT"];function IU(n){return"content-type"==n.toLowerCase()}function vL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bL(n),OE(n)}function bL(n){n.D||(n.D=!0,rs(n,"complete"),rs(n,"error"))}function wL(n){if(n.h&&void 0!==EA&&(!n.C[1]||4!=pd(n)||2!=n.ba()))if(n.v&&4==pd(n))ZA(n.Fa,0,n);else if(rs(n,"readystatechange"),4==pd(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(oL)[1]||null;if(!i&&Ht.self&&Ht.self.location){var a=Ht.self.location.protocol;i=a.substr(0,a.length-1)}r=!EU.test(i?i.toLowerCase():"")}t=r}if(t)rs(n,"complete"),rs(n,"success");else{n.m=6;try{var c=2<pd(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.ba()+"]",bL(n)}}finally{OE(n)}}}function OE(n,e){if(n.g){DL(n);const t=n.g,r=n.C[0]?hE:null;n.g=null,n.C=null,e||rs(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function DL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function pd(n){return n.g?n.g.readyState:0}function CL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case yL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function u1(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function MU(n){let e="";return AA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pr(n,e,t))}function gb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function EL(n){this.za=0,this.l=[],this.h=new bE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gb("baseRetryDelayMs",5e3,n),this.$a=gb("retryDelaySeedMs",1e4,n),this.Ya=gb("forwardChannelMaxRetries",2,n),this.ra=gb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new hL(n&&n.concurrentRequestLimit),this.Ca=new bU,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function c1(n){if(TL(n),3==n.G){var e=n.V++,t=fd(n.F);pr(t,"SID",n.J),pr(t,"RID",e),pr(t,"TYPE","terminate"),_b(n,t),(e=new ab(n,n.h,e,void 0)).K=2,e.v=AE(fd(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=NL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lb(e)}OL(n)}function RE(n){n.g&&(f1(n),n.g.cancel(),n.g=null)}function TL(n){RE(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),LE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function d1(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&NE(n)}function NE(n){fL(n.i)||n.m||(n.m=!0,GA(n.Ha,n),n.C=0)}function SL(n,e){var t;t=e?e.m:n.V++;const r=fd(n.F);pr(r,"SID",n.J),pr(r,"RID",t),pr(r,"AID",n.U),_b(n,r),n.o&&n.s&&u1(r,n.o,n.s),t=new ab(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=IL(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),o1(n.i,t),t1(t,r,e)}function _b(n,e){n.j&&r1({},function(t,r){pr(e,r,t)})}function IL(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ts(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let D=i[_].h;const S=i[_].g;if(D-=a,0>D)a=Math.max(0,i[_].h-100),f=!1;else try{wU(S,c,"req"+D+"_")}catch(A){r&&r(S)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ML(n){n.g||n.u||(n.Y=1,GA(n.Ga,n),n.A=0)}function h1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=sb(ts(n.Ga,n),xL(n,n.A)),n.A++,0))}function f1(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function AL(n){n.g=new ab(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=fd(n.oa);pr(e,"RID","rpc"),pr(e,"SID",n.J),pr(e,"CI",n.N?"0":"1"),pr(e,"AID",n.U),_b(n,e),pr(e,"TYPE","xmlhttp"),n.o&&n.s&&u1(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=AE(fd(e)),t.s=null,t.U=!0,nL(t,n)}function LE(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function kL(n,e){var t=null;if(n.g==e){LE(n),f1(n),n.g=null;var r=2}else{if(!s1(n.i,e))return;t=e.D,mL(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;rs(r=wE(),new QN(r,t,e,i)),NE(n)}else ML(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function AU(n,e){return!(pL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=sb(ts(n.Ha,n,e),xL(n,n.C)),n.C++,0)))}(n,e)||2==r&&h1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Wp(n,5);break;case 4:Wp(n,10);break;case 3:Wp(n,6);break;default:Wp(n,2)}}function xL(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Wp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ts(n.jb,n);t||(t=new Gp("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||SE(t,"https"),AE(t)),function DU(n,e){const t=new bE;if(Ht.Image){const r=new Image;r.onload=fE(kE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fE(kE,t,r,"TestLoadImage: error",!1,e),r.onabort=fE(kE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fE(kE,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else no(2);n.G=0,n.j&&n.j.va(e),OL(n),TL(n)}function OL(n){n.G=0,n.I=-1,n.j&&((0!=gL(n.i).length||0!=n.l.length)&&(n.i.i.length=0,IA(n.l),n.l.length=0),n.j.ua())}function RL(n,e,t){let r=function cU(n){return n instanceof Gp?fd(n):new Gp(n,void 0)}(t);if(""!=r.i)e&&IE(r,e+"."+r.i),ME(r,r.m);else{const i=Ht.location;r=function dU(n,e,t,r){var i=new Gp(null,void 0);return n&&SE(i,n),e&&IE(i,e),t&&ME(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&AA(n.aa,function(i,a){pr(r,a,i)}),t=n.sa,(e=n.D)&&t&&pr(r,e,t),pr(r,"VER",n.ma),_b(n,r),r}function NL(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(t&&n.Ba&&!n.qa?new fb({ib:!0}):n.qa)).L=n.H,e}function LL(){}function PE(){if(__&&!(10<=Number(jH)))throw Error("Environmental error: no available transport.")}function Ma(n,e){Ai.call(this),this.g=new EL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!pE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new w_(this)}function PL(n){QA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FL(){JA.call(this),this.status=1}function w_(n){this.g=n}(nt=ii.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():XA.g(),this.C=function XN(n){return n.h||(n.h=n.i())}(this.u?this.u:XA),this.g.onreadystatechange=ts(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void vL(this,a)}n=t||"";const i=new v_(this.headers);r&&r1(r,function(a,c){i.set(c,a)}),r=function PH(n){e:{var e=IU;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ht.FormData&&n instanceof Ht.FormData,!(0<=EN(TU,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{DL(this),0<this.B&&((this.K=function SU(n){return __&&function UH(){return function FH(n){var e=HH;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=IN(String(mE)).split("."),t=IN("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=MA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||MA(0==i[2].length,0==a[2].length)||MA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ts(this.pa,this)):this.A=ZA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){vL(this,a)}},nt.pa=function(){void 0!==EA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rs(this,"complete"),rs(this,"abort"),OE(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),OE(this,!0)),ii.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?wL(this):this.cb())},nt.cb=function(){wL(this)},nt.ba=function(){try{return 2<pd(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CU(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=EL.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ab(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=kN(a),ON(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=IL(this,i,e),pr(t=fd(this.F),"RID",n),pr(t,"CVER",22),this.D&&pr(t,"X-HTTP-Session-Id",this.D),_b(this,t),this.o&&a&&u1(t,this.o,a),o1(this.i,i),this.Ra&&pr(t,"TYPE","init"),this.ja?(pr(t,"$req",e),pr(t,"SID","null"),i.$=!0,t1(i,t,null)):t1(i,t,e),this.G=2}}else 3==this.G&&(n?SL(this,n):0==this.l.length||fL(this.i)||SL(this))},nt.Ga=function(){if(this.u=null,AL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=sb(ts(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,no(10),RE(this),AL(this))},nt.ab=function(){null!=this.v&&(this.v=null,RE(this),h1(this),no(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),no(2)):(this.h.info("Failed to ping google.com"),no(1))},(nt=LL.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},PE.prototype.g=function(n,e){return new Ma(n,e)},ns(Ma,Ai),Ma.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),GA(ts(n.hb,n,e))),no(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=RL(n,null,n.W),NE(n)},Ma.prototype.close=function(){c1(this.g)},Ma.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,d1(this.g,e)}else this.v?((e={}).__data__=$A(n),d1(this.g,e)):d1(this.g,n)},Ma.prototype.M=function(){this.g.j=null,delete this.j,c1(this.g),delete this.g,Ma.Z.M.call(this)},ns(PL,QA),ns(FL,JA),ns(w_,LL),w_.prototype.xa=function(){rs(this.g,"a")},w_.prototype.wa=function(n){rs(this.g,new PL(n))},w_.prototype.va=function(n){rs(this.g,new FL(n))},w_.prototype.ua=function(){rs(this.g,"b")},PE.prototype.createWebChannel=PE.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,DE.NO_ERROR=0,DE.TIMEOUT=8,DE.HTTP_ERROR=6,JN.COMPLETE="complete",eL.EventType=ob,ob.OPEN="a",ob.CLOSE="b",ob.ERROR="c",ob.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.La,ii.prototype.getLastErrorCode=ii.prototype.Da,ii.prototype.getStatus=ii.prototype.ba,ii.prototype.getResponseJson=ii.prototype.Qa,ii.prototype.getResponseText=ii.prototype.ga,ii.prototype.send=ii.prototype.ea;var kU=hd.createWebChannelTransport=function(){return new PE},xU=hd.getStatEventTarget=function(){return wE()},p1=hd.ErrorCode=DE,OU=hd.EventType=JN,RU=hd.Event=jp,VL=hd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},NU=hd.FetchXmlHttpFactory=fb,FE=hd.WebChannel=eL,LU=hd.XhrIo=ii;const BL="@firebase/firestore";class is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");let D_="9.6.10";const qh=new Gh.Yd("@firebase/firestore");function m1(){return qh.logLevel}function Pe(n,...e){if(qh.logLevel<=Gh.in.DEBUG){const t=e.map(g1);qh.debug(`Firestore (${D_}): ${n}`,...t)}}function si(n,...e){if(qh.logLevel<=Gh.in.ERROR){const t=e.map(g1);qh.error(`Firestore (${D_}): ${n}`,...t)}}function yb(n,...e){if(qh.logLevel<=Gh.in.WARN){const t=e.map(g1);qh.warn(`Firestore (${D_}): ${n}`,...t)}}function g1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${D_}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function Pt(n,e){n||ot()}function qe(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class HL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(is.UNAUTHENTICATED))}shutdown(){}}class BU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HU{constructor(e){this.t=e,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const D=c;e.enqueueRetryable((0,be.Z)(function*(){yield D.promise,yield a(r.currentUser)}))},_=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt("string"==typeof r.accessToken),new HL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new is(e)}}class UU{constructor(e,t,r){this.type="FirstParty",this.user=is.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class jU{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new UU(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YU{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.p=t.token,new UL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Aa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function $U(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Aa.A=-1;class jL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$U(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function C_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function YL(n){return n+"\0"}class Gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Gr(0,0))}static max(){return new xt(new Gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $L(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vb{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends vb{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const GU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends vb{construct(e,t,r){return new xi(e,t,r)}static isValidIdentifier(e){return GU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class E_{constructor(e){this.fields=e,e.sort(xi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return C_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _i(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const zU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zh(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=zU.exec(n);if(Pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qp(n){return"string"==typeof n?_i.fromBase64String(n):_i.fromUint8Array(n)}function _1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function WL(n){const e=n.mapValue.fields.__previous_value__;return _1(e)?WL(e):e}function bb(n){const e=Zh(n.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}class qU{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class md{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new md("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}function Zp(n){return null==n}function wb(n){return 0===n&&1/n==-1/0}function zL(n){return"number"==typeof n&&Number.isInteger(n)&&!wb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(gn.fromString(e))}static fromName(e){return new $e(gn.fromString(e).popFirst(5))}static empty(){return new $e(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new gn(e.slice()))}}const qL={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZL={nullValue:"NULL_VALUE"};function Kp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_1(n)?4:XL(n)?9:10:ot()}function zu(n,e){if(n===e)return!0;const t=Kp(n);if(t!==Kp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bb(n).isEqual(bb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Zh(r.timestampValue),c=Zh(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,qp(n.bytesValue).isEqual(qp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Nr(r.geoPointValue.latitude)===Nr(i.geoPointValue.latitude)&&Nr(r.geoPointValue.longitude)===Nr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Nr(r.integerValue)===Nr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Nr(r.doubleValue),c=Nr(i.doubleValue);return a===c?wb(a)===wb(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return C_(n.arrayValue.values||[],e.arrayValue.values||[],zu);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if($L(a)!==$L(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!zu(a[f],c[f])))return!1;return!0}(n,e);default:return ot()}var i}function Db(n,e){return void 0!==(n.values||[]).find(t=>zu(t,e))}function Kh(n,e){if(n===e)return 0;const t=Kp(n),r=Kp(e);if(t!==r)return rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Nr(i.integerValue||i.doubleValue),f=Nr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return KL(n.timestampValue,e.timestampValue);case 4:return KL(bb(n),bb(e));case 5:return rn(n.stringValue,e.stringValue);case 6:return function(i,a){const c=qp(i),f=qp(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const D=rn(c[_],f[_]);if(0!==D)return D}return rn(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=rn(Nr(i.latitude),Nr(a.latitude));return 0!==c?c:rn(Nr(i.longitude),Nr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const D=Kh(c[_],f[_]);if(D)return D}return rn(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),_=a.fields||{},D=Object.keys(_);f.sort(),D.sort();for(let S=0;S<f.length&&S<D.length;++S){const A=rn(f[S],D[S]);if(0!==A)return A;const L=Kh(c[f[S]],_[D[S]]);if(0!==L)return L}return rn(f.length,D.length)}(n.mapValue,e.mapValue);default:throw ot()}}function KL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rn(n,e);const t=Zh(n),r=Zh(e),i=rn(t.seconds,r.seconds);return 0!==i?i:rn(t.nanos,r.nanos)}function T_(n){return y1(n)}function y1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Zh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qp(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=y1(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${y1(r.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function S_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v1(n){return!!n&&"integerValue"in n}function Cb(n){return!!n&&"arrayValue"in n}function QL(n){return!!n&&"nullValue"in n}function JL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function VE(n){return!!n&&"mapValue"in n}function Eb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function eP(n,e){return void 0===n?e:void 0===e||Kh(n,e)>0?n:e}function tP(n,e){return void 0===n?e:void 0===e||Kh(n,e)<0?n:e}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!VE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eb(t)}setAll(e){let t=xi.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Eb(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());VE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];VE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zp(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Es(Eb(this.value))}}function nP(n){const e=[];return zp(n.fields,(t,r)=>{const i=new xi([t]);if(VE(r)){const a=nP(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new E_(e)}class ar{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ar(e,0,xt.min(),xt.min(),Es.empty(),0)}static newFoundDocument(e,t,r){return new ar(e,1,t,xt.min(),r,0)}static newNoDocument(e,t){return new ar(e,2,t,xt.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,xt.min(),Es.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class BE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function b1(n){return n.fields.find(e=>2===e.kind)}function I_(n){return n.fields.filter(e=>2!==e.kind)}BE.UNKNOWN_ID=-1;class HE{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tb(0,gd.min())}}function rP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new Gr(t+1,0):new Gr(t,r));return new gd(i,$e.empty(),e)}function ZU(n){return new gd(n.readTime,n.key,-1)}class gd{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gd(xt.min(),$e.empty(),-1)}static max(){return new gd(xt.max(),$e.empty(),-1)}}function KU(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:rn(n.largestBatchId,e.largestBatchId))}class QU{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function iP(n,e=null,t=[],r=[],i=null,a=null,c=null){return new QU(n,e,t,r,i,a,c)}function Qp(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+T_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>T_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>T_(r)).join(",")),e.P=t}return e.P}function Sb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!oj(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!zu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aP(n.startAt,e.startAt)&&aP(n.endAt,e.endAt)}function UE(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jE(n,e){return n.filters.filter(t=>t instanceof ss&&t.field.isEqual(e))}class ss extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new XU(e,t,r):"array-contains"===t?new nj(e,r):"in"===t?new rj(e,r):"not-in"===t?new ij(e,r):"array-contains-any"===t?new sj(e,r):new ss(e,t,r)}static V(e,t,r){return"in"===t?new ej(e,r):new tj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Kh(t,this.value)):null!==t&&Kp(this.value)===Kp(t)&&this.v(Kh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class XU extends ss{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.v(t)}}class ej extends ss{constructor(e,t){super(e,"in",t),this.keys=sP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tj extends ss{constructor(e,t){super(e,"not-in",t),this.keys=sP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class nj extends ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cb(t)&&Db(t.arrayValue,this.value)}}class rj extends ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Db(this.value.arrayValue,t)}}class ij extends ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(Db(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Db(this.value.arrayValue,t)}}class sj extends ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Db(this.value.arrayValue,r))}}class Qh{constructor(e,t){this.position=e,this.inclusive=t}}class M_{constructor(e,t="asc"){this.field=e,this.dir=t}}function oj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function oP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),t.key):Kh(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function aP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zu(n.position[t],e.position[t]))return!1;return!0}class _d{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function lP(n,e,t,r,i,a,c,f){return new _d(n,e,t,r,i,a,c,f)}function A_(n){return new _d(n)}function YE(n){return!Zp(n.limit)&&"F"===n.limitType}function $E(n){return!Zp(n.limit)&&"L"===n.limitType}function w1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function D1(n){for(const e of n.filters)if(e.S())return e.field;return null}function C1(n){return null!==n.collectionGroup}function k_(n){const e=qe(n);if(null===e.D){e.D=[];const t=D1(e),r=w1(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new M_(t)),e.D.push(new M_(xi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new M_(xi.keyField(),a))}}}return e.D}function nl(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=iP(e.path,e.collectionGroup,k_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of k_(e))t.push(new M_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Qh(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Qh(e.startAt.position,!e.startAt.inclusive):null;e.C=iP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function uP(n,e,t){return new _d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ib(n,e){return Sb(nl(n),nl(e))&&n.limitType===e.limitType}function cP(n){return`${Qp(nl(n))}|lt:${n.limitType}`}function E1(n){return`Query(target=${function JU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${T_(r.value)}`;var r}).join(", ")}]`),Zp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>T_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>T_(t)).join(",")),`Target(${e})`}(nl(n))}; limitType=${n.limitType})`}function T1(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=oP(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,k_(t),r)||t.endAt&&!function(i,a,c){const f=oP(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,k_(t),r)));var t,r}function dP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hP(n){return(e,t)=>{let r=!1;for(const i of k_(n)){const a=aj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function aj(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Kh(f,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function fP(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wb(e)?"-0":e}}function pP(n){return{integerValue:""+n}}function mP(n,e){return zL(e)?pP(e):fP(n,e)}class GE{constructor(){this._=void 0}}function lj(n,e,t){return n instanceof x_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Jp?_P(n,e):n instanceof Xp?yP(n,e):function(r,i){const a=gP(r,i),c=vP(a)+vP(r.k);return v1(a)&&v1(r.k)?pP(c):fP(r.M,c)}(n,e)}function uj(n,e,t){return n instanceof Jp?_P(n,e):n instanceof Xp?yP(n,e):t}function gP(n,e){return n instanceof O_?v1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class x_ extends GE{}class Jp extends GE{constructor(e){super(),this.elements=e}}function _P(n,e){const t=bP(e);for(const r of n.elements)t.some(i=>zu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Xp extends GE{constructor(e){super(),this.elements=e}}function yP(n,e){let t=bP(e);for(const r of n.elements)t=t.filter(i=>!zu(i,r));return{arrayValue:{values:t}}}class O_ extends GE{constructor(e,t){super(),this.M=e,this.k=t}}function vP(n){return Nr(n.integerValue||n.doubleValue)}function bP(n){return Cb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mb{constructor(e,t){this.field=e,this.transform=t}}class dj{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function WE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zE{}function hj(n,e,t){n instanceof Ab?function(r,i,a){const c=r.value.clone(),f=EP(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof em?function(r,i,a){if(!WE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=EP(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(CP(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function S1(n,e,t){var i;n instanceof Ab?function(r,i,a){if(!WE(r.precondition,i))return;const c=r.value.clone(),f=TP(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(DP(i),c).setHasLocalMutations()}(n,e,t):n instanceof em?function(r,i,a){if(!WE(r.precondition,i))return;const c=TP(r.fieldTransforms,a,i),f=i.data;f.setAll(CP(r)),f.setAll(c),i.convertToFoundDocument(DP(i),f).setHasLocalMutations()}(n,e,t):WE(n.precondition,i=e)&&i.convertToNoDocument(xt.min())}function fj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=gP(r.transform,i||null);null!=a&&(null==t&&(t=Es.empty()),t.set(r.field,a))}return t||null}function wP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&C_(t,r,(i,a)=>function cj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Jp&&r instanceof Jp||t instanceof Xp&&r instanceof Xp?C_(t.elements,r.elements,zu):t instanceof O_&&r instanceof O_?zu(t.k,r.k):t instanceof x_&&r instanceof x_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function DP(n){return n.isFoundDocument()?n.version:xt.min()}class Ab extends zE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class em extends zE{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function CP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function EP(n,e,t){const r=new Map;Pt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,uj(c,f,t[i]))}return r}function TP(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,lj(a,c,e))}return r}class kb extends zE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class I1 extends zE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class pj{constructor(e){this.count=e}}var ai,_n;function SP(n){switch(n){default:return ot();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function IP(n){if(void 0===n)return si("GRPC error has no .code"),he.UNKNOWN;switch(n){case ai.OK:return he.OK;case ai.CANCELLED:return he.CANCELLED;case ai.UNKNOWN:return he.UNKNOWN;case ai.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ai.INTERNAL:return he.INTERNAL;case ai.UNAVAILABLE:return he.UNAVAILABLE;case ai.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ai.NOT_FOUND:return he.NOT_FOUND;case ai.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ai.ABORTED:return he.ABORTED;case ai.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ai.DATA_LOSS:return he.DATA_LOSS;default:return ot()}}(_n=ai||(ai={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Jh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zp(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return GL(this.inner)}size(){return this.innerSize}}class Wr{constructor(e,t){this.comparator=e,this.root=t||os.EMPTY}insert(e,t){return new Wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,os.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qE(this.root,e,this.comparator,!1)}getReverseIterator(){return new qE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qE(this.root,e,this.comparator,!0)}}class qE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class os{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:os.RED,this.left=null!=i?i:os.EMPTY,this.right=null!=a?a:os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new os(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return os.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}os.EMPTY=null,os.RED=!0,os.BLACK=!1,os.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new os(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MP(this.data.getIterator())}getIteratorFrom(e){return new MP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class MP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function R_(n){return n.hasNext()?n.getNext():void 0}const mj=new Wr($e.comparator);function rl(){return mj}const gj=new Wr($e.comparator);function M1(){return gj}function xb(){return new Jh(n=>n.toString(),(n,e)=>n.isEqual(e))}const _j=new Wr($e.comparator),yj=new lr($e.comparator);function xn(...n){let e=yj;for(const t of n)e=e.add(t);return e}const vj=new lr(rn);function ZE(){return vj}class Ob{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Rb.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ob(xt.min(),r,ZE(),rl(),xn())}}class Rb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Rb(_i.EMPTY_BYTE_STRING,t,xn(),xn(),xn())}}class KE{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class AP{constructor(e,t){this.targetId=e,this.$=t}}class kP{constructor(e,t,r=_i.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xP{constructor(){this.B=0,this.L=RP(),this.U=_i.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=xn(),t=xn(),r=xn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Rb(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=RP()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class bj{constructor(e){this.nt=e,this.st=new Map,this.it=rl(),this.rt=OP(),this.ot=new lr(rn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(UE(a))if(0===r){const c=new $e(a.path);this.ct(t,c,ar.newNoDocument(c,xt.min()))}else Pt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&UE(f.target)){const _=new $e(f.target.path);null!==this.it.get(_)||this.It(c,_)||this.ct(c,_,ar.newNoDocument(_,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=xn();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const D=this.wt(_);return!D||2===D.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new Ob(e,t,this.ot,this.it,r);return this.it=rl(),this.rt=OP(),this.ot=new lr(rn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new xP,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new lr(rn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new xP),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function OP(){return new Wr($e.comparator)}function RP(){return new Wr($e.comparator)}const wj={asc:"ASCENDING",desc:"DESCENDING"},Dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Cj{constructor(e,t){this.databaseId=e,this.N=t}}function Nb(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NP(n,e){return n.N?e.toBase64():e.toUint8Array()}function Ej(n,e){return Nb(n,e.toTimestamp())}function Oi(n){return Pt(!!n),xt.fromTimestamp(function(e){const t=Zh(e);return new Gr(t.seconds,t.nanos)}(n))}function A1(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function LP(n){const e=gn.fromString(n);return Pt($P(e)),e}function Lb(n,e){return A1(n.databaseId,e.path)}function qu(n,e){const t=LP(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(FP(t))}function k1(n,e){return A1(n.databaseId,e)}function PP(n){const e=LP(n);return 4===e.length?gn.emptyPath():FP(e)}function Pb(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FP(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VP(n,e,t){return{name:Lb(n,e),fields:t.value.mapValue.fields}}function BP(n,e,t){const r=qu(n,e.name),i=Oi(e.updateTime),a=new Es({mapValue:{fields:e.fields}}),c=ar.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Fb(n,e){let t;if(e instanceof Ab)t={update:VP(n,e.key,e.value)};else if(e instanceof kb)t={delete:Lb(n,e.key)};else if(e instanceof em)t={update:VP(n,e.key,e.data),updateMask:Rj(e.fieldMask)};else{if(!(e instanceof I1))return ot();t={verify:Lb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof x_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof O_)return{fieldPath:a.field.canonicalString(),increment:c.k};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ej(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function x1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?oi.updateTime(Oi(i.updateTime)):void 0!==i.exists?oi.exists(i.exists):oi.none():oi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Pt("REQUEST_TIME"===c.setToServerValue),f=new x_):"appendMissingElements"in c?f=new Jp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Xp(c.removeAllFromArray.values||[]):"increment"in c?f=new O_(a,c.increment):ot();const _=xi.fromServerFormat(c.fieldPath);return new Mb(_,f)}(n,i)):[];var i;if(e.update){const i=qu(n,e.update.name),a=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new E_((e.updateMask.fieldPaths||[]).map(D=>xi.fromServerFormat(D)));return new em(i,a,c,t,r)}return new Ab(i,a,t,r)}if(e.delete){const i=qu(n,e.delete);return new kb(i,t)}if(e.verify){const i=qu(n,e.verify);return new I1(i,t)}return ot()}function HP(n,e){return{documents:[k1(n,e.path)]}}function UP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=k1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=k1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const D=_.map(S=>function(A){if("=="===A.op){if(JL(A.value))return{unaryFilter:{field:N_(A.field),op:"IS_NAN"}};if(QL(A.value))return{unaryFilter:{field:N_(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(JL(A.value))return{unaryFilter:{field:N_(A.field),op:"IS_NOT_NAN"}};if(QL(A.value))return{unaryFilter:{field:N_(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:N_(A.field),op:kj(A.op),value:A.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(D=>{return{field:N_((S=D).field),direction:Aj(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(D=e.limit,n.N||Zp(D)?D:{value:D});var D,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function jP(n){let e=PP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Pt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=YP(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new M_(L_((A=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(S){let A;return A="object"==typeof S?S.value:S,Zp(A)?null:A}(t.limit));let _=null;var S;t.startAt&&(_=new Qh((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new Qh(S.values||[],!S.before)}(t.endAt)),lP(e,i,c,a,f,"F",_,D)}function YP(n){return n?void 0!==n.unaryFilter?[Oj(n)]:void 0!==n.fieldFilter?[xj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>YP(e)).reduce((e,t)=>e.concat(t)):ot():[]}function Aj(n){return wj[n]}function kj(n){return Dj[n]}function N_(n){return{fieldPath:n.canonicalString()}}function L_(n){return xi.fromServerFormat(n.fieldPath)}function xj(n){return ss.create(L_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function Oj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=L_(n.unaryFilter.field);return ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=L_(n.unaryFilter.field);return ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=L_(n.unaryFilter.field);return ss.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=L_(n.unaryFilter.field);return ss.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function Rj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $P(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ri(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GP(e)),e=Nj(n.get(t),e);return GP(e)}function Nj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function GP(n){return n+"\x01\x01"}function Ul(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&ot(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:ot()}a=c+2}return new gn(r)}const WP=["userId","batchId"];function QE(n,e){return[n,Ri(e)]}function zP(n,e,t){return[n,Ri(e),t]}const Lj={},Pj=["prefixPath","collectionGroup","readTime","documentId"],Fj=["prefixPath","collectionGroup","documentId"],Vj=["collectionGroup","readTime","prefixPath","documentId"],Bj=["canonicalId","targetId"],Hj=["targetId","path"],Uj=["path","targetId"],jj=["collectionId","parent"],Yj=["indexId","uid"],$j=["uid","sequenceNumber"],Gj=["indexId","uid","arrayValue","directionalValue","documentKey"],Wj=["indexId","uid","documentKey"],zj=["userId","collectionPath","documentId"],qj=["userId","collectionPath","largestBatchId"],Zj=["userId","collectionGroup","largestBatchId"],qP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kj=[...qP,"documentOverlays"],ZP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qj=[...ZP,"indexConfiguration","indexState","indexEntries"],KP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class JE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ki,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Vb(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=O1(r.target.error);this.At.reject(new Vb(e,i))}}static open(e,t,r,i){try{return new JE(t,e.transaction(i,r))}catch(a){throw new Vb(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Xj(t)}}class jl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===jl.Vt((0,nn.z$)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),nm(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nn.hl)())return!1;if(jl.St())return!0;const e=(0,nn.z$)(),t=jl.Vt(e),r=0<t&&t<10,i=jl.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Vb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Ae(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ae(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Vb(e,f))},a.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,be.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=JE.open(a.db,e,c?"readonly":"readwrite",r),D=i(_).next(S=>(_.bt(),S)).catch(S=>(_.abort(S),me.reject(S))).toPromise();return D.catch(()=>{}),yield _.Rt,D}catch(_){const D="FirebaseError"!==_.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),a.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jj{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return nm(this.Ft.delete())}}class Vb extends Ae{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tm(n){return"IndexedDbTransactionError"===n.name}class Xj{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nm(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),nm(this.store.add(e))}get(e){return nm(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),nm(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),nm(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Gt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new me((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=a=>{const c=O1(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new me((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new Jj(f),D=t(f.primaryKey,f.value,_);if(D instanceof me){const S=D.catch(A=>(_.done(),me.reject(A)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nm(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=O1(r.target.error);t(i)}})}let JP=!1;function O1(n){const e=jl.Vt((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JP||(JP=!0,setTimeout(()=>{throw r},0)),r}}return n}class XP extends QP{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=qe(n);return jl.xt(t.Ht,e)}class R1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hj(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&S1(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&S1(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&C_(this.mutations,e.mutations,(t,r)=>wP(t,r))&&C_(this.baseMutations,e.baseMutations,(t,r)=>wP(t,r))}}class N1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pt(e.mutations.length===r.length);let i=_j;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new N1(e,t,r,i)}}class L1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xh{constructor(e,t,r,i,a=xt.min(),c=xt.min(),f=_i.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class eF{constructor(e){this.Jt=e}}function tF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:XE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Lb(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Nb(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:rm(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:rm(e.version)}}var i,a;return r}function XE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function rm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function im(n){const e=new Gr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function P_(n,e){const t=(e.baseMutations||[]).map(a=>x1(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>x1(n.Jt,a)),i=Gr.fromMillis(e.localWriteTimeMs);return new R1(e.batchId,i,t,r)}function Bb(n){const e=im(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?im(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Pt(1===(i=n.query).documents.length),r=nl(A_(PP(i.documents[0])))):r=nl(jP(n.query)),new Xh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,_i.fromBase64String(n.resumeToken))}function nF(n,e){const t=rm(e.snapshotVersion),r=rm(e.lastLimboFreeSnapshotVersion);let i;i=UE(e.target)?HP(n.Jt,e.target):UP(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function P1(n){const e=jP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uP(e,e.limit,"L"):e}function F1(n,e){return new L1(e.largestBatchId,x1(n.Jt,e.overlayMutation))}function rF(n,e){const t=e.path.lastSegment();return[n,Ri(e.path.popLast()),t]}class t3{getBundleMetadata(e,t){return iF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:im(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return iF(e).put({bundleId:(r=t).id,createTime:rm(Oi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return sF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:P1(i.bundledQuery),readTime:im(i.readTime)};var i})}saveNamedQuery(e,t){return sF(e).put({name:(r=t).name,readTime:rm(Oi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function iF(n){return Ni(n,"bundles")}function sF(n){return Ni(n,"namedQueries")}class V1{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new V1(e,t.uid||"")}getOverlay(e,t){return Hb(e).get(rF(this.userId,t)).next(r=>r?F1(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new L1(t,c);i.push(this.Xt(e,f))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ri(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Hb(e).Qt("collectionPathOverlayIndex",f))}),me.waitFor(a)}getOverlaysForCollection(e,t,r){const i=xb(),a=Ri(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hb(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const D=F1(this.M,_);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=xb();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hb(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,D,S)=>{const A=F1(this.M,D);a.size()<i||A.largestBatchId===c?(a.set(A.getKey(),A),c=A.largestBatchId):S.done()}).next(()=>a)}Xt(e,t){return Hb(e).put(function(r,i,a){const[c,f,_]=rF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Fb(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Hb(n){return Ni(n,"documentOverlays")}class F_{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Nr(e.integerValue));else if("doubleValue"in e){const r=Nr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),wb(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(qp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?XL(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ot()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),$e.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function n3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function oF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=n3(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}F_.fe=new F_;class r3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=oF(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=oF(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class i3{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class s3{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class eT{constructor(){this.De=new r3,this.Ce=new i3(this.De),this.xe=new s3(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ef{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ef(this.indexId,this.documentKey,this.arrayValue,r)}}function sm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=aF(n.arrayValue,e.arrayValue),0!==t?t:(t=aF(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function aF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class o3{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=b1(e);if(void 0!==t&&!this.Be(t))return!1;const r=I_(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class a3{constructor(){this.qe=new B1}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class B1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lr(gn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(gn.comparator)).toArray()}}const tT=new Uint8Array(0);class l3{constructor(e){this.user=e,this.Ge=new B1,this.Ke=new Jh(t=>Qp(t),(t,r)=>Sb(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:r,parent:Ri(i)};return lF(e).put(a)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[YL(t),""],!1,!0);return lF(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Ul(c.parent))}return r})}addFieldIndex(e,t){const r=nT(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=nT(e),i=rT(e),a=Ub(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ub(e);let i=!0;const a=new Map;return me.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=xn();return me.forEach(a,(f,_)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=f,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${Qp(t)}`);const S=function(Oe,ze){const Ge=b1(ze);if(void 0===Ge)return null;for(const yt of jE(Oe,Ge.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(_,f),A=function(Oe,ze){const Ge=new Map;for(const yt of I_(ze))for(const ut of jE(Oe,yt.fieldPath))switch(ut.op){case"==":case"in":Ge.set(yt.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return Ge.set(yt.fieldPath.canonicalString(),ut.value),Array.from(Ge.values())}return null}(_,f),L=function(Oe,ze){const Ge=[];let yt=!0;for(const sn of I_(ze)){let On,Sn=!0;for(const en of jE(Oe,sn.fieldPath)){let Pn,oo=!0;switch(en.op){case"<":case"<=":Pn="nullValue"in(ut=en.value)?ZL:"booleanValue"in ut?{booleanValue:!1}:"integerValue"in ut||"doubleValue"in ut?{doubleValue:NaN}:"timestampValue"in ut?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ut?{stringValue:""}:"bytesValue"in ut?{bytesValue:""}:"referenceValue"in ut?S_(md.empty(),$e.empty()):"geoPointValue"in ut?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ut?{arrayValue:{}}:"mapValue"in ut?{mapValue:{}}:ot();break;case"==":case"in":case">=":Pn=en.value;break;case">":Pn=en.value,oo=!1;break;case"!=":case"not-in":Pn=ZL}eP(On,Pn)===Pn&&(On=Pn,Sn=oo)}if(null!==Oe.startAt)for(let en=0;en<Oe.orderBy.length;++en)if(Oe.orderBy[en].field.isEqual(sn.fieldPath)){const Pn=Oe.startAt.position[en];eP(On,Pn)===Pn&&(On=Pn,Sn=Oe.startAt.inclusive);break}if(void 0===On)return null;Ge.push(On),yt&&(yt=Sn)}var ut;return new Qh(Ge,yt)}(_,f),B=function(Oe,ze){const Ge=[];let yt=!0;for(const sn of I_(ze)){let On,Sn=!0;for(const en of jE(Oe,sn.fieldPath)){let Pn,oo=!0;switch(en.op){case">=":case">":Pn="nullValue"in(ut=en.value)?{booleanValue:!1}:"booleanValue"in ut?{doubleValue:NaN}:"integerValue"in ut||"doubleValue"in ut?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ut?{stringValue:""}:"stringValue"in ut?{bytesValue:""}:"bytesValue"in ut?S_(md.empty(),$e.empty()):"referenceValue"in ut?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ut?{arrayValue:{}}:"arrayValue"in ut?{mapValue:{}}:"mapValue"in ut?qL:ot(),oo=!1;break;case"==":case"in":case"<=":Pn=en.value;break;case"<":Pn=en.value,oo=!1;break;case"!=":case"not-in":Pn=qL}tP(On,Pn)===Pn&&(On=Pn,Sn=oo)}if(null!==Oe.endAt)for(let en=0;en<Oe.orderBy.length;++en)if(Oe.orderBy[en].field.isEqual(sn.fieldPath)){const Pn=Oe.endAt.position[en];tP(On,Pn)===Pn&&(On=Pn,Sn=Oe.endAt.inclusive);break}if(void 0===On)return null;Ge.push(On),yt&&(yt=Sn)}var ut;return new Qh(Ge,yt)}(_,f),$=this.je(f,_,L),ee=this.je(f,_,B),_e=this.We(f,_,A),Ve=this.ze(f.indexId,S,$,!!L&&L.inclusive,ee,!!B&&B.inclusive,_e);return me.forEach(Ve,Oe=>r.Kt(Oe,t.limit).next(ze=>{ze.forEach(Ge=>{c=c.add(new $e(Ul(Ge.documentKey)))})}))}).next(()=>c)}return me.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),D=_/(null!=t?t.length:1),S=[];for(let A=0;A<_;++A){const L=t?this.He(t[A/D]):tT,B=r?this.Je(e,L,r[A%D],i):this.Ye(e),$=a?this.Xe(e,L,a[A%D],c):this.Ye(e+1);S.push(...this.createRange(B,$,f.map(ee=>this.Je(e,L,ee,!0))))}return S}Je(e,t,r,i){const a=new ef(e,$e.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new ef(e,$e.empty(),t,r);return i?a.ke():a}Ye(e){return new ef(e,$e.empty(),tT,tT)}getFieldIndex(e,t){const r=new o3(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,_)=>_.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new eT;for(const i of I_(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);F_.fe.Zt(a,c)}return r.Se()}He(e){const t=new eT;return F_.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new eT);let a=0;for(const c of I_(e)){const f=r[a++];for(const _ of i)if(this.tn(t,c.fieldPath)&&Cb(f))i=this.en(i,c,f);else{const D=_.Ne(c.kind);F_.fe.Zt(f,D)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new eT;_.seed(f.Se()),F_.fe.Zt(c,_.Ne(t.kind)),a.push(_)}return a}tn(e,t){return!!e.filters.find(r=>r instanceof ss&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=nT(e),i=rT(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return me.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(D,S){const A=S?new Tb(S.sequenceNumber,new gd(im(S.readTime),new $e(Ul(S.documentKey)),S.largestBatchId)):Tb.empty(),L=D.fields.map(([B,$])=>new HE(xi.fromServerFormat(B),$));return new BE(D.indexId,D.collectionGroup,L,A)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:rn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=nT(e),a=rT(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>me.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:rm((L=r).readTime),documentKey:Ri(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),me.forEach(f,_=>this.rn(e,i,_).next(D=>{const S=this.on(a,_);return D.isEqual(S)?me.resolve():this.un(e,a,D,S)}))))})}an(e,t,r){return Ub(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Ri(t.key.path)})}cn(e,t,r){return Ub(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Ri(t.key.path)])}rn(e,t,r){const i=Ub(e);let a=new lr(sm);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Ri(t.path)])},(c,f)=>{a=a.add(new ef(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let r=new lr(sm);const i=this.Ze(t,e);if(null==i)return r;const a=b1(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Cb(c))for(const f of c.arrayValue.values||[])r=r.add(new ef(t.indexId,e.key,this.He(f),i))}else r=r.add(new ef(t.indexId,e.key,tT,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(c,f,_,D,S){const A=c.getIterator(),L=f.getIterator();let B=R_(A),$=R_(L);for(;B||$;){let ee=!1,_e=!1;if(B&&$){const Ve=_(B,$);Ve<0?_e=!0:Ve>0&&(ee=!0)}else null!=B?_e=!0:ee=!0;ee?(D($),$=R_(L)):_e?(S(B),B=R_(A)):(B=R_(A),$=R_(L))}}(r,i,sm,c=>{a.push(this.an(e,t,c))},c=>{a.push(this.cn(e,t,c))}),me.waitFor(a)}sn(e){let t=1;return rT(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>sm(c,f)).filter((c,f,_)=>!f||0!==sm(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=sm(c,e),_=sm(c,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(c),i.push(c.ke());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return a}}function lF(n){return Ni(n,"collectionParents")}function Ub(n){return Ni(n,"indexEntries")}function nT(n){return Ni(n,"indexConfiguration")}function rT(n){return Ni(n,"indexState")}const uF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Go{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:c},(S,A,L)=>(f++,L.delete()));a.push(_.next(()=>{Pt(1===f)}));const D=[];for(const S of t.mutations){const A=zP(e,S.key.path,t.batchId);a.push(i.delete(A)),D.push(S.key)}return me.waitFor(a).next(()=>D)}function iT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class H1{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Pt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new H1(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tf(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=V_(e),c=tf(e);return c.add({}).next(f=>{Pt("number"==typeof f);const _=new R1(f,t,r,i),D=function(L,B,$){const ee=$.baseMutations.map(Ve=>Fb(L.Jt,Ve)),_e=$.mutations.map(Ve=>Fb(L.Jt,Ve));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:_e}}(this.M,this.userId,_),S=[];let A=new lr((L,B)=>rn(L.canonicalString(),B.canonicalString()));for(const L of i){const B=zP(this.userId,L.key.path,f);A=A.add(L.key.path.popLast()),S.push(c.put(D)),S.push(a.put(B,Lj))}return A.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),me.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return tf(e).get(t).next(r=>r?(Pt(r.userId===this.userId),P_(this.M,r)):null)}ln(e,t){return this.hn[t]?me.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return tf(e).Wt({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Pt(f.batchId>=r),a=P_(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return tf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>P_(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=QE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return V_(e).Wt({range:i},(c,f,_)=>{const[D,S,A]=c,L=Ul(S);if(D===this.userId&&t.path.isEqual(L))return tf(e).get(A).next(B=>{if(!B)throw ot();Pt(B.userId===this.userId),a.push(P_(this.M,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(rn);const i=[];return t.forEach(a=>{const c=QE(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=V_(e).Wt({range:f},(D,S,A)=>{const[L,B,$]=D,ee=Ul(B);L===this.userId&&a.path.isEqual(ee)?r=r.add($):A.done()});i.push(_)}),me.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=QE(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new lr(rn);return V_(e).Wt({range:c},(_,D,S)=>{const[A,L,B]=_,$=Ul(L);A===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(B)):S.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(tf(e).get(a).next(c=>{if(null===c)throw ot();Pt(c.userId===this.userId),r.push(P_(this.M,c))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return cF(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return V_(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=Ul(a[1]);i.push(_)}else f.done()}).next(()=>{Pt(0===i.length)})})}containsKey(e,t){return dF(e,this.userId,t)}_n(e){return hF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dF(n,e,t){const r=QE(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return V_(n).Wt({range:a,jt:!0},(f,_,D)=>{const[S,A,L]=f;S===e&&A===i&&(c=!0),D.done()}).next(()=>c)}function tf(n){return Ni(n,"mutations")}function V_(n){return Ni(n,"documentMutations")}function hF(n){return Ni(n,"mutationQueues")}class om{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new om(0)}static gn(){return new om(-1)}}class u3{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new om(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>xt.fromTimestamp(new Gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>B_(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Pt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return B_(e).Wt((c,f)=>{const _=Bb(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>me.waitFor(a)).next(()=>i)}forEachTarget(e,t){return B_(e).Wt((r,i)=>{const a=Bb(i);t(a)})}yn(e){return fF(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}pn(e,t){return fF(e).put("targetGlobalKey",t)}In(e,t){return B_(e).put(nF(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Qp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return B_(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const D=Bb(f);Sb(t,D.target)&&(a=D,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=nf(e);return t.forEach(c=>{const f=Ri(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=nf(e);return me.forEach(t,a=>{const c=Ri(a.path);return me.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=nf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=nf(e);let a=xn();return i.Wt({range:r,jt:!0},(c,f,_)=>{const D=Ul(c[1]),S=new $e(D);a=a.add(S)}).next(()=>a)}containsKey(e,t){const r=Ri(t.path),i=IDBKeyRange.bound([r],[YL(r)],!1,!0);let a=0;return nf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],_,D)=>{0!==c&&(a++,D.done())}).next(()=>a>0)}Et(e,t){return B_(e).get(t).next(r=>r?Bb(r):null)}}function B_(n){return Ni(n,"targets")}function fF(n){return Ni(n,"targetGlobal")}function nf(n){return Ni(n,"targetDocuments")}function am(n){return U1.apply(this,arguments)}function U1(){return U1=(0,be.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==KP)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),U1.apply(this,arguments)}function pF([n,e],[t,r]){const i=rn(n,t);return 0===i?rn(e,r):i}class c3{constructor(e){this.En=e,this.buffer=new lr(pF),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d3{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){tm(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield am(i)}yield t.vn(e)}))}}class h3{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(Aa.A);const r=new c3(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(uF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uF):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,a,c,f,_,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(D=Date.now(),m1()<=Gh.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-S}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class f3{constructor(e,t){this.db=e,this.garbageCollector=new h3(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return sT(e,r)}removeReference(e,t,r){return sT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return sT(e,t)}Mn(e,t){return function(r,i){let a=!1;return hF(r).zt(c=>dF(r,c,i).next(f=>(f&&(a=!0),me.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.kn(e,(c,f)=>{if(f<=t){const _=this.Mn(e,c).next(D=>{if(!D)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,xt.min()),nf(e).delete([0,Ri(c.path)])))});i.push(_)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return sT(e,t)}kn(e,t){const r=nf(e);let i,a=Aa.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:D})=>{0===c?(a!==Aa.A&&t(new $e(Ul(i)),a),a=D,i=_):a=Aa.A}).next(()=>{a!==Aa.A&&t(new $e(Ul(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sT(n,e){return nf(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ri(e.path),sequenceNumber:r}));var r}class mF{constructor(){this.changes=new Jh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p3{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return lm(e).put(r)}removeEntry(e,t,r){return lm(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],XE(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=ar.newInvalidDocument(t);return lm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(jb(t))},(i,a)=>{r=this.Fn(t,a)}).next(()=>r)}$n(e,t){let r={size:0,document:ar.newInvalidDocument(t)};return lm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(jb(t))},(i,a)=>{r={document:this.Fn(t,a),size:iT(a)}}).next(()=>r)}getEntries(e,t){let r=rl();return this.Bn(e,t,(i,a)=>{const c=this.Fn(i,a);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=rl(),i=new Wr($e.comparator);return this.Bn(e,t,(a,c)=>{const f=this.Fn(a,c);r=r.insert(a,f),i=i.insert(a,iT(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return me.resolve();let i=new lr(yF);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(jb(i.first()),jb(i.last())),c=i.getIterator();let f=c.getNext();return lm(e).Wt({index:"documentKeyIndex",range:a},(_,D,S)=>{const A=$e.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;f&&yF(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,D),f=c.hasNext()?c.getNext():null),f?S.Ut(jb(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),XE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lm(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=rl();for(const _ of c){const D=this.Fn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(D.key,D)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=rl();const c=_F(t,r),f=_F(t,gd.max());return lm(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,D,S)=>{const A=this.Fn($e.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);a=a.insert(A.key,A),a.size===i&&S.done()}).next(()=>a)}newChangeBuffer(e){return new m3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gF(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}On(e,t){return gF(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function e3(n,e){let t;if(e.document)t=BP(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),i=im(e.noDocument.readTime);t=ar.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=$e.fromSegments(e.unknownDocument.path),i=im(e.unknownDocument.version);t=ar.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Gr(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return ar.newInvalidDocument(e)}}class m3 extends mF{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Jh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lr((a,c)=>rn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=tF(this.qn.M,c);i=i.add(a.path.popLast()),r+=iT(_)-f.size,t.push(this.qn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=tF(this.qn.M,c.convertToNoDocument(xt.min()));t.push(this.qn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function gF(n){return Ni(n,"remoteDocumentGlobal")}function lm(n){return Ni(n,"remoteDocumentsV14")}function jb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _F(n,e){const t=e.documentKey.path.toArray();return[n,XE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yF(n,e){const t=n.path.length-e.path.length;return 0!==t?t:$e.comparator(n,e)}class g3{constructor(e){this.M=e}kt(e,t,r,i){const a=new JE("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WP,{unique:!0}),f.createObjectStore("documentMutations"),vF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=me.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),vF(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",D)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").qt().next(D=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WP,{unique:!0});const S=_.store("mutations"),A=D.map(L=>S.put(L));return me.waitFor(A)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),r<7&&i>=7&&(c=c.next(()=>this.jn(a))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:zj});_.createIndex("collectionPathOverlayIndex",qj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Zj,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Pj});_.createIndex("documentKeyIndex",Fj),_.createIndex("collectionGroupIndex",Vj)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Yj}).createIndex("sequenceNumberIndex",$j,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Gj}).createIndex("documentKeyIndex",Wj,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=iT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>me.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>me.forEach(f,_=>{Pt(_.userId===a.userId);const D=P_(this.M,_);return cF(e,a.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const _=new gn(c),D=[0,Ri(_)];a.push(t.get(D).next(S=>S?me.resolve():t.put({targetId:0,path:Ri(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:jj});const r=t.store("collectionParents"),i=new B1,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:Ri(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const _=new gn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,_],D)=>{const S=Ul(f);return a(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Bb(i),c=nF(this.M,a);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(D=c,D.document?new $e(gn.fromString(D.document.name).popFirst(5)):D.noDocument?$e.fromSegments(D.noDocument.path):D.unknownDocument?$e.fromSegments(D.unknownDocument.path):ot()).path.toArray();var D;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(S))}).next(()=>me.waitFor(i))}}function vF(n){n.createObjectStore("targetDocuments",{keyPath:Hj}).createIndex("documentTargetsIndex",Uj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bj,{unique:!0}),n.createObjectStore("targetGlobal")}const j1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Y1{constructor(e,t,r,i,a,c,f,_,D,S,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=a,this.window=c,this.document=f,this.Yn=D,this.Xn=S,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=L=>Promise.resolve(),!Y1.vt())throw new Ae(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f3(this,i),this.cs=t+"main",this.M=new eF(_),this.hs=new jl(this.cs,this.Zn,new g3(this.M)),this.ls=new u3(this.referenceDelegate,this.M),this.fs=new p3(this.M),this.ds=new t3,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(he.FAILED_PRECONDITION,j1);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Aa(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>oT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(tm(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Yb(e).get("owner").next(t=>me.resolve(this.bs(t)))}Ps(e){return oT(e).delete(this.clientId)}Vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ni(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ss(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return me.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?me.resolve(!0):Yb(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(he.FAILED_PRECONDITION,j1);return!1}}return!(!this.networkEnabled||!this.inForeground)||oT(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new XP(t,Aa.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>oT(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return H1.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new l3(e)}getDocumentOverlayCache(e){return V1.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.Zn)?Qj:13===c?ZP:12===c?Kj:11===c?qP:void ot();var c;let f;return this.hs.runTransaction(e,i,a,_=>(f=new XP(_,this.ts?this.ts.next():Aa.A),"readwrite-primary"===t?this.Ts(f).next(D=>!!D||this.Es(f)).next(D=>{if(!D)throw si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(he.FAILED_PRECONDITION,KP);return r(f)}).next(D=>this.Rs(f).next(()=>D)):this.Fs(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return Yb(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(he.FAILED_PRECONDITION,j1)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yb(e).put("owner",t)}static vt(){return jl.vt()}As(e){const t=Yb(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(si(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return si("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){si("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yb(n){return Ni(n,"owner")}function oT(n){return Ni(n,"clientMetadata")}function $1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _3{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):C1(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new $e(t)).next(r=>{let i=M1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let a=M1();return this.indexManager.getCollectionParents(e,i).next(c=>me.forEach(c,f=>{const _=(D=t,S=f.child(i),new _d(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Ws(e,_,r).next(D=>{D.forEach((S,A)=>{a=a.insert(S,A)})})}).next(()=>a))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const _=f.key;let D=i.get(_);null==D&&(D=ar.newInvalidDocument(_),i=i.insert(_,D)),S1(f,D,c.localWriteTime),D.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,c)=>{T1(t,c)||(i=i.remove(a))}),i))}}class G1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=xn(),i=xn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new G1(e,t.fromCache,r,i)}}class bF{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(xt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(a=>{const c=this.ti(t,a);return(YE(t)||$E(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(m1()<=Gh.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),E1(t)),this.Xs.Ks(e,t,rP(r,-1)).next(f=>(c.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ti(e,t){let r=new lr(hP(e));return t.forEach((i,a)=>{T1(e,a)&&(r=r.add(a))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Zs(e,t){return m1()<=Gh.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",E1(t)),this.Xs.Ks(e,t,gd.min())}}class y3{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Wr(rn),this.ii=new Jh(a=>Qp(a),Sb),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new _3(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function wF(n,e,t,r){return new y3(n,e,t,r)}function DF(n,e){return W1.apply(this,arguments)}function W1(){return W1=(0,be.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(a=>(i=a,t.ui(e),t.$s.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=xn();for(const D of i){c.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}for(const D of a){f.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}return t.ai.qs(r,_).next(D=>({ci:D,removedBatchIds:c,addedBatchIds:f}))})})}),W1.apply(this,arguments)}function v3(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,D){const S=_.batch,A=S.keys();let L=me.resolve();return A.forEach(B=>{L=L.next(()=>D.getEntry(f,B)).next($=>{const ee=_.docVersions.get(B);Pt(null!==ee),$.version.compareTo(ee)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),D.addEntry($)))})}),L.next(()=>c.$s.removeMutationBatch(f,S))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function CF(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function b3(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((D,S)=>{const A=i.get(S);if(!A)return;f.push(t.ls.removeMatchingKeys(a,D.removedDocuments,S).next(()=>t.ls.addMatchingKeys(a,D.addedDocuments,S)));let L=A.withSequenceNumber(a.currentSequenceNumber);var B,$,ee;e.targetMismatches.has(S)?L=L.withResumeToken(_i.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,r)),i=i.insert(S,L),$=L,ee=D,(0===(B=A).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,L))});let _=rl();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(EF(a,c,e.documentUpdates).next(D=>{_=D})),!r.isEqual(xt.min())){const D=t.ls.getLastRemoteSnapshotVersion(a).next(S=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(D)}return me.waitFor(f).next(()=>c.apply(a)).next(()=>t.ai.Gs(a,_)).next(()=>_)}).then(a=>(t.si=i,a))}function EF(n,e,t){let r=xn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=rl();return t.forEach((c,f)=>{const _=i.get(c);f.isNoDocument()&&f.version.isEqual(xt.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",_.version," Watch version:",f.version)}),a})}function w3(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function H_(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(a=>a?(i=a,me.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new Xh(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function U_(n,e,t){return z1.apply(this,arguments)}function z1(){return z1=(0,be.Z)(function*(n,e,t){const r=qe(n),i=r.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!tm(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),z1.apply(this,arguments)}function aT(n,e,t){const r=qe(n);let i=xt.min(),a=xn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,D){const S=qe(f),A=S.ii.get(D);return void 0!==A?me.resolve(S.si.get(A)):S.ls.getTargetData(_,D)}(r,c,nl(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.ni.Ks(c,e,t?i:xt.min(),t?a:xn())).next(f=>(IF(r,dP(e),f),{documents:f,hi:a})))}function TF(n,e){const t=qe(n),r=qe(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function SF(n,e){const t=qe(n),r=t.ri.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,rP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(IF(t,e,i),i))}function IF(n,e,t){let r=xt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ri.set(e,r)}function q1(){return q1=(0,be.Z)(function*(n,e,t,r){const i=qe(n);let a=xn(),c=rl();for(const D of t){const S=e.li(D.metadata.name);D.document&&(a=a.add(S));const A=e.fi(D);A.setReadTime(e.di(D.metadata.readTime)),c=c.insert(S,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),_=yield H_(i,(D=r,nl(A_(gn.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>EF(D,f,c).next(S=>(f.apply(D),S)).next(S=>i.ls.removeMatchingKeysForTargetId(D,_.targetId).next(()=>i.ls.addMatchingKeys(D,a,_.targetId)).next(()=>i.ai.Gs(D,S)).next(()=>S)))}),q1.apply(this,arguments)}function C3(n,e){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,be.Z)(function*(n,e,t=xn()){const r=yield H_(n,nl(P1(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Oi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(a,e);const f=r.withResumeToken(_i.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(a,f).next(()=>i.ls.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.ls.addMatchingKeys(a,t,r.targetId)).next(()=>i.ds.saveNamedQuery(a,e))})}),Z1.apply(this,arguments)}class E3{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return me.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Oi(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:P1(r.bundledQuery),readTime:Oi(r.readTime)}),me.resolve();var r}}class T3{constructor(){this.overlays=new Wr($e.comparator),this.mi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=xb(),a=t.length+1,c=new $e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Wr((D,S)=>D-S);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=a.get(D.largestBatchId);null===S&&(S=xb(),a=a.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const f=xb(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,S)=>f.set(D,S)),!(f.size()>=i)););return me.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new L1(t,r));let a=this.mi.get(t);void 0===a&&(a=xn(),this.mi.set(t,a)),this.mi.set(t,a.add(r.key))}}class K1{constructor(){this.gi=new lr(Li.yi),this.pi=new lr(Li.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Li(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Li(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new $e(new gn([])),r=new Li(t,e),i=new Li(t,e+1),a=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),a.push(c.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new $e(new gn([])),r=new Li(t,e),i=new Li(t,e+1);let a=xn();return this.pi.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Li(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Li{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return $e.comparator(e.key,t.key)||rn(e.Vi,t.Vi)}static Ii(e,t){return rn(e.Vi,t.Vi)||$e.comparator(e.key,t.key)}}class S3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new lr(Li.yi)}checkEmpty(e){return me.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const a=this.vi;this.vi++;const c=new R1(a,t,r,i);this.$s.push(c);for(const f of i)this.Si=this.Si.add(new Li(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,t){return me.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),a=i<0?0:i;return me.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return me.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Li(t,0),i=new Li(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],c=>{const f=this.Di(c.Vi);a.push(f)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(rn);return t.forEach(i=>{const a=new Li(i,0),c=new Li(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,c],f=>{r=r.add(f.Vi)})}),me.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;$e.isDocumentKey(a)||(a=a.child(""));const c=new Li(new $e(a),0);let f=new lr(rn);return this.Si.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(f=f.add(_.Vi)),!0)},c),me.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Pt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return me.forEach(t.mutations,i=>{const a=new Li(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Li(t,0),i=this.Si.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class I3{constructor(e){this.ki=e,this.docs=new Wr($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=rl();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ar.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=rl();const a=new $e(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||KU(ZU(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ot()}Mi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new M3(this)}getSize(e){return me.resolve(this.size)}}class M3 extends mF{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class A3{constructor(e){this.persistence=e,this.Oi=new Jh(t=>Qp(t),Sb),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new K1,this.targetCount=0,this.Bi=om.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),me.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new om(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.In(t),me.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Oi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.$i.containsKey(t))}}class k3{constructor(e,t){this.Li={},this.overlays={},this.ts=new Aa(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new A3(this),this.indexManager=new a3,this.fs=new I3(r=>this.referenceDelegate.Ui(r)),this.M=new eF(t),this.ds=new E3(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new S3(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new x3(this.ts.next());return this.referenceDelegate.qi(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ki(e,t){return me.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class x3 extends QP{constructor(e){super(),this.currentSequenceNumber=e}}class Q1{constructor(e){this.persistence=e,this.Qi=new K1,this.ji=null}static Wi(e){return new Q1(e)}get zi(){if(this.ji)return this.ji;throw ot()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.zi,r=>{const i=$e.fromPath(r);return this.Hi(e,i).next(a=>{a||t.removeEntry(i,xt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return me.or([()=>me.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function MF(n,e){return`firestore_clients_${n}_${e}`}function AF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function J1(n,e){return`firestore_targets_${n}_${e}`}class lT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Ae(i.error.code,i.error.message))),c?new lT(e,t,i.state,a):(si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $b{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ae(r.error.code,r.error.message))),a?new $b(e,r.state,i):(si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ZE();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=zL(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new uT(e,a):(si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class X1{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new X1(t.clientId,t.onlineState):(si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ek{constructor(){this.activeTargetIds=ZE()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tk{constructor(e,t,r,i,a){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Wr(rn),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=MF(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new ek),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const a=e.getItem(MF(e.persistenceKey,i));if(a){const c=uT.Ji(i,a);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(J1(this.persistenceKey,e));if(r){const i=$b.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(J1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let c=Aa.A;if(null!=a)try{const f=JSON.parse(a);Pt("number"==typeof f),c=f}catch(f){si("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Aa.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new lT(this.currentUser,e,t,r),a=AF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=AF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=J1(this.persistenceKey,e),a=new $b(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return uT.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return lT.Ji(new is(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return $b.Ji(i,t)}wr(e){return X1.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Or(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=ZE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class kF{constructor(){this.Fr=new ek,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new ek,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O3{Br(e){}shutdown(){}}class xF{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const R3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class N3{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class L3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,a),this.ao(e,c,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw yb("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}co(e,t,r,i,a){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+D_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${R3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((a,c)=>{const f=new LU;f.listenOnce(OU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case p1.NO_ERROR:const D=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),a(D);break;case p1.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case p1.HTTP_ERROR:const S=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const L=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf($)>=0?$:he.UNKNOWN}(A.status);c(new Ae(L,A.message))}else c(new Ae(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=kU(),c=xU(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new NU({})),this.uo(f.initMessageHeaders,t,r),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const D=a.createWebChannel(_,f);let S=!1,A=!1;const L=new N3({jr:$=>{A?Pe("Connection","Not sending because WebChannel is closed:",$):(S||(Pe("Connection","Opening WebChannel transport."),D.open(),S=!0),Pe("Connection","WebChannel sending:",$),D.send($))},Wr:()=>D.close()}),B=($,ee,_e)=>{$.listen(ee,Ve=>{try{_e(Ve)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return B(D,FE.EventType.OPEN,()=>{A||Pe("Connection","WebChannel transport opened.")}),B(D,FE.EventType.CLOSE,()=>{A||(A=!0,Pe("Connection","WebChannel transport closed"),L.eo())}),B(D,FE.EventType.ERROR,$=>{A||(A=!0,yb("Connection","WebChannel transport errored:",$),L.eo(new Ae(he.UNAVAILABLE,"The operation could not be completed")))}),B(D,FE.EventType.MESSAGE,$=>{var ee;if(!A){const _e=$.data[0];Pt(!!_e);const Ve=_e,Oe=Ve.error||(null===(ee=Ve[0])||void 0===ee?void 0:ee.error);if(Oe){Pe("Connection","WebChannel received error:",Oe);const ze=Oe.status;let Ge=function(ut){const sn=ai[ut];if(void 0!==sn)return IP(sn)}(ze),yt=Oe.message;void 0===Ge&&(Ge=he.INTERNAL,yt="Unknown error status: "+ze+" with message "+Oe.message),A=!0,L.eo(new Ae(Ge,yt)),D.close()}else Pe("Connection","WebChannel received:",_e),L.no(_e)}}),B(c,RU.STAT_EVENT,$=>{$.stat===VL.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===VL.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Zr()},0),L}}function OF(){return"undefined"!=typeof window?window:null}function cT(){return"undefined"!=typeof document?document:null}function Gb(n){return new Cj(n,!0)}class nk{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class RF{constructor(e,t,r,i,a,c,f,_){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new nk(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,be.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,be.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ae(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,be.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P3 extends RF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Sj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),i=e.targetChange.targetIds||[],a=function(_,D){return _.N?(Pt(void 0===D||"string"==typeof D),_i.fromBase64String(D||"")):(Pt(void 0===D||D instanceof Uint8Array),_i.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const D=void 0===_.code?he.UNKNOWN:IP(_.code);return new Ae(D,_.message||"")}(c);t=new kP(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=qu(n,r.document.name),a=Oi(r.document.updateTime),c=new Es({mapValue:{fields:r.document.fields}}),f=ar.newFoundDocument(i,a,c);t=new KE(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=qu(n,r.document),a=r.readTime?Oi(r.readTime):xt.min(),c=ar.newNoDocument(i,a);t=new KE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=qu(n,r.document);t=new KE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,a=new pj(r.count||0);t=new AP(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return xt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?xt.min():a.readTime?Oi(a.readTime):xt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Pb(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=UE(f)?{documents:HP(i,f)}:{query:UP(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=NP(i,a.resumeToken):a.snapshotVersion.compareTo(xt.min())>0&&(c.readTime=Nb(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function Mj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Pb(this.M),t.removeTarget=e,this.Oo(t)}}class F3 extends RF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Ij(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(r,i){let a=Oi(r.updateTime?r.updateTime:i);return a.isEqual(xt.min())&&(a=Oi(i)),new dj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.Jo(r,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Pb(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Fb(this.M,r))};this.Oo(t)}}class V3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(he.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(he.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class B3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(si(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class H3{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,be.Z)(function*(){var _;rf(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(D){const S=qe(D);S.lu.add(4),yield j_(S),S._u.set("Unknown"),S.lu.delete(4),yield Wb(S)}),function(D){return _.apply(this,arguments)})(c))}))}),this._u=new B3(r,i)}}function Wb(n){return rk.apply(this,arguments)}function rk(){return rk=(0,be.Z)(function*(n){if(rf(n))for(const e of n.fu)yield e(!0)}),rk.apply(this,arguments)}function j_(n){return ik.apply(this,arguments)}function ik(){return ik=(0,be.Z)(function*(n){for(const e of n.fu)yield e(!1)}),ik.apply(this,arguments)}function dT(n,e){const t=qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ak(t)?ok(t):$_(t).Co()&&sk(t,e))}function zb(n,e){const t=qe(n),r=$_(t);t.hu.delete(e),r.Co()&&NF(t,e),0===t.hu.size&&(r.Co()?r.ko():rf(t)&&t._u.set("Unknown"))}function sk(n,e){n.wu.Z(e.targetId),$_(n).Qo(e)}function NF(n,e){n.wu.Z(e),$_(n).jo(e)}function ok(n){n.wu=new bj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),$_(n).start(),n._u.iu()}function ak(n){return rf(n)&&!$_(n).Do()&&n.hu.size>0}function rf(n){return 0===qe(n).lu.size}function LF(n){n.wu=void 0}function U3(n){return lk.apply(this,arguments)}function lk(){return lk=(0,be.Z)(function*(n){n.hu.forEach((e,t)=>{sk(n,e)})}),lk.apply(this,arguments)}function j3(n,e){return uk.apply(this,arguments)}function uk(){return uk=(0,be.Z)(function*(n,e){LF(n),ak(n)?(n._u.uu(e),ok(n)):n._u.set("Unknown")}),uk.apply(this,arguments)}function Y3(n,e,t){return ck.apply(this,arguments)}function ck(){return ck=(0,be.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof kP&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hT(n,r)}else if(e instanceof KE?n.wu.ut(e):e instanceof AP?n.wu._t(e):n.wu.ht(e),!t.isEqual(xt.min()))try{const r=yield CF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.wu.yt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const D=i.hu.get(_);D&&i.hu.set(_,D.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(_i.EMPTY_BYTE_STRING,_.snapshotVersion)),NF(i,f);const D=new Xh(_.target,f,1,_.sequenceNumber);sk(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield hT(n,r)}var r}),ck.apply(this,arguments)}function hT(n,e,t){return dk.apply(this,arguments)}function dk(){return dk=(0,be.Z)(function*(n,e,t){if(!tm(e))throw e;n.lu.add(1),yield j_(n),n._u.set("Offline"),t||(t=()=>CF(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Wb(n)}))}),dk.apply(this,arguments)}function PF(n,e){return e().catch(t=>hT(n,t,e))}function Y_(n){return hk.apply(this,arguments)}function hk(){return hk=(0,be.Z)(function*(n){const e=qe(n),t=sf(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;$3(e);)try{const i=yield w3(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,G3(e,i)}catch(i){yield hT(e,i)}FF(e)&&VF(e)}),hk.apply(this,arguments)}function $3(n){return rf(n)&&n.cu.length<10}function G3(n,e){n.cu.push(e);const t=sf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function FF(n){return rf(n)&&!sf(n).Do()&&n.cu.length>0}function VF(n){sf(n).start()}function W3(n){return fk.apply(this,arguments)}function fk(){return fk=(0,be.Z)(function*(n){sf(n).Xo()}),fk.apply(this,arguments)}function z3(n){return pk.apply(this,arguments)}function pk(){return pk=(0,be.Z)(function*(n){const e=sf(n);for(const t of n.cu)e.Ho(t.mutations)}),pk.apply(this,arguments)}function q3(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=(0,be.Z)(function*(n,e,t){const r=n.cu.shift(),i=N1.from(r,e,t);yield PF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Y_(n)}),mk.apply(this,arguments)}function Z3(n,e){return gk.apply(this,arguments)}function gk(){return gk=(0,be.Z)(function*(n,e){var t;e&&sf(n).zo&&(yield(t=(0,be.Z)(function*(r,i){if(SP(a=i.code)&&a!==he.ABORTED){const c=r.cu.shift();sf(r).No(),yield PF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Y_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),FF(n)&&VF(n)}),gk.apply(this,arguments)}function BF(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,be.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=rf(t);t.lu.add(3),yield j_(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Wb(t)}),_k.apply(this,arguments)}function yk(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,be.Z)(function*(n,e){const t=qe(n);e?(t.lu.delete(2),yield Wb(t)):e||(t.lu.add(2),yield j_(t),t._u.set("Unknown"))}),vk.apply(this,arguments)}function $_(n){return n.mu||(n.mu=function(e,t,r){const i=qe(e);return i.tu(),new P3(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:U3.bind(null,n),Jr:j3.bind(null,n),Ko:Y3.bind(null,n)}),n.fu.push(function(){var e=(0,be.Z)(function*(t){t?(n.mu.No(),ak(n)?ok(n):n._u.set("Unknown")):(yield n.mu.stop(),LF(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function sf(n){return n.gu||(n.gu=function(e,t,r){const i=qe(e);return i.tu(),new F3(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:W3.bind(null,n),Jr:Z3.bind(null,n),Yo:z3.bind(null,n),Jo:q3.bind(null,n)}),n.fu.push(function(){var e=(0,be.Z)(function*(t){t?(n.gu.No(),yield Y_(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class bk{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new bk(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(n,e){if(si("AsyncQueue",`${e}: ${n}`),tm(n))return new Ae(he.UNAVAILABLE,`${e}: ${n}`);throw n}class W_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=M1(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new W_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof W_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new W_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class HF{constructor(){this.yu=new Wr($e.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ot():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class z_{constructor(e,t,r,i,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new z_(e,t,W_.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ib(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class K3{constructor(){this.Iu=void 0,this.listeners=[]}}class Q3{constructor(){this.queries=new Jh(e=>cP(e),Ib),this.onlineState="Unknown",this.Tu=new Set}}function wk(n,e){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,be.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new K3),i)try{a.Iu=yield t.onListen(r)}catch(c){const f=G_(c,`Initialization of query '${E1(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&Tk(t)}),Dk.apply(this,arguments)}function Ck(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,be.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ek.apply(this,arguments)}function J3(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&Tk(t)}function X3(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Tk(n){n.Tu.forEach(e=>{e.next()})}class Sk{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new z_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=z_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class eY{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class UF{constructor(e){this.M=e}li(e){return qu(this.M,e)}fi(e){return e.metadata.exists?BP(this.M,e.document,!1):ar.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Oi(e)}}class tY{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jF(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=gn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new UF(this.M);for(const i of e)if(i.metadata.queries){const a=r.li(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||xn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function D3(n,e,t,r){return q1.apply(this,arguments)}(e.localStore,new UF(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield C3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function jF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YF{constructor(e){this.key=e}}class $F{constructor(e){this.key=e}}class GF{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=xn(),this.mutatedKeys=xn(),this.Lu=hP(e),this.Uu=new W_(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new HF,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _=YE(this.query)&&i.size===this.query.limit?i.last():null,D=$E(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,A)=>{const L=i.get(S),B=T1(this.query,A)?A:null,$=!!L&&this.mutatedKeys.has(L.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;L&&B?L.data.isEqual(B.data)?$!==ee&&(r.track({type:3,doc:B}),_e=!0):this.Qu(L,B)||(r.track({type:2,doc:B}),_e=!0,(_&&this.Lu(B,_)>0||D&&this.Lu(B,D)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),_e=!0):L&&!B&&(r.track({type:1,doc:L}),_e=!0,(_||D)&&(f=!0)),_e&&(B?(c=c.add(B),a=ee?a.add(S):a.delete(S)):(c=c.delete(S),a=a.delete(S)))}),YE(this.query)||$E(this.query))for(;c.size>this.query.limit;){const S=YE(this.query)?c.last():c.first();c=c.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Ku:r,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((D,S)=>function(A,L){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(A)-B(L)}(D.type,S.type)||this.Lu(D.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new z_(this.query,e.Uu,i,a,e.mutatedKeys,0===f,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new HF,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=xn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new $F(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new YF(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=xn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return z_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class nY{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rY{constructor(e){this.key=e,this.Xu=!1}}class iY{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new Jh(f=>cP(f),Ib),this.ea=new Map,this.na=new Set,this.sa=new Wr($e.comparator),this.ia=new Map,this.ra=new K1,this.oa={},this.ua=new Map,this.aa=om.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function sY(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,be.Z)(function*(n,e){const t=Kk(n);let r,i;const a=t.ta.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const c=yield H_(t.localStore,nl(e));t.isPrimaryClient&&dT(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield Mk(t,e,r,"current"===f)}return i}),Ik.apply(this,arguments)}function Mk(n,e,t,r){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,be.Z)(function*(n,e,t,r){n.ha=(S,A,L)=>{return(B=(0,be.Z)(function*($,ee,_e,Ve){let Oe=ee.view.Gu(_e);Oe.ei&&(Oe=yield aT($.localStore,ee.query,!1).then(({documents:yt})=>ee.view.Gu(yt,Oe)));const ze=Ve&&Ve.targetChanges.get(ee.targetId),Ge=ee.view.applyChanges(Oe,$.isPrimaryClient,ze);return Bk($,ee.targetId,Ge.zu),Ge.snapshot}),function($,ee,_e,Ve){return B.apply(this,arguments)})(n,S,A,L);var B};const i=yield aT(n.localStore,e,!0),a=new GF(e,i.hi),c=a.Gu(i.documents),f=Rb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);Bk(n,t,_.zu);const D=new nY(e,t,a);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),Ak.apply(this,arguments)}function oY(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,be.Z)(function*(n,e){const t=qe(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(a=>!Ib(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield U_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zb(t.remoteStore,r.targetId),q_(t,r.targetId)}).catch(am))):(q_(t,r.targetId),yield U_(t.localStore,r.targetId,!0))}),kk.apply(this,arguments)}function xk(){return xk=(0,be.Z)(function*(n,e,t){const r=Qk(n);try{const i=yield function(a,c){const f=qe(a),_=Gr.now(),D=c.reduce((A,L)=>A.add(L.key),xn());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,D).next(L=>{S=L;const B=[];for(const $ of c){const ee=fj($,S.get($.key));null!=ee&&B.push(new em($.key,ee,nP(ee.value.mapValue),oi.exists(!0)))}return f.$s.addMutationBatch(A,_,B,c)})).then(A=>(A.applyToLocalDocumentSet(S),{batchId:A.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.oa[a.currentUser.toKey()];_||(_=new Wr(rn)),_=_.insert(c,f),a.oa[a.currentUser.toKey()]=_}(r,i.batchId,t),yield yd(r,i.changes),yield Y_(r.remoteStore)}catch(i){const a=G_(i,"Failed to persist write");t.reject(a)}}),xk.apply(this,arguments)}function WF(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,be.Z)(function*(n,e){const t=qe(n);try{const r=yield b3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ia.get(a);c&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Pt(c.Xu):i.removedDocuments.size>0&&(Pt(c.Xu),c.Xu=!1))}),yield yd(t,r,e)}catch(r){yield am(r)}}),Ok.apply(this,arguments)}function zF(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((a,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=qe(a);f.onlineState=c;let _=!1;f.queries.forEach((D,S)=>{for(const A of S.listeners)A.Eu(c)&&(_=!0)}),_&&Tk(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lY(n,e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,be.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),a=i&&i.key;if(a){let c=new Wr($e.comparator);c=c.insert(a,ar.newNoDocument(a,xt.min()));const f=xn().add(a),_=new Ob(xt.min(),new Map,new lr(rn),c,f);yield WF(r,_),r.sa=r.sa.remove(a),r.ia.delete(e),Hk(r)}else yield U_(r.localStore,e,!1).then(()=>q_(r,e,t)).catch(am)}),Rk.apply(this,arguments)}function uY(n,e){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,be.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield v3(t.localStore,e);Vk(t,r,null),Fk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yd(t,i)}catch(i){yield am(i)}}),Nk.apply(this,arguments)}function cY(n,e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,be.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(a,c){const f=qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return f.$s.lookupMutationBatch(_,c).next(S=>(Pt(null!==S),D=S.keys(),f.$s.removeMutationBatch(_,S))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,D))})}(r.localStore,e);Vk(r,e,t),Fk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yd(r,i)}catch(i){yield am(i)}}),Lk.apply(this,arguments)}function Pk(){return Pk=(0,be.Z)(function*(n,e){const t=qe(n);rf(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=qe(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=G_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Pk.apply(this,arguments)}function Fk(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Vk(n,e,t){const r=qe(n);let i=r.oa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function q_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||qF(n,r)})}function qF(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(zb(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),Hk(n))}function Bk(n,e,t){for(const r of t)r instanceof YF?(n.ra.addReference(r.key,e),hY(n,r)):r instanceof $F?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||qF(n,r.key)):ot()}function hY(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),Hk(n))}function Hk(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new $e(gn.fromString(e)),r=n.aa.next();n.ia.set(r,new rY(t)),n.sa=n.sa.insert(t,r),dT(n.remoteStore,new Xh(nl(A_(t.path)),r,2,Aa.A))}}function yd(n,e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,be.Z)(function*(n,e,t){const r=qe(n),i=[],a=[],c=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,_)=>{c.push(r.ha(_,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),i.push(D);const S=G1.Js(_.targetId,D);a.push(S)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(f=(0,be.Z)(function*(_,D){const S=qe(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>me.forEach(D,L=>me.forEach(L.zs,B=>S.persistence.referenceDelegate.addReference(A,L.targetId,B)).next(()=>me.forEach(L.Hs,B=>S.persistence.referenceDelegate.removeReference(A,L.targetId,B)))))}catch(A){if(!tm(A))throw A;Pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const L=A.targetId;if(!A.fromCache){const B=S.si.get(L),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(L,ee)}}}),function(_,D){return f.apply(this,arguments)})(r.localStore,a))}),Uk.apply(this,arguments)}function fY(n,e){return jk.apply(this,arguments)}function jk(){return jk=(0,be.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield DF(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(f=>{f.reject(new Ae(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yd(t,r.ci)}var i}),jk.apply(this,arguments)}function pY(n,e){const t=qe(n),r=t.ia.get(e);if(r&&r.Xu)return xn().add(r.key);{let i=xn();const a=t.ea.get(e);if(!a)return i;for(const c of a){const f=t.ta.get(c);i=i.unionWith(f.view.qu)}return i}}function mY(n,e){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,be.Z)(function*(n,e){const t=qe(n),r=yield aT(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&Bk(t,e.targetId,i.zu),i}),Yk.apply(this,arguments)}function gY(n,e){return $k.apply(this,arguments)}function $k(){return $k=(0,be.Z)(function*(n,e){const t=qe(n);return SF(t.localStore,e).then(r=>yd(t,r))}),$k.apply(this,arguments)}function _Y(n,e,t,r){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,be.Z)(function*(n,e,t,r){const i=qe(n),a=yield function(c,f){const _=qe(c),D=qe(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.ln(S,f).next(A=>A?_.ai.qs(S,A):me.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Y_(i.remoteStore):"acknowledged"===t||"rejected"===t?(Vk(i,e,r||null),Fk(i,e),f=e,qe(qe(i.localStore).$s).dn(f)):ot(),yield yd(i,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gk.apply(this,arguments)}function Wk(){return Wk=(0,be.Z)(function*(n,e){const t=qe(n);if(Kk(t),Qk(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ZF(t,r.toArray());t.ca=!0,yield yk(t.remoteStore,!0);for(const a of i)dT(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(q_(t,c),U_(t.localStore,c,!0))),zb(t.remoteStore,c)}),yield i,yield ZF(t,r),function(a){const c=qe(a);c.ia.forEach((f,_)=>{zb(c.remoteStore,_)}),c.ra.bi(),c.ia=new Map,c.sa=new Wr($e.comparator)}(t),t.ca=!1,yield yk(t.remoteStore,!1)}}),Wk.apply(this,arguments)}function ZF(n,e,t){return zk.apply(this,arguments)}function zk(){return zk=(0,be.Z)(function*(n,e,t){const r=qe(n),i=[],a=[];for(const c of e){let f;const _=r.ea.get(c);if(_&&0!==_.length){f=yield H_(r.localStore,nl(_[0]));for(const D of _){const S=r.ta.get(D),A=yield mY(r,S);A.snapshot&&a.push(A.snapshot)}}else{const D=yield TF(r.localStore,c);f=yield H_(r.localStore,D),yield Mk(r,KF(D),c,!1)}i.push(f)}return r.Zu.Ko(a),i}),zk.apply(this,arguments)}function KF(n){return lP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vY(n){const e=qe(n);return qe(qe(e.localStore).persistence).Os()}function bY(n,e,t,r){return qk.apply(this,arguments)}function qk(){return qk=(0,be.Z)(function*(n,e,t,r){const i=qe(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=i.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield SF(i.localStore,dP(a[0])),f=Ob.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield yd(i,c,f);break}case"rejected":yield U_(i.localStore,e,!0),q_(i,e,r);break;default:ot()}}),qk.apply(this,arguments)}function wY(n,e,t){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,be.Z)(function*(n,e,t){const r=Kk(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const a=yield TF(r.localStore,i),c=yield H_(r.localStore,a);yield Mk(r,KF(a),c.targetId,!1),dT(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield U_(r.localStore,i,!1).then(()=>{zb(r.remoteStore,i),q_(r,i)}).catch(am))}}),Zk.apply(this,arguments)}function Kk(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lY.bind(null,e),e.Zu.Ko=J3.bind(null,e.eventManager),e.Zu.la=X3.bind(null,e.eventManager),e}function Qk(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cY.bind(null,e),e}class QF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Gb(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return wF(this.persistence,new bF,e.initialUser,this.M)}_a(e){return new k3(Q1.Wi,this.M)}da(e){return new kF}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JF extends QF{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield Qk(r.ga.syncEngine),yield Y_(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return wF(this.persistence,new bF,e.initialUser,this.M)}wa(e){return new d3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=$1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new Y1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OF(),cT(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new kF}}class CY extends JF{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof tk&&(r.sharedClientState.syncEngine={kr:_Y.bind(null,i),Mr:bY.bind(null,i),Or:wY.bind(null,i),Os:vY.bind(null,i),Nr:gY.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var a=(0,be.Z)(function*(c){yield function yY(n,e){return Wk.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}da(e){const t=OF();if(!tk.vt(t))throw new Ae(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tk(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Jk{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fY.bind(null,r.syncEngine),yield yk(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Q3}createDatastore(e){const t=Gb(e.databaseInfo.databaseId),r=new L3(e.databaseInfo);return new V3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>zF(this.syncEngine,f,0),c=xF.vt()?new xF:new O3,new H3(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,D){const S=new iY(r,i,a,c,f,_);return D&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=qe(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield j_(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XF(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class EY{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new ki,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,be.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new eY(JSON.parse(a),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,be.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class TY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(a,c){const f=qe(a),_=Pb(f.M)+"/documents",D={documents:c.map(B=>Lb(f.M,B))},S=yield f.co("BatchGetDocuments",_,D),A=new Map;S.forEach(B=>{const $=function Tj(n,e){return"found"in e?function(t,r){Pt(!!r.found);const i=qu(t,r.found.name),a=Oi(r.found.updateTime),c=new Es({mapValue:{fields:r.found.fields}});return ar.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Pt(!!r.missing),Pt(!!r.readTime);const i=qu(t,r.missing),a=Oi(r.readTime);return ar.newNoDocument(i,a)}(n,e):ot()}(f.M,B);A.set($.key.toString(),$)});const L=[];return c.forEach(B=>{const $=A.get(B.toString());Pt(!!$),L.push($)}),L}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new kb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=$e.fromPath(i);e.mutations.push(new I1(a,e.precondition(a)))}),yield(r=(0,be.Z)(function*(i,a){const c=qe(i),f=Pb(c.M)+"/documents",_={writes:a.map(D=>Fb(c.M,D))};yield c.ro("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?oi.updateTime(t):oi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Ae(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(t)}return oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SY{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new nk(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,be.Z)(function*(){const t=new TY(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ca(a)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Zp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!SP(t)}return!1}}class IY{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=is.UNAUTHENTICATED,this.clientId=jL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,be.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=G_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eV(n,e){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){r.isEqual(a)||(yield DF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Xk.apply(this,arguments)}function tV(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tx(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>BF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>BF(e.remoteStore,a)),n.onlineComponents=e}),ex.apply(this,arguments)}function tx(n){return nx.apply(this,arguments)}function nx(){return nx=(0,be.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield eV(n,new QF)),n.offlineComponents}),nx.apply(this,arguments)}function pT(n){return rx.apply(this,arguments)}function rx(){return rx=(0,be.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield tV(n,new Jk)),n.onlineComponents}),rx.apply(this,arguments)}function nV(n){return tx(n).then(e=>e.persistence)}function ix(n){return tx(n).then(e=>e.localStore)}function rV(n){return pT(n).then(e=>e.remoteStore)}function sx(n){return pT(n).then(e=>e.syncEngine)}function Z_(n){return ox.apply(this,arguments)}function ox(){return ox=(0,be.Z)(function*(n){const e=yield pT(n),t=e.eventManager;return t.onListen=sY.bind(null,e.syncEngine),t.onUnlisten=oY.bind(null,e.syncEngine),t}),ox.apply(this,arguments)}function iV(n,e,t={}){const r=new ki;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,c,f,_){const D=new fT({next:A=>{a.enqueueAndForget(()=>Ck(i,S));const L=A.docs.has(c);!L&&A.fromCache?_.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&A.fromCache&&f&&"server"===f.source?_.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new Sk(A_(c.path),D,{includeMetadataChanges:!0,Du:!0});return wk(i,S)}(yield Z_(n),n.asyncQueue,e,t,r)})),r.promise}function sV(n,e,t={}){const r=new ki;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,c,f,_){const D=new fT({next:A=>{a.enqueueAndForget(()=>Ck(i,S)),A.fromCache&&"server"===f.source?_.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new Sk(c,D,{includeMetadataChanges:!0,Du:!0});return wk(i,S)}(yield Z_(n),n.asyncQueue,e,t,r)})),r.promise}const oV=new Map;function ax(n,e,t){if(!t)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aV(n,e,t,r){if(!0===e&&!0===r)throw new Ae(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lV(n){if(!$e.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uV(n){if($e.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mT(n);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cV(n,e){if(e<=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dV({}),this._settingsFrozen=!1,e instanceof md?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VU;switch(t.type){case"gapi":const r=t.client;return Pt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new jU(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oV.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),oV.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Zu extends Ts{constructor(e,t,r){super(e,t,A_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new $e(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function hV(n,e,...t){if(n=(0,nn.m9)(n),ax("collection","path",e),n instanceof qb){const r=gn.fromString(e,...t);return uV(r),new Zu(n,null,r)}{if(!(n instanceof ur||n instanceof Zu))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return uV(r),new Zu(n.firestore,null,r)}}function gT(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=jL.R()),ax("doc","path",e),n instanceof qb){const r=gn.fromString(e,...t);return lV(r),new ur(n,null,new $e(r))}{if(!(n instanceof ur||n instanceof Zu))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return lV(r),new ur(n.firestore,n instanceof Zu?n.converter:null,new $e(r))}}function fV(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof ur||n instanceof Zu)&&(e instanceof ur||e instanceof Zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pV(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof Ts&&e instanceof Ts&&n.firestore===e.firestore&&Ib(n._query,e._query)&&n.converter===e.converter}class VY{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new nk(this,"async_queue_retry"),this.Ua=()=>{const t=cT();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=cT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=cT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new ki;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,be.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!tm(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,si("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=bk.createAndSchedule(this,e,t,r,a=>this.Qa(a));return this.Oa.push(i),i}qa(){this.Fa&&ot()}verifyOperationInProgress(){}ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function lx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class BY{constructor(){this._progressObserver={},this._taskCompletionResolver=new ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mr extends qb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new VY,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mV(this),this._firestoreClient.terminate()}}function li(n){return n._firestoreClient||mV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mV(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qU(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new IY(n._authCredentials,n._appCheckCredentials,n._queue,r)}function gV(n,e,t){const r=new ki;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield eV(n,t),yield tV(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function _V(n){if(n._initialized||n._terminated)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ku(_i.fromBase64String(e))}catch(t){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ku(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class um{constructor(e){this._methodName=e}}class _T{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const ZY=/^__.*__$/;class KY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new em(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ab(e,this.data,t,this.fieldTransforms)}}class yV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new em(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class yT{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new yT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return wT(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(vV(this.Ya)&&ZY.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class QY{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Gb(e)}uc(e,t,r,i=!1){return new yT({Ya:e,methodName:t,oc:r,path:xi.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function cm(n){const e=n._freezeSettings(),t=Gb(n._databaseId);return new QY(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vT(n,e,t,r,i,a={}){const c=n.uc(a.merge||a.mergeFields?2:0,e,t,i);hx("Data must be an object, but it was:",c,r);const f=DV(r,c);let _,D;if(a.merge)_=new E_(c.fieldMask),D=c.fieldTransforms;else if(a.mergeFields){const S=[];for(const A of a.mergeFields){const L=fx(e,A,t);if(!c.contains(L))throw new Ae(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);EV(S,L)||S.push(L)}_=new E_(S),D=c.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=c.fieldTransforms;return new KY(new Es(f),_,D)}class Zb extends um{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zb}}function bV(n,e,t){return new yT({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ux extends um{_toFieldTransform(e){return new Mb(e.path,new x_)}isEqual(e){return e instanceof ux}}class JY extends um{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=bV(this,e,!0),r=this.ac.map(a=>dm(a,t)),i=new Jp(r);return new Mb(e.path,i)}isEqual(e){return this===e}}class XY extends um{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=bV(this,e,!0),r=this.ac.map(a=>dm(a,t)),i=new Xp(r);return new Mb(e.path,i)}isEqual(e){return this===e}}class e$ extends um{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new O_(e.M,mP(e.M,this.cc));return new Mb(e.path,t)}isEqual(e){return this===e}}function cx(n,e,t,r){const i=n.uc(1,e,t);hx("Data must be an object, but it was:",i,r);const a=[],c=Es.empty();zp(r,(_,D)=>{const S=bT(e,_,t);D=(0,nn.m9)(D);const A=i.nc(S);if(D instanceof Zb)a.push(S);else{const L=dm(D,A);null!=L&&(a.push(S),c.set(S,L))}});const f=new E_(a);return new yV(c,f,i.fieldTransforms)}function dx(n,e,t,r,i,a){const c=n.uc(1,e,t),f=[fx(e,r,t)],_=[i];if(a.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(fx(e,a[L])),_.push(a[L+1]);const D=[],S=Es.empty();for(let L=f.length-1;L>=0;--L)if(!EV(D,f[L])){const B=f[L];let $=_[L];$=(0,nn.m9)($);const ee=c.nc(B);if($ instanceof Zb)D.push(B);else{const _e=dm($,ee);null!=_e&&(D.push(B),S.set(B,_e))}}const A=new E_(D);return new yV(S,A,c.fieldTransforms)}function wV(n,e,t,r=!1){return dm(t,n.uc(r?4:3,e))}function dm(n,e){if(CV(n=(0,nn.m9)(n)))return hx("Unsupported field value:",e,n),DV(n,e);if(n instanceof um)return function(t,r){if(!vV(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=dm(c,r.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mP(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Gr.fromDate(t);return{timestampValue:Nb(r.M,i)}}if(t instanceof Gr){const i=new Gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nb(r.M,i)}}if(t instanceof _T)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ku)return{bytesValue:NP(r.M,t._byteString)};if(t instanceof ur){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:A1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${mT(t)}`)}(n,e)}function DV(n,e){const t={};return GL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zp(n,(r,i)=>{const a=dm(i,e.Za(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function CV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gr||n instanceof _T||n instanceof Ku||n instanceof ur||n instanceof um)}function hx(n,e,t){if(!CV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mT(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function fx(n,e,t){if((e=(0,nn.m9)(e))instanceof vd)return e._internalPath;if("string"==typeof e)return bT(n,e);throw wT("Field path arguments must be of type string or ",n,!1,void 0,t)}const t$=new RegExp("[~\\*/\\[\\]]");function bT(n,e,t){if(e.search(t$)>=0)throw wT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vd(...e.split("."))._internalPath}catch(r){throw wT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wT(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ae(he.INVALID_ARGUMENT,f+n+_)}function EV(n,e){return n.some(t=>t.isEqual(e))}class Kb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new n$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class n$ extends Kb{data(){return super.data()}}function DT(n,e){return"string"==typeof e?bT(n,e):e instanceof vd?e._internalPath:e._delegate._internalPath}class hm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends Kb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qb extends bd{data(e={}){return super.data(e)}}class of{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qb(this._firestore,this._userDataWriter,r.key,r,new hm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Qb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new hm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Qb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new hm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),D=a.indexOf(c.doc.key)),{type:r$(c.type),doc:f,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function r$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function TV(n,e){return n instanceof bd&&e instanceof bd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof of&&e instanceof of&&n._firestore===e._firestore&&pV(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function SV(n){if($E(n)&&0===n.explicitOrderBy.length)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jb{}function af(n,...e){for(const t of e)n=t._apply(n);return n}class i$ extends Jb{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=cm(e.firestore),r=function(i,a,c,f,_,D,S){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){OV(S,D);const B=[];for(const $ of S)B.push(xV(f,i,$));A={arrayValue:{values:B}}}else A=xV(f,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||OV(S,D),A=wV(c,"where",S,"in"===D||"not-in"===D);const L=ss.create(_,D,A);return function(B,$){if($.S()){const _e=D1(B);if(null!==_e&&!_e.isEqual($.field))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${$.field.toString()}'`);const Ve=w1(B);null!==Ve&&RV(0,$.field,Ve)}const ee=function(_e,Ve){for(const Oe of _e.filters)if(Ve.indexOf(Oe.op)>=0)return Oe.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ee)throw new Ae(he.INVALID_ARGUMENT,ee===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ts(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new _d(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class o$ extends Jb{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new M_(i,a);return function(f,_){if(null===w1(f)){const D=D1(f);null!==D&&RV(0,D,_.field)}}(r,c),c}(e._query,this.hc,this.dc);return new Ts(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new _d(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class IV extends Jb{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ts(e.firestore,e.converter,uP(e._query,this._c,this.wc))}}class MV extends Jb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=kV(e,this.type,this.mc,this.gc);return new Ts(e.firestore,e.converter,(i=t,new _d((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class AV extends Jb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=kV(e,this.type,this.mc,this.gc);return new Ts(e.firestore,e.converter,(i=t,new _d((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function kV(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof Kb)return function(i,a,c,f,_){if(!f)throw new Ae(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const D=[];for(const S of k_(i))if(S.field.isKeyField())D.push(S_(a,f.key));else{const A=f.data.field(S.field);if(_1(A))throw new Ae(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const L=S.field.canonicalString();throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}D.push(A)}return new Qh(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=cm(n.firestore);return function(a,c,f,_,D,S){const A=a.explicitOrderBy;if(D.length>A.length)throw new Ae(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<D.length;B++){const $=D[B];if(A[B].field.isKeyField()){if("string"!=typeof $)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!C1(a)&&-1!==$.indexOf("/"))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ee=a.path.child(gn.fromString($));if(!$e.isDocumentKey(ee))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const _e=new $e(ee);L.push(S_(c,_e))}else{const ee=wV(f,_,$);L.push(ee)}}return new Qh(L,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function xV(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&-1!==t.indexOf("/"))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!$e.isDocumentKey(r))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S_(n,new $e(r))}if(t instanceof ur)return S_(n,t._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mT(t)}.`)}function OV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function RV(n,e,t){if(!t.isEqual(e))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class px{convertValue(e,t="none"){switch(Kp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return zp(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new _T(Nr(e.latitude),Nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=WL(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bb(e));default:return null}}convertTimestamp(e){const t=Zh(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);Pt($P(r));const i=new md(r.get(1),r.get(3)),a=new $e(r.popFirst(5));return i.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function CT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class p$ extends px{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}class NV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cm(e)}set(e,t,r){this._verifyNotCommitted();const i=lf(e,this._firestore),a=CT(i.converter,t,r),c=vT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,oi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=lf(e,this._firestore);let c;return c="string"==typeof(t=(0,nn.m9)(t))||t instanceof vd?dx(this._dataReader,"WriteBatch.update",a._key,t,r,i):cx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lf(e,this._firestore);return this._mutations=this._mutations.concat(new kb(t._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lf(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new Ae(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fm extends px{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function LV(n,e,t){n=cn(n,ur);const r=cn(n.firestore,mr),i=CT(n.converter,e,t);return K_(r,[vT(cm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,oi.none())])}function PV(n,e,t,...r){n=cn(n,ur);const i=cn(n.firestore,mr),a=cm(i);let c;return c="string"==typeof(e=(0,nn.m9)(e))||e instanceof vd?dx(a,"updateDoc",n._key,e,t,r):cx(a,"updateDoc",n._key,e),K_(i,[c.toMutation(n._key,oi.exists(!0))])}function FV(n,...e){var t,r,i;n=(0,nn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||lx(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(lx(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,D,S;if(n instanceof ur)D=cn(n.firestore,mr),S=A_(n._key.path),_={next:A=>{e[c]&&e[c](mx(D,n,A))},error:e[c+1],complete:e[c+2]};else{const A=cn(n,Ts);D=cn(A.firestore,mr),S=A._query;const L=new fm(D);_={next:B=>{e[c]&&e[c](new of(D,L,A,B))},error:e[c+1],complete:e[c+2]},SV(n._query)}return function(A,L,B,$){const ee=new fT($),_e=new Sk(L,ee,B);return A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return wk(yield Z_(A),_e)})),()=>{ee.pa(),A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Ck(yield Z_(A),_e)}))}}(li(D),S,f,_)}function K_(n,e){return function(t,r){const i=new ki;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function aY(n,e,t){return xk.apply(this,arguments)}(yield sx(t),r,i)})),i.promise}(li(n),e)}function mx(n,e,t){const r=t.docs.get(e._key),i=new fm(n);return new bd(n,i,e._key,r,new hm(t.hasPendingWrites,t.fromCache),e.converter)}class E$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cm(e)}get(e){const t=lf(e,this._firestore),r=new p$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const a=i[0];if(a.isFoundDocument())return new Kb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Kb(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=lf(e,this._firestore),a=CT(i.converter,t,r),c=vT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=lf(e,this._firestore);let c;return c="string"==typeof(t=(0,nn.m9)(t))||t instanceof vd?dx(this._dataReader,"Transaction.update",a._key,t,r,i):cx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=lf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=lf(e,this._firestore),r=new fm(this._firestore);return super.get(e).then(i=>new bd(this._firestore,r,t._key,i._document,new hm(!1,!1),t.converter))}}function gx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BV(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function HV(){if(!function WU(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){D_=Up.SDK_VERSION,(0,Up._registerComponent)(new dE.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new mr(i,new HU(t.getProvider("auth-internal")),new YU(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Up.registerVersion)(BL,"3.4.7",n),(0,Up.registerVersion)(BL,"3.4.7","esm2017")}();class Xb{constructor(e){this._delegate=e}static fromBase64String(e){return HV(),new Xb(Ku.fromBase64String(e))}static fromUint8Array(e){return BV(),new Xb(Ku.fromUint8Array(e))}toBase64(){return HV(),this._delegate.toBase64()}toUint8Array(){return BV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _x(n){return function R$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class N${enableIndexedDbPersistence(e,t){return function UY(n,e){_V(n=cn(n,mr));const t=li(n),r=n._freezeSettings(),i=new Jk;return gV(t,i,new JF(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function jY(n){_V(n=cn(n,mr));const e=li(n),t=n._freezeSettings(),r=new Jk;return gV(e,r,new CY(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function YY(n){if(n._initialized&&!n._terminated)throw new Ae(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ki;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!jl.vt())return Promise.resolve();const i=r+"main";yield jl.delete(i)}),function(r){return t.apply(this,arguments)})($1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof md||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function PY(n,e,t,r={}){var i;const a=(n=cn(n,qb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&yb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=is.MOCK_USER;else{c=(0,nn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new is(_)}n._authCredentials=new BU(new HL(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function GY(n){return function MY(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield nV(n),t=yield rV(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.lu.delete(0),Wb(i)}(t)}))}(li(n=cn(n,mr)))}(this._delegate)}disableNetwork(){return function WY(n){return function AY(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield nV(n),t=yield rV(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const a=qe(i);a.lu.add(0),yield j_(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(li(n=cn(n,mr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aV("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $Y(n){return function(e){const t=new ki;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function dY(n,e){return Pk.apply(this,arguments)}(yield sx(e),t)})),t.promise}(li(n=cn(n,mr)))}(this._delegate)}onSnapshotsInSync(e){return function C$(n,e){return function OY(n,e){const t=new fT(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Z_(n),i=t,qe(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Z_(n),i=t,void qe(r).Tu.delete(i);var r,i}))}}(li(n=cn(n,mr)),lx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Q_(this,hV(this._delegate,e))}catch(t){throw ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new il(this,gT(this._delegate,e))}catch(t){throw ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function FY(n,e){if(n=cn(n,qb),ax("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(t=e,new _d(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function T$(n,e){return function RY(n,e){const t=new ki;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(i=n,pT(i).then(a=>a.datastore));var i;new SY(n.asyncQueue,r,e,t).run()})),t.promise}(li(n=cn(n,mr)),t=>e(new E$(n,t)))}(this._delegate,t=>e(new jV(this,t)))}batch(){return li(this._delegate),new YV(new NV(this._delegate,e=>K_(this._delegate,e)))}loadBundle(e){return function zY(n,e){const t=li(n=cn(n,mr)),r=new BY;return function NY(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,D){if(_ instanceof Uint8Array)return XF(_,D);if(_ instanceof ArrayBuffer)return XF(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new EY(_,c);var _}(t,Gb(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function DY(n,e,t){const r=qe(n);var i;(i=(0,be.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(L,B){const $=qe(L),ee=Oi(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",_e=>$.ds.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(jF(_));const D=new tY(_,a.localStore,c.M);let S=yield c.fa();for(;S;){const L=yield D.Nu(S);L&&f._updateProgress(L),S=yield c.fa()}const A=yield D.complete();return yield yd(a,A.Ou,void 0),yield function(L,B){const $=qe(L);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.ds.saveBundleMetadata(ee,B))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(_){return yb("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield sx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function qY(n,e){return function LY(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.ds.getNamedQuery(a,r))}(yield ix(n),e)}))}(li(n=cn(n,mr)),e).then(t=>t?new Ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class ET extends px{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xb(new Ku(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return il.forKey(t,this.firestore,null)}}class jV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ET(e)}get(e){const t=mm(e);return this._delegate.get(t).then(r=>new ew(this._firestore,new bd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=mm(e);return r?(gx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=mm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=mm(e);return this._delegate.delete(t),this}}class YV{constructor(e){this._delegate=e}set(e,t,r){const i=mm(e);return r?(gx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=mm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=mm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new pm(e,new ET(e),t),i.set(t,a)),a}}pm.INSTANCES=new WeakMap;class il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ET(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new il(t,new ur(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new il(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Q_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Q_(this.firestore,hV(this._delegate,e))}catch(t){throw ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof ur&&fV(this._delegate,e)}set(e,t){t=gx("DocumentReference.set",t);try{return t?LV(this._delegate,e,t):LV(this._delegate,e)}catch(r){throw ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?PV(this._delegate,e):PV(this._delegate,e,t,...r)}catch(i){throw ro(i,"updateDoc()","DocumentReference.update()")}}delete(){return function w$(n){return K_(cn(n.firestore,mr),[new kb(n._key,oi.none())])}(this._delegate)}onSnapshot(...e){const t=$V(e),r=GV(e,i=>new ew(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return FV(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function g$(n){n=cn(n,ur);const e=cn(n.firestore,mr),t=li(e),r=new fm(e);return function kY(n,e){const t=new ki;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,c){try{const f=yield function(_,D){const S=qe(_);return S.persistence.runTransaction("read document","readonly",A=>S.ai.Bs(A,D))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ae(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=G_(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield ix(n),e,t);var r})),t.promise}(t,n._key).then(i=>new bd(e,r,n._key,i,new hm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function _$(n){n=cn(n,ur);const e=cn(n.firestore,mr);return iV(li(e),n._key,{source:"server"}).then(t=>mx(e,n,t))}(this._delegate):function m$(n){n=cn(n,ur);const e=cn(n.firestore,mr);return iV(li(e),n._key).then(t=>mx(e,n,t))}(this._delegate),t.then(r=>new ew(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new il(this.firestore,this._delegate.withConverter(e?pm.getInstance(this.firestore,e):null))}}function ro(n,e,t){return n.message=n.message.replace(e,t),n}function $V(n){for(const e of n)if("object"==typeof e&&!_x(e))return e;return{}}function GV(n,e){var t,r;let i;return i=_x(n[0])?n[0]:_x(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ew{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new il(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TV(this._delegate,e._delegate)}}class tw extends ew{data(e){const t=this._delegate.data(e);return function FU(n,e){n||ot()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ET(e)}where(e,t,r){try{return new io(this.firestore,af(this._delegate,function s$(n,e,t){const r=e,i=DT("where",n);return new i$(i,r,t)}(e,t,r)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,af(this._delegate,function a$(n,e="asc"){const t=e,r=DT("orderBy",n);return new o$(r,t)}(e,t)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,af(this._delegate,function l$(n){return cV("limit",n),new IV("limit",n,"F")}(e)))}catch(t){throw ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,af(this._delegate,function u$(n){return cV("limitToLast",n),new IV("limitToLast",n,"L")}(e)))}catch(t){throw ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,af(this._delegate,function c$(...n){return new MV("startAt",n,!0)}(...e)))}catch(t){throw ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,af(this._delegate,function d$(...n){return new MV("startAfter",n,!1)}(...e)))}catch(t){throw ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,af(this._delegate,function h$(...n){return new AV("endBefore",n,!1)}(...e)))}catch(t){throw ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,af(this._delegate,function f$(...n){return new AV("endAt",n,!0)}(...e)))}catch(t){throw ro(t,"endAt()","Query.endAt()")}}isEqual(e){return pV(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function v$(n){n=cn(n,Ts);const e=cn(n.firestore,mr),t=li(e),r=new fm(e);return function xY(n,e){const t=new ki;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,c){try{const f=yield aT(i,a,!0),_=new GF(a,f.hi),D=_.Gu(f.documents),S=_.applyChanges(D,!1);c.resolve(S.snapshot)}catch(f){const _=G_(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield ix(n),e,t);var r})),t.promise}(t,n._query).then(i=>new of(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function b$(n){n=cn(n,Ts);const e=cn(n.firestore,mr),t=li(e),r=new fm(e);return sV(t,n._query,{source:"server"}).then(i=>new of(e,r,n,i))}(this._delegate):function y$(n){n=cn(n,Ts);const e=cn(n.firestore,mr),t=li(e),r=new fm(e);return SV(n._query),sV(t,n._query).then(i=>new of(e,r,n,i))}(this._delegate),t.then(r=>new yx(this.firestore,new of(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=$V(e),r=GV(e,i=>new yx(this.firestore,new of(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return FV(this._delegate,t,r)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?pm.getInstance(this.firestore,e):null))}}class P${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new tw(this._firestore,r))})}isEqual(e){return TV(this._delegate,e._delegate)}}class Q_ extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new il(this.firestore,e):null}doc(e){try{return new il(this.firestore,void 0===e?gT(this._delegate):gT(this._delegate,e))}catch(t){throw ro(t,"doc()","CollectionReference.doc()")}}add(e){return function D$(n,e){const t=cn(n.firestore,mr),r=gT(n),i=CT(n.converter,e);return K_(t,[vT(cm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,oi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new il(this.firestore,t))}isEqual(e){return fV(this._delegate,e._delegate)}withConverter(e){return new Q_(this.firestore,this._delegate.withConverter(e?pm.getInstance(this.firestore,e):null))}}function mm(n){return cn(n,ur)}class vx{constructor(...e){this._delegate=new vd(...e)}static documentId(){return new vx(xi.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof vd&&this._delegate._internalPath.isEqual(e._internalPath)}}class gm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function I$(){return new ux("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gm(e)}static delete(){const e=function S$(){return new Zb("deleteField")}();return e._methodName="FieldValue.delete",new gm(e)}static arrayUnion(...e){const t=function M$(...n){return new JY("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gm(t)}static arrayRemove(...e){const t=function A$(...n){return new XY("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gm(t)}static increment(e){const t=function k$(n){return new e$("increment",n)}(e);return t._methodName="FieldValue.increment",new gm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const F$={Firestore:UV,GeoPoint:_T,Timestamp:Gr,Blob:Xb,Transaction:jV,WriteBatch:YV,DocumentReference:il,DocumentSnapshot:ew,Query:io,QueryDocumentSnapshot:tw,QuerySnapshot:yx,CollectionReference:Q_,FieldPath:vx,FieldValue:gm,setLogLevel:function L$(n){!function PU(n){qh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function B$(n){(function V$(n,e){n.INTERNAL.registerComponent(new dE.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},F$)))})(n,(e,t)=>new UV(e,t,new N$)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(MH.Z);var H$=R(6063);class WV extends Fn.x{constructor(e=1/0,t=1/0,r=H$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var U$=R(3099);function zV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,U$.B)({connector:()=>new WV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qV(n,e){return(0,Ti.m)(e)?er(()=>n,e):er(()=>n)}var bx=R(9468);R(5867);const KV=new Map,W$={activated:!1,tokenObservers:[]},z$={initialized:!1,enabled:!1};function Pi(n){return KV.get(n)||W$}function Yl(n,e){KV.set(n,e)}function ST(){return z$}class J${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function X$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const so=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JV(n){if(!Pi(n).activated)throw so.create("use-before-activation",{appName:n.name})}function Ex(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(A){throw so.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw so.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw so.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const D=1e3*Number(_[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),Tx.apply(this,arguments)}function i6(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const nw="firebase-app-check-store";let AT=null;function e2(){return AT||(AT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(so.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nw,{keyPath:"compositeKey"})}}catch(t){e(so.create("storage-open",{originalErrorMessage:t.message}))}}),AT)}function Sx(){return Sx=(0,be.Z)(function*(n,e){const r=(yield e2()).transaction(nw,"readwrite"),a=r.objectStore(nw).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var D;f(so.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})}),Sx.apply(this,arguments)}const rw=new Gh.Yd("@firebase/app-check");function s2(n,e){return(0,nn.hl)()?function l6(n,e){return function t2(n,e){return Sx.apply(this,arguments)}(function r2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{rw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function o2(){return ST().enabled}function a2(){return kx.apply(this,arguments)}function kx(){return kx=(0,be.Z)(function*(){const n=ST();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kx.apply(this,arguments)}const p6={error:"UNKNOWN_ERROR"};function m6(n){return nn.US.encodeString(JSON.stringify(n),!1)}function kT(n){return xx.apply(this,arguments)}function xx(){return xx=(0,be.Z)(function*(n,e=!1){const t=n.app;JV(t);const r=Pi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&xT(_)&&(i=_)}if(!e&&i&&xT(i))return{token:i.token};let f,c=!1;if(o2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ex(i6(t,yield a2()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),c=!0);const _=yield r.exchangeTokenPromise;return yield s2(t,_),Yl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?rw.warn(_.message):rw.error(_),a=_}return i?(f={token:i.token},Yl(t,Object.assign(Object.assign({},r),{token:i})),yield s2(t,i)):f=_6(a),c&&u2(t,f),f}),xx.apply(this,arguments)}function Rx(n,e){const t=Pi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function l2(n){const{app:e}=n,t=Pi(e);let r=t.tokenRefresher;r||(r=function g6(n){const{app:e}=n;return new J$((0,be.Z)(function*(){let r;if(r=Pi(e).token?yield kT(n,!0):yield kT(n),r.error)throw r.error}),()=>!0,()=>{const t=Pi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Yl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function u2(n,e){const t=Pi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function xT(n){return n.expireTimeMillis-Date.now()>0}function _6(n){return{token:m6(p6),error:n}}class y6{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Pi(this.app);for(const t of e)Rx(this.app,t.next);return Promise.resolve()}}const _2="app-check-internal";!function O6(){(0,Up._registerComponent)(new dE.wA("app-check",n=>function v6(n,e){return new y6(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_2).initialize()})),(0,Up._registerComponent)(new dE.wA(_2,n=>function b6(n){return{getToken:e=>kT(n,e),addTokenListener:e=>function Ox(n,e,t,r){const{app:i}=n,a=Pi(i),c={next:t,error:r,type:e};if(Yl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&xT(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),l2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>l2(n))}(n,"INTERNAL",e),removeTokenListener:e=>Rx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Up.registerVersion)("@firebase/app-check","0.5.5")}();class Fx{constructor(){return(0,es.vb)("app-check")}}"undefined"!=typeof window&&window;var F6=R(127);const v2=new u.OlP("angularfire2.auth.use-emulator"),b2=new u.OlP("angularfire2.auth.settings"),w2=new u.OlP("angularfire2.auth.tenant-id"),D2=new u.OlP("angularfire2.auth.langugage-code"),C2=new u.OlP("angularfire2.auth.use-device-language"),E2=new u.OlP("angularfire.auth.persistence"),T2=(n,e,t,r,i,a,c,f)=>(0,Hl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[D,S]of Object.entries(c))_.settings[D]=S;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let S2=(()=>{class n{constructor(t,r,i,a,c,f,_,D,S,A,L,B){const $=new Fn.x,ee=gt(void 0).pipe((0,id.Q)(c.outsideAngular),er(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,4087)))),(0,Nt.U)(()=>(0,Hl.on)(t,a,r)),(0,Nt.U)(_e=>T2(_e,a,f,D,S,A,_,L)),zV({bufferSize:1,refCount:!1}));if(Ar(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{ee.pipe(xo()).subscribe();const Ve=ee.pipe(er(Ge=>Ge.getRedirectResult().then(yt=>yt,()=>null)),es.iC,zV({bufferSize:1,refCount:!1})),Oe=ee.pipe(er(Ge=>new vr.y(yt=>({unsubscribe:a.runOutsideAngular(()=>Ge.onAuthStateChanged(ut=>yt.next(ut),ut=>yt.error(ut),()=>yt.complete()))})))),ze=ee.pipe(er(Ge=>new vr.y(yt=>({unsubscribe:a.runOutsideAngular(()=>Ge.onIdTokenChanged(ut=>yt.next(ut),ut=>yt.error(ut),()=>yt.complete()))}))));this.authState=Ve.pipe(qV(Oe),(0,bx.R)(c.outsideAngular),(0,id.Q)(c.insideAngular)),this.user=Ve.pipe(qV(ze),(0,bx.R)(c.outsideAngular),(0,id.Q)(c.insideAngular)),this.idToken=this.user.pipe(er(Ge=>Ge?(0,Qn.D)(Ge.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(er(Ge=>Ge?(0,Qn.D)(Ge.getIdTokenResult()):gt(null))),this.credential=(0,Mi.T)(Ve,$,this.authState.pipe(An(Ge=>!Ge))).pipe((0,Nt.U)(Ge=>(null==Ge?void 0:Ge.user)?Ge:null),(0,bx.R)(c.outsideAngular),(0,id.Q)(c.insideAngular))}return(0,Hl.pX)(this,ee,a,{spy:{apply:(_e,Ve,Oe)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Oe.then(ze=>$.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hl.Dh),u.LFG(Hl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(es.HU),u.LFG(v2,8),u.LFG(b2,8),u.LFG(w2,8),u.LFG(D2,8),u.LFG(C2,8),u.LFG(E2,8),u.LFG(Fx,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function I2(n,e){return function B6(n,e=OM.z){return new vr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Bx(n,e){return I2(n,e).pipe((0,Nt.U)(t=>({payload:t,type:"query"})))}function RT(n,e){return Bx(n,e).pipe($i(void 0),CA(),(0,Nt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function M2(n,e,t){return RT(n,t).pipe(xr((r,i)=>function U6(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function j6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Hx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Hx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Hx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),mg(),(0,Nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Hx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function A2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class k2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=RT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe($i(void 0),CA(),An(([r,i])=>i.length>0||!r),(0,Nt.U)(([r,i])=>i),es.iC)}auditTrail(e){return this.stateChanges(e).pipe(xr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=A2(e);return M2(this.query,t,this.afs.schedulers.outsideAngular).pipe(es.iC)}valueChanges(e={}){return Bx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),es.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(es.iC)}add(e){return this.ref.add(e)}doc(e){return new x2(this.ref.doc(e),this.afs)}}class x2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=N2(r,t);return new k2(i,a,this.afs)}snapshotChanges(){return function H6(n,e){return I2(n,e).pipe($i(void 0),CA(),(0,Nt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(es.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qn.D)(this.ref.get(e)).pipe(es.iC)}}class Y6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?RT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),An(t=>t.length>0),es.iC):RT(this.query,this.afs.schedulers.outsideAngular).pipe(es.iC)}auditTrail(e){return this.stateChanges(e).pipe(xr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=A2(e);return M2(this.query,t,this.afs.schedulers.outsideAngular).pipe(es.iC)}valueChanges(e={}){return Bx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),es.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(es.iC)}}const O2=new u.OlP("angularfire2.enableFirestorePersistence"),R2=new u.OlP("angularfire2.firestore.persistenceSettings"),$6=new u.OlP("angularfire2.firestore.settings"),G6=new u.OlP("angularfire2.firestore.use-emulator");function N2(n,e=(t=>t)){return{query:e(n),ref:n}}let NT=(()=>{class n{constructor(t,r,i,a,c,f,_,D,S,A,L,B,$,ee,_e,Ve,Oe){this.schedulers=_;const ze=(0,Hl.on)(t,f,r),Ge=S;A&&T2(ze,f,L,$,ee,_e,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,Hl.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const yt=f.runOutsideAngular(()=>ze.firestore());if(a&&yt.settings(a),Ge&&yt.useEmulator(...Ge),i&&!Ar(c)){const ut=()=>{try{return(0,Qn.D)(yt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(sn){return"undefined"!=typeof console&&console.warn(sn),gt(!1)}};return[yt,f.runOutsideAngular(ut)]}return[yt,gt(!1)]},[a,Ge,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=N2(i,r),f=this.schedulers.ngZone.run(()=>a);return new k2(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new Y6(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new x2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hl.Dh),u.LFG(Hl.xv,8),u.LFG(O2,8),u.LFG($6,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(es.HU),u.LFG(R2,8),u.LFG(G6,8),u.LFG(S2,8),u.LFG(v2,8),u.LFG(b2,8),u.LFG(w2,8),u.LFG(D2,8),u.LFG(C2,8),u.LFG(E2,8),u.LFG(Fx,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ux=(()=>{class n{constructor(){F6.Z.registerVersion("angularfire",es.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:O2,useValue:!0},{provide:R2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[NT]}),n})(),L2=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("events").add(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),W6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[L2,{provide:bv,useExisting:L2}],imports:[[Ux]]}),n})(),z6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ka.forChild([{path:"",component:SH}]),IH,W6]]}),n})();const P2=new u.OlP("ADDS_DIET_DTO");let q6=(()=>{class n{constructor(t){this._addsDietDto=t,this.newDiet=new np({name:new $c("",dh.required)})}onNewDietSubmited(t){var r;this._addsDietDto.add({name:null===(r=t.get("name"))||void 0===r?void 0:r.value}),this.newDiet.reset()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P2))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-add-diet-form"]],decls:5,vars:2,consts:[[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your diet",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50",3,"disabled"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onNewDietSubmited(r.newDiet)}),u.TgZ(1,"p",1),u._uU(2,"Add your diet"),u.qZA(),u._UZ(3,"input",2)(4,"input",3),u.qZA()),2&t&&(u.Q6J("formGroup",r.newDiet),u.xp6(4),u.Q6J("disabled",!r.newDiet.valid))},directives:[sp,zy,Al,ch,Xf,ap],encapsulation:2,changeDetection:0}),n})();const F2=new u.OlP("GETS_ALL_DIET_DTO"),V2=new u.OlP("REMOVES_DIET_DTO"),B2=new u.OlP("SETS_DIET_DTO"),H2=new u.OlP("INPUT_STATE_DTO_STORAGE");function Z6(n,e){1&n&&u._UZ(0,"div")}function K6(n,e){if(1&n&&(u.TgZ(0,"div",7),u.YNc(1,Z6,1,0,"div",8),u.qZA()),2&n){const t=e.ngIf,r=u.oxw().$implicit,i=u.MAs(4),a=u.MAs(7);u.xp6(1),u.Q6J("ngIf",t.dietId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",a)}}function Q6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",9),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onSaveChangesClicked(i)}),u._UZ(1,"input",10)(2,"input",11),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("formGroup",t.editingDiet),u.xp6(2),u.Q6J("disabled",!t.editingDiet.valid)}}function J6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13),u.O4$(),u.TgZ(2,"svg",14),u._UZ(3,"path",15),u.qZA(),u.kcU(),u.TgZ(4,"p",16),u._uU(5),u.qZA()(),u.TgZ(6,"div",17)(7,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onEditClicked(i)}),u.O4$(),u.TgZ(8,"svg",19),u._UZ(9,"path",20),u.qZA()(),u.kcU(),u.TgZ(10,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onDeleteClicked(i.id)}),u.O4$(),u.TgZ(11,"svg",21),u._UZ(12,"path",22)(13,"path",23),u.qZA()()()()}if(2&n){const t=u.oxw().$implicit;u.xp6(5),u.Oqu(t.name)}}function X6(n,e){if(1&n&&(u.TgZ(0,"div",3),u.YNc(1,K6,2,3,"div",4),u.ALo(2,"async"),u.YNc(3,Q6,3,2,"ng-template",null,5,u.W1O),u.YNc(5,J6,14,1,"ng-template",null,6,u.W1O),u.qZA()),2&n){const t=u.MAs(6),r=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let e4=(()=>{class n{constructor(t,r,i,a){this._getsAllDietDto=t,this._removesDietDto=r,this._setsDietDto=i,this._inputStateDtoStorage=a,this.diets$=this._getsAllDietDto.getAll(),this.inputState$=this._inputStateDtoStorage.asObservable(),this.editingDiet=new np({name:new $c("",dh.required)})}onDeleteClicked(t){this._removesDietDto.remove(t)}onSaveChangesClicked(t){var r;this._setsDietDto.set({id:t.id,name:null===(r=this.editingDiet.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}onEditClicked(t){var r;this._inputStateDtoStorage.next({dietId:t.id,isEditing:!0}),null===(r=this.editingDiet.get("name"))||void 0===r||r.setValue(t.name)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(F2),u.Y36(V2),u.Y36(B2),u.Y36(H2))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-diet-list"]],decls:4,vars:3,consts:[[1,"w-100","border-top"],[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,X6,8,4,"div",2),u.ALo(3,"async"),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,1,r.diets$)))},directives:[Rn,hr,sp,zy,Al,ch,Xf,ap],pipes:[Na],encapsulation:2,changeDetection:0}),n})(),t4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-diet-page"]],decls:5,vars:0,consts:[[1,"container","d-flex","align-items-center","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Diet - Set up your diet"),u.qZA()(),u._UZ(3,"lib-add-diet-form")(4,"lib-diet-list"))},directives:[q6,e4],encapsulation:2,changeDetection:0}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ws]]}),n})(),r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ws]]}),n})(),U2=(()=>{class n extends WV{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),i4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[U2,{provide:H2,useExisting:U2}],imports:[[]]}),n})(),iw=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("diets").add(t)}getAll(t){return this._client.collection("diets").valueChanges({idField:"id"}).pipe((0,Nt.U)(r=>((n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,a,c)=>void 0===i.find(f=>a[f]!==c[f]))(t,i,e))})(r,t)))}remove(t){this._client.doc("diets/"+t).delete()}set(t){this._client.doc("diets/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),o4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[iw,{provide:P2,useExisting:iw},{provide:F2,useExisting:iw},{provide:V2,useExisting:iw},{provide:B2,useExisting:iw}],imports:[[Ux]]}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ka.forChild([{path:"",component:t4}]),n4,o4,r4,i4]]}),n})();const l4=[{path:"",loadChildren:()=>bw},{path:"event-form",loadChildren:()=>z6},{path:"diet",loadChildren:()=>a4}];let u4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ka.forRoot(l4)],Ka]}),n})();const j2=new u.OlP("GETS_ALL_NAV_LINK_DTO");function c4(n,e){if(1&n&&(u.TgZ(0,"li",2)(1,"a",3),u._UZ(2,"img",4),u._uU(3),u.qZA()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("routerLink",t.link),u.xp6(1),u.Q6J("src",t.icon,u.LSH),u.xp6(1),u.hij(" ",t.name," ")}}let d4=(()=>{class n{constructor(t){this._getsAllNavLinkDto=t,this.navLink$=this._getsAllNavLinkDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(j2))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-navigation"]],decls:3,vars:3,consts:[[1,"nav","flex-column","pt-5"],["class","nav-item fw-bold",4,"ngFor","ngForOf"],[1,"nav-item","fw-bold"],[1,"nav-link","d-inline-flex","fs-6","text-decoration-none","text-dark",3,"routerLink"],[1,"pe-2",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"ul",0),u.YNc(1,c4,4,3,"li",1),u.ALo(2,"async"),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,r.navLink$)))},directives:[Rn,qf],pipes:[Na],encapsulation:2,changeDetection:0}),n})(),h4=(()=>{class n{constructor(){this.title="niedzielny-projekt"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"py-1","container-flex","bg-success","text-white"],[1,"py-2","ps-4","d-flex","align-items-center"],["width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 0C11.2311 0 8.52431 0.821086 6.22202 2.35943C3.91973 3.89777 2.12532 6.08427 1.06569 8.64243C0.00606596 11.2006 -0.271181 14.0155 0.269012 16.7313C0.809205 19.447 2.14258 21.9416 4.10051 23.8995C6.05845 25.8574 8.55301 27.1908 11.2687 27.731C13.9845 28.2712 16.7994 27.9939 19.3576 26.9343C21.9157 25.8747 24.1022 24.0803 25.6406 21.778C27.1789 19.4757 28 16.7689 28 14C28 10.287 26.525 6.72601 23.8995 4.1005C21.274 1.475 17.713 0 14 0ZM13.91 10.45C13.6872 10.45 13.4736 10.5385 13.316 10.696C13.1585 10.8536 13.07 11.0672 13.07 11.29V16.43C13.07 17.3715 12.696 18.2745 12.0302 18.9402C11.3645 19.606 10.4615 19.98 9.52001 19.98C8.57849 19.98 7.67553 19.606 7.00978 18.9402C6.34402 18.2745 5.97001 17.3715 5.97001 16.43V14.09H8.68001V16.33C8.68001 16.5528 8.76851 16.7664 8.92604 16.924C9.08357 17.0815 9.29722 17.17 9.52001 17.17C9.74279 17.17 9.95645 17.0815 10.114 16.924C10.2715 16.7664 10.36 16.5528 10.36 16.33V11.33C10.4082 10.4224 10.8027 9.56781 11.4623 8.94239C12.1218 8.31697 12.9961 7.96835 13.905 7.96835C14.8139 7.96835 15.6882 8.31697 16.3477 8.94239C17.0073 9.56781 17.4018 10.4224 17.45 11.33V12.33L15.87 12.84L14.75 12.33V11.33C14.754 11.2167 14.7353 11.1038 14.695 10.9978C14.6547 10.8919 14.5937 10.795 14.5154 10.713C14.4371 10.631 14.3432 10.5655 14.2393 10.5204C14.1353 10.4752 14.0234 10.4513 13.91 10.45ZM21.84 16.45C21.7918 17.3576 21.3973 18.2122 20.7377 18.8376C20.0782 19.463 19.2039 19.8117 18.295 19.8117C17.3861 19.8117 16.5118 19.463 15.8523 18.8376C15.1927 18.2122 14.7982 17.3576 14.75 16.45V14.14L15.87 14.65L17.45 14.14V16.43C17.45 16.6528 17.5385 16.8664 17.696 17.024C17.8536 17.1815 18.0672 17.27 18.29 17.27C18.5128 17.27 18.7264 17.1815 18.884 17.024C19.0415 16.8664 19.13 16.6528 19.13 16.43V14.19H21.84V16.45Z","fill","black"],[1,"ps-2","m-0"],[1,"grid","bg-dark","vh-100"],[1,"g-col-1","bg-white"],[1,"g-col-9","g-start-3","text-white"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3),u.qZA(),u.kcU(),u.TgZ(4,"h4",4),u._uU(5,"EVENT ADMIN"),u.qZA()()(),u.TgZ(6,"div",5)(7,"div",6),u._UZ(8,"lib-navigation"),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"router-outlet"),u.qZA()())},directives:[d4,Oc],styles:[""]}),n})();const Y2_firebase={projectId:"sundaybootcamp-67f93",appId:"1:777656207743:web:9536bb56ef77efc0de324a",storageBucket:"sundaybootcamp-67f93.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAnJs2shS5FhTPMf8yVnS4UZNWqpnvek8E",authDomain:"sundaybootcamp-67f93.firebaseapp.com",messagingSenderId:"777656207743"},ln=!1;function $2(n){return new u.vHH(3e3,ln)}function W4(){return"undefined"!=typeof window&&void 0!==window.document}function jx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function uf(n){switch(n.length){case 0:return new Lp;case 1:return n[0];default:return new Zg(n)}}function G2(n,e,t,r,i={},a={}){const c=[],f=[];let _=-1,D=null;if(r.forEach(S=>{const A=S.offset,L=A==_,B=L&&D||{};Object.keys(S).forEach($=>{let ee=$,_e=S[$];if("offset"!==$)switch(ee=e.normalizePropertyName(ee,c),_e){case"!":_e=i[$];break;case Bl:_e=a[$];break;default:_e=e.normalizeStyleValue($,ee,_e,c)}B[ee]=_e}),L||f.push(B),D=B,_=A}),c.length)throw function L4(n){return new u.vHH(3502,ln)}();return f}function Yx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&$x(t,"start",n)));break;case"done":n.onDone(()=>r(t&&$x(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&$x(t,"destroy",n)))}}function $x(n,e,t){const r=t.totalTime,a=Gx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function Gx(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function ka(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function W2(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Wx=(n,e)=>!1,z2=(n,e,t)=>[],q2=null;function zx(n){const e=n.parentNode||n.host;return e===q2?null:e}(jx()||"undefined"!=typeof Element)&&(W4()?(q2=(()=>document.documentElement)(),Wx=(n,e)=>{for(;e;){if(e===n)return!0;e=zx(e)}return!1}):Wx=(n,e)=>n.contains(e),z2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let _m=null,Z2=!1;function K2(n){_m||(_m=function q4(){return"undefined"!=typeof document?document.body:null}()||{},Z2=!!_m.style&&"WebkitAppearance"in _m.style);let e=!0;return _m.style&&!function z4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in _m.style,!e&&Z2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _m.style)),e}const Q2=Wx,J2=z2;let X2=(()=>{class n{validateStyleProperty(t){return K2(t)}matchesElement(t,r){return!1}containsElement(t,r){return Q2(t,r)}getParentElement(t){return zx(t)}query(t,r,i){return J2(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new Lp(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qx=(()=>{class n{}return n.NOOP=new X2,n})();const Zx="ng-enter",PT="ng-leave",FT="ng-trigger",VT=".ng-trigger",tB="ng-animating",Kx=".ng-animating";function ym(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qx(parseFloat(e[1]),e[2])}function Qx(n,e){return"s"===e?1e3*n:n}function BT(n,e,t){return n.hasOwnProperty("duration")?n:function Q4(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push($2()),{duration:0,delay:0,easing:""};i=Qx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=Qx(parseFloat(_),f[4]));const D=f[5];D&&(c=D)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function f4(){return new u.vHH(3100,ln)}()),f=!0),a<0&&(e.push(function p4(){return new u.vHH(3101,ln)}()),f=!0),f&&e.splice(_,0,$2())}return{duration:i,delay:a,easing:c}}(n,e,t)}function J_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else J_(n,t);return t}function rB(n,e,t){return t?e+":"+t+";":""}function iB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=rB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=rB(0,eG(t),n.style[t]));n.setAttribute("style",e)}function Qu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Xx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),jx()&&iB(n))}function vm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Xx(t);n.style[r]=""}),jx()&&iB(n))}function sw(n){return Array.isArray(n)?1==n.length?n[0]:o0(n):n}const Jx=new RegExp("{{\\s*(.+?)\\s*}}","g");function sB(n){let e=[];if("string"==typeof n){let t;for(;t=Jx.exec(n);)e.push(t[1]);Jx.lastIndex=0}return e}function HT(n,e,t){const r=n.toString(),i=r.replace(Jx,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function g4(n){return new u.vHH(3003,ln)}()),f=""),f.toString()});return i==r?n:i}function UT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const X4=/-+([a-z0-9])/g;function Xx(n){return n.replace(X4,(...e)=>e[1].toUpperCase())}function eG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function _4(n){return new u.vHH(3004,ln)}()}}function oB(n,e){return window.getComputedStyle(n)[e]}function oG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function aG(n,e,t){if(":"==n[0]){const _=function lG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function x4(n){return new u.vHH(3016,ln)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function k4(n){return new u.vHH(3015,ln)}()),e;const i=r[1],a=r[2],c=r[3];e.push(aB(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(aB(c,i))}(r,t,e)):t.push(n),t}const GT=new Set(["true","1"]),WT=new Set(["false","0"]);function aB(n,e){const t=GT.has(n)||WT.has(n),r=GT.has(e)||WT.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?GT.has(n):WT.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?GT.has(e):WT.has(e)),c&&f}}const uG=new RegExp("s*:selfs*,?","g");function eO(n,e,t,r){return new cG(n).build(e,t,r)}class cG{constructor(e){this._driver=e}build(e,t,r){const i=new fG(t);this._resetContextStyleTimingState(i);const a=xa(this,sw(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function v4(){return new u.vHH(3006,ln)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,D=_.name;D.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,a.push(this.visitState(_,t))}),_.name=D}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function b4(){return new u.vHH(3007,ln)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(zT(f)){const _=f;Object.keys(_).forEach(D=>{sB(_[D]).forEach(S=>{c.hasOwnProperty(S)||a.add(S)})})}}),a.size&&(UT(a.values()),t.errors.push(function w4(n,e){return new u.vHH(3008,ln)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=xa(this,sw(e.animation),t);return{type:1,matchers:oG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:bm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>xa(this,r,t)),options:bm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=xa(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:bm(e.options)}}visitAnimate(e,t){const r=function mG(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return tO(BT(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=tO(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||BT(r,e),tO(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:rd({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const D={};r.easing&&(D.easing=r.easing),c=rd(D)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Bl?r.push(c):t.errors.push(function D4(n){return new u.vHH(3002,ln)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(zT(c)){const f=c,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let D in f)if(f[D].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],D=_[f];let S=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function C4(n,e,t,r,i){return new u.vHH(3010,ln)}()),S=!1),a=D.startTime),S&&(_[f]={startTime:a,endTime:i}),t.options&&function J4(n,e,t){const r=e.params||{},i=sB(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function m4(n){return new u.vHH(3001,ln)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function E4(){return new u.vHH(3011,ln)}()),r;let a=0;const c=[];let f=!1,_=!1,D=0;const S=e.steps.map(Ve=>{const Oe=this._makeStyleAst(Ve,t);let ze=null!=Oe.offset?Oe.offset:function pG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(zT(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(zT(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Oe.styles),Ge=0;return null!=ze&&(a++,Ge=Oe.offset=ze),_=_||Ge<0||Ge>1,f=f||Ge<D,D=Ge,c.push(Ge),Oe});_&&t.errors.push(function T4(){return new u.vHH(3012,ln)}()),f&&t.errors.push(function S4(){return new u.vHH(3200,ln)}());const A=e.steps.length;let L=0;a>0&&a<A?t.errors.push(function I4(){return new u.vHH(3202,ln)}()):0==a&&(L=1/(A-1));const B=A-1,$=t.currentTime,ee=t.currentAnimateTimings,_e=ee.duration;return S.forEach((Ve,Oe)=>{const ze=L>0?Oe==B?1:L*Oe:c[Oe],Ge=ze*_e;t.currentTime=$+ee.delay+Ge,ee.duration=Ge,this._validateStyleAst(Ve,t),Ve.offset=ze,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:xa(this,sw(e.animation),t),options:bm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function dG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(uG,"")),n=n.replace(/@\*/g,VT).replace(/@\w+/g,t=>VT+"-"+t.substr(1)).replace(/:animating/g,Kx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ka(t.collectedStyles,t.currentQuerySelector,{});const f=xa(this,sw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:bm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function M4(){return new u.vHH(3013,ln)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:BT(e.timings,t.errors,!0);return{type:12,animation:xa(this,sw(e.animation),t),timings:r,options:null}}}class fG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zT(n){return!Array.isArray(n)&&"object"==typeof n}function bm(n){return n?(n=J_(n)).params&&(n.params=function hG(n){return n?J_(n):null}(n.params)):n={},n}function tO(n,e,t){return{duration:n,delay:e,easing:t}}function nO(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class qT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const yG=new RegExp(":enter","g"),bG=new RegExp(":leave","g");function rO(n,e,t,r,i,a={},c={},f,_,D=[]){return(new wG).buildKeyframes(n,e,t,r,i,a,c,f,_,D)}class wG{buildKeyframes(e,t,r,i,a,c,f,_,D,S=[]){D=D||new qT;const A=new iO(e,t,D,i,a,S,[]);A.options=_,A.currentTimeline.setStyles([c],null,A.errors,_),xa(this,r,A);const L=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let $=L.length-1;$>=0;$--){const ee=L[$];if(ee.element===t){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,_)}return L.length?L.map(B=>B.buildKeyframes()):[nO(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?ym(r.duration):null,f=null!=r.delay?ym(r.delay):null;return 0!==c&&e.forEach(_=>{const D=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,D.duration+D.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),xa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ZT);const c=ym(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>xa(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ym(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),xa(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return BT(t.params?HT(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ym(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ZT);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((D,S)=>{t.currentQueryIndex=S;const A=t.createSubContext(e.options,D);a&&A.delayNextStep(a),D===t.element&&(_=A.currentTimeline),xa(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const A=S.currentTime;xa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const ZT={};class iO{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new KT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ym(r.duration)),null!=r.delay&&(i.delay=ym(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=HT(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new iO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ZT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new DG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(yG,"."+this._enterClassName)).replace(bG,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),f.push(...D)}return!a&&0==f.length&&c.push(function A4(n){return new u.vHH(3014,ln)}()),f}}class KT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Bl,this._currentKeyframe[t]=Bl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function CG(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Bl})):cf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const _=HT(c[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Bl),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const D=cf(f,!0);Object.keys(D).forEach(S=>{const A=D[S];"!"==A?e.add(S):A==Bl&&t.add(S)}),r||(D.offset=_/this.duration),i.push(D)});const a=e.size?UT(e.values()):[],c=t.size?UT(t.values()):[];if(r){const f=i[0],_=J_(f);f.offset=0,_.offset=1,i=[f,_]}return nO(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class DG extends KT{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=cf(e[0],!1);_.offset=0,a.push(_);const D=cf(e[0],!1);D.offset=cB(f),a.push(D);const S=e.length-1;for(let A=1;A<=S;A++){let L=cf(e[A],!1);L.offset=cB((t+L.offset*r)/c),a.push(L)}r=c,t=0,i="",e=a}return nO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function cB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class sO{}class EG extends sO{normalizePropertyName(e,t){return Xx(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(TG[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function y4(n,e){return new u.vHH(3005,ln)}())}return c+a}}const TG=(()=>function SG(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dB(n,e,t,r,i,a,c,f,_,D,S,A,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:D,postStyleProps:S,totalTime:A,errors:L}}const oO={};class hB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function IG(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,_,D,S){const A=[],L=this.ast.options&&this.ast.options.params||oO,$=this.buildStyles(r,f&&f.params||oO,A),ee=_&&_.params||oO,_e=this.buildStyles(i,ee,A),Ve=new Set,Oe=new Map,ze=new Map,Ge="void"===i,yt={params:Object.assign(Object.assign({},L),ee)},ut=S?[]:rO(e,t,this.ast.animation,a,c,$,_e,yt,D,A);let sn=0;if(ut.forEach(Sn=>{sn=Math.max(Sn.duration+Sn.delay,sn)}),A.length)return dB(t,this._triggerName,r,i,Ge,$,_e,[],[],Oe,ze,sn,A);ut.forEach(Sn=>{const en=Sn.element,Pn=ka(Oe,en,{});Sn.preStyleProps.forEach(Ju=>Pn[Ju]=!0);const oo=ka(ze,en,{});Sn.postStyleProps.forEach(Ju=>oo[Ju]=!0),en!==t&&Ve.add(en)});const On=UT(Ve.values());return dB(t,this._triggerName,r,i,Ge,$,_e,ut,On,Oe,ze,sn)}}class MG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=J_(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let _=c[f];_.length>1&&(_=HT(_,i,t));const D=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,D,_,t),r[D]=_})}}),r}}class kG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new MG(i.style,i.options&&i.options.params||{},r)}),fB(this.states,"true","1"),fB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new hB(e,i,this.states))}),this.fallbackTransition=function xG(n,e,t){return new hB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const OG=new qT;class RG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=eO(this._driver,t,r,[]);if(r.length)throw function P4(n){return new u.vHH(3503,ln)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=G2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=rO(this._driver,t,a,Zx,PT,{},{},r,OG,i),c.forEach(S=>{const A=ka(f,S.element,{});S.postStyleProps.forEach(L=>A[L]=null)})):(i.push(function F4(){return new u.vHH(3300,ln)}()),c=[]),i.length)throw function V4(n){return new u.vHH(3504,ln)}();f.forEach((S,A)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(A,L,Bl)})});const D=uf(c.map(S=>{const A=f.get(S.element);return this._buildPlayer(S,{},A)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function B4(n){return new u.vHH(3301,ln)}();return t}listen(e,t,r,i){const a=Gx(t,"","","");return Yx(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const pB="ng-animate-queued",aO="ng-animate-disabled",VG=[],mB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},BG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sl="__ng_removed";class lO{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function YG(n){return null!=n?n:null}(r?e.value:e),r){const a=J_(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ow="void",uO=new lO(ow);class HG{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ol(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function H4(n,e){return new u.vHH(3302,ln)}();if(null==r||0==r.length)throw function U4(n){return new u.vHH(3303,ln)}();if(!function $G(n){return"start"==n||"done"==n}(r))throw function j4(n,e){return new u.vHH(3400,ln)}();const a=ka(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=ka(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(ol(e,FT),ol(e,FT+"-"+t),f[t]=uO),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Y4(n){return new u.vHH(3401,ln)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new cO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ol(e,FT),ol(e,FT+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const D=new lO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),f[t]=D,_||(_=uO),D.value!==ow&&_.value===D.value){if(!function zG(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,D.params)){const ee=[],_e=a.matchStyles(_.value,_.params,ee),Ve=a.matchStyles(D.value,D.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{vm(e,_e),Qu(e,Ve)})}return}const L=ka(this._engine.playersByElement,e,[]);L.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=a.matchTransition(_.value,D.value,e,D.params),$=!1;if(!B){if(!i)return;B=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:D,player:c,isFallbackTransition:$}),$||(ol(e,pB),c.onStart(()=>{X_(e,pB)})),c.onDone(()=>{let ee=this.players.indexOf(c);ee>=0&&this.players.splice(ee,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ve=_e.indexOf(c);Ve>=0&&_e.splice(Ve,1)}}),this.players.push(c),L.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,VT,!0);r.forEach(i=>{if(i[sl])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(c.set(_,a[_].value),this._triggers[_]){const D=this.trigger(e,_,ow,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&uf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,D=r[c]||uO,S=new lO(ow),A=new cO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:D,toState:S,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[sl];(!a||a===mB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ol(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=Gx(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Yx(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class UG{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new HG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const D=r.indexOf(_);r.splice(D+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(QT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!QT(t))return;const a=t[sl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ol(e,aO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),X_(e,aO))}removeNode(e,t,r,i){if(QT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[sl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return QT(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,VT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Kx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return uf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[sl];if(r&&r.setForRemoval){if(e[sl]=mB,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(aO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ol(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?uf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function $4(n){return new u.vHH(3402,ln)}()}_flushAnimations(e,t){const r=new qT,i=[],a=new Map,c=[],f=new Map,_=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(rt=>{S.add(rt);const mt=this.driver.query(rt,".ng-animate-queued",!0);for(let kt=0;kt<mt.length;kt++)S.add(mt[kt])});const A=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=yB(L,this.collectedEnterElements),$=new Map;let ee=0;B.forEach((rt,mt)=>{const kt=Zx+ee++;$.set(mt,kt),rt.forEach(bn=>ol(bn,kt))});const _e=[],Ve=new Set,Oe=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const mt=this.collectedLeaveElements[rt],kt=mt[sl];kt&&kt.setForRemoval&&(_e.push(mt),Ve.add(mt),kt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(bn=>Ve.add(bn)):Oe.add(mt))}const ze=new Map,Ge=yB(L,Array.from(Ve));Ge.forEach((rt,mt)=>{const kt=PT+ee++;ze.set(mt,kt),rt.forEach(bn=>ol(bn,kt))}),e.push(()=>{B.forEach((rt,mt)=>{const kt=$.get(mt);rt.forEach(bn=>X_(bn,kt))}),Ge.forEach((rt,mt)=>{const kt=ze.get(mt);rt.forEach(bn=>X_(bn,kt))}),_e.forEach(rt=>{this.processLeaveNode(rt)})});const yt=[],ut=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(kt=>{const bn=kt.player,Fi=kt.element;if(yt.push(bn),this.collectedEnterElements.length){const ao=Fi[sl];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(kt.triggerName)){const wm=ao.previousTriggersValues.get(kt.triggerName),hf=this.statesByElement.get(kt.element);hf&&hf[kt.triggerName]&&(hf[kt.triggerName].value=wm)}return void bn.destroy()}}const Xu=!A||!this.driver.containsElement(A,Fi),Oa=ze.get(Fi),df=$.get(Fi),Cr=this._buildInstruction(kt,r,df,Oa,Xu);if(Cr.errors&&Cr.errors.length)return void ut.push(Cr);if(Xu)return bn.onStart(()=>vm(Fi,Cr.fromStyles)),bn.onDestroy(()=>Qu(Fi,Cr.toStyles)),void i.push(bn);if(kt.isFallbackTransition)return bn.onStart(()=>vm(Fi,Cr.fromStyles)),bn.onDestroy(()=>Qu(Fi,Cr.toStyles)),void i.push(bn);const AB=[];Cr.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||AB.push(ao)}),Cr.timelines=AB,r.append(Fi,Cr.timelines),c.push({instruction:Cr,player:bn,element:Fi}),Cr.queriedElements.forEach(ao=>ka(f,ao,[]).push(bn)),Cr.preStyleProps.forEach((ao,wm)=>{const hf=Object.keys(ao);if(hf.length){let Dm=_.get(wm);Dm||_.set(wm,Dm=new Set),hf.forEach(hO=>Dm.add(hO))}}),Cr.postStyleProps.forEach((ao,wm)=>{const hf=Object.keys(ao);let Dm=D.get(wm);Dm||D.set(wm,Dm=new Set),hf.forEach(hO=>Dm.add(hO))})});if(ut.length){const rt=[];ut.forEach(mt=>{rt.push(function G4(n,e){return new u.vHH(3505,ln)}())}),yt.forEach(mt=>mt.destroy()),this.reportError(rt)}const sn=new Map,On=new Map;c.forEach(rt=>{const mt=rt.element;r.has(mt)&&(On.set(mt,mt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,sn))}),i.forEach(rt=>{const mt=rt.element;this._getPreviousPlayers(mt,!1,rt.namespaceId,rt.triggerName,null).forEach(bn=>{ka(sn,mt,[]).push(bn),bn.destroy()})});const Sn=_e.filter(rt=>bB(rt,_,D)),en=new Map;_B(en,this.driver,Oe,D,Bl).forEach(rt=>{bB(rt,_,D)&&Sn.push(rt)});const oo=new Map;B.forEach((rt,mt)=>{_B(oo,this.driver,new Set(rt),_,"!")}),Sn.forEach(rt=>{const mt=en.get(rt),kt=oo.get(rt);en.set(rt,Object.assign(Object.assign({},mt),kt))});const Ju=[],aw=[],lw={};c.forEach(rt=>{const{element:mt,player:kt,instruction:bn}=rt;if(r.has(mt)){if(S.has(mt))return kt.onDestroy(()=>Qu(mt,bn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(bn.totalTime),void i.push(kt);let Fi=lw;if(On.size>1){let Oa=mt;const df=[];for(;Oa=Oa.parentNode;){const Cr=On.get(Oa);if(Cr){Fi=Cr;break}df.push(Oa)}df.forEach(Cr=>On.set(Cr,Fi))}const Xu=this._buildAnimation(kt.namespaceId,bn,sn,a,oo,en);if(kt.setRealPlayer(Xu),Fi===lw)Ju.push(kt);else{const Oa=this.playersByElement.get(Fi);Oa&&Oa.length&&(kt.parentPlayer=uf(Oa)),i.push(kt)}}else vm(mt,bn.fromStyles),kt.onDestroy(()=>Qu(mt,bn.toStyles)),aw.push(kt),S.has(mt)&&i.push(kt)}),aw.forEach(rt=>{const mt=a.get(rt.element);if(mt&&mt.length){const kt=uf(mt);rt.setRealPlayer(kt)}}),i.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<_e.length;rt++){const mt=_e[rt],kt=mt[sl];if(X_(mt,PT),kt&&kt.hasAnimation)continue;let bn=[];if(f.size){let Xu=f.get(mt);Xu&&Xu.length&&bn.push(...Xu);let Oa=this.driver.query(mt,Kx,!0);for(let df=0;df<Oa.length;df++){let Cr=f.get(Oa[df]);Cr&&Cr.length&&bn.push(...Cr)}}const Fi=bn.filter(Xu=>!Xu.destroyed);Fi.length?GG(this,mt,Fi):this.processLeaveNode(mt)}return _e.length=0,Ju.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const mt=this.players.indexOf(rt);this.players.splice(mt,1)}),rt.play()}),Ju}elementContainsData(e,t){let r=!1;const i=t[sl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==ow;f.forEach(D=>{D.queued||!_&&D.triggerName!=i||c.push(D)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const D=_.element,S=D!==a,A=ka(r,D,[]);this._getPreviousPlayers(D,S,c,f,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),A.push(B)})}vm(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,D=[],S=new Set,A=new Set,L=t.timelines.map($=>{const ee=$.element;S.add(ee);const _e=ee[sl];if(_e&&_e.removedBeforeQueried)return new Lp($.duration,$.delay);const Ve=ee!==_,Oe=function WG(n){const e=[];return vB(n,e),e}((r.get(ee)||VG).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===ee),ze=a.get(ee),Ge=c.get(ee),yt=G2(0,this._normalizer,0,$.keyframes,ze,Ge),ut=this._buildPlayer($,yt,Oe);if($.subTimeline&&i&&A.add(ee),Ve){const sn=new cO(e,f,ee);sn.setRealPlayer(ut),D.push(sn)}return ut});D.forEach($=>{ka(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function jG(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>ol($,tB));const B=uf(L);return B.onDestroy(()=>{S.forEach($=>X_($,tB)),Qu(_,t.toStyles)}),A.forEach($=>{ka(i,$,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lp(e.duration,e.delay)}}class cO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Yx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ka(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function QT(n){return n&&1===n.nodeType}function gB(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function _B(n,e,t,r,i){const a=[];t.forEach(_=>a.push(gB(_)));const c=[];r.forEach((_,D)=>{const S={};_.forEach(A=>{const L=S[A]=e.computeStyle(D,A,i);(!L||0==L.length)&&(D[sl]=BG,c.push(D))}),n.set(D,S)});let f=0;return t.forEach(_=>gB(_,a[f++])),c}function yB(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const D=f.parentNode;return _=t.has(D)?D:i.has(D)?1:c(D),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function ol(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function X_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function GG(n,e,t){uf(t).onDone(()=>n.processLeaveNode(e))}function vB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Zg?vB(r.players,e):e.push(r)}}function bB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class JT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new UG(e,t,r),this._timelineEngine=new RG(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],S=eO(this._driver,a,_,[]);if(_.length)throw function N4(n,e){return new u.vHH(3404,ln)}();f=function AG(n,e,t){return new kG(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=W2(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=W2(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZG=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Qu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qu(this._element,this._initialStyles),this._endStyles&&(Qu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vm(this._element,this._endStyles),this._endStyles=null),Qu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dO(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];KG(i)&&(e=e||{},e[i]=n[i])}return e}function KG(n){return"display"===n||"position"===n}class wB{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:oB(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class QG{validateStyleProperty(e){return K2(e)}matchesElement(e,t){return!1}containsElement(e,t){return Q2(e,t)}getParentElement(e){return zx(e)}query(e,t,r){return J2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const D={},S=c.filter(L=>L instanceof wB);(function tG(n,e){return 0===n||0===e})(r,i)&&S.forEach(L=>{let B=L.currentSnapshot;Object.keys(B).forEach($=>D[$]=B[$])}),t=function nG(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(_){f[_]=oB(n,_)})}}return e}(e,t=t.map(L=>cf(L,!1)),D);const A=function qG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=dO(e[0]),e.length>1&&(r=dO(e[e.length-1]))):e&&(t=dO(e)),t||r?new ZG(n,t,r):null}(e,t);return new wB(e,t,_,A)}}let JG=(()=>{class n extends pC{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?o0(t):t;return DB(this._renderer,null,r,"register",[i]),new XG(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class XG extends class lM{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eW(this._id,e,t||{},this._renderer)}}class eW{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return DB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function DB(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const CB="@.disabled";let tW=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(a);return S||(S=new EB("",a,this.engine),this._rendererCache.set(a,S)),S}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,f,t,S.name,S)};return r.data.animation.forEach(_),new nW(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(JT),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class EB{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==CB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nW extends EB{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function rW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function iW(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let sW=(()=>{class n extends JT{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(qx),u.LFG(sO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const TB=new u.OlP("AnimationModuleType"),SB=[{provide:pC,useClass:JG},{provide:sO,useFactory:function oW(){return new EG}},{provide:JT,useClass:sW},{provide:u.FYo,useFactory:function aW(n,e,t){return new tW(n,e,t)},deps:[Mn,JT,u.R0b]}],IB=[{provide:qx,useFactory:()=>new QG},{provide:TB,useValue:"BrowserAnimations"},...SB],lW=[{provide:qx,useClass:X2},{provide:TB,useValue:"NoopAnimations"},...SB];let uW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lW:IB}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:IB,imports:[Ha]}),n})(),cW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Mr,Ka]]}),n})(),MB=(()=>{class n{constructor(t){this._client=t}getAll(t){return gt([{name:"Dashboard",link:"/",icon:"/assets/icons/columns-gap.svg"},{name:"Event",link:"/event-form",icon:"/assets/icons/calendar2-event.svg"},{name:"Diet",link:"/diet",icon:"/assets/icons/cup-straw.svg"},{name:"Transport",link:"/",icon:"/assets/icons/bicycle.svg"},{name:"Attractions",link:"/",icon:"/assets/icons/dribbble.svg"},{name:"Users",link:"/",icon:"/assets/icons/people.svg"}])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),dW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[MB,{provide:j2,useExisting:MB}],imports:[[Ux]]}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[h4]}),n.\u0275inj=u.cJS({providers:[],imports:[[Ha,u4,Hl.hO.initializeApp(Y2_firebase),uW,Ka,cW,dW]]}),n})();(0,u.G48)(),cc().bootstrapModule(hW).catch(n=>console.error(n))},5867:(it,Ce,R)=>{R.d(Ce,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=R(9681);(0,u.registerVersion)("firebase","9.6.10","app")},127:(it,Ce,R)=>{R.d(Ce,{Z:()=>u.Z});var u=R(3942);u.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(it,Ce,R)=>{R.r(Ce);var u=R(5861),K=R(3942),N=R(2090),le=R(9681),X=R(655),pe=R(1877),oe=R(4859);const Re=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new pe.Yd("@firebase/auth");function Ze(y,...p){et.logLevel<=pe.in.ERROR&&et.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw Ue(y,...p)}function ve(y,...p){return Ue(y,...p)}function we(y,p,g){const b=Object.assign(Object.assign({},Fe()),{[p]:g});return new N.LL("auth","Firebase",b).create(p,{appName:y.name})}function Ye(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),we(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return fe.create(y,...p)}function te(y,p,...g){if(!y)throw Ue(p,...g)}function q(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ze(p),new Error(p)}function se(y,p){y||q(p)}const ge=new Map;function ae(y){se(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(se(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function At(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function on(){return"http:"===qn()||"https:"===qn()}function qn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class yn{constructor(p,g){this.shortDelay=p,this.longDelay=g,se(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(y,p){se(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Vi{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ss=new yn(3e4,6e4);function an(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Kt(y,p,g,b){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(y,p,g,b,I={}){return yi(y,I,(0,u.Z)(function*(){let O={},W={};b&&("GET"===p?W=b:O={body:JSON.stringify(b)});const ue=(0,N.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),Vi.fetch()(qr(y,y.config.apiHost,g,ue),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function yi(y,p,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},dn),p);try{const I=new Is(y),O=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw Ms(y,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const ue=O.ok?W.errorMessage:W.error.message,[He,Xe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Ms(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===He)throw Ms(y,"email-already-in-use",W);const Ct=b[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw we(y,Ct,Xe);Se(y,Ct)}}catch(I){if(I instanceof N.ZR)throw I;Se(y,"network-request-failed")}})).apply(this,arguments)}function zr(y,p,g,b){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(y,p,g,b,I={}){const O=yield Kt(y,p,g,b,I);return"mfaPendingCredential"in O&&Se(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function qr(y,p,g,b){const I=`${p}${g}?${b}`;return y.config.emulator?vn(y.config,I):`${y.config.apiScheme}://${I}`}class Is{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),Ss.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ms(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=ve(y,p,b);return I.customData._tokenResponse=g,I}function ui(){return(ui=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function gr(y,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vi(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function In(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function al(){return(al=(0,u.Z)(function*(y,p=!1){const g=(0,N.m9)(y),b=yield g.getIdToken(p),I=st(b);te(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,W=null==O?void 0:O.sign_in_provider;return{claims:I,token:b,authTime:In(Qt(I.auth_time)),issuedAtTime:In(Qt(I.iat)),expirationTime:In(Qt(I.exp)),signInProvider:W||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Qt(y){return 1e3*Number(y)}function st(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(g);return I?JSON.parse(I):(Ze("Failed to decode base64 JWT payload"),null)}catch(I){return Ze("Caught error parsing JWT payload as JSON",I),null}}function Tr(y,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&zt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class zo{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Lr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sr(y){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),I=yield Tr(y,vi(g,{idToken:b}));te(null==I?void 0:I.users.length,g,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const W=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Ie(O.providerUserInfo):[],ue=Ke(y.providerData,W),Ct=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ue?void 0:ue.length)),at={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new Lr(O.createdAt,O.lastLoginAt),isAnonymous:Ct};Object.assign(y,at)})).apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(y){const p=(0,N.m9)(y);yield Sr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ke(y,p){return[...y.filter(b=>!p.some(I=>I.providerId===b.providerId)),...p]}function Ie(y){return y.map(p=>{var{providerId:g}=p,b=(0,X._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ft(){return(ft=(0,u.Z)(function*(y,p){const g=yield yi(y,{},(0,u.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,W=qr(y,I,"/v1/token",`key=${O}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Vi.fetch()(W,{method:"POST",headers:ue,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(void 0!==p.idToken,"internal-error"),te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function St(y){const p=st(y);return te(p,"internal-error"),te(void 0!==p.exp,"internal-error"),te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,u.Z)(function*(){return te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,u.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:W}=yield function Qe(y,p){return ft.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(I,O,Number(W))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:I,expirationTime:O}=g,W=new Wt;return b&&(te("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),I&&(te("string"==typeof I,"internal-error",{appName:p}),W.accessToken=I),O&&(te("number"==typeof O,"internal-error",{appName:p}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return q("not implemented")}}function Ut(y,p){te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class U{constructor(p){var{uid:g,auth:b,stsTokenManager:I}=p,O=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Lr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const b=yield Tr(g,g.stsTokenManager.getToken(g.auth,p));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function uo(y){return al.apply(this,arguments)}(this,p)}reload(){return function Pr(y){return $t.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new U(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,u.Z)(function*(){let I=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield Sr(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield Tr(p,function ct(y,p){return ui.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,I,O,W,ue,He,Xe,Ct;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,Gn=null!==(I=g.email)&&void 0!==I?I:void 0,ms=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Vc=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Eu=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,Tu=null!==(He=g._redirectEventId)&&void 0!==He?He:void 0,Gf=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,ky=null!==(Ct=g.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:Za,emailVerified:sh,isAnonymous:oh,providerData:Wf,stsTokenManager:ah}=g;te(Za&&ah,p,"internal-error");const Zi=Wt.fromJSON(this.name,ah);te("string"==typeof Za,p,"internal-error"),Ut(at,p.name),Ut(Gn,p.name),te("boolean"==typeof sh,p,"internal-error"),te("boolean"==typeof oh,p,"internal-error"),Ut(ms,p.name),Ut(Vc,p.name),Ut(Eu,p.name),Ut(Tu,p.name),Ut(Gf,p.name),Ut(ky,p.name);const zf=new U({uid:Za,auth:p,email:Gn,emailVerified:sh,displayName:at,isAnonymous:oh,photoURL:Vc,phoneNumber:ms,tenantId:Eu,stsTokenManager:Zi,createdAt:Gf,lastLoginAt:ky});return Wf&&Array.isArray(Wf)&&(zf.providerData=Wf.map(Zm=>Object.assign({},Zm))),Tu&&(zf._redirectEventId=Tu),zf}static _fromIdTokenResponse(p,g,b=!1){return(0,u.Z)(function*(){const I=new Wt;I.updateFromServerResponse(g);const O=new U({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:b});return yield Sr(O),O})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,u.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function de(y,p,g){return`firebase:${y}:${p}:${g}`}class Q{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:I,name:O}=this.auth;this.fullUserKey=de(this.userKey,I.apiKey,O),this.fullPersistenceKey=de("persistence",I.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?U._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Q(ae(G),p,b);const I=(yield Promise.all(g.map(function(){var Xe=(0,u.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=I[0]||ae(G);const W=de(b,p.config.apiKey,p.name);let ue=null;for(const Xe of g)try{const Ct=yield Xe._get(W);if(Ct){const at=U._fromJSON(p,Ct);Xe!==O&&(ue=at),O=Xe;break}}catch(Ct){}const He=I.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&He.length?(O=He[0],ue&&(yield O._set(W,ue.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,u.Z)(function*(Ct){if(Ct!==O)try{yield Ct._remove(W)}catch(at){}});return function(Ct){return Xe.apply(this,arguments)}}())),new Q(O,p,b)):new Q(O,p,b)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(bt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ft(p))return"Blackberry";if(wn(p))return"Webos";if(tn(p))return"Safari";if((p.includes("chrome/")||Fr(p))&&!p.includes("edge/"))return"Chrome";if(jn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function bt(y=(0,N.z$)()){return/firefox\//i.test(y)}function tn(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Fr(y=(0,N.z$)()){return/crios\//i.test(y)}function Jt(y=(0,N.z$)()){return/iemobile/i.test(y)}function jn(y=(0,N.z$)()){return/android/i.test(y)}function Ft(y=(0,N.z$)()){return/blackberry/i.test(y)}function wn(y=(0,N.z$)()){return/webos/i.test(y)}function yr(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function As(y=(0,N.z$)()){return yr(y)||jn(y)||wn(y)||Ft(y)||/windows phone/i.test(y)||Jt(y)}function ul(y,p=[]){let g;switch(y){case"Browser":g=Be((0,N.z$)());break;case"Worker":g=`${Be((0,N.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class bi{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vt(this),this.idTokenSubscription=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var I,O;if(!b._deleted&&(b.persistenceManager=yield Q.create(b,p),!b._deleted)){if(null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var b;let I=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==I?void 0:I._redirectEventId,ue=yield g.tryRedirectSignIn(p);(!O||O===W)&&(null==ue?void 0:ue.user)&&(I=ue.user)}return I?I._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(I){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield Sr(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,u.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield Q.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,I){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return te(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ul(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return I&&(b["X-Firebase-Client"]=I),b})()}}function Ne(y){return(0,N.m9)(y)}class Vt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function rr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class hn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return q("not implemented")}_getIdTokenResponse(p){return q("not implemented")}_linkToIdToken(p,g){return q("not implemented")}_getReauthenticationResolver(p){return q("not implemented")}}function Zn(y,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:resetPassword",an(y,p))})).apply(this,arguments)}function Rt(y,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ks(y,p){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",an(y,p))})).apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithPassword",an(y,p))})).apply(this,arguments)}function xs(y,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:sendOobCode",an(y,p))})).apply(this,arguments)}function hr(y,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function Gl(y,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function ci(y,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function wd(y,p){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithEmailLink",an(y,p))})).apply(this,arguments)}function Dd(){return(Dd=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithEmailLink",an(y,p))})).apply(this,arguments)}class ql extends hn{constructor(p,g,b,I=null){super("password",b),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new ql(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new ql(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function fo(y,p){return Rn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function zl(y,p){return di.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Rt(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ff(y,p){return Dd.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ir(y,p){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithIdp",an(y,p))})).apply(this,arguments)}class Rs extends hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Rs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I}=g,O=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!I)return null;const W=new Rs(b,I);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(p){return ir(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ir(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ir(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Em(y,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:sendVerificationCode",an(y,p))})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithPhoneNumber",an(y,p))})).apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(y,p){const g=yield zr(y,"POST","/v1/accounts:signInWithPhoneNumber",an(y,p));if(g.temporaryProof)throw Ms(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Sm={USER_NOT_FOUND:"user-not-found"};function Td(){return(Td=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithPhoneNumber",an(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Sm)})).apply(this,arguments)}class La extends hn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new La({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new La({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function ec(y,p){return mo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Tm(y,p){return Ed.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Im(y,p){return Td.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:O}=p;return b||g||I||O?new La({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:O}):null}}class Zo{constructor(p){var g,b,I,O,W,ue;const He=(0,N.zd)((0,N.pd)(p)),Xe=null!==(g=He.apiKey)&&void 0!==g?g:null,Ct=null!==(b=He.oobCode)&&void 0!==b?b:null,at=function ey(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=He.mode)&&void 0!==I?I:null);te(Xe&&Ct&&at,"argument-error"),this.apiKey=Xe,this.operation=at,this.code=Ct,this.continueUrl=null!==(O=He.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=He.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ue=He.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function Zl(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||g||p||y}(p);try{return new Zo(g)}catch(b){return null}}}let tc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return ql._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=Zo.parseLink(b);return te(I,"argument-error"),ql._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class go{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class hi extends go{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Pa extends hi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return te("providerId"in g&&"signInMethod"in g,"argument-error"),Rs._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),Rs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Pa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Pa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:O,nonce:W,providerId:ue}=p;if(!b&&!I&&!g&&!O||!ue)return null;try{return new Pa(ue)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:O})}catch(He){return null}}}let Ko=(()=>{class y extends hi{constructor(){super("facebook.com")}static credential(g){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),dl=(()=>{class y extends hi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Sd=(()=>{class y extends hi{constructor(){super("github.com")}static credential(g){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Mr extends hn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ir(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ir(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ir(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I,pendingToken:O}=g;return b&&I&&O&&b===I?new Mr(b,O):null}static _create(p,g){return new Mr(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wi extends go{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return wi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return wi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Mr.fromJSON(p);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Mr._create(b,g)}catch(I){return null}}}let Kl=(()=>{class y extends hi{constructor(){super("twitter.com")}static credential(g,b){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ql(y,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signUp",an(y,p))})).apply(this,arguments)}class Ar{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,I=!1){return(0,u.Z)(function*(){const O=yield U._fromIdTokenResponse(p,b,I),W=mf(b);return new Ar({user:O,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const I=mf(b);return new Ar({user:p,providerId:I,_tokenResponse:b,operationType:g})})()}}function mf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Id(){return(Id=(0,u.Z)(function*(y){var p;const g=Ne(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Ar({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ql(g,{returnSecureToken:!0}),I=yield Ar._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class Xl extends N.ZR{constructor(p,g,b,I){var O;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,Xl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,I){return new Xl(p,g,b,I)}}function eu(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Xl._fromErrorAndOperation(y,O,p,b):O})}function Ns(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function nc(){return(nc=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y);yield yo(!0,g,p);const{providerUserInfo:b}=yield gr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=Ns(b||[]);return g.providerData=g.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Tn(y,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(y,p,g=!1){const b=yield Tr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ar._forOperation(y,"link",b)})).apply(this,arguments)}function yo(y,p,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(y,p,g){yield Sr(p);const I=!1===y?"provider-already-linked":"no-such-provider";te(Ns(p.providerData).has(g)===y,p.auth,I)})).apply(this,arguments)}function Md(y,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(y,p,g=!1){const{auth:b}=y,I="reauthenticate";try{const O=yield Tr(y,eu(b,I,p,y),g);te(O.idToken,b,"internal-error");const W=st(O.idToken);te(W,b,"internal-error");const{sub:ue}=W;return te(y.uid===ue,b,"user-mismatch"),Ar._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(b,"user-mismatch"),O}})).apply(this,arguments)}function Jo(y,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(y,p,g=!1){const b="signIn",I=yield eu(y,b,p),O=yield Ar._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Kn(y,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(y,p){return Jo(Ne(y),p)})).apply(this,arguments)}function Bi(y,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y);return yield yo(!1,g,p.providerId),Tn(g,p)})).apply(this,arguments)}function vo(y,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(y,p){return Md((0,N.m9)(y),p)})).apply(this,arguments)}function tu(y,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(y,p){return zr(y,"POST","/v1/accounts:signInWithCustomToken",an(y,p))})).apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(y,p){const g=Ne(y),b=yield tu(g,{token:p,returnSecureToken:!0}),I=yield Ar._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class pt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?nu._fromServerResponse(p,g):Se(p,"internal-error")}}class nu extends pt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new nu(g)}}function pl(y,p,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function iu(){return(iu=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y),I={requestType:"PASSWORD_RESET",email:p};g&&pl(b,I,g),yield Gl(b,I)})).apply(this,arguments)}function rc(){return(rc=(0,u.Z)(function*(y,p,g){yield Zn((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(y,p){yield ks((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function jt(y,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y),b=yield Zn(g,{oobCode:p}),I=b.requestType;switch(te(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=pt._fromServerResponse(Ne(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(y,p){const{data:g}=yield jt((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(y,p,g){const b=Ne(y),I=yield Ql(b,{returnSecureToken:!0,email:p,password:g}),O=yield Ar._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Ad(){return(Ad=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};te(g.handleCodeInApp,b,"argument-error"),g&&pl(b,I,g),yield ci(b,I)})).apply(this,arguments)}function Do(){return(Do=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y),I=tc.credentialWithLink(p,g||At());return te(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Kn(b,I)})).apply(this,arguments)}function kr(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:createAuthUri",an(y,p))})).apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:on()?At():"http://localhost"},{signinMethods:I}=yield kr((0,N.m9)(y),b);return I||[]})).apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(y,p){const g=(0,N.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&pl(g.auth,I,p);const{email:O}=yield hr(g.auth,I);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&pl(b.auth,O,g);const{email:W}=yield wd(b.auth,O);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function cc(y,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,N.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield Tr(b,cc(b.auth,O));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const ue=b.providerData.find(({providerId:He})=>"password"===He);ue&&(ue.displayName=b.displayName,ue.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function fc(y,p,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const W=yield Tr(y,Rt(b,O));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ea{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Od extends ea{constructor(p,g,b,I){super(p,g,b),this.username=I}}class Rd extends ea{constructor(p,g){super(p,"facebook.com",g)}}class ta extends Od{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Eo extends ea{constructor(p,g){super(p,"google.com",g)}}class pc extends Od{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Hr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function xd(y){var p,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const W=null===(g=null===(p=st(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new ea(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Rd(O,I);case"github.com":return new ta(O,I);case"google.com":return new Eo(O,I);case"twitter.com":return new pc(O,I,y.screenName||null);case"custom":case"anonymous":return new ea(O,null);default:return new ea(O,b,I)}}(g)}class Ps{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ps("enroll",p)}static _fromMfaPendingCredential(p){return new Ps("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ps._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Ps._fromIdtoken(p.multiFactorSession.idToken)}return null}}class gl{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Ne(p),I=g.customData._serverResponse,O=(I.mfaInfo||[]).map(ue=>pt._fromServerResponse(b,ue));te(I.mfaPendingCredential,b,"internal-error");const W=Ps._fromMfaPendingCredential(I.mfaPendingCredential);return new gl(W,O,function(){var ue=(0,u.Z)(function*(He){const Xe=yield He._process(b,W);delete I.mfaInfo,delete I.mfaPendingCredential;const Ct=Object.assign(Object.assign({},I),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const at=yield Ar._fromIdTokenResponse(b,g.operationType,Ct);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return te(g.user,b,"internal-error"),Ar._forOperation(g.user,g.operationType,Ct);default:Se(b,"internal-error")}});return function(He){return ue.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function sr(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:start",an(y,p))}class Fs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>pt._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Fs(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ps._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,u.Z)(function*(){const I=p,O=yield b.getSession(),W=yield Tr(b.user,I._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,I=yield g.user.getIdToken(),O=yield Tr(g.user,function Am(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",an(y,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Ua=new WeakMap,_c="__sak";class na{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jn=(()=>{class y extends na{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fd(){const y=(0,N.z$)();return tn(y)||yr(y)}()&&function dr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=As(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),O=this.localCache[b];I!==O&&g(b,O,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ue,He,Xe)=>{this.notifyListeners(ue,Xe)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(I);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const O=()=>{const ue=this.storage.getItem(I);!b&&this.localCache[I]===ue||this.notifyListeners(I,ue)},W=this.storage.getItem(I);!function ll(){return(0,N.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,O=this;return(0,u.Z)(function*(){yield I().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,u.Z)(function*(){const O=yield b().call(I,g);return I.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,I=this;return(0,u.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),Fn=(()=>{class y extends na{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let vr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const I=g,{eventId:O,eventType:W,data:ue}=I.data,He=b.handlersMap[W];if(!(null==He?void 0:He.size))return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const Xe=Array.from(He).map(function(){var at=(0,u.Z)(function*(Gn){return Gn(I.origin,ue)});return function(Gn){return at.apply(this,arguments)}}()),Ct=yield function or(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Xe);I.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:Ct})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ja(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Vd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var I=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,ue;return new Promise((He,Xe)=>{const Ct=ja("",20);O.port1.start();const at=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);ue={messageChannel:O,onMessage(Gn){const ms=Gn;if(ms.data.eventId===Ct)switch(ms.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),He(ms.data.response);break;default:clearTimeout(at),clearTimeout(W),Xe(new Error("invalid_response"))}}},I.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),I.target.postMessage({eventType:p,eventId:Ct,data:g},[O.port2])}).finally(()=>{ue&&I.removeMessageHandler(ue)})})()}}function Cn(){return window}function Ui(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function Ci(){return(Ci=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const yc="firebaseLocalStorageDb",ra="firebaseLocalStorage",Xn="fbase_key";class Vs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ia(y,p){return y.transaction([ra],p?"readwrite":"readonly").objectStore(ra)}function So(){const y=indexedDB.open(yc,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ra,{keyPath:Xn})}catch(I){g(I)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ra)?p(b):(b.close(),yield function Ei(){const y=indexedDB.deleteDatabase(yc);return new Vs(y).toPromise()}(),p(yield So()))}))})}function Ti(y,p,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(y,p,g){const b=ia(y,!0).put({[Xn]:p,value:g});return new Vs(b).toPromise()})).apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(y,p){const g=ia(y,!1).get(p),b=yield new Vs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ds(y,p){const g=ia(y,!0).delete(p);return new Vs(g).toPromise()}const ji=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield So()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let I=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(I++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Ui()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=vr._getInstance(function Bd(){return Ui()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(I,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(I,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function du(){return Ci.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Vd(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=O[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Nt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield So();return yield Ti(g,_c,"1"),yield ds(g,_c),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(O=>Ti(O,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const I=yield b._withRetries(O=>function bc(y,p){return Io.apply(this,arguments)}(O,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(I=>ds(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(W=>{const ue=ia(W,!1).getAll();return new Vs(ue).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:W,value:ue}of b)O.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ue)&&(g.notifyListeners(W,ue),I.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!O.has(W)&&(g.notifyListeners(W,null),I.push(W));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ya(y,p){return Kt(y,"POST","/v2/accounts/mfaSignIn:start",an(y,p))}function Yi(){return(Yi=(0,u.Z)(function*(y){return(yield Kt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function er(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=I=>{const O=ve("internal-error");O.customData=I,g(O)},b.type="text/javascript",b.charset="UTF-8",function Ud(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Ao(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xr=1e12;class An{constructor(p){this.auth=p,this.counter=xr,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new fs(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||xr;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||xr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(p||xr))||void 0===b||b.execute(),""})()}}class fs{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;te(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vn(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ko=Ao("rcb"),jd=new yn(3e4,6e4);class xm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(p,g=""){return te(function Om(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Cn().grecaptcha):new Promise((b,I)=>{const O=Cn().setTimeout(()=>{I(ve(p,"network-request-failed"))},jd.get());Cn()[ko]=()=>{Cn().clearTimeout(O),delete Cn()[ko];const ue=Cn().grecaptcha;if(!ue)return void I(ve(p,"internal-error"));const He=ue.render;ue.render=(Xe,Ct)=>{const at=He(Xe,Ct);return this.counter++,at},this.hostLanguage=g,b(ue)},er(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:ko,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),I(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Cn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rm{load(p){return(0,u.Z)(function*(){return new An(p)})()}clearedOneInstance(){}}const xo="recaptcha",mi={theme:"light",type:"image"};class Nm{constructor(p,g=Object.assign({},mi),b){this.parameters=g,this.type=xo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;te(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rm:new xm,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const W=ue=>{!ue||(p.tokenChangeListeners.delete(W),O(ue))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Cn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){te(on()&&!Ui(),p.auth,"internal-error"),yield function Oo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Ur(y){return Yi.apply(this,arguments)}(p.auth);te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bs{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=La._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Bn(){return(Bn=(0,u.Z)(function*(y,p,g){const b=Ne(y),I=yield br(b,p,(0,N.m9)(g));return new Bs(I,O=>Kn(b,O))})).apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y);yield yo(!1,b,"phone");const I=yield br(b.auth,p,(0,N.m9)(g));return new Bs(I,O=>Bi(b,O))})).apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y),I=yield br(b.auth,p,(0,N.m9)(g));return new Bs(I,O=>vo(b,O))})).apply(this,arguments)}function br(y,p,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(y,p,g){var b;const I=yield g.verify();try{let O;if(te("string"==typeof I,y,"argument-error"),te(g.type===xo,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const W=O.session;if("phoneNumber"in O)return te("enroll"===W.type,y,"internal-error"),(yield sr(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{te("signin"===W.type,y,"internal-error");const ue=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return te(ue,y,"missing-multi-factor-info"),(yield Ya(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Em(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return W}}finally{g._reset()}})).apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(y,p){yield Tn((0,N.m9)(y),p)})).apply(this,arguments)}let Gi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ne(g)}verifyPhoneNumber(g,b){return br(this.auth,g,(0,N.m9)(b))}static credential(g,b){return La._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?La._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function oa(y,p){return p?ae(p):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class $d extends hn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ir(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ir(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ir(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Lm(y){return Jo(y.auth,new $d(y),y.bypassAuthState)}function yf(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),Md(g,new $d(y),y.bypassAuthState)}function Gt(y){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),Tn(g,new $d(y),y.bypassAuthState)})).apply(this,arguments)}class tr{constructor(p,g,b,I,O=!1){this.auth=p,this.resolver=b,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(b,I){p.pendingPromise={resolve:b,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:O,tenantId:W,error:ue,type:He}=p;if(ue)return void g.reject(ue);const Xe={auth:g.auth,requestUri:b,sessionId:I,tenantId:W||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(He)(Xe))}catch(Ct){g.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Lm;case"linkViaPopup":case"linkViaRedirect":return Gt;case"reauthViaPopup":case"reauthViaRedirect":return yf;default:Se(this.auth,"internal-error")}}resolve(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fu=new yn(2e3,1e4);function No(){return(No=(0,u.Z)(function*(y,p,g){const b=Ne(y);Ye(y,p,go);const I=oa(b,g);return new vl(b,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ye(b.auth,p,go);const I=oa(b.auth,g);return new vl(b.auth,"reauthViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ye(b.auth,p,go);const I=oa(b.auth,g);return new vl(b.auth,"linkViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}let vl=(()=>{class y extends tr{constructor(g,b,I,O,W){super(g,b,O,W),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){se(1===g.filter.length,"Popup operations only handle one event");const b=ja();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,fu.get())};g()}}return y.currentPopupAction=null,y})();const pu=new Map;class fr extends tr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=pu.get(g.auth._key());if(!b){try{const O=(yield function E(y,p){return T.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(I){b=()=>Promise.reject(I)}pu.set(g.auth._key(),b)}return g.bypassAuthState||pu.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const I=yield b.auth._redirectUserForId(p.eventId);if(I)return b.user=I,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,u.Z)(function*(y,p){const g=ke(p),b=re(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function x(y,p){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(y,p){return re(y)._set(ke(p),"true")})).apply(this,arguments)}function re(y){return ae(y._redirectPersistence)}function ke(y){return de("pendingRedirect",y.config.apiKey,y.name)}function Et(){return(Et=(0,u.Z)(function*(y,p,g){const b=Ne(y);Ye(y,p,go);const I=oa(b,g);return yield x(I,b),I._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ye(b.auth,p,go);const I=oa(b.auth,g);yield x(I,b.auth);const O=yield Ec(b);return I._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ye(b.auth,p,go);const I=oa(b.auth,g);yield yo(!1,b,p.providerId),yield x(I,b.auth);const O=yield Ec(b);return I._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(y,p){return yield Ne(y)._initializationPromise,ps(y,p,!1)})).apply(this,arguments)}function ps(y,p){return mu.apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(y,p,g=!1){const b=Ne(y),I=oa(b,p),W=yield new fr(b,I,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function Ec(y){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(y){const p=ja(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class _u{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Tc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zd(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!zd(p)){const I=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(p))}saveEventToCache(p){this.cachedEventUids.add(yu(p)),this.lastProcessedEventTime=Date.now()}}function yu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function zd({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Sc(y){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(y,p={}){return Kt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Pm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ry=/^https?/;function $s(){return($s=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Sc(y);for(const g of p)try{if(Ic(g))return}catch(b){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Ic(y){const p=At(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!ry.test(g))return!1;if(Pm.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const sy=new yn(3e4,6e4);function oy(){const y=Cn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let qd=null;function ay(y){return qd=qd||function Fm(y){return new Promise((p,g)=>{var b,I,O;function W(){oy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{oy(),g(ve(y,"network-request-failed"))},timeout:sy.get()})}if(null===(I=null===(b=Cn().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Cn().gapi)||void 0===O?void 0:O.load)){const ue=Ao("iframefcb");return Cn()[ue]=()=>{gapi.load?W():g(ve(y,"network-request-failed"))},er(`https://apis.google.com/js/api.js?onload=${ue}`).catch(He=>g(He))}W()}}).catch(p=>{throw qd=null,p})}(y),qd}const vf=new yn(5e3,15e3),ua={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dl(y){const p=y.config;te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?vn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},I=Zd.get(y.config.apiHost);I&&(b.eid=I);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,N.xO)(b).slice(1)}`}function Ga(){return Ga=(0,u.Z)(function*(y){const p=yield ay(y),g=Cn().gapi;return te(g,y,"internal-error"),p.open({where:document.body,url:Dl(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ua,dontclear:!0},b=>new Promise(function(){var I=(0,u.Z)(function*(O,W){yield b.restyle({setHideOnLeave:!1});const ue=ve(y,"network-request-failed"),He=Cn().setTimeout(()=>{W(ue)},vf.get());function Xe(){Cn().clearTimeout(He),O(b)}b.ping(Xe).then(Xe,()=>{W(ue)})});return function(O,W){return I.apply(this,arguments)}}()))}),Ga.apply(this,arguments)}const uy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Cf(y,p,g,b,I,O){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:I};if(p instanceof go){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,Xe]of Object.entries(O||{}))W[He]=Xe}if(p instanceof hi){const He=p.getScopes().filter(Xe=>""!==Xe);He.length>0&&(W.scopes=He.join(","))}y.tenantId&&(W.tid=y.tenantId);const ue=W;for(const He of Object.keys(ue))void 0===ue[He]&&delete ue[He];return`${function dy({config:y}){return y.emulator?vn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ue).slice(1)}`}const Po="webStorageSupport";class Ef extends class Vm{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return q("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ef(p)}_finalizeEnroll(p,g,b){return function Ld(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:finalize",an(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function hs(y,p){return Kt(y,"POST","/v2/accounts/mfaSignIn:finalize",an(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hy=(()=>{class y{constructor(){}static assertion(g){return Ef._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var fy="@firebase/auth",Tf="0.19.11";class Bm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var I;p((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fo(){return window}function wu(){return(wu=(0,u.Z)(function*(y,p,g){var b;const{BuildInfo:I}=Fo();se(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Cl(p.sessionId),W={};return yr()?W.ibi=I.packageName:jn()?W.apn=I.packageName:Se(y,"operation-not-supported-in-this-environment"),I.displayName&&(W.appDisplayName=I.displayName),W.sessionId=O,Cf(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(y){const{BuildInfo:p}=Fo(),g={};yr()?g.iosBundleId=p.packageName:jn()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Sc(y,g)})).apply(this,arguments)}function eh(){return(eh=(0,u.Z)(function*(y,p,g){const{cordova:b}=Fo();let I=()=>{};try{yield new Promise((O,W)=>{let ue=null;function He(){var at;O();const Gn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Gn&&Gn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Xe(){ue||(ue=window.setTimeout(()=>{W(ve(y,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}p.addPassiveListener(He),document.addEventListener("resume",Xe,!1),jn()&&document.addEventListener("visibilitychange",Ct,!1),I=()=>{p.removePassiveListener(He),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Ct,!1),ue&&window.clearTimeout(ue)}})}finally{I()}})).apply(this,arguments)}function Cl(y){return Um.apply(this,arguments)}function Um(){return(Um=(0,u.Z)(function*(y){const p=Du(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Du(y){if(se(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function my(y){(0,le._registerComponent)(new oe.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),{apiKey:O,authDomain:W}=b.options;return((ue,He)=>{te(O&&!O.includes(":"),"invalid-api-key",{appName:ue.name}),te(!(null==W?void 0:W.includes(":")),"argument-error",{appName:ue.name});const Xe={apiKey:O,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ul(y)},Ct=new bi(ue,He,Xe);return function ce(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Ct,g),Ct})(b,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new oe.wA("auth-internal",p=>{const g=Ne(p.getProvider("auth").getImmediate());return new Bm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(fy,Tf,function py(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(fy,Tf,"esm2017")}("Browser");class Af extends _u{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function kc(y){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(y){const p=yield Oc()._get(xf(y));return p&&(yield Oc()._remove(xf(y))),p})).apply(this,arguments)}function xc(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Oc(){return ae(Jn)}function xf(y){return de("authEvent",y.config.apiKey,y.name)}function nh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function Lf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function rh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ym(y=(0,N.z$)()){return!("file:"!==rh()&&"ionic:"!==rh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function jr(){try{const y=self.localStorage,p=ja();if(y)return y.setItem(p,"1"),y.removeItem(p),!function qa(y=(0,N.z$)()){return function by(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function wy(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return ca()&&(0,N.hl)()}return!1}function ca(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lc(){return(function vy(){return"http:"===rh()||"https:"===rh()}()||(0,N.ru)()||Ym())&&!function ih(){return(0,N.b$)()||(0,N.UG)()}()&&jr()&&!ca()}function Pf(){return Ym()&&"undefined"!=typeof document}function El(){return(El=(0,u.Z)(function*(){return!!Pf()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const qi={LOCAL:"local",NONE:"none",SESSION:"session"},Tl=te,Vf="persistence";function Sl(y){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Pc(),g=de(Vf,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Pc(){var y;try{return(null===(y=function Ff(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Dy=te;class Si{constructor(){this.browserResolver=ae(class Wa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fn,this._completeRedirectFn=ps}_openPopup(p,g,b,I){var O=this;return(0,u.Z)(function*(){var W;se(null===(W=O.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ue=Cf(p,g,b,At(),I);return function Xd(y,p,g,b=500,I=600){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let ue="";const He=Object.assign(Object.assign({},uy),{width:b.toString(),height:I.toString(),top:O,left:W}),Xe=(0,N.z$)().toLowerCase();g&&(ue=Fr(Xe)?"_blank":g),bt(Xe)&&(p=p||"http://localhost",He.scrollbars="yes");const Ct=Object.entries(He).reduce((Gn,[ms,Vc])=>`${Gn}${ms}=${Vc},`,"");if(function $l(y=(0,N.z$)()){var p;return yr(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Xe)&&"_self"!==ue)return function Df(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ue),new Jd(null);const at=window.open(p||"",ue,Ct);te(at,y,"popup-blocked");try{at.focus()}catch(Gn){}return new Jd(at)}(p,ue,ja())})()}_openRedirect(p,g,b,I){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(p),function _f(y){Cn().location.href=y}(Cf(p,g,b,At(),I)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:O}=this.eventManagers[g];return I?Promise.resolve(I):(se(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const b=yield function ly(y){return Ga.apply(this,arguments)}(p),I=new _u(p);return b.register("authEvent",O=>(te(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=b,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Po,{type:Po},I=>{var O;const W=null===(O=null==I?void 0:I[0])||void 0===O?void 0:O[Po];void 0!==W&&g(!!W),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function iy(y){return $s.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return As()||tn()||yr()}}),this.cordovaResolver=ae(class Nf{constructor(){this._redirectPersistence=Fn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ps}_initialize(p){var g=this;return(0,u.Z)(function*(){const b=p._key();let I=g.eventManagers.get(b);return I||(I=new Af(p),g.eventManagers.set(b,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,I){var O=this;return(0,u.Z)(function*(){!function th(y){var p,g,b,I,O,W,ue,He,Xe,Ct;const at=Fo();te("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(O=null===(I=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(He=null===(ue=null===(W=null==at?void 0:at.cordova)||void 0===W?void 0:W.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ct=null===(Xe=null==at?void 0:at.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Ct?void 0:Ct.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield O._initialize(p);yield W.initialized(),W.resetRedirect(),function z(){pu.clear()}(),yield O._originValidation(p);const ue=function kf(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:xc(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,b,I);yield function dw(y,p){return Oc()._set(xf(y),p)}(p,ue);const He=yield function Sf(y,p,g){return wu.apply(this,arguments)}(p,ue,g),Xe=yield function Ac(y){const{cordova:p}=Fo();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let I=null;b?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function qo(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(He);return function Hm(y,p,g){return eh.apply(this,arguments)}(p,W,Xe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function If(y){return zi.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:O}=Fo(),W=setTimeout((0,u.Z)(function*(){yield kc(p),g.onEvent(Lf())}),500),ue=function(){var Ct=(0,u.Z)(function*(at){clearTimeout(W);const Gn=yield kc(p);let ms=null;Gn&&(null==at?void 0:at.url)&&(ms=function _y(y,p){var g,b;const I=function Rc(y){const p=nh(y),g=p.link?decodeURIComponent(p.link):void 0,b=nh(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return nh(I).link||I||b||g||y}(p);if(I.includes("/__/auth/callback")){const O=nh(I),W=O.firebaseError?function Of(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ue=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],He=ue?ve(ue):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Gn,at.url)),g.onEvent(ms||Lf())});return function(Gn){return Ct.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ue);const He=I,Xe=`${O.packageName.toLowerCase()}://`;Fo().handleOpenURL=function(){var Ct=(0,u.Z)(function*(at){if(at.toLowerCase().startsWith(Xe)&&ue({url:at}),"function"==typeof He)try{He(at)}catch(Gn){console.error(Gn)}});return function(at){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fn,this._completeRedirectFn=ps}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,I){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,I)})()}_openRedirect(p,g,b,I){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Pf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Xr(){return El.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Wm(y){return y.unwrap()}function Il(y){return zm(y)}function zm(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Gi.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=dl;break;case"facebook.com":b=Ko;break;case"github.com":b=Sd;break;case"twitter.com":b=Kl;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:ue,nonce:He}=p;return O||W||I||ue?ue?g.startsWith("saml.")?Mr._create(g,ue):Rs._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:I,accessToken:O}):new Pa(g).credential({idToken:I,accessToken:O,rawNonce:He}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Yr(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function Ey(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Ty(y,function cu(y,p){var g;const b=(0,N.m9)(y),I=p;return te(p.customData.operationType,b,"argument-error"),te(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),gl._fromError(b,I)}(y,p));else if(b){const I=zm(p),O=p;I&&(O.credential=I,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:Il(g),additionalUserInfo:Hr(g),user:da.getOrCreate(I)}})}function Hf(y,p){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Yr(y,g.confirm(b))}})).apply(this,arguments)}class Ty{constructor(p,g){this.resolver=g,this.auth=function Cy(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Yr(Wm(this.auth),this.resolver.resolveSignIn(p))}}class da{constructor(p){this._delegate=p,this.multiFactor=function Pd(y){const p=(0,N.m9)(y);return Ua.has(p)||Ua.set(p,Fs._fromUser(p)),Ua.get(p)}(p)}static getOrCreate(p){return da.USER_MAP.has(p)||da.USER_MAP.set(p,new da(p)),da.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Yr(g.auth,Bi(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,u.Z)(function*(){return Hf(b.auth,function Dc(y,p,g){return sa.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Yr(g.auth,function Ys(y,p,g){return Cc.apply(this,arguments)}(g._delegate,p,Si))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Sl(Ne(g.auth)),function Yt(y,p,g){return function bl(y,p,g){return Wi.apply(this,arguments)}(y,p,g)}(g._delegate,p,Si)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Yr(g.auth,vo(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Hf(this.auth,function Yd(y,p,g){return _l.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Yr(this.auth,function Gd(y,p,g){return js.apply(this,arguments)}(this._delegate,p,Si))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Sl(Ne(g.auth)),function Bt(y,p,g){return function wt(y,p,g){return Dt.apply(this,arguments)}(y,p,g)}(g._delegate,p,Si)})()}sendEmailVerification(p){return function Hi(y,p){return uc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function hl(y,p){return nc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function hc(y,p){return fc((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function kd(y,p){return fc((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yl(y,p){return Hs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ha(y,p){return dc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function lu(y,p,g){return uu.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}da.USER_MAP=new WeakMap;const Fc=te;let jf=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;Fc(I,"invalid-api-key",{appName:g.name}),Fc(I,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Si:void 0;this._delegate=b.initialize({options:{persistence:Sy(I,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?da.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Dn(y,p,g){const b=Ne(y);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),O=Ir(p),{host:W,port:ue}=function co(y){const p=Ir(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const O=I[1];return{host:O,port:rr(b.substr(O.length+1))}}{const[O,W]=b.split(":");return{host:O,port:rr(W)}}}(p);b.config.emulator={url:`${O}//${W}${null===ue?"":`:${ue}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function us(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function ic(y,p){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return jt(this._delegate,g)}confirmPasswordReset(g,b){return function su(y,p,g){return rc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,u.Z)(function*(){return Yr(I._delegate,function Ba(y,p,g){return pi.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function au(y,p){return Co.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function lc(y,p){const g=Zo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Fc(Lc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function aa(y,p){return Jr.apply(this,arguments)}(g._delegate,Si);return b?Yr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function jm(y,p){Ne(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:O,error:W,complete:ue}=Yf(g,b,I);return this._delegate.onAuthStateChanged(O,W,ue)}onIdTokenChanged(g,b,I){const{next:O,error:W,complete:ue}=Yf(g,b,I);return this._delegate.onIdTokenChanged(O,W,ue)}sendSignInLinkToEmail(g,b){return function ac(y,p,g){return Ad.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function ru(y,p,g){return iu.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let I;switch(function $m(y,p){Tl(Object.values(qi).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Tl(p!==qi.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Tl(p===qi.NONE,y,"unsupported-persistence-type"):ca()?Tl(p===qi.NONE||p===qi.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Tl(p===qi.NONE||jr(),y,"unsupported-persistence-type")}(b._delegate,g),g){case qi.SESSION:I=Fn;break;case qi.LOCAL:I=(yield ae(ji)._isAvailable())?ji:Jn;break;case qi.NONE:I=G;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Yr(this._delegate,function Jl(y){return Id.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Yr(this._delegate,Kn(this._delegate,g))}signInWithCustomToken(g){return Yr(this._delegate,function bo(y,p){return wo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Yr(this._delegate,function oc(y,p,g){return Kn((0,N.m9)(y),tc.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Yr(this._delegate,function ou(y,p,g){return Do.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Hf(this._delegate,function hu(y,p,g){return Bn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return Fc(Lc(),b._delegate,"operation-not-supported-in-this-environment"),Yr(b._delegate,function Ro(y,p,g){return No.apply(this,arguments)}(b._delegate,g,Si))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return Fc(Lc(),b._delegate,"operation-not-supported-in-this-environment"),yield Sl(b._delegate),function Je(y,p,g){return function Mt(y,p,g){return Et.apply(this,arguments)}(y,p,g)}(b._delegate,g,Si)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Mn(y,p){return Va.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=qi,y})();function Yf(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const I=b;return{next:W=>I(W&&da.getOrCreate(W)),error:p,complete:g}}function Sy(y,p){const g=function Gm(y,p){const g=Pc();if(!g)return[];const b=de(Vf,y,p);switch(g.getItem(b)){case qi.NONE:return[G];case qi.LOCAL:return[ji,Fn];case qi.SESSION:return[Fn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(ji)&&g.push(ji),"undefined"!=typeof window)for(const b of[Jn,Fn])g.includes(b)||g.push(b);return g.includes(G)||g.push(G),g}class $f{constructor(){this.providerId="phone",this._delegate=new Gi(Wm(K.Z.auth()))}static credential(p,g){return Gi.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}$f.PHONE_SIGN_IN_METHOD=Gi.PHONE_SIGN_IN_METHOD,$f.PROVIDER_ID=Gi.PROVIDER_ID;const Iy=te;class My{constructor(p,g,b=K.Z.app()){var I;Iy(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Nm(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qm(y){y.INTERNAL.registerComponent(new oe.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new jf(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tc,FacebookAuthProvider:Ko,GithubAuthProvider:Sd,GoogleAuthProvider:dl,OAuthProvider:Pa,SAMLAuthProvider:wi,PhoneAuthProvider:$f,PhoneMultiFactorGenerator:hy,RecaptchaVerifier:My,TwitterAuthProvider:Kl,Auth:jf,AuthCredential:hn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(it,Ce,R)=>{R.d(Ce,{y:()=>j});var u=R(930),K=R(727),N=R(8822),le=R(4671);var oe=R(2416),ie=R(576),ne=R(2806);let j=(()=>{class Me{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const fe=new Me;return fe.source=this,fe.operator=Fe,fe}subscribe(Fe,fe,De){const et=function We(Me){return Me&&Me instanceof u.Lv||function J(Me){return Me&&(0,ie.m)(Me.next)&&(0,ie.m)(Me.error)&&(0,ie.m)(Me.complete)}(Me)&&(0,K.Nn)(Me)}(Fe)?Fe:new u.Hp(Fe,fe,De);return(0,ne.x)(()=>{const{operator:Ze,source:Se}=this;et.add(Ze?Ze.call(et,Se):Se?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(fe){Fe.error(fe)}}forEach(Fe,fe){return new(fe=Y(fe))((De,et)=>{const Ze=new u.Hp({next:Se=>{try{Fe(Se)}catch(ve){et(ve),Ze.unsubscribe()}},error:et,complete:De});this.subscribe(Ze)})}_subscribe(Fe){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return function pe(Me){return 0===Me.length?le.y:1===Me.length?Me[0]:function(Fe){return Me.reduce((fe,De)=>De(fe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=Y(Fe))((fe,De)=>{let et;this.subscribe(Ze=>et=Ze,Ze=>De(Ze),()=>fe(et))})}}return Me.create=Re=>new Me(Re),Me})();function Y(Me){var Re;return null!==(Re=null!=Me?Me:oe.v.Promise)&&void 0!==Re?Re:Promise}},7579:(it,Ce,R)=>{R.d(Ce,{x:()=>oe});var u=R(8306),K=R(727);const le=(0,R(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=R(8737),pe=R(2806);let oe=(()=>{class ne extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const J=new ie(this,this);return J.operator=Y,J}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Y)}})}error(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:J}=this;for(;J.length;)J.shift().error(Y)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:J,isStopped:We,observers:Me}=this;return J||We?K.Lc:(this.currentObservers=null,Me.push(Y),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Me,Y)}))}_checkFinalizedStatuses(Y){const{hasError:J,thrownError:We,isStopped:Me}=this;J?Y.error(We):Me&&Y.complete()}asObservable(){const Y=new u.y;return Y.source=this,Y}}return ne.create=(j,Y)=>new ie(j,Y),ne})();class ie extends oe{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===J||J.call(Y,j)}error(j){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===J||J.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,J;return null!==(J=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==J?J:K.Lc}}},930:(it,Ce,R)=>{R.d(Ce,{Hp:()=>Fe,Lv:()=>J});var u=R(576),K=R(727),N=R(2416),le=R(7849),X=R(5032);const pe=ne("C",void 0,void 0);function ne(Se,ve,we){return{kind:Se,value:ve,error:we}}var j=R(3410),Y=R(2806);class J extends K.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,K.Nn)(ve)&&ve.add(this)):this.destination=Ze}static create(ve,we,Ye){return new Fe(ve,we,Ye)}next(ve){this.isStopped?et(function ie(Se){return ne("N",Se,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?et(function oe(Se){return ne("E",void 0,Se)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?et(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Me(Se,ve){return We.call(Se,ve)}class Re{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:we}=this;if(we.next)try{we.next(ve)}catch(Ye){fe(Ye)}}error(ve){const{partialObserver:we}=this;if(we.error)try{we.error(ve)}catch(Ye){fe(Ye)}else fe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(we){fe(we)}}}class Fe extends J{constructor(ve,we,Ye){let Ue;if(super(),(0,u.m)(ve)||!ve)Ue={next:null!=ve?ve:void 0,error:null!=we?we:void 0,complete:null!=Ye?Ye:void 0};else{let te;this&&N.v.useDeprecatedNextContext?(te=Object.create(ve),te.unsubscribe=()=>this.unsubscribe(),Ue={next:ve.next&&Me(ve.next,te),error:ve.error&&Me(ve.error,te),complete:ve.complete&&Me(ve.complete,te)}):Ue=ve}this.destination=new Re(Ue)}}function fe(Se){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Se):(0,le.h)(Se)}function et(Se,ve){const{onStoppedNotification:we}=N.v;we&&j.z.setTimeout(()=>we(Se,ve))}const Ze={closed:!0,next:X.Z,error:function De(Se){throw Se},complete:X.Z}},727:(it,Ce,R)=>{R.d(Ce,{Lc:()=>pe,w0:()=>X,Nn:()=>oe});var u=R(576);const N=(0,R(3888).d)(ne=>function(Y){ne(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((J,We)=>`${We+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=R(8737);class X{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Me of Y)Me.remove(this);else Y.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(Me){j=Me instanceof N?Me.errors:[Me]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Me of We)try{ie(Me)}catch(Re){j=null!=j?j:[],Re instanceof N?j=[...j,...Re.errors]:j.push(Re)}}if(j)throw new N(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)ie(j);else{if(j instanceof X){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,le.P)(Y,j),j instanceof X&&j._removeParent(this)}}X.EMPTY=(()=>{const ne=new X;return ne.closed=!0,ne})();const pe=X.EMPTY;function oe(ne){return ne instanceof X||ne&&"closed"in ne&&(0,u.m)(ne.remove)&&(0,u.m)(ne.add)&&(0,u.m)(ne.unsubscribe)}function ie(ne){(0,u.m)(ne)?ne():ne.unsubscribe()}},2416:(it,Ce,R)=>{R.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,Ce,R)=>{R.d(Ce,{E:()=>K});const K=new(R(8306).y)(X=>X.complete())},8996:(it,Ce,R)=>{R.d(Ce,{D:()=>ve});var u=R(8421),K=R(5363),N=R(9468),pe=R(8306),ie=R(2202),ne=R(576),j=R(9672);function J(we,Ye){if(!we)throw new Error("Iterable cannot be null");return new pe.y(Ue=>{(0,j.f)(Ue,Ye,()=>{const te=we[Symbol.asyncIterator]();(0,j.f)(Ue,Ye,()=>{te.next().then(q=>{q.done?Ue.complete():Ue.next(q.value)})},0,!0)})})}var We=R(3670),Me=R(8239),Re=R(1144),Fe=R(6495),fe=R(2206),De=R(4532),et=R(3260);function ve(we,Ye){return Ye?function Se(we,Ye){if(null!=we){if((0,We.c)(we))return function le(we,Ye){return(0,u.Xf)(we).pipe((0,N.R)(Ye),(0,K.Q)(Ye))}(we,Ye);if((0,Re.z)(we))return function oe(we,Ye){return new pe.y(Ue=>{let te=0;return Ye.schedule(function(){te===we.length?Ue.complete():(Ue.next(we[te++]),Ue.closed||this.schedule())})})}(we,Ye);if((0,Me.t)(we))return function X(we,Ye){return(0,u.Xf)(we).pipe((0,N.R)(Ye),(0,K.Q)(Ye))}(we,Ye);if((0,fe.D)(we))return J(we,Ye);if((0,Fe.T)(we))return function Y(we,Ye){return new pe.y(Ue=>{let te;return(0,j.f)(Ue,Ye,()=>{te=we[ie.h](),(0,j.f)(Ue,Ye,()=>{let q,se;try{({value:q,done:se}=te.next())}catch(ge){return void Ue.error(ge)}se?Ue.complete():Ue.next(q)},0,!0)}),()=>(0,ne.m)(null==te?void 0:te.return)&&te.return()})}(we,Ye);if((0,et.L)(we))return function Ze(we,Ye){return J((0,et.Q)(we),Ye)}(we,Ye)}throw(0,De.z)(we)}(we,Ye):(0,u.Xf)(we)}},8421:(it,Ce,R)=>{R.d(Ce,{Xf:()=>We});var u=R(655),K=R(1144),N=R(8239),le=R(8306),X=R(3670),pe=R(2206),oe=R(4532),ie=R(6495),ne=R(3260),j=R(576),Y=R(7849),J=R(8822);function We(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,X.c)(Se))return function Me(Se){return new le.y(ve=>{const we=Se[J.L]();if((0,j.m)(we.subscribe))return we.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,K.z)(Se))return function Re(Se){return new le.y(ve=>{for(let we=0;we<Se.length&&!ve.closed;we++)ve.next(Se[we]);ve.complete()})}(Se);if((0,N.t)(Se))return function Fe(Se){return new le.y(ve=>{Se.then(we=>{ve.closed||(ve.next(we),ve.complete())},we=>ve.error(we)).then(null,Y.h)})}(Se);if((0,pe.D)(Se))return De(Se);if((0,ie.T)(Se))return function fe(Se){return new le.y(ve=>{for(const we of Se)if(ve.next(we),ve.closed)return;ve.complete()})}(Se);if((0,ne.L)(Se))return function et(Se){return De((0,ne.Q)(Se))}(Se)}throw(0,oe.z)(Se)}function De(Se){return new le.y(ve=>{(function Ze(Se,ve){var we,Ye,Ue,te;return(0,u.mG)(this,void 0,void 0,function*(){try{for(we=(0,u.KL)(Se);!(Ye=yield we.next()).done;)if(ve.next(Ye.value),ve.closed)return}catch(q){Ue={error:q}}finally{try{Ye&&!Ye.done&&(te=we.return)&&(yield te.call(we))}finally{if(Ue)throw Ue.error}}ve.complete()})})(Se,ve).catch(we=>ve.error(we))})}},6451:(it,Ce,R)=>{R.d(Ce,{T:()=>pe});var u=R(8189),K=R(8421),N=R(515),le=R(3269),X=R(8996);function pe(...oe){const ie=(0,le.yG)(oe),ne=(0,le._6)(oe,1/0),j=oe;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,u.J)(ne)((0,X.D)(j,ie)):N.E}},5403:(it,Ce,R)=>{R.d(Ce,{x:()=>K});var u=R(930);function K(le,X,pe,oe,ie){return new N(le,X,pe,oe,ie)}class N extends u.Lv{constructor(X,pe,oe,ie,ne,j){super(X),this.onFinalize=ne,this.shouldUnsubscribe=j,this._next=pe?function(Y){try{pe(Y)}catch(J){X.error(J)}}:super._next,this._error=ie?function(Y){try{ie(Y)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(Y){X.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(it,Ce,R)=>{R.d(Ce,{U:()=>N});var u=R(4482),K=R(5403);function N(le,X){return(0,u.e)((pe,oe)=>{let ie=0;pe.subscribe((0,K.x)(oe,ne=>{oe.next(le.call(X,ne,ie++))}))})}},8189:(it,Ce,R)=>{R.d(Ce,{J:()=>N});var u=R(5577),K=R(4671);function N(le=1/0){return(0,u.z)(K.y,le)}},5577:(it,Ce,R)=>{R.d(Ce,{z:()=>ie});var u=R(4004),K=R(8421),N=R(4482),le=R(9672),X=R(5403),oe=R(576);function ie(ne,j,Y=1/0){return(0,oe.m)(j)?ie((J,We)=>(0,u.U)((Me,Re)=>j(J,Me,We,Re))((0,K.Xf)(ne(J,We))),Y):("number"==typeof j&&(Y=j),(0,N.e)((J,We)=>function pe(ne,j,Y,J,We,Me,Re,Fe){const fe=[];let De=0,et=0,Ze=!1;const Se=()=>{Ze&&!fe.length&&!De&&j.complete()},ve=Ye=>De<J?we(Ye):fe.push(Ye),we=Ye=>{Me&&j.next(Ye),De++;let Ue=!1;(0,K.Xf)(Y(Ye,et++)).subscribe((0,X.x)(j,te=>{null==We||We(te),Me?ve(te):j.next(te)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(De--;fe.length&&De<J;){const te=fe.shift();Re?(0,le.f)(j,Re,()=>we(te)):we(te)}Se()}catch(te){j.error(te)}}))};return ne.subscribe((0,X.x)(j,ve,()=>{Ze=!0,Se()})),()=>{null==Fe||Fe()}}(J,We,ne,Y)))}},5363:(it,Ce,R)=>{R.d(Ce,{Q:()=>le});var u=R(9672),K=R(4482),N=R(5403);function le(X,pe=0){return(0,K.e)((oe,ie)=>{oe.subscribe((0,N.x)(ie,ne=>(0,u.f)(ie,X,()=>ie.next(ne),pe),()=>(0,u.f)(ie,X,()=>ie.complete(),pe),ne=>(0,u.f)(ie,X,()=>ie.error(ne),pe)))})}},3099:(it,Ce,R)=>{R.d(Ce,{B:()=>pe});var u=R(8996),K=R(5698),N=R(7579),le=R(930),X=R(4482);function pe(ie={}){const{connector:ne=(()=>new N.x),resetOnError:j=!0,resetOnComplete:Y=!0,resetOnRefCountZero:J=!0}=ie;return We=>{let Me=null,Re=null,Fe=null,fe=0,De=!1,et=!1;const Ze=()=>{null==Re||Re.unsubscribe(),Re=null},Se=()=>{Ze(),Me=Fe=null,De=et=!1},ve=()=>{const we=Me;Se(),null==we||we.unsubscribe()};return(0,X.e)((we,Ye)=>{fe++,!et&&!De&&Ze();const Ue=Fe=null!=Fe?Fe:ne();Ye.add(()=>{fe--,0===fe&&!et&&!De&&(Re=oe(ve,J))}),Ue.subscribe(Ye),Me||(Me=new le.Hp({next:te=>Ue.next(te),error:te=>{et=!0,Ze(),Re=oe(Se,j,te),Ue.error(te)},complete:()=>{De=!0,Ze(),Re=oe(Se,Y),Ue.complete()}}),(0,u.D)(we).subscribe(Me))})(We)}}function oe(ie,ne,...j){return!0===ne?(ie(),null):!1===ne?null:ne(...j).pipe((0,K.q)(1)).subscribe(()=>ie())}},9468:(it,Ce,R)=>{R.d(Ce,{R:()=>K});var u=R(4482);function K(N,le=0){return(0,u.e)((X,pe)=>{pe.add(N.schedule(()=>X.subscribe(pe),le))})}},5698:(it,Ce,R)=>{R.d(Ce,{q:()=>le});var u=R(515),K=R(4482),N=R(5403);function le(X){return X<=0?()=>u.E:(0,K.e)((pe,oe)=>{let ie=0;pe.subscribe((0,N.x)(oe,ne=>{++ie<=X&&(oe.next(ne),X<=ie&&oe.complete())}))})}},8505:(it,Ce,R)=>{R.d(Ce,{b:()=>X});var u=R(576),K=R(4482),N=R(5403),le=R(4671);function X(pe,oe,ie){const ne=(0,u.m)(pe)||oe||ie?{next:pe,error:oe,complete:ie}:pe;return ne?(0,K.e)((j,Y)=>{var J;null===(J=ne.subscribe)||void 0===J||J.call(ne);let We=!0;j.subscribe((0,N.x)(Y,Me=>{var Re;null===(Re=ne.next)||void 0===Re||Re.call(ne,Me),Y.next(Me)},()=>{var Me;We=!1,null===(Me=ne.complete)||void 0===Me||Me.call(ne),Y.complete()},Me=>{var Re;We=!1,null===(Re=ne.error)||void 0===Re||Re.call(ne,Me),Y.error(Me)},()=>{var Me,Re;We&&(null===(Me=ne.unsubscribe)||void 0===Me||Me.call(ne)),null===(Re=ne.finalize)||void 0===Re||Re.call(ne)}))}):le.y}},4408:(it,Ce,R)=>{R.d(Ce,{o:()=>X});var u=R(727);class K extends u.w0{constructor(oe,ie){super()}schedule(oe,ie=0){return this}}const N={setInterval(pe,oe,...ie){const{delegate:ne}=N;return(null==ne?void 0:ne.setInterval)?ne.setInterval(pe,oe,...ie):setInterval(pe,oe,...ie)},clearInterval(pe){const{delegate:oe}=N;return((null==oe?void 0:oe.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=R(8737);class X extends K{constructor(oe,ie){super(oe,ie),this.scheduler=oe,this.work=ie,this.pending=!1}schedule(oe,ie=0){if(this.closed)return this;this.state=oe;const ne=this.id,j=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(j,ne,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(j,this.id,ie),this}requestAsyncId(oe,ie,ne=0){return N.setInterval(oe.flush.bind(oe,this),ne)}recycleAsyncId(oe,ie,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return ie;N.clearInterval(ie)}execute(oe,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(oe,ie);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ie){let j,ne=!1;try{this.work(oe)}catch(Y){ne=!0,j=Y||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ie}=this,{actions:ne}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ne,this),null!=oe&&(this.id=this.recycleAsyncId(ie,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,Ce,R)=>{R.d(Ce,{v:()=>N});var u=R(6063);class K{constructor(X,pe=K.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,oe){return new this.schedulerActionCtor(this,X).schedule(oe,pe)}}K.now=u.l.now;class N extends K{constructor(X,pe=K.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let oe;this._active=!0;do{if(oe=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,oe){for(;X=pe.shift();)X.unsubscribe();throw oe}}}},4986:(it,Ce,R)=>{R.d(Ce,{z:()=>N,P:()=>le});var u=R(4408);const N=new(R(7565).v)(u.o),le=N},6063:(it,Ce,R)=>{R.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(it,Ce,R)=>{R.d(Ce,{N:()=>X});var u=R(4408),N=R(7565);const X=new class le extends N.v{}(class K extends u.o{constructor(ie,ne){super(ie,ne),this.scheduler=ie,this.work=ne}schedule(ie,ne=0){return ne>0?super.schedule(ie,ne):(this.delay=ne,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ne){return ne>0||this.closed?super.execute(ie,ne):this._execute(ie,ne)}requestAsyncId(ie,ne,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(ie,ne,j):ie.flush(this)}})},3410:(it,Ce,R)=>{R.d(Ce,{z:()=>u});const u={setTimeout(K,N,...le){const{delegate:X}=u;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,N,...le):setTimeout(K,N,...le)},clearTimeout(K){const{delegate:N}=u;return((null==N?void 0:N.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(it,Ce,R)=>{R.d(Ce,{h:()=>K});const K=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,Ce,R)=>{R.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,Ce,R)=>{R.d(Ce,{jO:()=>le,yG:()=>X,_6:()=>pe});var u=R(576),K=R(3532);function N(oe){return oe[oe.length-1]}function le(oe){return(0,u.m)(N(oe))?oe.pop():void 0}function X(oe){return(0,K.K)(N(oe))?oe.pop():void 0}function pe(oe,ie){return"number"==typeof N(oe)?oe.pop():ie}},8737:(it,Ce,R)=>{function u(K,N){if(K){const le=K.indexOf(N);0<=le&&K.splice(le,1)}}R.d(Ce,{P:()=>u})},3888:(it,Ce,R)=>{function u(K){const le=K(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}R.d(Ce,{d:()=>u})},2806:(it,Ce,R)=>{R.d(Ce,{x:()=>N,O:()=>le});var u=R(2416);let K=null;function N(X){if(u.v.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),X(),pe){const{errorThrown:oe,error:ie}=K;if(K=null,oe)throw ie}}else X()}function le(X){u.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(it,Ce,R)=>{function u(K,N,le,X=0,pe=!1){const oe=N.schedule(function(){le(),pe?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(oe),!pe)return oe}R.d(Ce,{f:()=>u})},4671:(it,Ce,R)=>{function u(K){return K}R.d(Ce,{y:()=>u})},1144:(it,Ce,R)=>{R.d(Ce,{z:()=>u});const u=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(it,Ce,R)=>{R.d(Ce,{D:()=>K});var u=R(576);function K(N){return Symbol.asyncIterator&&(0,u.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(it,Ce,R)=>{function u(K){return"function"==typeof K}R.d(Ce,{m:()=>u})},3670:(it,Ce,R)=>{R.d(Ce,{c:()=>N});var u=R(8822),K=R(576);function N(le){return(0,K.m)(le[u.L])}},6495:(it,Ce,R)=>{R.d(Ce,{T:()=>N});var u=R(2202),K=R(576);function N(le){return(0,K.m)(null==le?void 0:le[u.h])}},8239:(it,Ce,R)=>{R.d(Ce,{t:()=>K});var u=R(576);function K(N){return(0,u.m)(null==N?void 0:N.then)}},3260:(it,Ce,R)=>{R.d(Ce,{Q:()=>N,L:()=>le});var u=R(655),K=R(576);function N(X){return(0,u.FC)(this,arguments,function*(){const oe=X.getReader();try{for(;;){const{value:ie,done:ne}=yield(0,u.qq)(oe.read());if(ne)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ie)}}finally{oe.releaseLock()}})}function le(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(it,Ce,R)=>{R.d(Ce,{K:()=>K});var u=R(576);function K(N){return N&&(0,u.m)(N.schedule)}},4482:(it,Ce,R)=>{R.d(Ce,{A:()=>K,e:()=>N});var u=R(576);function K(le){return(0,u.m)(null==le?void 0:le.lift)}function N(le){return X=>{if(K(X))return X.lift(function(pe){try{return le(pe,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,Ce,R)=>{function u(){}R.d(Ce,{Z:()=>u})},7849:(it,Ce,R)=>{R.d(Ce,{h:()=>N});var u=R(2416),K=R(3410);function N(le){K.z.setTimeout(()=>{const{onUnhandledError:X}=u.v;if(!X)throw le;X(le)})}},4532:(it,Ce,R)=>{function u(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ce,{z:()=>u})},655:(it,Ce,R)=>{function le(q,se){var ge={};for(var ae in q)Object.prototype.hasOwnProperty.call(q,ae)&&se.indexOf(ae)<0&&(ge[ae]=q[ae]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ae=Object.getOwnPropertySymbols(q);xe<ae.length;xe++)se.indexOf(ae[xe])<0&&Object.prototype.propertyIsEnumerable.call(q,ae[xe])&&(ge[ae[xe]]=q[ae[xe]])}return ge}function X(q,se,ge,ae){var At,xe=arguments.length,ce=xe<3?se:null===ae?ae=Object.getOwnPropertyDescriptor(se,ge):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(q,se,ge,ae);else for(var on=q.length-1;on>=0;on--)(At=q[on])&&(ce=(xe<3?At(ce):xe>3?At(se,ge,ce):At(se,ge))||ce);return xe>3&&ce&&Object.defineProperty(se,ge,ce),ce}function oe(q,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(q,se)}function ie(q,se,ge,ae){return new(ge||(ge=Promise))(function(ce,At){function on(vt){try{lt(ae.next(vt))}catch(yn){At(yn)}}function qn(vt){try{lt(ae.throw(vt))}catch(yn){At(yn)}}function lt(vt){vt.done?ce(vt.value):function xe(ce){return ce instanceof ge?ce:new ge(function(At){At(ce)})}(vt.value).then(on,qn)}lt((ae=ae.apply(q,se||[])).next())})}function fe(q){return this instanceof fe?(this.v=q,this):new fe(q)}function De(q,se,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ae=ge.apply(q,se||[]),ce=[];return xe={},At("next"),At("throw"),At("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function At(vn){ae[vn]&&(xe[vn]=function(Vi){return new Promise(function(dn,Ss){ce.push([vn,Vi,dn,Ss])>1||on(vn,Vi)})})}function on(vn,Vi){try{!function qn(vn){vn.value instanceof fe?Promise.resolve(vn.value.v).then(lt,vt):yn(ce[0][2],vn)}(ae[vn](Vi))}catch(dn){yn(ce[0][3],dn)}}function lt(vn){on("next",vn)}function vt(vn){on("throw",vn)}function yn(vn,Vi){vn(Vi),ce.shift(),ce.length&&on(ce[0][0],ce[0][1])}}function Ze(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,se=q[Symbol.asyncIterator];return se?se.call(q):(q=function J(q){var se="function"==typeof Symbol&&Symbol.iterator,ge=se&&q[se],ae=0;if(ge)return ge.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ae>=q.length&&(q=void 0),{value:q&&q[ae++],done:!q}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ge={},ae("next"),ae("throw"),ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ae(ce){ge[ce]=q[ce]&&function(At){return new Promise(function(on,qn){!function xe(ce,At,on,qn){Promise.resolve(qn).then(function(lt){ce({value:lt,done:on})},At)}(on,qn,(At=q[ce](At)).done,At.value)})}}}R.d(Ce,{_T:()=>le,gn:()=>X,w6:()=>oe,mG:()=>ie,qq:()=>fe,FC:()=>De,KL:()=>Ze})},5e3:(it,Ce,R)=>{R.d(Ce,{deG:()=>xm,tb:()=>D0,AFp:()=>UC,ip1:()=>HC,CZH:()=>b0,hGG:()=>uA,z2F:()=>c_,sBO:()=>f_,Sil:()=>E0,_Vd:()=>t0,EJc:()=>xR,SBq:()=>Op,qLn:()=>Yr,vpe:()=>$o,tBr:()=>Lo,XFs:()=>ct,OlP:()=>$n,zs3:()=>Ws,ZZ4:()=>B0,aQg:()=>H0,soG:()=>C0,YKP:()=>Qs,h0i:()=>Ea,PXZ:()=>ZC,R0b:()=>Sa,FiY:()=>gu,Lbi:()=>Bp,g9A:()=>ld,Qsj:()=>dC,FYo:()=>KI,JOm:()=>ue,tp0:()=>yu,Rgc:()=>Uh,dDg:()=>WC,q4F:()=>Gg,GfV:()=>JI,s_b:()=>u0,ifc:()=>Qt,eFA:()=>KC,G48:()=>tE,Gpc:()=>Y,X6Q:()=>eE,_c5:()=>lA,VLi:()=>YM,c2e:()=>YC,zSh:()=>gv,wAp:()=>Tt,vHH:()=>Re,cg1:()=>zv,kL8:()=>YD,dqk:()=>zt,sIi:()=>dp,CqO:()=>pD,QGY:()=>Ov,F4k:()=>fD,RDi:()=>Ns,AaK:()=>ie,qOj:()=>wr,TTD:()=>Ko,_Bn:()=>Xc,xp6:()=>jy,uIk:()=>Zt,Tol:()=>sI,ekj:()=>Nl,Suo:()=>sd,Xpm:()=>Ut,lG2:()=>tn,Yz7:()=>dn,cJS:()=>an,oAB:()=>Q,Yjl:()=>Fr,Y36:()=>Dp,_UZ:()=>Sg,BQk:()=>Cp,ynx:()=>Ig,qZA:()=>Ja,TgZ:()=>Rl,EpF:()=>xv,n5z:()=>Ud,LFG:()=>Yt,$8M:()=>Ao,$Z:()=>Tg,NdJ:()=>Rv,CRH:()=>DC,kcU:()=>ty,O4$:()=>Nd,oxw:()=>QS,ALo:()=>cM,lcZ:()=>dM,Hsn:()=>gD,F$t:()=>Lv,Q6J:()=>uD,s9C:()=>Pv,iGM:()=>d0,MAs:()=>rD,CHM:()=>sc,LSH:()=>Cu,Udp:()=>kg,YNc:()=>wg,W1O:()=>ws,_uU:()=>xD,Oqu:()=>Uv,hij:()=>Ip,Gf:()=>wC});var u=R(7579),K=R(727),N=R(8306),le=R(6451),X=R(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function oe(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ne(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=pe({__forward_ref__:pe});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return ie(this())},s}function J(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===Y}class Re extends Error{constructor(o,l){super(function Fe(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ve(s,o){const l=o?` in ${o}`:"";throw new Re(-201,`No provider for ${De(s)} found${l}`)}function lt(s,o){null==s&&function vt(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function dn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function an(s){return{providers:s.providers||[],imports:s.imports||[]}}function Kt(s){return Er(s,as)||Er(s,Is)}function Er(s,o){return s.hasOwnProperty(o)?s[o]:null}function zr(s){return s&&(s.hasOwnProperty(qr)||s.hasOwnProperty(Ms))?s[qr]:null}const as=pe({\u0275prov:pe}),qr=pe({\u0275inj:pe}),Is=pe({ngInjectableDef:pe}),Ms=pe({ngInjectorDef:pe});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let ui;function cr(s){const o=ui;return ui=s,o}function vi(s,o,l){const d=Kt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ct.Optional?null:void 0!==o?o:void ve(ie(s),"Injector")}function In(s){return{toString:s}.toString()}var _r=(()=>((_r=_r||{})[_r.OnPush=0]="OnPush",_r[_r.Default=1]="Default",_r))(),Qt=(()=>{return(s=Qt||(Qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Qt;var s})();const st="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=st||"undefined"!=typeof global&&global||St||Tr,Sr={},ht=[],Pr=pe({\u0275cmp:pe}),$t=pe({\u0275dir:pe}),Ke=pe({\u0275pipe:pe}),Ie=pe({\u0275mod:pe}),Qe=pe({\u0275fac:pe}),ft=pe({__NG_ELEMENT_ID__:pe});let Wt=0;function Ut(s){return In(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===_r.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Qt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=Wt++,d.inputs=bt(s.inputs,l),d.outputs=bt(s.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(G):null,d})}function V(s){return Jt(s)||function jn(s){return s[$t]||null}(s)}function G(s){return function Ft(s){return s[Ke]||null}(s)}const de={};function Q(s){return In(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function bt(s,o){if(null==s)return Sr;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,o&&(o[h]=m)}return l}const tn=Ut;function Fr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[Pr]||null}function wn(s,o){const l=s[Ie]||null;if(!l&&!0===o)throw new Error(`Type ${ie(s)} does not have '\u0275mod' property.`);return l}function ci(s){return Array.isArray(s)&&"object"==typeof s[1]}function Zr(s){return Array.isArray(s)&&!0===s[1]}function wd(s){return 0!=(8&s.flags)}function po(s){return 2==(2&s.flags)}function zl(s){return 1==(1&s.flags)}function di(s){return null!==s.template}function ff(s){return 0!=(512&s[2])}function hi(s,o){return s.hasOwnProperty(Qe)?s[Qe]:null}class Pa{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ko(){return dl}function dl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Mm),Sd}function Sd(){const s=_o(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Sr)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Mm(s,o,l,d){const h=_o(s)||function wi(s,o){return s[Mr]=o}(s,{previous:Sr,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[l],C=v[w];m[w]=new Pa(C&&C.currentValue,o,v===Sr),s[d]=o}Ko.ngInherit=!0;const Mr="__ngSimpleChanges__";function _o(s){return s[Mr]||null}let eu;function Ns(s){eu=s}function Tn(s){return!!s.listen}const Fa={createRenderer:(s,o)=>function hl(){return void 0!==eu?eu:"undefined"!=typeof document?document:void 0}()};function pn(s){for(;Array.isArray(s);)s=s[0];return s}function Jo(s,o){return pn(o[s])}function Vr(s,o){return pn(o[s.index])}function fl(s,o){return s.data[o]}function Bi(s,o){return s[o]}function Br(s,o){const l=o[s];return ci(l)?l:l[0]}function vo(s){return 4==(4&s[2])}function Ls(s){return 128==(128&s[2])}function fi(s,o){return null==o?null:s[o]}function bo(s){s[18]=0}function wo(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const pt={lFrame:ea(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function su(){return pt.bindingsEnabled}function Ee(){return pt.lFrame.lView}function jt(){return pt.lFrame.tView}function sc(s){return pt.lFrame.contextLView=s,s[8]}function Mn(){let s=Va();for(;null!==s&&64===s.type;)s=s.parent;return s}function Va(){return pt.lFrame.currentTNode}function pi(s,o){const l=pt.lFrame;l.currentTNode=s,l.isParent=o}function oc(){return pt.lFrame.isParent}function ac(){pt.lFrame.isParent=!1}function ou(){return pt.isInCheckNoChangesMode}function Do(s){pt.isInCheckNoChangesMode=s}function Co(){return pt.lFrame.bindingIndex++}function Hi(s){const o=pt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function uu(s,o){const l=pt.lFrame;l.bindingIndex=l.bindingRootIndex=s,ml(o)}function ml(s){pt.lFrame.currentDirectiveIndex=s}function dc(){return pt.lFrame.currentQueryIndex}function hc(s){pt.lFrame.currentQueryIndex=s}function kd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function fc(s,o,l){if(l&ct.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&ct.Host||(h=kd(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=pt.lFrame=xd();return d.currentTNode=o,d.lView=s,!0}function Xo(s){const o=xd(),l=s[1];pt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function xd(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?ea(s):o}function ea(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Od(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Rd=Od;function ta(){const s=Od();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Hr(){return pt.lFrame.selectedIndex}function To(s){pt.lFrame.selectedIndex=s}function Yn(){const s=pt.lFrame;return fl(s.tView,s.selectedIndex)}function Nd(){pt.lFrame.currentNamespace="svg"}function ty(){!function mc(){pt.lFrame.currentNamespace=null}()}function Ps(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function gl(s,o,l){Ld(s,o,3,l)}function cu(s,o,l,d){(3&s[2])===l&&Ld(s,o,l,d)}function sr(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Ld(s,o,l,d){const m=null!=d?d:-1,v=o.length-1;let w=0;for(let C=void 0!==d?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=d&&w>=d)break}else o[C]<0&&(s[18]+=65536),(w<m||-1==m)&&(Am(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Am(s,o,l,d){const h=l[d]<0,m=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Ua{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function gt(s,o,l){const d=Tn(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const v=l[h++],w=l[h++],C=l[h++];d?s.setAttribute(o,w,C,v):o.setAttributeNS(v,w,C)}else{const v=m,w=l[++h];or(v)?d&&s.setProperty(o,v,w):d?s.setAttribute(o,v,w):o.setAttribute(v,w),h++}}return h}function Fn(s){return 3===s||4===s||6===s}function or(s){return 64===s.charCodeAt(0)}function vr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ja(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ja(s,o,l,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function Vd(s){return-1!==s}function Cn(s){return 32767&s}function Ui(s,o){let l=function _f(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let du=!0;function Ci(s){const o=du;return du=s,o}let vc=0;function Xn(s,o){const l=ia(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Vs(d.data,s),Vs(o,null),Vs(d.blueprint,null));const h=Ei(s,o),m=s.injectorIndex;if(Vd(h)){const v=Cn(h),w=Ui(h,o),C=w[1].data;for(let M=0;M<8;M++)o[m+M]=w[v+M]|C[v+M]}return o[m+8]=h,m}function Vs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ia(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ei(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function So(s,o,l){!function ra(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ft)&&(d=l[ft]),null==d&&(d=l[ft]=vc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function cs(s,o,l){if(l&ct.Optional)return s;ve(o,"NodeInjector")}function bc(s,o,l,d){if(l&ct.Optional&&void 0===d&&(d=null),0==(l&(ct.Self|ct.Host))){const h=s[9],m=cr(void 0);try{return h?h.get(o,d,l&ct.Optional):vi(o,d,l&ct.Optional)}finally{cr(m)}}return cs(d,o,l)}function Io(s,o,l,d=ct.Default,h){if(null!==s){const m=function Ya(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:wc:o}(l);if("function"==typeof m){if(!fc(o,s,d))return d&ct.Host?cs(h,l,d):bc(o,l,d,h);try{const v=m(d);if(null!=v||d&ct.Optional)return v;ve(l)}finally{Rd()}}else if("number"==typeof m){let v=null,w=ia(s,o),C=-1,M=d&ct.Host?o[16][6]:null;for((-1===w||d&ct.SkipSelf)&&(C=-1===w?Ei(s,o):o[w+8],-1!==C&&Ur(d,!1)?(v=o[1],w=Cn(C),o=Ui(C,o)):w=-1);-1!==w;){const k=o[1];if(hs(m,w,k.data)){const P=Hd(w,o,l,v,d,M);if(P!==ds)return P}C=o[w+8],-1!==C&&Ur(d,o[1].data[w+8]===M)&&hs(m,w,o)?(v=k,w=Cn(C),o=Ui(C,o)):w=-1}}}return bc(o,l,d,h)}const ds={};function wc(){return new Yi(Mn(),Ee())}function Hd(s,o,l,d,h,m){const v=o[1],w=v.data[s+8],k=Mo(w,v,l,null==d?po(w)&&du:d!=v&&0!=(3&w.type),h&ct.Host&&m===w);return null!==k?ji(o,v,k,w):ds}function Mo(s,o,l,d,h){const m=s.providerIndexes,v=o.data,w=1048575&m,C=s.directiveStart,k=m>>20,H=h?w+k:s.directiveEnd;for(let Z=d?w:w+k;Z<H;Z++){const ye=v[Z];if(Z<C&&l===ye||Z>=C&&ye.type===l)return Z}if(h){const Z=v[C];if(Z&&di(Z)&&Z.type===l)return C}return null}function ji(s,o,l,d){let h=s[l];const m=o.data;if(function Pd(s){return s instanceof Ua}(h)){const v=h;v.resolving&&function et(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(De(m[l]));const w=Ci(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?cr(v.injectImpl):null;fc(s,d,ct.Default);try{h=s[l]=v.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function gc(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=dl(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==C&&cr(C),Ci(w),v.resolving=!1,Rd()}}return h}function hs(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Ur(s,o){return!(s&ct.Self||s&ct.Host&&o)}class Yi{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Io(this._tNode,this._lView,o,d,l)}}function Ud(s){return In(()=>{const o=s.prototype.constructor,l=o[Qe]||er(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Qe]||er(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function er(s){return We(s)?()=>{const o=er(J(s));return o&&o()}:hi(s)}function Ao(s){return function Ti(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Fn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Mn(),s)}const $a="__parameters__";function Vn(s,o,l){return In(()=>{const d=function fs(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(C,M,k){const P=C.hasOwnProperty($a)?C[$a]:Object.defineProperty(C,$a,{value:[]})[$a];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class $n{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=dn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xm=new $n("AnalyzeForEntryComponents");function br(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),br(d,o)):o!==s&&o.push(d)}return o}function Qr(s,o){s.forEach(l=>Array.isArray(l)?Qr(l,o):o(l))}function yl(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Hs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Gi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function tr(s,o,l){let d=Ro(s,o);return d>=0?s[1|d]=l:(d=~d,function Lm(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function fu(s,o){const l=Ro(s,o);if(l>=0)return s[1|l]}function Ro(s,o){return function Gd(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:d=m+1}return~(h<<l)}(s,o,1)}const x={},F="__NG_DI_FLAG__",z="ngTempTokenPath",ke=/\n/gm,Mt="__source",Et=pe({provide:String,useValue:pe});let Bt;function wt(s){const o=Bt;return Bt=s,o}function Dt(s,o=ct.Default){if(void 0===Bt)throw new Re(203,"");return null===Bt?vi(s,void 0,o):Bt.get(s,o&ct.Optional?null:void 0,o)}function Yt(s,o=ct.Default){return(function gr(){return ui}()||Dt)(J(s),o)}const Wi=Yt;function aa(s){const o=[];for(let l=0;l<s.length;l++){const d=J(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let h,m=ct.Default;for(let v=0;v<d.length;v++){const w=d[v],C=ps(w);"number"==typeof C?-1===C?h=w.token:m|=C:h=w}o.push(Yt(h,m))}else o.push(Yt(d))}return o}function Jr(s,o){return s[F]=o,s.prototype[F]=o,s}function ps(s){return s[F]}const Lo=Jr(Vn("Inject",s=>({token:s})),-1),gu=Jr(Vn("Optional"),8),yu=Jr(Vn("SkipSelf"),4);class Xd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Po(s){return s instanceof Xd?s.changingThisBreaksApplicationSecurity:s}const Fo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var un=(()=>((un=un||{})[un.NONE=0]="NONE",un[un.HTML=1]="HTML",un[un.STYLE=2]="STYLE",un[un.SCRIPT=3]="SCRIPT",un[un.URL=4]="URL",un[un.RESOURCE_URL=5]="RESOURCE_URL",un))();function Cu(s){const o=function qa(){const s=Ee();return s&&s[12]}();return o?o.sanitize(un.URL,s)||"":function Wa(s,o){const l=function bu(s){return s instanceof Xd&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Po(s):function wu(s){return(s=String(s)).match(Fo)||s.match(Sf)?s:"unsafe:"+s}(fe(s))}const Pf="__ngContext__";function Xr(s,o){s[Pf]=o}function Ff(s){const o=function El(s){return s[Pf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Il(s){return s.ngOriginalError}function zm(s,...o){s.error(...o)}class Yr{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function Ey(s){return s&&s.ngErrorLogger||zm}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Il(o);for(;l&&Il(l);)l=Il(l);return l||null}}const My=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function g(s){return s instanceof Function?s():s}var ue=(()=>((ue=ue||{})[ue.Important=1]="Important",ue[ue.DashCase=2]="DashCase",ue))();function Xe(s,o){return undefined(s,o)}function Gn(s){const o=s[3];return Zr(o)?o[3]:o}function Eu(s){return Gf(s[13])}function Tu(s){return Gf(s[4])}function Gf(s){for(;null!==s&&!Zr(s);)s=s[4];return s}function Za(s,o,l,d,h){if(null!=d){let m,v=!1;Zr(d)?m=d:ci(d)&&(v=!0,d=d[0]);const w=pn(d);0===s&&null!==l?null==h?Ly(o,l,w):Gs(o,l,w,h||null,!0):1===s&&null!==l?Gs(o,l,w,h||null,!0):2===s?function By(s,o,l){const d=Ka(s,o);d&&function tS(s,o,l,d){Tn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,w,v):3===s&&o.destroyNode(w),null!=m&&function iS(s,o,l,d,h){const m=l[7];m!==pn(l)&&Za(o,s,d,m,h);for(let w=10;w<l.length;w++){const C=l[w];Jm(C[1],C,s,o,d,m)}}(o,s,m,l,h)}}function ah(s,o,l){if(Tn(s))return s.createElement(o,l);{const d=null!==l?function Xl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function hw(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,wo(h,-1)),l.splice(d,1)}function Oy(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&hw(h,d),o>0&&(s[l-1][4]=d[4]);const m=Hs(s,10+o);!function Zi(s,o){Jm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Ry(s,o){if(!(256&o[2])){const l=o[11];Tn(l)&&l.destroyNode&&Jm(s,o,l,3,null,null),function xy(s){let o=s[13];if(!o)return Ny(s[1],s);for(;o;){let l=null;if(ci(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)ci(o)&&Ny(o[1],o),o=o[3];null===o&&(o=s),ci(o)&&Ny(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ny(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function pw(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Ua)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],C=m[v+1];try{C.call(w)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function fw(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],w="function"==typeof v?v(o):pn(o[v]),C=d[h=l[m+2]],M=l[m+3];"boolean"==typeof M?w.removeEventListener(l[m],C,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(s,o),1===o[1].type&&Tn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Zr(o[3])){l!==o[3]&&hw(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Km(s,o,l){return function eS(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Qt.None||h===Qt.Emulated)return null}return Vr(d,l)}(s,o.parent,l)}function Gs(s,o,l,d,h){Tn(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function Ly(s,o,l){Tn(s)?s.appendChild(o,l):o.appendChild(l)}function mw(s,o,l,d,h){null!==d?Gs(s,o,l,d,h):Ly(s,o,l)}function Ka(s,o){return Tn(s)?s.parentNode(o):o.parentNode}function gw(s,o,l){return Py(s,o,l)}let Py=function _w(s,o,l){return 40&s.type?Vr(s,l):null};function Qm(s,o,l,d){const h=Km(s,d,o),m=o[11],w=gw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)mw(m,h,l[C],w,!1);else mw(m,h,l,w,!1)}function uh(s,o){if(null!==o){const l=o.type;if(3&l)return Vr(o,s);if(4&l)return Vy(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return uh(s,d);{const h=s[o.index];return Zr(h)?Vy(-1,h):pn(h)}}if(32&l)return Xe(o,s)()||pn(s[o.index]);{const d=vw(s,o);return null!==d?Array.isArray(d)?d[0]:uh(Gn(s[16]),d):uh(s,o.next)}}return null}function vw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Vy(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return uh(d,h)}return o[7]}function Hy(s,o,l,d,h,m,v){for(;null!=l;){const w=d[l.index],C=l.type;if(v&&0===o&&(w&&Xr(pn(w),d),l.flags|=4),64!=(64&l.flags))if(8&C)Hy(s,o,l.child,d,h,m,!1),Za(o,s,h,w,m);else if(32&C){const M=Xe(l,d);let k;for(;k=M();)Za(o,s,h,k,m);Za(o,s,h,w,m)}else 16&C?bw(s,o,d,l,h,m):Za(o,s,h,w,m);l=v?l.projectionNext:l.next}}function Jm(s,o,l,d,h,m){Hy(l,d,s.firstChild,o,h,m,!1)}function bw(s,o,l,d,h,m){const v=l[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Za(o,s,h,C[M],m);else Hy(s,o,C,v[3],h,m,!0)}function Su(s,o,l){Tn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Ki(s,o,l){Tn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Dw(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const Cw="ng-template";function oS(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Dw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ew(s){return 4===s.type&&s.value!==Cw}function ch(s,o,l){return o===(4!==s.type||l?s.value:Cw)}function Iu(s,o,l){let d=4;const h=s.attrs||[],m=function dh(s){for(let o=0;o<s.length;o++)if(Fn(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!ch(s,C,l)||""===C&&1===o.length){if(Vo(d))return!1;v=!0}}else{const M=8&d?C:o[++w];if(8&d&&null!==s.attrs){if(!oS(s.attrs,M,l)){if(Vo(d))return!1;v=!0}continue}const P=ei(8&d?"class":C,h,Ew(s),l);if(-1===P){if(Vo(d))return!1;v=!0;continue}if(""!==M){let H;H=P>m?"":h[P+1].toLowerCase();const Z=8&d?H:null;if(Z&&-1!==Dw(Z,M,0)||2&d&&M!==H){if(Vo(d))return!1;v=!0}}}}else{if(!v&&!Vo(d)&&!Vo(C))return!1;if(v&&Vo(C))continue;v=!1,d=C|1&d}}return Vo(d)||v}function Vo(s){return 0==(1&s)}function ei(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function Tw(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Ml(s,o,l=!1){for(let d=0;d<o.length;d++)if(Iu(s,o[d],l))return!0;return!1}function Sw(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Uy(s,o){return s?":not("+o.trim()+")":o}function Iw(s){let o=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const w=s[++l];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Vo(v)&&(o+=Uy(m,h),h=""),d=v,m=m||!Vo(d);l++}return""!==h&&(o+=Uy(m,h)),o}const Lt={};function jy(s){Zf(jt(),Ee(),Hr()+s,ou())}function Zf(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&gl(o,m,l)}else{const m=s.preOrderHooks;null!==m&&cu(o,m,0,l)}To(l)}function Kf(s,o){return s<<17|o<<2}function Bo(s){return s>>17&32767}function Xm(s){return 2|s}function Qa(s){return(131068&s)>>2}function Qf(s,o){return-131069&s|o<<2}function Jf(s){return 1|s}function gS(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];hc(h),v.contentQueries(2,o[m],m)}}}function ag(s,o,l,d,h,m,v,w,C,M){const k=o.blueprint.slice();return k[0]=h,k[2]=140|d,bo(k),k[3]=k[15]=s,k[8]=l,k[10]=v||s&&s[10],k[11]=w||s&&s[11],k[12]=C||s&&s[12]||null,k[9]=M||s&&s[9]||null,k[6]=m,k[16]=2==o.type?s[16]:k,k}function Au(s,o,l,d,h){let m=s.data[o];if(null===m)m=function Jy(s,o,l,d,h){const m=Va(),v=oc(),C=s.data[o]=function Lw(s,o,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,l,d,h),function uc(){return pt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function Ba(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return pi(m,!0),m}function jc(s,o,l,d){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Yc(s,o,l){Xo(o);try{const d=s.viewQuery;null!==d&&pv(1,d,l);const h=s.template;null!==h&&lg(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&gS(s,o),s.staticViewQueries&&pv(2,s.viewQuery,l);const m=s.components;null!==m&&function Rw(s,o){for(let l=0;l<o.length;l++)jw(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ta()}}function ku(s,o,l,d){const h=o[2];if(256==(256&h))return;Xo(o);const m=ou();try{bo(o),function au(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&lg(s,o,l,2,d);const v=3==(3&h);if(!m)if(v){const M=s.preOrderCheckHooks;null!==M&&gl(o,M,null)}else{const M=s.preOrderHooks;null!==M&&cu(o,M,0,null),sr(o,0)}if(function Uw(s){for(let o=Eu(s);null!==o;o=Tu(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(1024&h[2])&&wo(m,1),h[2]|=1024}}}(o),function CS(s){for(let o=Eu(s);null!==o;o=Tu(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Ls(d)&&ku(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&gS(s,o),!m)if(v){const M=s.contentCheckHooks;null!==M&&gl(o,M)}else{const M=s.contentHooks;null!==M&&cu(o,M,1),sr(o,1)}!function mS(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)To(~h);else{const m=h,v=l[++d],w=l[++d];uu(v,m),w(2,o[m])}}}finally{To(-1)}}(s,o);const w=s.components;null!==w&&function _S(s,o){for(let l=0;l<o.length;l++)lv(s,o[l])}(o,w);const C=s.viewQuery;if(null!==C&&pv(2,C,d),!m)if(v){const M=s.viewCheckHooks;null!==M&&gl(o,M)}else{const M=s.viewHooks;null!==M&&cu(o,M,2),sr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,wo(o[3],-1))}finally{ta()}}function vO(s,o,l,d){const h=o[10],m=!ou(),v=vo(o);try{m&&!v&&h.begin&&h.begin(),v&&Yc(s,o,d),ku(s,o,l,d)}finally{m&&!v&&h.end&&h.end()}}function lg(s,o,l,d,h){const m=Hr(),v=2&d;try{To(-1),v&&o.length>20&&Zf(s,o,20,ou()),l(d,h)}finally{To(m)}}function ph(s,o,l){if(wd(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function mh(s,o,l){!su()||(function DO(s,o,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||Xn(l,o),Xr(d,o);const v=l.initialInputs;for(let w=h;w<m;w++){const C=s.data[w],M=di(C);M&&DS(o,l,C);const k=ji(o,s,w,l);Xr(k,o),null!==v&&EO(0,w-h,k,C,0,v),M&&(Br(l.index,o)[8]=k)}}(s,o,l,Vr(l,o)),128==(128&l.flags)&&function CO(s,o,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,w=function cc(){return pt.lFrame.currentDirectiveIndex}();try{To(v);for(let C=d;C<h;C++){const M=s.data[C],k=o[C];ml(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&vS(M,k)}}finally{To(-1),ml(w)}}(s,o,l))}function xu(s,o,l=Vr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?l(o,s):s[v];s[h++]=w}}}function gh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ug(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ug(s,o,l,d,h,m,v,w,C,M){const k=20+d,P=k+h,H=function Xy(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Lt);return l}(k,P),Z="function"==typeof M?M():M;return H[1]={type:s,blueprint:H,template:l,queries:null,viewQuery:w,declTNode:o,data:H.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Z,incompleteFirstPass:!1}}function tp(s,o,l,d){const h=dg(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Yw(s).push(d,h.length-1))}function cg(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function gs(s,o,l,d,h,m,v,w){const C=Vr(o,l);let k,M=o.inputs;!w&&null!=M&&(k=M[d])?(Gw(s,l,k,d,h),po(o)&&function Fw(s,o){const l=Br(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function Pw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,Tn(m)?m.setProperty(C,d,h):or(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function ip(s,o,l,d){let h=!1;if(su()){const m=function bS(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Ml(l,v.selectors,!1)&&(h||(h=[]),So(Xn(l,o),s,v.type),di(v)?(iv(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==m){h=!0,sv(l,s.data.length,m.length);for(let k=0;k<m.length;k++){const P=m[k];P.providersResolver&&P.providersResolver(P)}let w=!1,C=!1,M=jc(s,o,m.length,null);for(let k=0;k<m.length;k++){const P=m[k];l.mergedAttrs=vr(l.mergedAttrs,P.hostAttrs),sp(s,l,o,M,P),Bw(M,P,v),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const H=P.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!C&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),M++}!function yS(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let w=null,C=null;for(let M=o.directiveStart;M<d;M++){const k=h[M],P=k.inputs,H=null===m||Ew(o)?null:Hw(P,m);v.push(H),w=cg(P,M,w),C=cg(k.outputs,M,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=C}(s,l)}v&&function wS(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Re(-301,!1);d.push(o[h],m)}}}(l,d,v)}return l.mergedAttrs=vr(l.mergedAttrs,l.attrs),h}function rv(s,o,l,d,h,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function wO(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=C&&w.push(C),w.push(d,h,v)}}function vS(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function iv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Bw(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;di(o)&&(l[""]=s)}}function sv(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function sp(s,o,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=hi(h.type)),v=new Ua(m,di(h),null);s.blueprint[d]=v,l[d]=v,rv(s,o,0,d,jc(s,l,h.hostVars,Lt),h)}function DS(s,o,l){const d=Vr(o,s),h=gh(l),m=s[10],v=Al(s,ag(s,h,null,l.onPush?64:16,d,o,m,m.createRenderer(d,l),null,null));s[o.index]=v}function fa(s,o,l,d,h,m){const v=Vr(s,o);!function ov(s,o,l,d,h,m,v){if(null==m)Tn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==v?fe(m):v(m,d||"",h);Tn(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}(o[11],v,m,s.value,l,d,h)}function EO(s,o,l,d,h,m){const v=m[o];if(null!==v){const w=d.setInput;for(let C=0;C<v.length;){const M=v[C++],k=v[C++],P=v[C++];null!==w?d.setInput(l,P,M,k):l[k]=P}}}function Hw(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function av(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function lv(s,o){const l=Br(o,s);if(Ls(l)){const d=l[1];80&l[2]?ku(d,l,d.template,l[8]):l[5]>0&&uv(l)}}function uv(s){for(let d=Eu(s);null!==d;d=Tu(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];ku(v,m,v.template,m[8])}else m[5]>0&&uv(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Br(l[d],s);Ls(h)&&h[5]>0&&uv(h)}}function jw(s,o){const l=Br(o,s),d=l[1];(function ES(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Yc(d,l,l[8])}function Al(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function cv(s){for(;s;){s[2]|=64;const o=Gn(s);if(ff(s)&&!o)return s;s=o}return null}function op(s,o,l){const d=o[10];d.begin&&d.begin();try{ku(s,o,s.template,l)}catch(h){throw mv(o,h),h}finally{d.end&&d.end()}}function fv(s){!function hv(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Ff(l),h=d[1];vO(h,d,h.template,l)}}(s[8])}function pv(s,o,l){hc(0),o(s,l)}const IS=(()=>Promise.resolve(null))();function dg(s){return s[7]||(s[7]=[])}function Yw(s){return s.cleanup||(s.cleanup=[])}function mv(s,o){const l=s[9],d=l?l.get(Yr,null):null;d&&d.handleError(o)}function Gw(s,o,l,d,h){for(let m=0;m<l.length;){const v=l[m++],w=l[m++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,d,w):C[w]=h}}function Ou(s,o,l){const d=Jo(o,s);!function oh(s,o,l){Tn(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function _h(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?h=ne(h,w):2==m&&(d=ne(d,w+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const hg=new $n("INJECTOR",-1);class Ru{get(o,l=x){if(l===x){const d=new Error(`NullInjectorError: No provider for ${ie(o)}!`);throw d.name="NullInjectorError",d}return l}}const gv=new $n("Set Injector scope."),yh={},AS={};let fg;function zw(){return void 0===fg&&(fg=new Ru),fg}function qw(s,o=null,l=null,d){const h=pg(s,o,l,d);return h._resolveInjectorDefTypes(),h}function pg(s,o=null,l=null,d){return new Zw(s,l,o||zw(),d)}class Zw{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&Qr(l,w=>this.processProvider(w,o,l)),Qr([o],w=>this.processInjectorType(w,[],m)),this.records.set(hg,vh(void 0,this));const v=this.records.get(gv);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ie(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=x,d=ct.Default){this.assertNotDestroyed();const h=wt(this),m=cr(void 0);try{if(!(d&ct.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function AO(s){return"function"==typeof s||"object"==typeof s&&s instanceof $n}(o)&&Kt(o);w=C&&this.injectableDefInScope(C)?vh(_v(o),yh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&ct.Self?zw():this.parent).get(o,l=d&ct.Optional&&l===x?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[z]=v[z]||[]).unshift(ie(o)),h)throw v;return function mu(s,o,l,d){const h=s[z];throw o[Mt]&&h.unshift(o[Mt]),s.message=function Ec(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ie(o);if(Array.isArray(o))h=o.map(ie).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ie(w)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(ke,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[z]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{cr(m),wt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ie(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,l,d){if(!(o=J(o)))return!1;let h=zr(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,w=-1!==d.indexOf(v);if(void 0!==m&&(h=zr(m)),null==h)return!1;if(null!=h.imports&&!w){let k;d.push(v);try{Qr(h.imports,P=>{this.processInjectorType(P,l,d)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:H,providers:Z}=k[P];Qr(Z,ye=>this.processProvider(ye,H,Z||ht))}}this.injectorDefTypes.add(v);const C=hi(v)||(()=>new v);this.records.set(v,vh(C,yh));const M=h.providers;if(null!=M&&!w){const k=o;Qr(M,P=>this.processProvider(P,k,M))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,d){let h=lp(o=J(o))?o:J(o&&o.provide);const m=function kS(s,o,l){return vv(s)?vh(void 0,s.useValue):vh(yv(s),yh)}(o);if(lp(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=vh(void 0,yh,!0),v.factory=()=>aa(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===yh&&(l.value=AS,l.value=l.factory()),"object"==typeof l.value&&l.value&&function OS(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=J(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function _v(s){const o=Kt(s),l=null!==o?o.factory:hi(s);if(null!==l)return l;if(s instanceof $n)throw new Re(204,!1);if(s instanceof Function)return function Kw(s){const o=s.length;if(o>0)throw Gi(o,"?"),new Re(204,!1);const l=function yi(s){const o=s&&(s[as]||s[Is]);if(o){const l=function lo(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function yv(s,o,l){let d;if(lp(s)){const h=J(s);return hi(h)||_v(h)}if(vv(s))d=()=>J(s.useValue);else if(function Qw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...aa(s.deps||[]));else if(function xS(s){return!(!s||!s.useExisting)}(s))d=()=>Yt(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function MO(s){return!!s.deps}(s))return hi(h)||_v(h);d=()=>new h(...aa(s.deps))}return d}function vh(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function vv(s){return null!==s&&"object"==typeof s&&Et in s}function lp(s){return"function"==typeof s}let Ws=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return qw({name:""},d,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return qw({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=x,s.NULL=new Ru,s.\u0275prov=dn({token:s,providedIn:"any",factory:()=>Yt(hg)}),s.__NG_ELEMENT_ID__=-1,s})();function pa(s,o){Ps(Ff(s)[1],Mn())}function wr(s){let o=function ma(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(di(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=_a(s.inputs),v.declaredInputs=_a(s.declaredInputs),v.outputs=_a(s.outputs);const w=h.hostBindings;w&&HS(s,w);const C=h.viewQuery,M=h.contentQueries;if(C&&Gc(s,C),M&&BS(s,M),oe(s.inputs,h.inputs),oe(s.declaredInputs,h.declaredInputs),oe(s.outputs,h.outputs),di(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===wr&&(l=!1)}}o=Object.getPrototypeOf(o)}!function ga(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=vr(h.hostAttrs,l=vr(l,h.hostAttrs))}}(d)}function _a(s){return s===Sr?{}:s===ht?[]:s}function Gc(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function BS(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{o(d,h,m),l(d,h,m)}:o}function HS(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let cp=null;function It(){if(!cp){const s=zt.Symbol;if(s&&s.iterator)cp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(cp=d)}}}return cp}function dp(s){return!!qt(s)&&(Array.isArray(s)||!(s instanceof Map)&&It()in s)}function qt(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function nr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Zt(s,o,l,d){const h=Ee();return nr(h,Co(),o)&&(jt(),fa(Yn(),h,s,o,l,d)),Zt}function hp(s,o,l,d){return nr(s,Co(),l)?o+fe(l)+d:Lt}function wg(s,o,l,d,h,m,v,w){const C=Ee(),M=jt(),k=s+20,P=M.firstCreatePass?function bg(s,o,l,d,h,m,v,w,C){const M=o.consts,k=Au(o,s,4,v||null,fi(M,w));ip(o,l,k,fi(M,C)),Ps(o,k);const P=k.tViews=ug(2,k,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,M,C,o,l,d,h,m,v):M.data[k];pi(P,!1);const H=C[11].createComment("");Qm(M,C,H,P),Xr(H,C),Al(C,C[k]=av(H,C,H,P)),zl(P)&&mh(M,C,P),null!=v&&xu(C,P,w)}function rD(s){return Bi(function lc(){return pt.lFrame.contextLView}(),20+s)}function Dp(s,o=ct.Default){const l=Ee();return null===l?Yt(s,o):Io(Mn(),l,J(s),o)}function Tg(){throw new Error("invalid")}function uD(s,o,l){const d=Ee();return nr(d,Co(),o)&&gs(jt(),Yn(),d,s,o,d[11],l,!1),uD}function kh(s,o,l,d,h){const v=h?"class":"style";Gw(s,l,o.inputs[v],v,d)}function Rl(s,o,l,d){const h=Ee(),m=jt(),v=20+s,w=h[11],C=h[v]=ah(w,o,function ny(){return pt.lFrame.currentNamespace}()),M=m.firstCreatePass?function cD(s,o,l,d,h,m,v){const w=o.consts,M=Au(o,s,2,h,fi(w,m));return ip(o,l,M,fi(w,v)),null!==M.attrs&&_h(M,M.attrs,!1),null!==M.mergedAttrs&&_h(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,l,d):m.data[v];pi(M,!0);const k=M.mergedAttrs;null!==k&&gt(w,C,k);const P=M.classes;null!==P&&Ki(w,C,P);const H=M.styles;return null!==H&&Su(w,C,H),64!=(64&M.flags)&&Qm(m,h,C,M),0===function pl(){return pt.lFrame.elementDepthCount}()&&Xr(C,h),function ru(){pt.lFrame.elementDepthCount++}(),zl(M)&&(mh(m,h,M),ph(m,M,h)),null!==d&&xu(h,M),Rl}function Ja(){let s=Mn();oc()?ac():(s=s.parent,pi(s,!1));const o=s;!function iu(){pt.lFrame.elementDepthCount--}();const l=jt();return l.firstCreatePass&&(Ps(l,s),wd(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function gf(s){return 0!=(16&s.flags)}(o)&&kh(l,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function km(s){return 0!=(32&s.flags)}(o)&&kh(l,o,Ee(),o.stylesWithoutHost,!1),Ja}function Sg(s,o,l,d){return Rl(s,o,l,d),Ja(),Sg}function Ig(s,o,l){const d=Ee(),h=jt(),m=s+20,v=h.firstCreatePass?function dD(s,o,l,d,h){const m=o.consts,v=fi(m,d),w=Au(o,s,8,"ng-container",v);return null!==v&&_h(w,v,!0),ip(o,l,w,fi(m,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(m,h,d,o,l):h.data[m];pi(v,!0);const w=d[m]=d[11].createComment("");return Qm(h,d,w,v),Xr(w,d),zl(v)&&(mh(h,d,v),ph(h,v,d)),null!=l&&xu(d,v),Ig}function Cp(){let s=Mn();const o=jt();return oc()?ac():(s=s.parent,pi(s,!1)),o.firstCreatePass&&(Ps(o,s),wd(s)&&o.queries.elementEnd(s)),Cp}function xv(){return Ee()}function Ov(s){return!!s&&"function"==typeof s.then}function fD(s){return!!s&&"function"==typeof s.subscribe}const pD=fD;function Rv(s,o,l,d){const h=Ee(),m=jt(),v=Mn();return function ZS(s,o,l,d,h,m,v,w){const C=zl(d),k=s.firstCreatePass&&Yw(s),P=o[8],H=dg(o);let Z=!0;if(3&d.type||w){const je=Vr(d,o),tt=w?w(je):je,Te=H.length,_t=w?Xt=>w(pn(Xt[d.index])):d.index;if(Tn(l)){let Xt=null;if(!w&&C&&(Xt=function Kc(s,o,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const w=o[7],C=h[m+2];return w.length>C?w[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=m,Xt.__ngLastListenerFn__=m,Z=!1;else{m=mD(d,o,P,m,!1);const En=l.listen(tt,h,m);H.push(m,En),k&&k.push(h,_t,Te,Te+1)}}else m=mD(d,o,P,m,!0),tt.addEventListener(h,m,v),H.push(m),k&&k.push(h,_t,Te,v)}else m=mD(d,o,P,m,!1);const ye=d.outputs;let Le;if(Z&&null!==ye&&(Le=ye[h])){const je=Le.length;if(je)for(let tt=0;tt<je;tt+=2){const Xs=o[Le[tt]][Le[tt+1]].subscribe(m),cd=H.length;H.push(m,Xs),k&&k.push(h,d.index,cd,-(cd+1))}}}(m,h,h[11],v,s,o,!!l,d),Rv}function KS(s,o,l,d){try{return!1!==l(d)}catch(h){return mv(s,h),!1}}function mD(s,o,l,d,h){return function m(v){if(v===Function)return d;const w=2&s.flags?Br(s.index,o):o;0==(32&o[2])&&cv(w);let C=KS(o,0,d,v),M=m.__ngNextListenerFn__;for(;M;)C=KS(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function QS(s=1){return function Eo(s){return(pt.lFrame.contextLView=function pc(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function FO(s,o){let l=null;const d=function aS(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?Ml(s,m,!0):Sw(d,m))return h}else l=h}return l}function Lv(s){const o=Ee()[16][6];if(!o.projection){const d=o.projection=Gi(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?FO(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function gD(s,o=0,l){const d=Ee(),h=jt(),m=Au(h,20+s,16,null,l||null);null===m.projection&&(m.projection=o),ac(),64!=(64&m.flags)&&function rS(s,o,l){bw(o[11],0,o,l,Km(s,l,o),gw(l.parent||o[6],l,o))}(h,d,m)}function Pv(s,o,l){return _D(s,"",o,"",l),Pv}function _D(s,o,l,d,h){const m=Ee(),v=hp(m,o,l,d);return v!==Lt&&gs(jt(),Yn(),m,s,v,m[11],h,!1),_D}function eI(s,o,l,d,h){const m=s[l+1],v=null===o;let w=d?Bo(m):Qa(m),C=!1;for(;0!==w&&(!1===C||v);){const k=s[w+1];BO(s[w],o)&&(C=!0,s[w+1]=d?Jf(k):Xm(k)),w=d?Bo(k):Qa(k)}C&&(s[l+1]=d?Xm(m):Jf(m))}function BO(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ro(s,o)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wD(s){return s.substring(Or.key,Or.keyEnd)}function nI(s,o){const l=Or.textEnd;return l===o?-1:(o=Or.keyEnd=function UO(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Or.key=o,l),xh(s,o,l))}function xh(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function kg(s,o,l){return Xa(s,o,l,!1),kg}function Nl(s,o){return Xa(s,o,null,!0),Nl}function sI(s){!function wa(s,o,l,d){const h=jt(),m=Hi(2);h.firstUpdatePass&&ID(h,null,m,d);const v=Ee();if(l!==Lt&&nr(v,m,l)){const w=h.data[Hr()];if(Rh(w,d)&&!SD(h,m)){let C=d?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(l=ne(C,l||"")),kh(h,w,v,l,d)}else!function kD(s,o,l,d,h,m,v,w){h===Lt&&(h=ht);let C=0,M=0,k=0<h.length?h[0]:null,P=0<m.length?m[0]:null;for(;null!==k||null!==P;){const H=C<h.length?h[C+1]:void 0,Z=M<m.length?m[M+1]:void 0;let Le,ye=null;k===P?(C+=2,M+=2,H!==Z&&(ye=P,Le=Z)):null===P||null!==k&&k<P?(C+=2,ye=k):(M+=2,ye=P,Le=Z),null!==ye&&oI(s,o,l,d,ye,Le,v,w),k=C<h.length?h[C]:null,P=M<m.length?m[M]:null}}(h,w,v,v[11],v[m+1],v[m+1]=function AD(s,o,l){if(null==l||""===l)return ht;const d=[],h=Po(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,m)}}(tr,Ll,s,!0)}function Ll(s,o){for(let l=function HO(s){return function CD(s){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=s.length}(s),nI(s,xh(s,0,Or.textEnd))}(o);l>=0;l=nI(o,l))tr(s,wD(o),!0)}function Xa(s,o,l,d){const h=Ee(),m=jt(),v=Hi(2);m.firstUpdatePass&&ID(m,s,v,d),o!==Lt&&nr(h,v,o)&&oI(m,m.data[Hr()],h,h[11],s,h[v+1]=function aI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ie(Po(s)))),s}(o,l),d,v)}function SD(s,o){return o>=s.expandoStartIndex}function ID(s,o,l,d){const h=s.data;if(null===h[l+1]){const m=h[Hr()],v=SD(s,l);Rh(m,d)&&null===o&&!v&&(o=!1),o=function ni(s,o,l,d){const h=function Ha(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Oh(l=Bv(null,s,o,l,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Bv(h,s,o,l,d),null===m){let C=function Tp(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Qa(d))return s[Bo(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=Bv(null,s,o,C[1],d),C=Oh(C,o.attrs,d),function Sp(s,o,l,d){s[Bo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else m=function MD(s,o,l){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=Oh(d,s[m].hostAttrs,l);return Oh(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,d),function VO(s,o,l,d,h,m){let v=m?o.classBindings:o.styleBindings,w=Bo(v),C=Qa(v);s[d]=l;let k,M=!1;if(Array.isArray(l)){const P=l;k=P[1],(null===k||Ro(P,k)>0)&&(M=!0)}else k=l;if(h)if(0!==C){const H=Bo(s[w+1]);s[d+1]=Kf(H,w),0!==H&&(s[H+1]=Qf(s[H+1],d)),s[w+1]=function lS(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Kf(w,0),0!==w&&(s[w+1]=Qf(s[w+1],d)),w=d;else s[d+1]=Kf(C,0),0===w?w=d:s[C+1]=Qf(s[C+1],d),C=d;M&&(s[d+1]=Xm(s[d+1])),eI(s,k,d,!0),eI(s,k,d,!1),function bD(s,o,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Ro(m,o)>=0&&(l[d+1]=Jf(l[d+1]))}(o,k,s,d,m),v=Kf(w,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,d)}}function Bv(s,o,l,d,h){let m=null;const v=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<v&&(m=o[w],d=Oh(d,m.hostAttrs,h),m!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function Oh(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),tr(s,v,!!l||o[++m]))}return void 0===s?null:s}function oI(s,o,l,d,h,m,v,w){if(!(3&o.type))return;const C=s.data,M=C[w+1];Hv(function Gy(s){return 1==(1&s)}(M)?Rr(C,o,l,h,Qa(M),v):void 0)||(Hv(m)||function $y(s){return 2==(2&s)}(M)&&(m=Rr(C,null,l,h,w,v)),function ww(s,o,l,d,h){const m=Tn(s);if(o)h?m?s.addClass(l,d):l.classList.add(d):m?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ue.DashCase;if(null==h)m?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=ue.Important),m?s.setStyle(l,d,h,v):l.style.setProperty(d,h,w?"important":"")}}}(d,v,Jo(Hr(),l),h,m))}function Rr(s,o,l,d,h,m){const v=null===o;let w;for(;h>0;){const C=s[h],M=Array.isArray(C),k=M?C[1]:C,P=null===k;let H=l[h+1];H===Lt&&(H=P?ht:void 0);let Z=P?fu(H,d):k===d?H:void 0;if(M&&!Hv(Z)&&(Z=fu(C,d)),Hv(Z)&&(w=Z,v))return w;const ye=s[h+1];h=v?Bo(ye):Qa(ye)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(w=fu(C,d))}return w}function Hv(s){return void 0!==s}function Rh(s,o){return 0!=(s.flags&(o?16:32))}function xD(s,o=""){const l=Ee(),d=jt(),h=s+20,m=d.firstCreatePass?Au(d,h,1,o,null):d.data[h],v=l[h]=function sh(s,o){return Tn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Qm(d,l,v,m),pi(m,!1)}function Uv(s){return Ip("",s,""),Uv}function Ip(s,o,l){const d=Ee(),h=hp(d,s,o,l);return h!==Lt&&Ou(d,Hr(),h),Ip}const Bu=void 0;var wI=["en",[["a","p"],["AM","PM"],Bu],[["AM","PM"],Bu,Bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bu,"{1} 'at' {0}",Bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bI(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Hu={};function zv(s){const o=function Mp(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=$D(o);if(l)return l;const d=o.split("-")[0];if(l=$D(d),l)return l;if("en"===d)return wI;throw new Error(`Missing locale data for the locale "${s}".`)}function YD(s){return zv(s)[Tt.PluralCase]}function $D(s){return s in Hu||(Hu[s]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[s]),Hu[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const vs="en-US";let DI=vs;function lC(s,o,l,d,h){if(s=J(s),Array.isArray(s))for(let m=0;m<s.length;m++)lC(s[m],o,l,d,h);else{const m=jt(),v=Ee();let w=lp(s)?s:J(s.provide),C=yv(s);const M=Mn(),k=1048575&M.providerIndexes,P=M.directiveStart,H=M.providerIndexes>>20;if(lp(s)||!s.multi){const Z=new Ua(C,h,Dp),ye=xp(w,o,h?k:k+H,P);-1===ye?(So(Xn(M,v),m,w),uC(m,s,o.length),o.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(Z),v.push(Z)):(l[ye]=Z,v[ye]=Z)}else{const Z=xp(w,o,k+H,P),ye=xp(w,o,k,k+H),Le=Z>=0&&l[Z],je=ye>=0&&l[ye];if(h&&!je||!h&&!Le){So(Xn(M,v),m,w);const tt=function zI(s,o,l,d,h){const m=new Ua(s,l,Dp);return m.multi=[],m.index=o,m.componentProviders=0,WI(m,h,d&&!l),m}(h?uR:lR,l.length,h,d,C);!h&&je&&(l[ye].providerFactory=tt),uC(m,s,o.length,0),o.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(tt),v.push(tt)}else uC(m,s,Z>-1?Z:ye,WI(l[h?ye:Z],C,!h&&d));!h&&d&&je&&l[ye].componentProviders++}}}function uC(s,o,l,d){const h=lp(o),m=function IO(s){return!!s.useClass}(o);if(h||m){const C=(m?J(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(l);-1===k?M.push(l,[d,C]):M[k+1].push(d,C)}else M.push(l,C)}}}function WI(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function xp(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function lR(s,o,l,d){return e0(this.multi,[])}function uR(s,o,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ji(l,l[1],this.providerFactory.index,d);m=w.slice(0,v),e0(h,m);for(let C=v;C<w.length;C++)m.push(w[C])}else m=[],e0(h,m);return m}function e0(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Xc(s,o=[]){return l=>{l.providersResolver=(d,h)=>function aR(s,o,l){const d=jt();if(d.firstCreatePass){const h=di(s);lC(l,d.data,d.blueprint,h,!0),lC(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Fl{}class Yo{resolveComponentFactory(o){throw function Vh(s){const o=Error(`No component factory found for ${ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let t0=(()=>{class s{}return s.NULL=new Yo,s})();function cR(){return ed(Mn(),Ee())}function ed(s,o){return new Op(Vr(s,o))}let Op=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=cR,s})();function n0(s){return s instanceof Op?s.nativeElement:s}class KI{}let dC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function r0(){const s=Ee(),l=Br(Mn().index,s);return function QI(s){return s[11]}(ci(l)?l:s)}(),s})(),hC=(()=>{class s{}return s.\u0275prov=dn({token:s,providedIn:"root",factory:()=>null}),s})();class JI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Gg=new JI("13.2.7"),Wg={};function Yu(s,o,l,d,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(pn(m)),Zr(m))for(let w=10;w<m.length;w++){const C=m[w],M=C[1].firstChild;null!==M&&Yu(C[1],C,M,d)}const v=l.type;if(8&v)Yu(s,o,l.child,d);else if(32&v){const w=Xe(l,o);let C;for(;C=w();)d.push(C)}else if(16&v){const w=vw(o,l);if(Array.isArray(w))d.push(...w);else{const C=Gn(o[16]);Yu(C[1],C,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class Ca{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Yu(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Zr(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Oy(o,d),Hs(l,d))}this._attachedToViewContainer=!1}Ry(this._lView[1],this._lView)}onDestroy(o){tp(this._lView[1],this._lView,null,o)}markForCheck(){cv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){op(this._lView[1],this._lView,this.context)}checkNoChanges(){!function TS(s,o,l){Do(!0);try{op(s,o,l)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zm(s,o){Jm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class dR extends Ca{constructor(o){super(o),this._view=o}detectChanges(){fv(this._view)}checkNoChanges(){!function ap(s){Do(!0);try{fv(s)}finally{Do(!1)}}(this._view)}get context(){return null}}class XI extends t0{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jt(o);return new Vl(l,this.ngModule)}}function td(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Vl extends Fl{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Mw(s){return s.map(Iw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return td(this.componentDef.inputs)}get outputs(){return td(this.componentDef.outputs)}create(o,l,d,h){const m=(h=h||this.ngModule)?function eM(s,o){return{get:(l,d,h)=>{const m=s.get(l,Wg,h);return m!==Wg||d===Wg?m:o.get(l,d,h)}}}(o,h.injector):o,v=m.get(KI,Fa),w=m.get(hC,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=d?function tv(s,o,l){if(Tn(s))return s.selectRootElement(o,l===Qt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(C,d,this.componentDef.encapsulation):ah(v.createRenderer(null,this.componentDef),M,function hR(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),P=this.componentDef.onPush?576:528,H=function nD(s,o){return{components:[],scheduler:s||My,clean:IS,playerHandler:o||null,flags:0}}(),Z=ug(0,null,null,1,0,null,null,null,null,null),ye=ag(null,Z,H,P,null,null,v,C,w,m);let Le,je;Xo(ye);try{const tt=function gi(s,o,l,d,h,m){const v=l[1];l[20]=s;const C=Au(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(_h(C,M,!0),null!==s&&(gt(h,s,M),null!==C.classes&&Ki(h,s,C.classes),null!==C.styles&&Su(h,s,C.styles)));const k=d.createRenderer(s,o),P=ag(l,gh(o),null,o.onPush?64:16,l[20],C,d,k,m||null,null);return v.firstCreatePass&&(So(Xn(C,l),v,o.type),iv(v,C),sv(C,l.length,1)),Al(l,P),l[20]=P}(k,this.componentDef,ye,v,C);if(k)if(d)gt(C,k,["ng-version",Gg.full]);else{const{attrs:Te,classes:_t}=function Aw(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&l.push(m);else{if(!Vo(h))break;h=m}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Te&&gt(C,k,Te),_t&&_t.length>0&&Ki(C,k,_t.join(" "))}if(je=fl(Z,20),void 0!==l){const Te=je.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const Xt=l[_t];Te.push(null!=Xt?Array.from(Xt):null)}}Le=function wv(s,o,l,d,h){const m=l[1],v=function rp(s,o,l){const d=Mn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),sp(s,d,o,jc(s,o,1,null),l));const h=ji(o,s,d.directiveStart,d);Xr(h,o);const m=Vr(d,o);return m&&Xr(m,o),h}(m,l,o);if(d.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=Mn();o.contentQueries(1,v,C.directiveStart)}const w=Mn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(To(w.index),rv(l[1],w,0,w.directiveStart,w.directiveEnd,o),vS(o,v)),v}(tt,this.componentDef,ye,H,[pa]),Yc(Z,ye,null)}finally{ta()}return new tM(this.componentType,Le,ed(je,ye),ye,je)}}class tM extends class cC{}{constructor(o,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new dR(h),this.componentType=o}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ea{}class Qs{}const Rp=new Map;class zg extends Ea{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XI(this);const d=wn(o);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=pg(o,l,[{provide:Ea,useValue:this},{provide:t0,useValue:this.componentFactoryResolver}],ie(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ws.THROW_IF_NOT_FOUND,d=ct.Default){return o===Ws||o===Ea||o===hg?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class fC extends Qs{constructor(o){super(),this.moduleType=o,null!==wn(o)&&function fR(s){const o=new Set;!function l(d){const h=wn(d,!0),m=h.id;null!==m&&(function rM(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ie(o)} vs ${ie(o.name)}`)}(m,Rp.get(m),d),Rp.set(m,d));const v=g(h.imports);for(const w of v)o.has(w)||(o.add(w),l(w))}(s)}(o)}create(o){return new zg(this.moduleType,o)}}function qg(s,o,l,d,h,m){const v=o+l;return nr(s,v,h)?function Ji(s,o,l){return s[o]=l}(s,v+1,m?d.call(m,h):d(h)):function Np(s,o){const l=s[o];return l===Lt?void 0:l}(s,v+1)}function cM(s,o){const l=jt();let d;const h=s+20;l.firstCreatePass?(d=function l0(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const m=d.factory||(d.factory=hi(d.type)),v=cr(Dp);try{const w=Ci(!1),C=m();return Ci(w),function Dg(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ee(),h,C),C}finally{cr(v)}}function dM(s,o,l){const d=s+20,h=Ee(),m=Bi(h,d);return function Hh(s,o){return s[1].data[o].pure}(h,d)?qg(h,function kr(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,m.transform,l,m):m.transform(l)}function Zg(s){return o=>{setTimeout(s,void 0,o)}}const $o=class Lp extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,m,v;let w=o,C=l||(()=>null),M=d;if(o&&"object"==typeof o){const P=o;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),M=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=Zg(C),w&&(w=Zg(w)),M&&(M=Zg(M)));const k=super.subscribe({next:w,error:C,complete:M});return o instanceof K.w0&&o.add(k),k}};function hM(){return this._results[It()]()}class id{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=It(),d=id.prototype;d[l]||(d[l]=hM)}get changes(){return this._changes||(this._changes=new $o)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=br(o);(this._changesDetected=!function _l(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Uh=(()=>{class s{}return s.__NG_ELEMENT_ID__=pM,s})();const Kg=Uh,fM=class extends Kg{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=ag(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(l)),Yc(l,d,o),new Ca(d)}};function pM(){return jh(Mn(),Ee())}function jh(s,o){return 4&s.type?new fM(o,s,ed(s,o)):null}let u0=(()=>{class s{}return s.__NG_ELEMENT_ID__=mM,s})();function mM(){return _M(Mn(),Ee())}const gM=u0,mC=class extends gM{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ei(this._hostTNode,this._hostLView);if(Vd(o)){const l=Ui(o,this._hostLView),d=Cn(o);return new Yi(l[1].data[d+8],l)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Wn(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,m){const v=o&&!function sa(s){return"function"==typeof s}(o);let w;if(v)w=l;else{const P=l||{};w=P.index,d=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?o:new Vl(Jt(o)),M=d||this.parentInjector;if(!m&&null==C.ngModule){const H=(v?M:this.parentInjector).get(Ea,null);H&&(m=H)}const k=C.create(M,h,void 0,m);return this.insert(k.hostView,w),k}insert(o,l){const d=o._lView,h=d[1];if(function tu(s){return Zr(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=d[3],H=new mC(P,P[6],P[3]);H.detach(H.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function qf(s,o,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=o),d<m-10?(o[4]=l[h],yl(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function lh(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,v,m);const w=Vy(m,v),C=d[11],M=Ka(C,v[7]);return null!==M&&function zf(s,o,l,d,h,m){d[0]=h,d[6]=o,Jm(s,d,l,1,h,m)}(h,v[6],C,d,M,w),o.attachToViewContainerRef(),yl(gC(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Wn(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Oy(this._lContainer,l);d&&(Hs(gC(this._lContainer),l),Ry(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Oy(this._lContainer,l);return d&&null!=Hs(gC(this._lContainer),l)?new Ca(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Wn(s){return s[8]}function gC(s){return s[8]||(s[8]=[])}function _M(s,o){let l;const d=o[s.index];if(Zr(d))l=d;else{let h;if(8&s.type)h=pn(d);else{const m=o[11];h=m.createComment("");const v=Vr(s,o);Gs(m,Ka(m,v),h,function nS(s,o){return Tn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=l=av(d,o,h,s),Al(o,l)}return new mC(l,s,o)}class _C{constructor(o){this.queryList=o,this.matches=null}clone(){return new _C(this.queryList)}setDirty(){this.queryList.setDirty()}}class yC{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new yC(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==TC(o,l).matches&&this.queries[l].setDirty()}}class yM{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class vC{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new vC(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class bC{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new bC(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,l,CR(l,m)),this.matchTNodeWithReadOption(o,l,Mo(l,o,m,!1,!1))}else d===Uh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Mo(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Op||h===u0||h===Uh&&4&l.type)this.addMatch(l.index,-2);else{const m=Mo(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function CR(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Js(s,o,l,d){return-1===l?function vM(s,o){return 11&s.type?ed(s,o):4&s.type?jh(s,o):null}(o,s):-2===l?function c0(s,o,l){return l===Op?ed(o,s):l===Uh?jh(o,s):l===u0?_M(o,s):void 0}(s,o,d):ji(s,s[1],l,o)}function bM(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=l.matches,w=[];for(let C=0;C<v.length;C+=2){const M=v[C];w.push(M<0?null:Js(o,m[M],v[C+1],l.metadata.read))}h.matches=w}return h.matches}function Pp(s,o,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=bM(s,o,h,l);for(let w=0;w<m.length;w+=2){const C=m[w];if(C>0)d.push(v[w/2]);else{const M=m[w+1],k=o[-C];for(let P=10;P<k.length;P++){const H=k[P];H[17]===H[3]&&Pp(H[1],H,M,d)}if(null!==k[9]){const P=k[9];for(let H=0;H<P.length;H++){const Z=P[H];Pp(Z[1],Z,M,d)}}}}}return d}function d0(s){const o=Ee(),l=jt(),d=dc();hc(d+1);const h=TC(l,d);if(s.dirty&&vo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Pp(l,o,d,[]):bM(l,o,h,d);s.reset(m,n0),s.notifyOnChanges()}return!0}return!1}function wC(s,o,l){const d=jt();d.firstCreatePass&&(wM(d,new yM(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),CC(d,Ee(),o)}function sd(s,o,l,d){const h=jt();if(h.firstCreatePass){const m=Mn();wM(h,new yM(o,l,d),m.index),function EC(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}CC(h,Ee(),l)}function DC(){return function ER(s,o){return s[19].queries[o].queryList}(Ee(),dc())}function CC(s,o,l){const d=new id(4==(4&l));tp(s,o,d,d.destroy),null===o[19]&&(o[19]=new yC),o[19].queries.push(new _C(d))}function wM(s,o,l){null===s.queries&&(s.queries=new vC),s.queries.track(new bC(o,l))}function TC(s,o){return s.queries.getByIndex(o)}function ws(s,o){return jh(s,o)}function a_(...s){}const HC=new $n("Application Initializer");let b0=(()=>{class s{constructor(l){this.appInits=l,this.resolve=a_,this.reject=a_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Ov(m))l.push(m);else if(pD(m)){const v=new Promise((w,C)=>{m.subscribe({complete:w,error:C})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Yt(HC,8))},s.\u0275prov=dn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const UC=new $n("AppId",{providedIn:"root",factory:function jC(){return`${w0()}${w0()}${w0()}`}});function w0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ld=new $n("Platform Initializer"),Bp=new $n("Platform ID"),D0=new $n("appBootstrapListener");let YC=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();const C0=new $n("LocaleId",{providedIn:"root",factory:()=>Wi(C0,ct.Optional|ct.SkipSelf)||function RM(){return"undefined"!=typeof $localize&&$localize.locale||vs}()}),xR=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class NM{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let E0=(()=>{class s{compileModuleSync(l){return new fC(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=g(wn(l).declarations).reduce((v,w)=>{const C=Jt(w);return C&&v.push(new Vl(C)),v},[]);return new NM(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=dn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const PM=(()=>Promise.resolve(0))();function T0(s){"undefined"==typeof Zone?PM.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Sa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function FM(){let s=zt.requestAnimationFrame,o=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function HM(s){const o=()=>{!function BM(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,I0(s),s.isCheckStableRunning=!0,S0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),I0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,w)=>{try{return $C(s),l.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),GC(s)}},onInvoke:(l,d,h,m,v,w,C)=>{try{return $C(s),l.invoke(h,m,v,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),GC(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,I0(s),S0(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Sa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,VM,a_,a_);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const VM={};function S0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function I0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $C(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function GC(s){s._nesting--,S0(s)}class UM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let WC=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sa.assertNotInAngularZone(),T0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Yt(Sa))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})(),zC=(()=>{class s{constructor(){this._applications=new Map,M0.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return M0.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();class jM{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function YM(s){M0=s}let Ia,M0=new jM;const qC=new $n("AllowMultipleToken");class ZC{constructor(o,l){this.name=o,this.token=l}}function KC(s,o,l=[]){const d=`Platform: ${o}`,h=new $n(d);return(m=[])=>{let v=Gu();if(!v||v.injector.get(qC,!1))if(s)s(l.concat(m).concat({provide:h,useValue:!0}));else{const w=l.concat(m).concat({provide:h,useValue:!0},{provide:gv,useValue:"platform"});!function WM(s){if(Ia&&!Ia.destroyed&&!Ia.injector.get(qC,!1))throw new Re(400,"");Ia=s.get(zM);const o=s.get(ld,null);o&&o.forEach(l=>l())}(Ws.create({providers:w,name:d}))}return function A0(s){const o=Gu();if(!o)throw new Re(401,"");return o}()}}function Gu(){return Ia&&!Ia.destroyed?Ia:null}let zM=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function JC(s,o){let l;return l="noop"===s?new UM:("zone.js"===s?void 0:s)||new Sa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Sa,useValue:w}];return w.run(()=>{const M=Ws.create({providers:C,parent:this.injector,name:l.moduleType.name}),k=l.create(M),P=k.injector.get(Yr,null);if(!P)throw new Re(402,"");return w.runOutsideAngular(()=>{const H=w.onError.subscribe({next:Z=>{P.handleError(Z)}});k.onDestroy(()=>{Ds(this._modules,k),H.unsubscribe()})}),function XC(s,o,l){try{const d=l();return Ov(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(P,w,()=>{const H=k.injector.get(b0);return H.runInitializers(),H.donePromise.then(()=>(function qO(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(DI=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(C0,vs)||vs),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,d=[]){const h=k0({},d);return function $M(s,o,l){const d=new fC(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(c_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Re(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Yt(Ws))},s.\u0275prov=dn({token:s,factory:s.\u0275fac}),s})();function k0(s,o){return Array.isArray(o)?o.reduce(k0,s):Object.assign(Object.assign({},s),o)}let c_=(()=>{class s{constructor(l,d,h,m,v){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new N.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new N.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Sa.assertNotInAngularZone(),T0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Sa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,C.pipe((0,X.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Re(405,"");let h;h=l instanceof Fl?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function GM(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Ea),w=h.create(Ws.NULL,[],d||h.selector,m),C=w.location.nativeElement,M=w.injector.get(WC,null),k=M&&w.injector.get(zC);return M&&k&&k.registerApplication(C,M),w.onDestroy(()=>{this.detachView(w.hostView),Ds(this.components,w),k&&k.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Ds(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(D0,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(Yt(Sa),Yt(Ws),Yt(Yr),Yt(t0),Yt(b0))},s.\u0275prov=dn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ds(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let h_=!0,O0=!1;function eE(){return O0=!0,h_}function tE(){if(O0)throw new Error("Cannot enable prod mode after platform setup.");h_=!1}let f_=(()=>{class s{}return s.__NG_ELEMENT_ID__=qM,s})();function qM(s){return function ZM(s,o,l){if(po(s)&&!l){const d=Br(s.index,o);return new Ca(d,d)}return 47&s.type?new Ca(o[16],o):null}(Mn(),Ee(),16==(16&s))}class iE{constructor(){}supports(o){return dp(o)}create(o){return new tA(o)}}const eA=(s,o)=>o;class tA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||eA}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<oE(d,h,m)?l:d,w=oE(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const M=w-h,k=C-h;if(M!=k){for(let H=0;H<M;H++){const Z=H<m.length?m[H]:m[H]=0,ye=Z+H;k<=ye&&ye<M&&(m[H]=Z+1)}m[v.previousIndex]=k-M}}w!==C&&o(v,w,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!dp(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,w),d=!0),l=l._next}else h=0,function yg(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[It()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{v=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,w,v,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new nA(l,d),m,h),o}_verifyReinsertion(o,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new sE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class nA{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class sE{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new rA,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oE(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class aE{constructor(){}supports(o){return o instanceof Map||qt(o)}create(){return new iA}}class iA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||qt(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new sA(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class sA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function V0(){return new B0([new iE])}let B0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||V0()),deps:[[s,new yu,new gu]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Re(901,"")}}return s.\u0275prov=dn({token:s,providedIn:"root",factory:V0}),s})();function lE(){return new H0([new aE])}let H0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||lE()),deps:[[s,new yu,new gu]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(d)return d;throw new Re(901,"")}}return s.\u0275prov=dn({token:s,providedIn:"root",factory:lE}),s})();const lA=KC(null,"core",[{provide:Bp,useValue:"unknown"},{provide:zM,deps:[Ws]},{provide:zC,deps:[]},{provide:YC,deps:[]}]);let uA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Yt(c_))},s.\u0275mod=Q({type:s}),s.\u0275inj=an({}),s})()},3942:(it,Ce,R)=>{R.d(Ce,{Z:()=>Re});var u=R(2090),K=R(4859),N=R(9681),le=R(1877);class X{constructor(fe,De){this._delegate=fe,this.firebase=De,(0,N._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,De=N._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(fe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(et=Ze.getComponent())||void 0===et?void 0:et.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:De})}_removeServiceInstance(fe,De=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(De)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ne(){const Fe=function ie(Fe){const fe={},De={__esModule:!0,initializeApp:function Se(Ue,te={}){const q=N.initializeApp(Ue,te);if((0,u.r3)(fe,q.name))return fe[q.name];const se=new Fe(q,De);return fe[q.name]=se,se},app:Ze,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(Ue){const te=Ue.name,q=te.replace("-compat","");if(N._registerComponent(Ue)&&"PUBLIC"===Ue.type){const se=(ge=Ze())=>{if("function"!=typeof ge[q])throw oe.create("invalid-app-argument",{appName:te});return ge[q]()};void 0!==Ue.serviceProps&&(0,u.ZB)(se,Ue.serviceProps),De[q]=se,Fe.prototype[q]=function(...ge){return this._getService.bind(this,te).apply(this,Ue.multipleInstances?ge:[])}}return"PUBLIC"===Ue.type?De[q]:null},removeApp:function et(Ue){delete fe[Ue]},useAsService:function Ye(Ue,te){return"serverAuth"===te?null:te},modularAPIs:N}};function Ze(Ue){if(!(0,u.r3)(fe,Ue=Ue||N._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ue});return fe[Ue]}return De.default=De,Object.defineProperty(De,"apps",{get:function ve(){return Object.keys(fe).map(Ue=>fe[Ue])}}),Ze.App=Fe,De}(X);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function fe(De){(0,u.ZB)(Fe,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Fe}(),Y=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=j;!function Me(Fe){(0,N.registerVersion)("@firebase/app-compat","0.1.21",Fe)}()},9681:(it,Ce,R)=>{R.r(Ce),R.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>zr,_DEFAULT_ENTRY_NAME:()=>qn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Vi,_apps:()=>vt,_clearComponents:()=>Kt,_components:()=>yn,_getProvider:()=>Ss,_registerComponent:()=>dn,_removeServiceInstance:()=>an,deleteApp:()=>Ms,getApp:()=>qr,getApps:()=>Is,initializeApp:()=>as,onLog:()=>gr,registerVersion:()=>ui,setLogLevel:()=>cr});var u=R(5861),K=R(4859),N=R(1877),le=R(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function pe(Ke){const Ie=Ke.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Qe)){const ft=Qe.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Qe=>Qe).join(" ")}}const oe="@firebase/app",ne=new N.Yd("@firebase/app"),qn="[DEFAULT]",lt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,yn=new Map;function vn(Ke,Ie){try{Ke.container.addComponent(Ie)}catch(Qe){ne.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ke.name}`,Qe)}}function Vi(Ke,Ie){Ke.container.addOrOverwriteComponent(Ie)}function dn(Ke){const Ie=Ke.name;if(yn.has(Ie))return ne.debug(`There were multiple attempts to register component ${Ie}.`),!1;yn.set(Ie,Ke);for(const Qe of vt.values())vn(Qe,Ke);return!0}function Ss(Ke,Ie){const Qe=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),Ke.container.getProvider(Ie)}function an(Ke,Ie,Qe=qn){Ss(Ke,Ie).clearInstance(Qe)}function Kt(){yn.clear()}const yi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class lo{constructor(Ie,Qe,ft){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const zr="9.6.10";function as(Ke,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Qe=Object.assign({name:qn,automaticDataCollectionEnabled:!1},Ie),ft=Qe.name;if("string"!=typeof ft||!ft)throw yi.create("bad-app-name",{appName:String(ft)});const Wt=vt.get(ft);if(Wt){if((0,le.vZ)(Ke,Wt.options)&&(0,le.vZ)(Qe,Wt.config))return Wt;throw yi.create("duplicate-app",{appName:ft})}const Ut=new K.H0(ft);for(const V of yn.values())Ut.addComponent(V);const U=new lo(Ke,Qe,Ut);return vt.set(ft,U),U}function qr(Ke=qn){const Ie=vt.get(Ke);if(!Ie)throw yi.create("no-app",{appName:Ke});return Ie}function Is(){return Array.from(vt.values())}function Ms(Ke){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(Ke){const Ie=Ke.name;vt.has(Ie)&&(vt.delete(Ie),yield Promise.all(Ke.container.getProviders().map(Qe=>Qe.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function ui(Ke,Ie,Qe){var ft;let Wt=null!==(ft=lt[Ke])&&void 0!==ft?ft:Ke;Qe&&(Wt+=`-${Qe}`);const Ut=Wt.match(/\s|\//),U=Ie.match(/\s|\//);if(Ut||U){const V=[`Unable to register library "${Wt}" with version "${Ie}":`];return Ut&&V.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),Ut&&U&&V.push("and"),U&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ne.warn(V.join(" "))}dn(new K.wA(`${Wt}-version`,()=>({library:Wt,version:Ie}),"VERSION"))}function gr(Ke,Ie){if(null!==Ke&&"function"!=typeof Ke)throw yi.create("invalid-log-argument");(0,N.Am)(Ke,Ie)}function cr(Ke){(0,N.Ub)(Ke)}const In="firebase-heartbeat-store";let _r=null;function uo(){return _r||(_r=(0,le.X3)("firebase-heartbeat-database",1,(Ke,Ie)=>{0===Ie&&Ke.createObjectStore(In)}).catch(Ke=>{throw yi.create("storage-open",{originalErrorMessage:Ke.message})})),_r}function Qt(){return(Qt=(0,u.Z)(function*(Ke){try{return(yield uo()).transaction(In).objectStore(In).get(Tr(Ke))}catch(Ie){throw yi.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function st(Ke,Ie){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(Ke,Ie){try{const ft=(yield uo()).transaction(In,"readwrite");return yield ft.objectStore(In).put(Ie,Tr(Ke)),ft.complete}catch(Qe){throw yi.create("storage-set",{originalErrorMessage:Qe.message})}})).apply(this,arguments)}function Tr(Ke){return`${Ke.name}!${Ke.options.appId}`}class zo{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new ht(Qe),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Ie=this;return(0,u.Z)(function*(){const ft=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Lr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Ie._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Wt))return Ie._heartbeatsCache.heartbeats.push({date:Wt,agent:ft}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ut=>{const U=new Date(Ut.date).valueOf();return Date.now()-U<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,u.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Qe=Lr(),{heartbeatsToSend:ft,unsentEntries:Wt}=function Sr(Ke,Ie=1024){const Qe=[];let ft=Ke.slice();for(const Wt of Ke){const Ut=Qe.find(U=>U.agent===Wt.agent);if(Ut){if(Ut.dates.push(Wt.date),Pr(Qe)>Ie){Ut.dates.pop();break}}else if(Qe.push({agent:Wt.agent,dates:[Wt.date]}),Pr(Qe)>Ie){Qe.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:ft}}(Ie._heartbeatsCache.heartbeats),Ut=(0,le.L)(JSON.stringify({version:2,heartbeats:ft}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Qe,Wt.length>0?(Ie._heartbeatsCache.heartbeats=Wt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ut})()}}function Lr(){return(new Date).toISOString().substring(0,10)}class ht{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,u.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function al(Ke){return Qt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Qe=this;return(0,u.Z)(function*(){var ft;if(yield Qe._canUseIndexedDBPromise){const Ut=yield Qe.read();return st(Qe.app,{lastSentHeartbeatDate:null!==(ft=Ie.lastSentHeartbeatDate)&&void 0!==ft?ft:Ut.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Qe=this;return(0,u.Z)(function*(){var ft;if(yield Qe._canUseIndexedDBPromise){const Ut=yield Qe.read();return st(Qe.app,{lastSentHeartbeatDate:null!==(ft=Ie.lastSentHeartbeatDate)&&void 0!==ft?ft:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ie.heartbeats]})}})()}}function Pr(Ke){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function $t(Ke){dn(new K.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),dn(new K.wA("heartbeat",Ie=>new zo(Ie),"PRIVATE")),ui(oe,"0.7.20",Ke),ui(oe,"0.7.20","esm2017"),ui("fire-js","")}("")},4859:(it,Ce,R)=>{R.d(Ce,{wA:()=>N,H0:()=>ie});var u=R(5861),K=R(2090);class N{constructor(j,Y,J){this.name=j,this.instanceFactory=Y,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class X{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const J=new K.BH;if(this.instancesDeferred.set(Y,J),this.isInitialized(Y)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:Y});We&&J.resolve(We)}catch(We){}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const J=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),We=null!==(Y=null==j?void 0:j.optional)&&void 0!==Y&&Y;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Me){if(We)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function oe(ne){return"EAGER"===ne.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Y){}for(const[Y,J]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(Y);try{const Me=this.getOrInitializeService({instanceIdentifier:We});J.resolve(Me)}catch(Me){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,u.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Y.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,J=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:J,options:Y});for(const[Me,Re]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Me)&&Re.resolve(We);return We}onInit(j,Y){var J;const We=this.normalizeInstanceIdentifier(Y),Me=null!==(J=this.onInitCallbacks.get(We))&&void 0!==J?J:new Set;Me.add(j),this.onInitCallbacks.set(We,Me);const Re=this.instances.get(We);return Re&&j(Re,We),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,Y){const J=this.onInitCallbacks.get(Y);if(J)for(const We of J)try{We(j,Y)}catch(Me){}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let J=this.instances.get(j);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=j,ne===le?void 0:ne),options:Y}),this.instances.set(j,J),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(J,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,J)}catch(We){}var ne;return J||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new X(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(it,Ce,R)=>{R.d(Ce,{in:()=>K,Yd:()=>oe,Ub:()=>ie,Am:()=>ne});const u=[];var K=(()=>{return(j=K||(K={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",K;var j})();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},le=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(j,Y,...J)=>{if(Y<j.logLevel)return;const We=(new Date).toISOString(),Me=X[Y];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Me](`[${We}]  ${j.name}:`,...J)};class oe{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function ie(j){u.forEach(Y=>{Y.setLogLevel(j)})}function ne(j,Y){for(const J of u){let We=null;Y&&Y.level&&(We=N[Y.level]),J.userLogHandler=null===j?null:(Me,Re,...Fe)=>{const fe=Fe.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(et){return null}}).filter(De=>De).join(" ");Re>=(null!=We?We:Me.logLevel)&&j({level:K[Re].toLowerCase(),message:fe,args:Fe,type:Me.name})}}}},5861:(it,Ce,R)=>{function u(N,le,X,pe,oe,ie,ne){try{var j=N[ie](ne),Y=j.value}catch(J){return void X(J)}j.done?le(Y):Promise.resolve(Y).then(pe,oe)}function K(N){return function(){var le=this,X=arguments;return new Promise(function(pe,oe){var ie=N.apply(le,X);function ne(Y){u(ie,pe,oe,ne,j,"next",Y)}function j(Y){u(ie,pe,oe,ne,j,"throw",Y)}ne(void 0)})}}R.d(Ce,{Z:()=>K})}},it=>{it(it.s=7753)}]);