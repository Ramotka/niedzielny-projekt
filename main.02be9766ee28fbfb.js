"use strict";(self.webpackChunkniedzielny_projekt=self.webpackChunkniedzielny_projekt||[]).push([[179],{2011:(st,Ce,L)=>{L.d(Ce,{hO:()=>qe,xv:()=>ne,Dh:()=>ie,GT:()=>pe,cc:()=>Ie,on:()=>j,pX:()=>X});var s=L(5e3),K=L(127),N=L(6351);st=L.hmd(st);const le=["ngOnDestroy"],X=(De,tt,ze,Se={})=>new Proxy(De,{get:(be,we)=>ze.runOutsideAngular(()=>{var $e;if(De[we])return(null===($e=null==Se?void 0:Se.spy)||void 0===$e?void 0:$e.get)&&Se.spy.get(we,De[we]),De[we];if(le.indexOf(we)>-1)return()=>{};const je=tt.toPromise().then(te=>{const z=te&&te[we];return"function"==typeof z?z.bind(te):z&&z.then?z.then(oe=>ze.run(()=>oe)):ze.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>je[z],apply:(te,z,oe)=>je.then(ge=>{var ae;const xe=ge&&ge(...oe);return(null===(ae=null==Se?void 0:Se.spy)||void 0===ae?void 0:ae.apply)&&Se.spy.apply(we,oe,xe),xe})})})}),pe=(De,tt)=>{tt.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Se=>{Object.defineProperty(De.prototype,Se,Object.getOwnPropertyDescriptor(ze.prototype||ze,Se))})})};class se{constructor(tt){return tt}}const ie=new s.OlP("angularfire2.app.options"),ne=new s.OlP("angularfire2.app.name");function j(De,tt,ze){const be="object"==typeof ze&&ze||{};be.name=be.name||"string"==typeof ze&&ze||"[DEFAULT]";const $e=K.Z.apps.filter(je=>je&&je.name===be.name)[0]||tt.runOutsideAngular(()=>K.Z.initializeApp(De,be));try{JSON.stringify(De)!==JSON.stringify($e.options)&&Y("error",`${$e.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new se($e)}const Y=(De,...tt)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)},Q={provide:se,useFactory:j,deps:[ie,s.R0b,[new s.FiY,ne]]};let qe=(()=>{class De{constructor(ze){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",s.q4F.full,ze.toString())}static initializeApp(ze,Se){return{ngModule:De,providers:[{provide:ie,useValue:ze},{provide:ne,useValue:Se}]}}}return De.\u0275fac=function(ze){return new(ze||De)(s.LFG(s.Lbi))},De.\u0275mod=s.oAB({type:De}),De.\u0275inj=s.cJS({providers:[Q]}),De})();function Ie(De,tt,ze,Se,be){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===De)||[];if(we)return function Le(De,tt){try{return De.toString()===tt.toString()}catch(ze){return De===tt}}(be,$e)||(fe("error",`${tt} was already initialized on the ${ze} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:be,was:$e})),we;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([De,je,be]),je}}const Fe=!!st.hot,fe=(De,...tt)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(st,Ce,L)=>{L.d(Ce,{q4:()=>pa,iC:()=>El,HU:()=>Uo,vb:()=>Zt,JM:()=>Wf});var s=L(5e3),K=L(5867),N=L(5861),le=L(9681),X=L(2090),pe=L(4859),se=L(1877);const ie="@firebase/installations",Y="w:0.5.7",Q="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(T){return T instanceof X.ZR&&T.code.includes("request-failed")}function ze({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Se(T){return{token:T.token,requestStatus:2,expiresIn:oe(T.expiresIn),creationTime:Date.now()}}function be(T,E){return we.apply(this,arguments)}function we(){return(we=(0,N.Z)(function*(T,E){const F=(yield E.json()).error;return De.create("request-failed",{requestName:T,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function $e({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function je(T,{refreshToken:E}){const x=$e(T);return x.append("Authorization",function ge(T){return`${Q} ${T}`}(E)),x}function te(T){return z.apply(this,arguments)}function z(){return(z=(0,N.Z)(function*(T){const E=yield T();return E.status>=500&&E.status<600?T():E})).apply(this,arguments)}function oe(T){return Number(T.replace("s","000"))}function ae(T,E){return xe.apply(this,arguments)}function xe(){return(xe=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:E},{fid:x}){const F=ze(T),W=$e(T),re=E.getImmediate({optional:!0});if(re){const Mt=yield re.getHeartbeatsHeader();Mt&&W.append("x-firebase-client",Mt)}const Qe={method:"POST",headers:W,body:JSON.stringify({fid:x,authVersion:Q,appId:T.appId,sdkVersion:Y})},At=yield te(()=>fetch(F,Qe));if(At.ok){const Mt=yield At.json();return{fid:Mt.fid||x,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:Se(Mt.authToken)}}throw yield be("Create Installation",At)})).apply(this,arguments)}function ue(T){return new Promise(E=>{setTimeout(E,T)})}const dn=/^[cdef][\w-]{21}$/;function lt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const x=function Dt(T){return function xt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return dn.test(x)?x:""}catch(T){return""}}function Dn(T){return`${T.appName}!${T.appId}`}const Cn=new Map;function ts(T,E){const x=Dn(T);hn(x,E),function Kt(T,E){const x=function Ni(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=T=>{hn(T.data.key,T.data.fid)}),xr}();x&&x.postMessage({key:T,fid:E}),function _o(){0===Cn.size&&xr&&(xr.close(),xr=null)}()}(x,E)}function hn(T,E){const x=Cn.get(T);if(x)for(const F of x)F(E)}let xr=null;const ni="firebase-installations-store";let Bs=null;function Us(){return Bs||(Bs=(0,X.X3)("firebase-installations-database",1,(T,E)=>{0===E&&T.createObjectStore(ni)})),Bs}function ut(T,E){return yi.apply(this,arguments)}function yi(){return(yi=(0,N.Z)(function*(T,E){const x=Dn(T),W=(yield Us()).transaction(ni,"readwrite"),re=W.objectStore(ni),ke=yield re.get(x);return yield re.put(E,x),yield W.complete,(!ke||ke.fid!==E.fid)&&ts(T,E.fid),E})).apply(this,arguments)}function Cr(T){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(T){const E=Dn(T),F=(yield Us()).transaction(ni,"readwrite");yield F.objectStore(ni).delete(E),yield F.complete})).apply(this,arguments)}function Ri(T,E){return ta.apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(T,E){const x=Dn(T),W=(yield Us()).transaction(ni,"readwrite"),re=W.objectStore(ni),ke=yield re.get(x),Qe=E(ke);return void 0===Qe?yield re.delete(x):yield re.put(Qe,x),yield W.complete,Qe&&(!ke||ke.fid!==Qe.fid)&&ts(T,Qe.fid),Qe})).apply(this,arguments)}function Ln(T){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,N.Z)(function*(T){let E;const x=yield Ri(T.appConfig,F=>{const W=yo(F),re=fl(T,W);return E=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield E}:{installationEntry:x,registrationPromise:E}})).apply(this,arguments)}function yo(T){return qt(T||{fid:lt(),registrationStatus:0})}function fl(T,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(De.create("app-offline"))};const x={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},F=function Jt(T,E){return ot.apply(this,arguments)}(T,x);return{installationEntry:x,registrationPromise:F}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:It(T)}:{installationEntry:E}}function ot(){return(ot=(0,N.Z)(function*(T,E){try{const x=yield ae(T,E);return ut(T.appConfig,x)}catch(x){throw tt(x)&&409===x.customData.serverCode?yield Cr(T.appConfig):yield ut(T.appConfig,{fid:E.fid,registrationStatus:0}),x}})).apply(this,arguments)}function It(T){return Or.apply(this,arguments)}function Or(){return(Or=(0,N.Z)(function*(T){let E=yield vs(T.appConfig);for(;1===E.registrationStatus;)yield ue(100),E=yield vs(T.appConfig);if(0===E.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Ln(T);return F||x}return E})).apply(this,arguments)}function vs(T){return Ri(T,E=>{if(!E)throw De.create("installation-not-found");return qt(E)})}function qt(T){return function na(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function $r(T,E){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:E},x){const F=dt(T,x),W=je(T,x),re=E.getImmediate({optional:!0});if(re){const Mt=yield re.getHeartbeatsHeader();Mt&&W.append("x-firebase-client",Mt)}const Qe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Y,appId:T.appId}})},At=yield te(()=>fetch(F,Qe));if(At.ok)return Se(yield At.json());throw yield be("Generate Auth Token",At)})).apply(this,arguments)}function dt(T,{fid:E}){return`${ze(T)}/${E}/authTokens:generate`}function Zr(T){return $t.apply(this,arguments)}function $t(){return($t=(0,N.Z)(function*(T,E=!1){let x;const F=yield Ri(T.appConfig,re=>{if(!Ht(re))throw De.create("not-registered");const ke=re.authToken;if(!E&&H(ke))return re;if(1===ke.requestStatus)return x=Ke(T,E),re;{if(!navigator.onLine)throw De.create("app-offline");const Qe=Z(re);return x=ht(T,Qe),Qe}});return x?yield x:F.authToken})).apply(this,arguments)}function Ke(T,E){return Me.apply(this,arguments)}function Me(){return(Me=(0,N.Z)(function*(T,E){let x=yield Je(T.appConfig);for(;1===x.authToken.requestStatus;)yield ue(100),x=yield Je(T.appConfig);const F=x.authToken;return 0===F.requestStatus?Zr(T,E):F})).apply(this,arguments)}function Je(T){return Ri(T,E=>{if(!Ht(E))throw De.create("not-registered");return function he(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function ht(T,E){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,N.Z)(function*(T,E){try{const x=yield $r(T,E),F=Object.assign(Object.assign({},E),{authToken:x});return yield ut(T.appConfig,F),x}catch(x){if(!tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield ut(T.appConfig,F)}else yield Cr(T.appConfig);throw x}})).apply(this,arguments)}function Ht(T){return void 0!==T&&2===T.registrationStatus}function H(T){return 2===T.requestStatus&&!function V(T){const E=Date.now();return E<T.creationTime||T.creationTime+T.expiresIn<E+36e5}(T)}function Z(T){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:E})}function Be(){return(Be=(0,N.Z)(function*(T){const E=T,{installationEntry:x,registrationPromise:F}=yield Ln(E);return F?F.catch(console.error):Zr(E).catch(console.error),x.fid})).apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(T,E=!1){const x=T;return yield Gr(x),(yield Zr(x,E)).token})).apply(this,arguments)}function Gr(T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,N.Z)(function*(T){const{registrationPromise:E}=yield Ln(T);E&&(yield E)})).apply(this,arguments)}function _r(T){return De.create("missing-app-config-values",{valueName:T})}const ml="installations",Ne=T=>{const E=T.getProvider("app").getImmediate(),x=function Hs(T){if(!T||!T.options)throw _r("App Configuration");if(!T.name)throw _r("App Name");const E=["projectId","apiKey","appId"];for(const x of E)if(!T.options[x])throw _r(x);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(E);return{app:E,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Bt=T=>{const E=T.getProvider("app").getImmediate(),x=(0,le._getProvider)(E,ml).getImmediate();return{getId:()=>function J(T){return Be.apply(this,arguments)}(x),getToken:W=>function Ct(T){return nn.apply(this,arguments)}(x,W)}};(function Mn(){(0,le._registerComponent)(new pe.wA(ml,Ne,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",Bt,"PRIVATE"))})(),(0,le.registerVersion)(ie,"0.5.7"),(0,le.registerVersion)(ie,"0.5.7","esm2017");const Nr="@firebase/remote-config",Qn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yf{constructor(E,x,F,W){this.client=E,this.storage=x,this.storageCache=F,this.logger=W}isCachedDataFresh(E,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,W=F<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${W}.`),W}fetch(E){var x=this;return(0,N.Z)(function*(){const[F,W]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(W&&x.isCachedDataFresh(E.cacheMaxAgeMillis,F))return W;E.eTag=W&&W.eTag;const re=yield x.client.fetch(E),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(ke),re})()}}function Fd(T=navigator){return T.languages&&T.languages[0]||T.language}class Ql{constructor(E,x,F,W,re,ke){this.firebaseInstallations=E,this.sdkVersion=x,this.namespace=F,this.projectId=W,this.apiKey=re,this.appId=ke}fetch(E){var x=this;return(0,N.Z)(function*(){const[F,W]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},At={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:x.appId,language_code:Fd()},Mt={method:"POST",headers:Qe,body:JSON.stringify(At)},Ut=fetch(ke,Mt),Tt=new Promise((si,Es)=>{E.signal.addEventListener(()=>{const vc=new Error("The operation was aborted.");vc.name="AbortError",Es(vc)})});let Et;try{yield Promise.race([Ut,Tt]),Et=yield Ut}catch(si){let Es="fetch-client-network";throw"AbortError"===si.name&&(Es="fetch-timeout"),Qn.create(Es,{originalErrorMessage:si.message})}let Yt=Et.status;const Sl=Et.headers.get("ETag")||void 0;let ls,ga;if(200===Et.status){let si;try{si=yield Et.json()}catch(Es){throw Qn.create("fetch-client-parse",{originalErrorMessage:Es.message})}ls=si.entries,ga=si.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?Yt=500:"NO_CHANGE"===ga?Yt=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(ls={}),304!==Yt&&200!==Yt)throw Qn.create("fetch-status",{httpStatus:Yt});return{status:Yt,eTag:Sl,config:ls}})()}}class yg{constructor(E,x){this.client=E,this.storage=x}fetch(E){var x=this;return(0,N.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(E,F)})()}attemptFetch(E,{throttleEndTimeMillis:x,backoffCount:F}){var W=this;return(0,N.Z)(function*(){yield function ar(T,E){return new Promise((x,F)=>{const W=Math.max(E-Date.now(),0),re=setTimeout(x,W);T.addEventListener(()=>{clearTimeout(re),F(Qn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,x);try{const re=yield W.client.fetch(E);return yield W.storage.deleteThrottleMetadata(),re}catch(re){if(!function Vd(T){if(!(T instanceof X.ZR&&T.customData))return!1;const E=Number(T.customData.httpStatus);return 429===E||500===E||503===E||504===E}(re))throw re;const ke={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(ke),W.attemptFetch(E,ke)}})()}}class Fn{constructor(E,x,F,W,re){this.app=E,this._client=x,this._storageCache=F,this._storage=W,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function du(T,E){const x=T.target.error||void 0;return Qn.create(E,{originalErrorMessage:x&&x.message})}const Co="app_namespace_store";class Ud{constructor(E,x,F,W=function wg(){return new Promise((T,E)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{E(du(F,"storage-open"))},x.onsuccess=F=>{T(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Co,{keyPath:"compositeKey"})}}catch(x){E(Qn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=E,this.appName=x,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var x=this;return(0,N.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,re)=>{const Qe=F.transaction([Co],"readonly").objectStore(Co),At=x.createCompositeKey(E);try{const Mt=Qe.get(At);Mt.onerror=Ut=>{re(du(Ut,"storage-get"))},Mt.onsuccess=Ut=>{const Tt=Ut.target.result;W(Tt?Tt.value:void 0)}}catch(Mt){re(Qn.create("storage-get",{originalErrorMessage:Mt&&Mt.message}))}})})()}set(E,x){var F=this;return(0,N.Z)(function*(){const W=yield F.openDbPromise;return new Promise((re,ke)=>{const At=W.transaction([Co],"readwrite").objectStore(Co),Mt=F.createCompositeKey(E);try{const Ut=At.put({compositeKey:Mt,value:x});Ut.onerror=Tt=>{ke(du(Tt,"storage-set"))},Ut.onsuccess=()=>{re()}}catch(Ut){ke(Qn.create("storage-set",{originalErrorMessage:Ut&&Ut.message}))}})})()}delete(E){var x=this;return(0,N.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,re)=>{const Qe=F.transaction([Co],"readwrite").objectStore(Co),At=x.createCompositeKey(E);try{const Mt=Qe.delete(At);Mt.onerror=Ut=>{re(du(Ut,"storage-delete"))},Mt.onsuccess=()=>{W()}}catch(Mt){re(Qn.create("storage-delete",{originalErrorMessage:Mt&&Mt.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Hd{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,N.Z)(function*(){const x=E.storage.getLastFetchStatus(),F=E.storage.getLastSuccessfulFetchTimestampMillis(),W=E.storage.getActiveConfig(),re=yield x;re&&(E.lastFetchStatus=re);const ke=yield F;ke&&(E.lastSuccessfulFetchTimestampMillis=ke);const Qe=yield W;Qe&&(E.activeConfig=Qe)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function ia(){return $f.apply(this,arguments)}function $f(){return($f=(0,N.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(T){return!1}})).apply(this,arguments)}!function La(){(0,le._registerComponent)(new pe.wA("remote-config",function T(E,{instanceIdentifier:x}){const F=E.getProvider("app").getImmediate(),W=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Qn.create("registration-window");if(!(0,X.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:re,apiKey:ke,appId:Qe}=F.options;if(!re)throw Qn.create("registration-project-id");if(!ke)throw Qn.create("registration-api-key");if(!Qe)throw Qn.create("registration-app-id");const At=new Ud(Qe,F.name,x=x||"firebase"),Mt=new Hd(At),Ut=new se.Yd(Nr);Ut.logLevel=se.in.ERROR;const Tt=new Ql(W,le.SDK_VERSION,x,re,ke,Qe),Et=new yg(Tt,At),Yt=new Yf(Et,At,Mt,Ut),Sl=new Fn(F,Yt,Mt,At,Ut);return function Wt(T){const E=(0,X.m9)(T);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Sl),Sl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Nr,"0.3.6"),(0,le.registerVersion)(Nr,"0.3.6","esm2017")}();const hu="/firebase-messaging-sw.js",To="/firebase-cloud-messaging-push-scope",wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sa="google.c.a.c_id",_l="google.c.a.c_l",jd="google.c.a.ts",Dg="google.c.a.e";var Eo=(()=>{return(T=Eo||(Eo={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Eo;var T})();function Fi(T){const E=new Uint8Array(T);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ec(T){const x=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),W=new Uint8Array(F.length);for(let re=0;re<F.length;++re)W[re]=F.charCodeAt(re);return W}const tc="fcm_token_details_db",Rr="fcm_token_object_Store";function Zf(T){return nc.apply(this,arguments)}function nc(){return nc=(0,N.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(tc))return null;let E=null;return(yield(0,X.X3)(tc,5,function(){var F=(0,N.Z)(function*(W,re,ke,Qe){var At;if(re<2||!W.objectStoreNames.contains(Rr))return;const Mt=Qe.objectStore(Rr),Ut=yield Mt.index("fcmSenderId").get(T);if(yield Mt.clear(),Ut)if(2===re){const Tt=Ut;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;E={token:Tt.fcmToken,createTime:null!==(At=Tt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:Fi(Tt.vapidKey)}}}else if(3===re){const Tt=Ut;E={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Fi(Tt.auth),p256dh:Fi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Fi(Tt.vapidKey)}}}else if(4===re){const Tt=Ut;E={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Fi(Tt.auth),p256dh:Fi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Fi(Tt.vapidKey)}}}});return function(W,re,ke,Qe){return F.apply(this,arguments)}}())).close(),yield(0,X.Lj)(tc),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Yd(E)?E:null}),nc.apply(this,arguments)}function Yd(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:E}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Zs="firebase-messaging-store";let yl=null;function fu(){return yl||(yl=(0,X.X3)("firebase-messaging-database",1,(T,E)=>{0===E&&T.createObjectStore(Zs)})),yl}function kn(T){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,N.Z)(function*(T){const E=aa(T),F=yield(yield fu()).transaction(Zs).objectStore(Zs).get(E);if(F)return F;{const W=yield Zf(T.appConfig.senderId);if(W)return yield So(T,W),W}})).apply(this,arguments)}function So(T,E){return wn.apply(this,arguments)}function wn(){return(wn=(0,N.Z)(function*(T,E){const x=aa(T),W=(yield fu()).transaction(Zs,"readwrite");return yield W.objectStore(Zs).put(E,x),yield W.complete,E})).apply(this,arguments)}function $d(T){return oa.apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(T){const E=aa(T),F=(yield fu()).transaction(Zs,"readwrite");yield F.objectStore(Zs).delete(E),yield F.complete})).apply(this,arguments)}function aa({appConfig:T}){return T.appId}const Xn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vl(T,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,N.Z)(function*(T,E){const x=yield Io(T),F=ft(E),W={method:"POST",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(Di(T.appConfig),W)).json()}catch(ke){throw Xn.create("token-subscribe-failed",{errorInfo:ke})}if(re.error)throw Xn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Xn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function zr(T,E){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*(T,E){const x=yield Io(T),F=ft(E.subscriptionOptions),W={method:"PATCH",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(`${Di(T.appConfig)}/${E.token}`,W)).json()}catch(ke){throw Xn.create("token-update-failed",{errorInfo:ke})}if(re.error)throw Xn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Xn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Gs(T,E){return sc.apply(this,arguments)}function sc(){return(sc=(0,N.Z)(function*(T,E){const F={method:"DELETE",headers:yield Io(T)};try{const re=yield(yield fetch(`${Di(T.appConfig)}/${E}`,F)).json();if(re.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(W){throw Xn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function Di({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Io(T){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*({appConfig:T,installations:E}){const x=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ft({p256dh:T,auth:E,endpoint:x,vapidKey:F}){const W={web:{endpoint:x,auth:E,p256dh:T}};return F!==wi&&(W.web.applicationPubKey=F),W}const oc=6048e5;function bl(T){return ac.apply(this,arguments)}function ac(){return(ac=(0,N.Z)(function*(T){const E=yield gu(T.swRegistration,T.vapidKey),x={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:E.endpoint,auth:Fi(E.getKey("auth")),p256dh:Fi(E.getKey("p256dh"))},F=yield kn(T.firebaseDependencies);if(F){if(Pa(F.subscriptionOptions,x))return Date.now()>=F.createTime+oc?pu(T,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield Gs(T.firebaseDependencies,F.token)}catch(W){console.warn(W)}return Te(T.firebaseDependencies,x)}return Te(T.firebaseDependencies,x)})).apply(this,arguments)}function lc(T){return cc.apply(this,arguments)}function cc(){return(cc=(0,N.Z)(function*(T){const E=yield kn(T.firebaseDependencies);E&&(yield Gs(T.firebaseDependencies,E.token),yield $d(T.firebaseDependencies));const x=yield T.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function pu(T,E){return mu.apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(T,E){try{const x=yield zr(T.firebaseDependencies,E),F=Object.assign(Object.assign({},E),{token:x,createTime:Date.now()});return yield So(T.firebaseDependencies,F),x}catch(x){throw yield lc(T),x}})).apply(this,arguments)}function Te(T,E){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(T,E){const F={token:yield vl(T,E),createTime:Date.now(),subscriptionOptions:E};return yield So(T,F),F.token})).apply(this,arguments)}function gu(T,E){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,N.Z)(function*(T,E){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ec(E)})})).apply(this,arguments)}function Pa(T,E){return E.vapidKey===T.vapidKey&&E.endpoint===T.endpoint&&E.auth===T.auth&&E.p256dh===T.p256dh}function Fa(T){const E={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Ci(T,E){if(!E.notification)return;T.notification={};const x=E.notification.title;x&&(T.notification.title=x);const F=E.notification.body;F&&(T.notification.body=F);const W=E.notification.image;W&&(T.notification.image=W)}(E,T),function _u(T,E){!E.data||(T.data=E.data)}(E,T),function yu(T,E){if(!E.fcmOptions)return;T.fcmOptions={};const x=E.fcmOptions.link;x&&(T.fcmOptions.link=x);const F=E.fcmOptions.analytics_label;F&&(T.fcmOptions.analyticsLabel=F)}(E,T),E}function Zd(T){return"object"==typeof T&&!!T&&sa in T}function vu(T,E){const x=[];for(let F=0;F<T.length;F++)x.push(T.charAt(F)),F<E.length&&x.push(E.charAt(F));return x.join("")}function ko(T){return Xn.create("missing-app-config-values",{valueName:T})}vu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pr{constructor(E,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function uc(T){if(!T||!T.options)throw ko("App Configuration Object");if(!T.name)throw ko("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:x}=T;for(const F of E)if(!x[F])throw ko(F);return{appName:T.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:W,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Vi(T){return dc.apply(this,arguments)}function dc(){return(dc=(0,N.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(hu,{scope:To}),T.swRegistration.update().catch(()=>{})}catch(E){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function xo(T,E){return rs.apply(this,arguments)}function rs(){return(rs=(0,N.Z)(function*(T,E){if(!E&&!T.swRegistration&&(yield Vi(T)),E||!T.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");T.swRegistration=E}})).apply(this,arguments)}function bu(T,E){return hc.apply(this,arguments)}function hc(){return(hc=(0,N.Z)(function*(T,E){E?T.vapidKey=E:T.vapidKey||(T.vapidKey=wi)})).apply(this,arguments)}function wu(){return(wu=(0,N.Z)(function*(T,E){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield bu(T,null==E?void 0:E.vapidKey),yield xo(T,null==E?void 0:E.serviceWorkerRegistration),bl(T)})).apply(this,arguments)}function wl(T,E,x){return Va.apply(this,arguments)}function Va(){return(Va=(0,N.Z)(function*(T,E,x){const F=Du(E);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[sa],message_name:x[_l],message_time:x[jd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Du(T){switch(T){case Eo.NOTIFICATION_CLICKED:return"notification_open";case Eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gd(){return(Gd=(0,N.Z)(function*(T,E){const x=E.data;if(!x.isFirebaseMessaging)return;T.onMessageHandler&&x.messageType===Eo.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Fa(x)):T.onMessageHandler.next(Fa(x)));const F=x.data;Zd(F)&&"1"===F[Dg]&&(yield wl(T,x.messageType,F))})).apply(this,arguments)}const Tu="@firebase/messaging",qd=T=>{const E=new Pr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Cu(T,E){return Gd.apply(this,arguments)}(E,x)),E},ca=T=>{const E=T.getProvider("messaging").getImmediate();return{getToken:F=>function fc(T,E){return wu.apply(this,arguments)}(E,F)}};function zd(){return ua.apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(){try{yield(0,X.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wd(){(0,le._registerComponent)(new pe.wA("messaging",qd,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",ca,"PRIVATE")),(0,le.registerVersion)(Tu,"0.9.11"),(0,le.registerVersion)(Tu,"0.9.11","esm2017")}();const Su="analytics",Sv="firebase_id",Dl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pc="https://www.googletagmanager.com/gtag/js",lr=new se.Yd("@firebase/analytics");function Jd(T){return Promise.all(T.map(E=>E.catch(x=>x)))}function Cg(T,E){const x=document.createElement("script");x.src=`${pc}?l=${T}&id=${E}`,x.async=!0,document.head.appendChild(x)}function Ba(T,E,x,F,W,re){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,N.Z)(function*(T,E,x,F,W,re){const ke=F[W];try{if(ke)yield E[ke];else{const At=(yield Jd(x)).find(Mt=>Mt.measurementId===W);At&&(yield E[At.appId])}}catch(Qe){lr.error(Qe)}T("config",W,re)})).apply(this,arguments)}function Iu(T,E,x,F,W){return da.apply(this,arguments)}function da(){return(da=(0,N.Z)(function*(T,E,x,F,W){try{let re=[];if(W&&W.send_to){let ke=W.send_to;Array.isArray(ke)||(ke=[ke]);const Qe=yield Jd(x);for(const At of ke){const Mt=Qe.find(Tt=>Tt.measurementId===At),Ut=Mt&&E[Mt.appId];if(!Ut){re=[];break}re.push(Ut)}}0===re.length&&(re=Object.values(E)),yield Promise.all(re),T("event",F,W||{})}catch(re){lr.error(re)}})).apply(this,arguments)}function Tg(){const T=window.document.getElementsByTagName("script");for(const E of Object.values(T))if(E.src&&E.src.includes(pc))return E;return null}const tr=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Sr=new class cr{constructor(E={},x=1e3){this.throttleMetadata=E,this.intervalMillis=x}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,x){this.throttleMetadata[E]=x}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Ua(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function eh(T){return In.apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(T){var E;const{appId:x,apiKey:F}=T,W={method:"GET",headers:Ua(F)},re=Dl.replace("{app-id}",x),ke=yield fetch(re,W);if(200!==ke.status&&304!==ke.status){let Qe="";try{const At=yield ke.json();(null===(E=At.error)||void 0===E?void 0:E.message)&&(Qe=At.error.message)}catch(At){}throw tr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Qe})}return ke.json()})).apply(this,arguments)}function qf(T){return is.apply(this,arguments)}function is(){return(is=(0,N.Z)(function*(T,E=Sr,x){const{appId:F,apiKey:W,measurementId:re}=T.options;if(!F)throw tr.create("no-app-id");if(!W){if(re)return{measurementId:re,appId:F};throw tr.create("no-api-key")}const ke=E.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Au;return setTimeout((0,N.Z)(function*(){Qe.abort()}),void 0!==x?x:6e4),mc({appId:F,apiKey:W,measurementId:re},ke,Qe,E)})).apply(this,arguments)}function mc(T,E,x){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,N.Z)(function*(T,{throttleEndTimeMillis:E,backoffCount:x},F,W=Sr){const{appId:re,measurementId:ke}=T;try{yield vt(F,E)}catch(Qe){if(ke)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:ke};throw Qe}try{const Qe=yield eh(T);return W.deleteThrottleMetadata(re),Qe}catch(Qe){if(!th(Qe)){if(W.deleteThrottleMetadata(re),ke)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:ke};throw Qe}const At=503===Number(Qe.customData.httpStatus)?(0,X.$s)(x,W.intervalMillis,30):(0,X.$s)(x,W.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+At,backoffCount:x+1};return W.setThrottleMetadata(re,Mt),lr.debug(`Calling attemptFetch again in ${At} millis`),mc(T,Mt,F,W)}})).apply(this,arguments)}function vt(T,E){return new Promise((x,F)=>{const W=Math.max(E-Date.now(),0),re=setTimeout(x,W);T.addEventListener(()=>{clearTimeout(re),F(tr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function th(T){if(!(T instanceof X.ZR&&T.customData))return!1;const E=Number(T.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Au{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function ku(){return ha.apply(this,arguments)}function ha(){return(ha=(0,N.Z)(function*(){if(!(0,X.hl)())return lr.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(T){return lr.warn(tr.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function zs(){return(zs=(0,N.Z)(function*(T,E,x,F,W,re,ke){var Qe;const At=qf(T);At.then(Yt=>{x[Yt.measurementId]=Yt.appId,T.options.measurementId&&Yt.measurementId!==T.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>lr.error(Yt)),E.push(At);const Mt=ku().then(Yt=>{if(Yt)return F.getId()}),[Ut,Tt]=yield Promise.all([At,Mt]);Tg()||Cg(re,Ut.measurementId),W("js",new Date);const Et=null!==(Qe=null==ke?void 0:ke.config)&&void 0!==Qe?Qe:{};return Et.origin="firebase",Et.update=!0,null!=Tt&&(Et[Sv]=Tt),W("config",Ut.measurementId,Et),Ut.measurementId})).apply(this,arguments)}class fa{constructor(E){this.app=E}_delete(){return delete Ui[this.app.options.appId],Promise.resolve()}}let Ui={},No=[];const Hi={};let Ro,Cs,Ds="dataLayer",Ou=!1;function ss(T,E,x){!function Po(){const T=[];if((0,X.ru)()&&T.push("This is a browser extension environment."),(0,X.zI)()||T.push("Cookies are not available."),T.length>0){const E=T.map((F,W)=>`(${W+1}) ${F}`).join(" "),x=tr.create("invalid-analytics-context",{errorInfo:E});lr.warn(x.message)}}();const F=T.options.appId;if(!F)throw tr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw tr.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ui[F])throw tr.create("already-exists",{id:F});if(!Ou){!function Ws(T){let E=[];Array.isArray(window[T])?E=window[T]:window[T]=E}(Ds);const{wrappedGtag:re,gtagCore:ke}=function Gf(T,E,x,F,W){let re=function(...ke){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(re=window[W]),window[W]=function Xd(T,E,x,F){function re(){return(re=(0,N.Z)(function*(ke,Qe,At){try{"event"===ke?yield Iu(T,E,x,Qe,At):"config"===ke?yield Ba(T,E,x,F,Qe,At):T("set",Qe)}catch(Mt){lr.error(Mt)}})).apply(this,arguments)}return function W(ke,Qe,At){return re.apply(this,arguments)}}(re,T,E,x),{gtagCore:re,wrappedGtag:window[W]}}(Ui,No,Hi,Ds,"gtag");Cs=re,Ro=ke,Ou=!0}return Ui[F]=function qn(T,E,x,F,W,re,ke){return zs.apply(this,arguments)}(T,No,Hi,E,Ro,Ds,x),new fa(T)}function ji(){return(ji=(0,N.Z)(function*(T,E,x,F,W){if(W&&W.global)T("event",x,F);else{const re=yield E;T("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Hn(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,N.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(T){return!1}})).apply(this,arguments)}const Vo="@firebase/analytics";!function Ig(){(0,le._registerComponent)(new pe.wA(Su,(E,{options:x})=>ss(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function T(E){try{const x=E.getProvider(Su).getImmediate();return{logEvent:(F,W,re)=>function Mg(T,E,x,F){T=(0,X.m9)(T),function Ha(T,E,x,F,W){return ji.apply(this,arguments)}(Cs,Ui[T.app.options.appId],E,x,F).catch(W=>lr.error(W))}(x,F,W,re)}}catch(x){throw tr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(Vo,"0.7.7"),(0,le.registerVersion)(Vo,"0.7.7","esm2017")}();var Bo=L(233),Js=L(4986),gc=L(8505),jn=L(9468),Lu=L(5363);const pa=new s.GfV("7.3.0"),sh="__angularfire_symbol__analyticsIsSupportedValue",Cl="__angularfire_symbol__analyticsIsSupported",Mr="__angularfire_symbol__remoteConfigIsSupportedValue",ii="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",Qs="__angularfire_symbol__messagingIsSupported";function Wf(T,E,x){if(E){if(1===E.length)return E[0];const re=E.filter(ke=>ke.app===x);if(1===re.length)return re[0]}return x.container.getProvider(T).getImmediate({optional:!0})}globalThis[Cl]||(globalThis[Cl]=Hn().then(T=>globalThis[sh]=T).catch(()=>globalThis[sh]=!1)),globalThis[Qs]||(globalThis[Qs]=zd().then(T=>globalThis[Tl]=T).catch(()=>globalThis[Tl]=!1)),globalThis[ii]||(globalThis[ii]=ia().then(T=>globalThis[Mr]=T).catch(()=>globalThis[Mr]=!1));const Zt=(T,E)=>{const x=E?[E]:(0,K.C6)(),F=[];return x.forEach(W=>{W.container.getProvider(T).instances.forEach(ke=>{F.includes(ke)||F.push(ke)})}),F};function Xs(){}class nr{constructor(E,x=Bo.N){this.zone=E,this.delegate=x}now(){return this.delegate.now()}schedule(E,x,F){const W=this.zone;return this.delegate.schedule(function(ke){W.runGuarded(()=>{E.apply(this,[ke])})},x,F)}}class _c{constructor(E){this.zone=E,this.task=null}call(E,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xs,{},Xs,Xs)),x.pipe((0,gc.b)({next:F,complete:F,error:F})).subscribe(E).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uo=(()=>{class T{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new nr(Zone.current)),this.insideAngular=x.run(()=>new nr(Zone.current,Js.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(x){return new(x||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ho(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function El(T){return Ho(),function lh(T){return function(x){return(x=x.lift(new _c(T.ngZone))).pipe((0,jn.R)(T.outsideAngular),(0,Lu.Q)(T.insideAngular))}}(Ho())(T)}},2090:(st,Ce,L)=>{L.d(Ce,{BH:()=>Ie,LL:()=>xt,ZR:()=>ue,zI:()=>ge,US:()=>se,tV:()=>j,L:()=>ne,$s:()=>na,r3:()=>hn,Sg:()=>Le,ne:()=>ut,vZ:()=>_o,ZB:()=>Q,Lj:()=>Gt,pd:()=>Bs,m9:()=>dt,z$:()=>Fe,jU:()=>tt,ru:()=>ze,d:()=>be,xb:()=>xr,w1:()=>we,hl:()=>z,uI:()=>fe,UG:()=>De,b$:()=>Se,G6:()=>te,Mn:()=>$e,X3:()=>ht,xO:()=>ys,zd:()=>ni,eu:()=>oe});var s=L(5861);const X=function(H){const V=[];let Z=0;for(let he=0;he<H.length;he++){let J=H.charCodeAt(he);J<128?V[Z++]=J:J<2048?(V[Z++]=J>>6|192,V[Z++]=63&J|128):55296==(64512&J)&&he+1<H.length&&56320==(64512&H.charCodeAt(he+1))?(J=65536+((1023&J)<<10)+(1023&H.charCodeAt(++he)),V[Z++]=J>>18|240,V[Z++]=J>>12&63|128,V[Z++]=J>>6&63|128,V[Z++]=63&J|128):(V[Z++]=J>>12|224,V[Z++]=J>>6&63|128,V[Z++]=63&J|128)}return V},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let J=0;J<H.length;J+=3){const Be=H[J],Ct=J+1<H.length,nn=Ct?H[J+1]:0,Gr=J+2<H.length,Qt=Gr?H[J+2]:0;let Sn=(15&nn)<<2|Qt>>6,Er=63&Qt;Gr||(Er=64,Ct||(Sn=64)),he.push(Z[Be>>2],Z[(3&Be)<<4|nn>>4],Z[Sn],Z[Er])}return he.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(X(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let Z=0,he=0;for(;Z<H.length;){const J=H[Z++];if(J<128)V[he++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=H[Z++];V[he++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const Gr=((7&J)<<18|(63&H[Z++])<<12|(63&H[Z++])<<6|63&H[Z++])-65536;V[he++]=String.fromCharCode(55296+(Gr>>10)),V[he++]=String.fromCharCode(56320+(1023&Gr))}else{const Be=H[Z++],Ct=H[Z++];V[he++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&Ct)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const Z=V?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let J=0;J<H.length;){const Be=Z[H.charAt(J++)],nn=J<H.length?Z[H.charAt(J)]:0;++J;const Qt=J<H.length?Z[H.charAt(J)]:64;++J;const Ft=J<H.length?Z[H.charAt(J)]:64;if(++J,null==Be||null==nn||null==Qt||null==Ft)throw Error();he.push(Be<<2|nn>>4),64!==Qt&&(he.push(nn<<4&240|Qt>>2),64!==Ft&&he.push(Qt<<6&192|Ft))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ne=function(H){return function(H){const V=X(H);return se.encodeByteArray(V,!0)}(H).replace(/\./g,"")},j=function(H){try{return se.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const Z in V)!V.hasOwnProperty(Z)||!qe(Z)||(H[Z]=Q(H[Z],V[Z]));return H}function qe(H){return"__proto__"!==H}class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Z)=>{this.resolve=V,this.reject=Z})}wrapCallback(V){return(Z,he)=>{Z?this.reject(Z):this.resolve(he),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Z):V(Z,he))}}}function Le(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=V||"demo-project",J=H.iat||0,Be=H.sub||H.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(Ct)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function tt(){return"object"==typeof self&&self.self===self}function ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return Fe().indexOf("Electron/")>=0}function we(){const H=Fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function $e(){return Fe().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function oe(){return new Promise((H,V)=>{try{let Z=!0;const he="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(he);J.onsuccess=()=>{J.result.close(),Z||self.indexedDB.deleteDatabase(he),H(!0)},J.onupgradeneeded=()=>{Z=!1},J.onerror=()=>{var Be;V((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch(Z){V(Z)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(V,Z,he){super(Z),this.code=V,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(V,Z,he){this.service=V,this.serviceName=Z,this.errors=he}create(V,...Z){const he=Z[0]||{},J=`${this.service}/${V}`,Be=this.errors[V],Ct=Be?function dn(H,V){return H.replace(Jn,(Z,he)=>{const J=V[he];return null!=J?String(J):`<${he}?>`})}(Be,he):"Error";return new ue(J,`${this.serviceName}: ${Ct} (${J}).`,he)}}const Jn=/\{\$([^}]+)}/g;function hn(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function xr(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function _o(H,V){if(H===V)return!0;const Z=Object.keys(H),he=Object.keys(V);for(const J of Z){if(!he.includes(J))return!1;const Be=H[J],Ct=V[J];if(ti(Be)&&ti(Ct)){if(!_o(Be,Ct))return!1}else if(Be!==Ct)return!1}for(const J of he)if(!Z.includes(J))return!1;return!0}function ti(H){return null!==H&&"object"==typeof H}function ys(H){const V=[];for(const[Z,he]of Object.entries(H))Array.isArray(he)?he.forEach(J=>{V.push(encodeURIComponent(Z)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent(Z)+"="+encodeURIComponent(he));return V.length?"&"+V.join("&"):""}function ni(H){const V={};return H.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[J,Be]=he.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Be)}}),V}function Bs(H){const V=H.indexOf("?");if(!V)return"";const Z=H.indexOf("#",V);return H.substring(V,Z>0?Z:void 0)}function ut(H,V){const Z=new yi(H,V);return Z.subscribe.bind(Z)}class yi{constructor(V,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{V(this)}).catch(he=>{this.error(he)})}next(V){this.forEachObserver(Z=>{Z.next(V)})}error(V){this.forEachObserver(Z=>{Z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Z,he){let J;if(void 0===V&&void 0===Z&&void 0===he)throw new Error("Missing Observer.");J=function gr(H,V){if("object"!=typeof H||null===H)return!1;for(const Z of V)if(Z in H&&"function"==typeof H[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Z,complete:he},void 0===J.next&&(J.next=Ri),void 0===J.error&&(J.error=Ri),void 0===J.complete&&(J.complete=Ri);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(Ct){}}),this.observers.push(J),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,V)}sendOne(V,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Z(this.observers[V])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ri(){}function na(H,V=1e3,Z=2){const he=V*Math.pow(Z,H),J=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+J)}function dt(H){return H&&H._delegate?H._delegate:H}function Zr(H,V){return new Promise((Z,he)=>{H.onsuccess=J=>{Z(J.target.result)},H.onerror=J=>{var Be;he(`${V}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class $t{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,Z){return new Ke(this._db.transaction.call(this._db,V,Z))}createObjectStore(V,Z){return new Me(this._db.createObjectStore(V,Z))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise((Z,he)=>{this._transaction.oncomplete=function(){Z()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(V){return new Me(this._transaction.objectStore(V))}}class Me{constructor(V){this._store=V}index(V){return new Je(this._store.index(V))}createIndex(V,Z,he){return new Je(this._store.createIndex(V,Z,he))}get(V){return Zr(this._store.get(V),"Error reading from IndexedDB")}put(V,Z){return Zr(this._store.put(V,Z),"Error writing to IndexedDB")}delete(V){return Zr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Zr(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(V){this._index=V}get(V){return Zr(this._index.get(V),"Error reading from IndexedDB")}}function ht(H,V,Z){return new Promise((he,J)=>{try{const Be=indexedDB.open(H,V);Be.onsuccess=Ct=>{he(new $t(Ct.target.result))},Be.onerror=Ct=>{var nn;J(`Error opening indexedDB: ${null===(nn=Ct.target.error)||void 0===nn?void 0:nn.message}`)},Be.onupgradeneeded=Ct=>{Z(new $t(Be.result),Ct.oldVersion,Ct.newVersion,new Ke(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function Gt(H){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,s.Z)(function*(H){return new Promise((V,Z)=>{try{const he=indexedDB.deleteDatabase(H);he.onsuccess=()=>{V()},he.onerror=J=>{var Be;Z(`Error deleting indexedDB database "${H}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(he){Z(`Error deleting indexedDB database "${H}": ${he.message}`)}})})).apply(this,arguments)}},7229:(st,Ce,L)=>{var s=L(5e3);let K=null;function N(){return K}const se=new s.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ne(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const j=new s.OlP("Location Initialized");let Y=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function qe(){return new Y((0,s.LFG)(se))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function De(n){const e=(0,s.LFG)(se).location;return new ze((0,s.LFG)(ie),e&&e.origin||"")}()},providedIn:"root"}),n})();const tt=new s.OlP("appBaseHref");let ze=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const u=this.prepareExternalUrl(i+Fe(l));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){const u=this.prepareExternalUrl(i+Fe(l));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ie),s.LFG(tt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let u=this.prepareExternalUrl(i+Fe(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){let u=this.prepareExternalUrl(i+Fe(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ie),s.LFG(tt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(je(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Ie,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(s.LFG(fe),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return new be((0,s.LFG)(fe),(0,s.LFG)(ie))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function yn(n,e){return Cr((0,s.cg1)(n)[s.wAp.DateFormat],e)}function Vs(n,e){return Cr((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function hn(n,e){return Cr((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function Kt(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(void 0===r){if(e===ue.CurrencyDecimal)return t[s.wAp.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[s.wAp.NumberSymbols][ue.Group]}return r}function Bs(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function gr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Tr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yo={},fl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.ShortGMT=1]="ShortGMT",Jt[Jt.Long=2]="Long",Jt[Jt.Extended=3]="Extended",Jt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function Or(n,e,t,r){let i=function nn(n){if(Qt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,u=1]=n.split("-").map(f=>+f);return vs(i,l-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Tr))return function Gr(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,u,f,_,D),e}(r)}const e=new Date(n);if(!Qt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=qt(t,e)||e;let f,u=[];for(;e;){if(f=fl.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const S=u.pop();if(!S)break;e=S}}let _=i.getTimezoneOffset();r&&(_=J(r,_),i=function Ct(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(J(e,i)-i))}(i,r,!0));let D="";return u.forEach(S=>{const A=function he(n){if(Z[n])return Z[n];let e;switch(n){case"G":case"GG":case"GGG":e=$t(It.Eras,ae.Abbreviated);break;case"GGGG":e=$t(It.Eras,ae.Wide);break;case"GGGGG":e=$t(It.Eras,ae.Narrow);break;case"y":e=dt(ot.FullYear,1,0,!1,!0);break;case"yy":e=dt(ot.FullYear,2,0,!0,!0);break;case"yyy":e=dt(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=dt(ot.Month,1,1);break;case"MM":case"LL":e=dt(ot.Month,2,1);break;case"MMM":e=$t(It.Months,ae.Abbreviated);break;case"MMMM":e=$t(It.Months,ae.Wide);break;case"MMMMM":e=$t(It.Months,ae.Narrow);break;case"LLL":e=$t(It.Months,ae.Abbreviated,ge.Standalone);break;case"LLLL":e=$t(It.Months,ae.Wide,ge.Standalone);break;case"LLLLL":e=$t(It.Months,ae.Narrow,ge.Standalone);break;case"w":e=H(1);break;case"ww":e=H(2);break;case"W":e=H(1,!0);break;case"d":e=dt(ot.Date,1);break;case"dd":e=dt(ot.Date,2);break;case"c":case"cc":e=dt(ot.Day,1);break;case"ccc":e=$t(It.Days,ae.Abbreviated,ge.Standalone);break;case"cccc":e=$t(It.Days,ae.Wide,ge.Standalone);break;case"ccccc":e=$t(It.Days,ae.Narrow,ge.Standalone);break;case"cccccc":e=$t(It.Days,ae.Short,ge.Standalone);break;case"E":case"EE":case"EEE":e=$t(It.Days,ae.Abbreviated);break;case"EEEE":e=$t(It.Days,ae.Wide);break;case"EEEEE":e=$t(It.Days,ae.Narrow);break;case"EEEEEE":e=$t(It.Days,ae.Short);break;case"a":case"aa":case"aaa":e=$t(It.DayPeriods,ae.Abbreviated);break;case"aaaa":e=$t(It.DayPeriods,ae.Wide);break;case"aaaaa":e=$t(It.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=$t(It.DayPeriods,ae.Abbreviated,ge.Standalone,!0);break;case"bbbb":e=$t(It.DayPeriods,ae.Wide,ge.Standalone,!0);break;case"bbbbb":e=$t(It.DayPeriods,ae.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=$t(It.DayPeriods,ae.Abbreviated,ge.Format,!0);break;case"BBBB":e=$t(It.DayPeriods,ae.Wide,ge.Format,!0);break;case"BBBBB":e=$t(It.DayPeriods,ae.Narrow,ge.Format,!0);break;case"h":e=dt(ot.Hours,1,-12);break;case"hh":e=dt(ot.Hours,2,-12);break;case"H":e=dt(ot.Hours,1);break;case"HH":e=dt(ot.Hours,2);break;case"m":e=dt(ot.Minutes,1);break;case"mm":e=dt(ot.Minutes,2);break;case"s":e=dt(ot.Seconds,1);break;case"ss":e=dt(ot.Seconds,2);break;case"S":e=dt(ot.FractionalSeconds,1);break;case"SS":e=dt(ot.FractionalSeconds,2);break;case"SSS":e=dt(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Me(Jt.Short);break;case"ZZZZZ":e=Me(Jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Me(Jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Me(Jt.Long);break;default:return null}return Z[n]=e,e}(S);D+=A?A(i,t,_):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function vs(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qt(n,e){const t=function dn(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(yo[t]=yo[t]||{},yo[t][e])return yo[t][e];let r="";switch(e){case"shortDate":r=yn(n,xe.Short);break;case"mediumDate":r=yn(n,xe.Medium);break;case"longDate":r=yn(n,xe.Long);break;case"fullDate":r=yn(n,xe.Full);break;case"shortTime":r=Vs(n,xe.Short);break;case"mediumTime":r=Vs(n,xe.Medium);break;case"longTime":r=Vs(n,xe.Long);break;case"fullTime":r=Vs(n,xe.Full);break;case"short":const i=qt(n,"shortTime"),l=qt(n,"shortDate");r=na(hn(n,xe.Short),[i,l]);break;case"medium":const u=qt(n,"mediumTime"),f=qt(n,"mediumDate");r=na(hn(n,xe.Medium),[u,f]);break;case"long":const _=qt(n,"longTime"),D=qt(n,"longDate");r=na(hn(n,xe.Long),[_,D]);break;case"full":const S=qt(n,"fullTime"),A=qt(n,"fullDate");r=na(hn(n,xe.Full),[S,A])}return r&&(yo[t][e]=r),r}function na(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function $r(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let u=String(n);for(;u.length<e;)u="0"+u;return r&&(u=u.substr(u.length-e)),l+u}function dt(n,e,t=0,r=!1,i=!1){return function(l,u){let f=function Zr(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===ot.Hours)0===f&&-12===t&&(f=12);else if(n===ot.FractionalSeconds)return function Lr(n,e){return $r(n,3).substr(0,e)}(f,e);const _=Kt(u,ue.MinusSign);return $r(f,e,_,r,i)}}function $t(n,e,t=ge.Format,r=!1){return function(i,l){return function Ke(n,e,t,r,i,l){switch(t){case It.Months:return function Dt(n,e,t){const r=(0,s.cg1)(n),l=Cr([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return Cr(l,t)}(e,i,r)[n.getMonth()];case It.Days:return function lt(n,e,t){const r=(0,s.cg1)(n),l=Cr([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return Cr(l,t)}(e,i,r)[n.getDay()];case It.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(l){const D=function Us(n){const e=(0,s.cg1)(n);return Bs(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?gr(r):[gr(r[0]),gr(r[1])])}(e),S=function ut(n,e,t){const r=(0,s.cg1)(n);Bs(r);const l=Cr([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return Cr(l,t)||[]}(e,i,r),A=D.findIndex(R=>{if(Array.isArray(R)){const[B,$]=R,ee=u>=B.hours&&f>=B.minutes,_e=u<$.hours||u===$.hours&&f<$.minutes;if(B.hours<$.hours){if(ee&&_e)return!0}else if(ee||_e)return!0}else if(R.hours===u&&R.minutes===f)return!0;return!1});if(-1!==A)return S[A]}return function Jn(n,e,t){const r=(0,s.cg1)(n),l=Cr([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return Cr(l,t)}(e,i,r)[u<12?0:1];case It.Eras:return function Dn(n,e){return Cr((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Me(n){return function(e,t,r){const i=-1*r,l=Kt(t,ue.MinusSign),u=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Jt.Short:return(i>=0?"+":"")+$r(u,2,l)+$r(Math.abs(i%60),2,l);case Jt.ShortGMT:return"GMT"+(i>=0?"+":"")+$r(u,1,l);case Jt.Long:return"GMT"+(i>=0?"+":"")+$r(u,2,l)+":"+$r(Math.abs(i%60),2,l);case Jt.Extended:return 0===r?"Z":(i>=0?"+":"")+$r(u,2,l)+":"+$r(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ht(n){return vs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function H(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();i=1+Math.floor((u+l)/7)}else{const l=Ht(t),u=function Gt(n){const e=vs(n,0,1).getDay();return vs(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),f=l.getTime()-u.getTime();i=1+Math.round(f/6048e5)}return $r(i,n,Kt(r,ue.MinusSign))}}function V(n,e=!1){return function(t,r){return $r(Ht(t).getFullYear(),n,Kt(r,ue.MinusSign),e)}}const Z={};function J(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Qt(n){return n instanceof Date&&!isNaN(n.valueOf())}let ws=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class wo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wo(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,u),js(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{js(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function js(n,e){n.context.$implicit=e.item}let Wt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function zl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class Kl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let vi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ri=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Kl(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(vi,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function ar(n,e){return new s.vHH(2100,"")}class Vd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class yg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const $s=new yg,vg=new Vd;let Fn=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,s.QGY)(t))return $s;if((0,s.F4k)(t))return vg;throw ar()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})();const wg=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ud=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,l){var u;if(null==t||""===t||t!=t)return null;try{return Or(t,r,l||this.locale,null!==(u=null!=i?i:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(f){throw ar()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16),s.Y36(wg,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Eo="browser";function qr(n){return n===Eo}function Rr(n){return"server"===n}let rc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new ic((0,s.LFG)(se),window)}),n})();class ic{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Zs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class So extends class Ra extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new So)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $d(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function aa(n){oa=oa||document.createElement("a"),oa.setAttribute("href",n);const e=oa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Oa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let oa,wn=null;const Wr=new s.OlP("TRANSITION_ID"),vl=[{provide:s.ip1,useFactory:function Xn(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Wr,se,s.zs3],multi:!0}];class ns{static init(){(0,s.VLi)(new ns)}addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let l=i.length,u=!1;const f=function(_){u=u||_,l--,0==l&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Mo=new s.OlP("EventManagerPlugins");let Gs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const u=i[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Mo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class sc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Di=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Io=(()=>{class n extends Di{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ao),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ao))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ao(n){N().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oc=/%COMP%/g;function Te(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Te(n,i,t):(i=i.replace(oc,n),t.push(i))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Pa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _u(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new yu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Te(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Gs),s.LFG(Io),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Pa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ft[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ft[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(r)):this.eventManager.addEventListener(e,t,jt(r))}}class _u extends Pa{constructor(e,t,r,i){super(e),this.component=r;const l=Te(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function pu(n){return"_ngcontent-%COMP%".replace(oc,n)}(i+"-"+r.id),this.hostAttr=function mu(n){return"_nghost-%COMP%".replace(oc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yu extends Pa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Te(i.id,i.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Zd=(()=>{class n extends sc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vu=["alt","control","meta","shift"],ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dc=(()=>{class n extends sc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),u=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let u="";if(vu.forEach(_=>{const D=r.indexOf(_);D>-1&&(r.splice(D,1),u+=_+".")}),u+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function xo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Pr.hasOwnProperty(e)&&(e=Pr[e]))}return ko[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vu.forEach(l=>{l!=i&&Vi[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const wu=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Eo},{provide:s.g9A,useValue:function rs(){So.makeCurrent(),ns.init()},multi:!0},{provide:se,useFactory:function hc(){return(0,s.RDi)(document),document},deps:[]}]),wl=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function bu(){return new s.qLn},deps:[]},{provide:Mo,useClass:Zd,multi:!0,deps:[se,s.R0b,s.Lbi]},{provide:Mo,useClass:dc,multi:!0,deps:[se]},{provide:Nn,useClass:Nn,deps:[Gs,Io,s.AFp]},{provide:s.FYo,useExisting:Nn},{provide:Di,useExisting:Io},{provide:Io,useClass:Io,deps:[se]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Gs,useClass:Gs,deps:[Mo,s.R0b]},{provide:class kn{},useClass:zr,deps:[]}];let Va=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:Wr,useExisting:s.AFp},vl]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:wl,imports:[Nt,s.hGG]}),n})();"undefined"!=typeof window&&window;var er=L(8996),tr=L(3269);function pt(...n){const e=(0,tr.yG)(n);return(0,er.D)(n,e)}var Un=L(7579);class cr extends Un.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Sr=L(8306);const{isArray:Ua}=Array,{getPrototypeOf:eh,prototype:In,keys:qf}=Object;function is(n){if(1===n.length){const e=n[0];if(Ua(e))return{args:e,keys:null};if(function mc(n){return n&&"object"==typeof n&&eh(n)===In}(e)){const t=qf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Bi=L(4671),vt=L(4004);const{isArray:th}=Array;function ku(n){return(0,vt.U)(e=>function Au(n,e){return th(e)?n(...e):n(e)}(n,e))}function ha(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var qn=L(5403),zs=L(9672);function fa(...n){const e=(0,tr.yG)(n),t=(0,tr.jO)(n),{args:r,keys:i}=is(n);if(0===r.length)return(0,er.D)([],e);const l=new Sr.y(function Ui(n,e,t=Bi.y){return r=>{No(e,()=>{const{length:i}=n,l=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)No(e,()=>{const D=(0,er.D)(n[_],e);let S=!1;D.subscribe((0,qn.x)(r,A=>{l[_]=A,S||(S=!0,f--),f||r.next(t(l.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>ha(i,u):Bi.y));return t?l.pipe(ku(t)):l}function No(n,e,t){n?(0,zs.f)(t,n,e):e()}var Hi=L(576);function Ds(n,e){const t=(0,Hi.m)(n)?n:()=>n,r=i=>i.error(t());return new Sr.y(e?i=>e.schedule(r,0,i):r)}const Ro=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Cs=L(8189);function nh(...n){return function Ou(){return(0,Cs.J)(1)}()((0,er.D)(n,(0,tr.yG)(n)))}var Po=L(8421);function ss(n){return new Sr.y(e=>{(0,Po.Xf)(n()).subscribe(e)})}var Ha=L(515),ji=L(727),Fr=L(4482);function os(){return(0,Fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rh extends Sr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ji.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ji.w0.EMPTY)}return e}refCount(){return os()(this)}}function sn(n,e){return(0,Fr.e)((t,r)=>{let i=null,l=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,qn.x)(r,_=>{null==i||i.unsubscribe();let D=0;const S=l++;(0,Po.Xf)(n(_,S)).subscribe(i=(0,qn.x)(r,A=>r.next(e?e(_,A,S,D++):A),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var Ks=L(5698);function Ti(...n){const e=(0,tr.yG)(n);return(0,Fr.e)((t,r)=>{(e?nh(n,t,e):nh(n,t)).subscribe(r)})}function ja(n,e,t,r,i){return(l,u)=>{let f=t,_=e,D=0;l.subscribe((0,qn.x)(u,S=>{const A=D++;_=f?n(_,S,A):(f=!0,S),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}function Vr(n,e){return(0,Fr.e)(ja(n,e,arguments.length>=2,!0))}function xn(n,e){return(0,Fr.e)((t,r)=>{let i=0;t.subscribe((0,qn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function Ts(n){return(0,Fr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,qn.x)(t,void 0,void 0,u=>{l=(0,Po.Xf)(n(u,Ts(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Hn=L(5577);function Fo(n,e){return(0,Hi.m)(e)?(0,Hn.z)(n,e,1):(0,Hn.z)(n,1)}function ih(n){return n<=0?()=>Ha.E:(0,Fr.e)((e,t)=>{let r=[];e.subscribe((0,qn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wn(n=Eg){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Eg(){return new Ro}function Sg(n){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,l)=>n(i,l,r)):Bi.y,(0,Ks.q)(1),t?Sg(e):Wn(()=>new Ro))}var Ei=L(8505);class Bo{constructor(e,t){this.id=e,this.url=t}}class Js extends Bo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends Bo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jn extends Bo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lu extends Bo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pa extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sh extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cl extends Bo{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mr extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class as{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ma{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oh{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ag{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class Xs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nr(n){return new Xs(n)}const _c="ngNavigationCancelingError";function Uo(n){const e=Error("NavigationCancelingError: "+n);return e[_c]=!0,e}function ah(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const u=r[l],f=n[l];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function to(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Nu(n[i],e[i]))return!1;return!0}function Nu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function El(n){return Array.prototype.concat.apply([],n)}function lh(n){return n.length>0?n[n.length-1]:null}function yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function T(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,er.D)(Promise.resolve(n)):pt(n)}const x={exact:function ke(n,e,t){if(!ls(n.segments,e.segments)||!Ut(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ke(n.children[r],e.children[r],t))return!1;return!0},subset:At},F={exact:function re(n,e){return to(n,e)},subset:function Qe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Nu(n[t],e[t]))},ignored:()=>!0};function W(n,e,t){return x[t.paths](n.root,e.root,t.matrixParams)&&F[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function At(n,e,t){return Mt(n,e,e.segments,t)}function Mt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ls(i,t)||e.hasChildren()||!Ut(i,t,r))}if(n.segments.length===t.length){if(!ls(n.segments,t)||!Ut(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!At(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ls(n.segments,i)&&Ut(n.segments,i,r)&&n.children[Zt])&&Mt(n.children[Zt],e,l,r)}}function Ut(n,e,t){return e.every((r,i)=>F[t](n[i].parameters,r.parameters))}class Tt{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return vc.serialize(this)}}class Et{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ru(this)}}class Yt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return Ml(this)}}function ls(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class si{}class Es{parse(e){const t=new uh(e);return new Tt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jo(e.root,!0)}`,r=function Mv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wc(t)}=${wc(i)}`).join("&"):`${wc(t)}=${wc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Dc(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vc=new Es;function Ru(n){return n.segments.map(e=>Ml(e)).join("/")}function jo(n,e){if(!n.hasChildren())return Ru(n);if(e){const t=n.children[Zt]?jo(n.children[Zt],!1):"",r=[];return yr(n.children,(i,l)=>{l!==Zt&&r.push(`${l}:${jo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ga(n,e){let t=[];return yr(n.children,(r,i)=>{i===Zt&&(t=t.concat(e(r,i)))}),yr(n.children,(r,i)=>{i!==Zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Zt?[jo(n.children[Zt],!1)]:[`${i}:${jo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${Ru(n)}/${t[0]}`:`${Ru(n)}/(${t.join("//")})`}}function bc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(n){return bc(n).replace(/%3B/gi,";")}function ch(n){return bc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(n){return decodeURIComponent(n)}function Fu(n){return Pu(n.replace(/\+/g,"%20"))}function Ml(n){return`${ch(n.path)}${function kg(n){return Object.keys(n).map(e=>`;${ch(e)}=${ch(n[e])}`).join("")}(n.parameters)}`}const Iv=/^[^\/()?;=#]+/;function no(n){const e=n.match(Iv);return e?e[0]:""}const Vu=/^[^=?&#]+/,kv=/^[^&#]+/;class uh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new Et(e,t)),r}parseSegment(){const e=no(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yt(Pu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=no(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=no(this.remaining);i&&(r=i,this.capture(r))}e[Pu(t)]=Pu(r)}parseQueryParam(e){const t=function Av(n){const e=n.match(Vu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function xg(n){const e=n.match(kv);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Fu(t),l=Fu(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=no(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Zt);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[Zt]:new Et([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=zf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Kf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kf(e,this._root).map(t=>t.value)}}function zf(n,e){if(n===e.value)return e;for(const t of e.children){const r=zf(n,t);if(r)return r}return null}function Kf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Kf(n,t);if(r.length)return r.unshift(e),r}return[]}class _a{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dh extends xv{constructor(e,t){super(e),this.snapshot=t,fh(this,e)}toString(){return this.snapshot.toString()}}function Il(n,e){const t=function Ov(n,e){const u=new Cc([],{},{},"",{},Zt,e,null,n.root,-1,{});return new Jf("",new _a(u,[]))}(n,e),r=new cr([new Yt("",{})]),i=new cr({}),l=new cr({}),u=new cr({}),f=new cr(""),_=new Ya(r,i,u,f,l,Zt,e,t.root);return _.snapshot=t.root,new dh(new _a(_,[]),t)}class Ya{constructor(e,t,r,i,l,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>nr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>nr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function hh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cc{constructor(e,t,r,i,l,u,f,_,D,S,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=S,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jf extends xv{constructor(e,t){super(t),this.url=e,fh(this,t)}toString(){return ph(this._root)}}function fh(n,e){e.value._routerState=n,e.children.forEach(t=>fh(n,t))}function ph(n){const e=n.children.length>0?` { ${n.children.map(ph).join(", ")} } `:"";return`${n.value}${e}`}function mh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,to(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),to(e.params,t.params)||n.params.next(t.params),function eo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!to(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),to(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Qf(n,e){const t=to(n.params,e.params)&&function Sl(n,e){return ls(n,e)&&n.every((t,r)=>to(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Qf(n.parent,e.parent))}function Bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Xf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bu(n,r,i);return Bu(n,r)})}(n,e,t);return new _a(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Bu(n,f)),u}}const r=function Rv(n){return new Ya(new cr(n.url),new cr(n.params),new cr(n.queryParams),new cr(n.fragment),new cr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Bu(n,l));return new _a(r,i)}}function $a(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tc(n){return"object"==typeof n&&null!=n&&n.outlets}function Og(n,e,t,r,i){let l={};if(r&&yr(r,(f,_)=>{l[_]=Array.isArray(f)?f.map(D=>`${D}`):`${f}`}),n===e)return new Tt(t,l,i);const u=ep(n,e,t);return new Tt(u,l,i)}function ep(n,e,t){const r={};return yr(n.children,(i,l)=>{r[l]=i===e?t:ep(i,e,t)}),new Et(n.segments,r)}class Pv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$a(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Tc);if(i&&i!==lh(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uv(n,e,t){if(n||(n=new Et([],{})),0===n.segments.length&&n.hasChildren())return $o(n,e,t);const r=function MD(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const u=n.segments[i],f=t[r];if(Tc(f))break;const _=`${f}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!cs(_,D,u))return l;r+=2}else{if(!cs(_,{},u))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Et(n.segments.slice(0,r.pathIndex),{});return l.children[Zt]=new Et(n.segments.slice(r.pathIndex),n.children),$o(l,0,i)}return r.match&&0===i.length?new Et(n.segments,{}):r.match&&!n.hasChildren()?np(n,e,t):r.match?$o(n,0,i):np(n,e,t)}function $o(n,e,t){if(0===t.length)return new Et(n.segments,{});{const r=function Bv(n){return Tc(n[0])?n[0].outlets:{[Zt]:n}}(t),i={};return yr(r,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Uv(n.children[u],e,l))}),yr(n.children,(l,u)=>{void 0===r[u]&&(i[u]=l)}),new Et(n.segments,i)}}function np(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Tc(l)){const _=Ec(l.outlets);return new Et(r,_)}if(0===i&&$a(t[0])){r.push(new Yt(n.segments[e].path,rp(t[0]))),i++;continue}const u=Tc(l)?l.outlets[Zt]:`${l}`,f=i<t.length-1?t[i+1]:null;u&&f&&$a(f)?(r.push(new Yt(u,rp(f))),i+=2):(r.push(new Yt(u,{})),i++)}return new Et(r,{})}function Ec(n){const e={};return yr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=np(new Et([],{}),0,t))}),e}function rp(n){const e={};return yr(n,(t,r)=>e[r]=`${t}`),e}function cs(n,e,t){return n==t.path&&to(e,t.parameters)}class Ng{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,i[u],r),delete i[u]}),yr(i,(l,u)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=ya(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=ya(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Ag(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ma(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(mh(i),i===l)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),mh(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function gh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=_,u.outlet&&u.outlet.activateWith(i,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class _h{constructor(e,t){this.routes=e,this.module=t}}function Al(n){return"function"==typeof n}function Sc(n){return n instanceof Tt}const Hu=Symbol("INITIAL_VALUE");function Za(){return sn(n=>fa(n.map(e=>e.pipe((0,Ks.q)(1),Ti(Hu)))).pipe(Vr((e,t)=>{let r=!1;return t.reduce((i,l,u)=>i!==Hu?i:(l===Hu&&(r=!0),r||!1!==l&&u!==t.length-1&&!Sc(l)?i:l),e)},Hu),xn(e=>e!==Hu),(0,vt.U)(e=>Sc(e)?e:!0===e),(0,Ks.q)(1)))}class Hv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ju,this.attachRef=null}}class ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Mc=(()=>{class n{constructor(t,r,i,l,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=l||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new ap(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ju),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ap{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ya?this.route:e===ju?this.childContexts:this.parent.get(e,t)}}let lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},directives:[Mc],encapsulation:2}),n})();function Yu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];yh(r,cp(e,r))}}function yh(n,e){n.children&&Yu(n.children,e)}function cp(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function up(n){const e=n.children&&n.children.map(up),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=lp),t}function pn(n){return n.outlet||Zt}function dp(n,e){const t=n.filter(r=>pn(r)===e);return t.push(...n.filter(r=>pn(r)!==e)),t}const Pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ic(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Pg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||ah)(t,n,e);if(!l)return Object.assign({},Pg);const u={};yr(l.posParams,(_,D)=>{u[D]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function $u(n,e,t,r,i="corrected"){if(t.length>0&&function Yv(n,e,t){return t.some(r=>bh(n,e,r)&&pn(r)!==Zt)}(n,t,r)){const u=new Et(e,function vh(n,e,t,r){const i={};i[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&pn(l)!==Zt){const u=new Et([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[pn(l)]=u}return i}(n,e,r,new Et(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Fg(n,e,t){return t.some(r=>bh(n,e,r))}(n,t,r)){const u=new Et(n.segments,function jv(n,e,t,r,i,l){const u={};for(const f of r)if(bh(n,t,f)&&!i[pn(f)]){const _=new Et([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,u[pn(f)]=_}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const l=new Et(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function bh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $v(n,e,t,r){return!!(pn(n)===r||r!==Zt&&bh(e,t,n))&&("**"===n.path||Ic(e,n,t).matched)}function Zv(n,e,t){return 0===e.length&&!n.children[t]}class Ga{constructor(e){this.segmentGroup=e||null}}class Jr{constructor(e){this.urlTree=e}}function va(n){return Ds(new Ga(n))}function Zu(n){return Ds(new Jr(n))}class fp{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}apply(){const e=$u(this.urlTree.root,[],[],this.config).segmentGroup,t=new Et(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,vt.U)(l=>this.createUrlTree(xl(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ts(l=>{if(l instanceof Jr)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Ga?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,vt.U)(i=>this.createUrlTree(xl(i),e.queryParams,e.fragment))).pipe(Ts(i=>{throw i instanceof Ga?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Et([],{[Zt]:e}):e;return new Tt(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(l=>new Et([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,er.D)(i).pipe(Fo(l=>{const u=r.children[l],f=dp(t,l);return this.expandSegmentGroup(e,f,u,l).pipe((0,vt.U)(_=>({segment:_,outlet:l})))}),Vr((l,u)=>(l[u.outlet]=u.segment,l),{}),function Mg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,l)=>n(i,l,r)):Bi.y,ih(1),t?Sg(e):Wn(()=>new Ro))}())}expandSegment(e,t,r,i,l,u){return(0,er.D)(r).pipe(Fo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,u).pipe(Ts(D=>{if(D instanceof Ga)return pt(null);throw D}))),Vo(f=>!!f),Ts((f,_)=>{if(f instanceof Ro||"EmptyError"===f.name)return Zv(t,i,l)?pt(new Et([],{})):va(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,u,f){return $v(i,t,l,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u):va(t):va(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Zu(l):this.lineralizeSegments(r,l).pipe((0,Hn.z)(u=>{const f=new Et(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){const{matched:f,consumedSegments:_,remainingSegments:D,positionalParamSegments:S}=Ic(t,i,l);if(!f)return va(t);const A=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?Zu(A):this.lineralizeSegments(i,A).pipe((0,Hn.z)(R=>this.expandSegment(e,t,r,R.concat(D),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vt.U)(A=>(r._loadedConfig=A,new Et(i,{})))):pt(new Et(i,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=Ic(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,Hn.z)(S=>{const A=S.module,R=S.routes,{segmentGroup:B,slicedSegments:$}=$u(t,f,_,R),ee=new Et(B.segments,B.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(A,R,ee).pipe((0,vt.U)(We=>new Et(f,We)));if(0===R.length&&0===$.length)return pt(new Et(f,{}));const _e=pn(r)===l;return this.expandSegment(A,ee,R,$,_e?Zt:l,!0).pipe((0,vt.U)(Oe=>new Et(f.concat(Oe.segments),Oe.children)))})):va(t)}getChildConfig(e,t,r){return t.children?pt(new _h(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Hn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,vt.U)(l=>(t._loadedConfig=l,l))):function oi(n){return Ds(Uo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):pt(new _h([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?pt(i.map(u=>{const f=e.get(u);let _;if(function ip(n){return n&&Al(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Al(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return T(_)})).pipe(Za(),(0,Ei.b)(u=>{if(!Sc(u))return;const f=Uo(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,vt.U)(u=>!0===u)):pt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pt(r);if(i.numberOfChildren>1||!i.children[Zt])return Ds(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Tt(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let u={};return yr(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new Et(l,u)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function xl(n){const e={};for(const r of Object.keys(n.children)){const l=xl(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function us(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new Et(n.segments.concat(e.segments),e.children)}return n}(new Et(n.segments,e))}class Vg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ol{constructor(e,t){this.component=e,this.route=t}}function mp(n,e,t){const r=n._root;return Yi(r,e?e._root:null,t,[r.value])}function Gu(n,e,t){const r=function Gv(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Yi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=ya(e);return n.children.forEach(u=>{(function Ug(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const _=function qv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ls(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ls(n.url,e.url)||!to(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qf(n,e)||!to(n.queryParams,e.queryParams);default:return!Qf(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Vg(r)):(l.data=u.data,l._resolvedData=u._resolvedData),Yi(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ol(f.outlet.component,u))}else u&&Ll(e,f,i),i.canActivateChecks.push(new Vg(r)),Yi(n,null,l.component?f?f.children:null:t,r,i)})(u,l[u.value.outlet],t,r.concat([u.value]),i),delete l[u.value.outlet]}),yr(l,(u,f)=>Ll(u,t.getContext(f),i)),i}function Ll(n,e,t){const r=ya(n),i=n.value;yr(r,(l,u)=>{Ll(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ol(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class yp{}function vp(n){return new Sr.y(e=>e.error(n))}class bp{constructor(e,t,r,i,l,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const e=$u(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const r=new Cc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _a(r,t),l=new Jf(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Lv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const u=t.children[l],f=dp(e,l),_=this.processSegmentGroup(f,u,l);if(null===_)return null;r.push(..._)}const i=Yg(r);return function Jv(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const u=this.processSegmentAgainstRoute(l,t,r,i);if(null!==u)return u}return Zv(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!$v(e,t,r,i))return null;let l,u=[],f=[];if("**"===e.path){const B=r.length>0?lh(r).parameters:{};l=new Cc(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),pn(e),e.component,e,p(t),g(t)+r.length,M(e))}else{const B=Ic(t,e,r);if(!B.matched)return null;u=B.consumedSegments,f=B.remainingSegments,l=new Cc(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),pn(e),e.component,e,p(t),g(t)+u.length,M(e))}const _=function Qv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:S}=$u(t,u,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&D.hasChildren()){const B=this.processChildren(_,D);return null===B?null:[new _a(l,B)]}if(0===_.length&&0===S.length)return[new _a(l,[])];const A=pn(e)===i,R=this.processSegment(_,D,S,A?Zt:i);return null===R?null:[new _a(l,R)]}}function jg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Yg(n){const e=[],t=new Set;for(const r of n){if(!jg(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Yg(r.children);e.push(new _a(r.value,i))}return e.filter(r=>!t.has(r))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function M(n){return n.resolve||{}}function Xe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return sn(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,vt.U)(()=>e)):pt(e)})}class Wu extends class Ss{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ac=new s.OlP("ROUTES");class kc{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,vt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=l.create(e);return new _h(El(u.injector.get(Ac,void 0,s.XFs.Self|s.XFs.Optional)).map(up),u)}),Ts(l=>{throw t._loader$=void 0,l}));return t._loader$=new rh(i,()=>new Un.x).pipe(os()),t._loader$}loadModuleFactory(e){return T(e()).pipe((0,Hn.z)(t=>t instanceof s.YKP?pt(t):(0,er.D)(this.compiler.compileModuleAsync(t))))}}class Xv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function qa(n){throw n}function wh(n,e,t){return e.parse("/")}function Dh(n,e){return pt(null)}const Dp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ch={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class n{constructor(t,r,i,l,u,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Un.x,this.errorHandler=qa,this.malformedUriErrorHandler=wh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dh,afterPreactivation:Dh},this.urlHandlingStrategy=new Xv,this.routeReuseStrategy=new Wu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const A=u.get(s.R0b);this.isNgZoneEnabled=A instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function E(){return new Tt(new Et([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kc(u,f,R=>this.triggerEvent(new Tl(R)),R=>this.triggerEvent(new Qs(R))),this.routerState=Il(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xn(i=>0!==i.id),(0,vt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sn(i=>{let l=!1,u=!1;return pt(i).pipe((0,Ei.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sn(f=>{const _=this.browserUrlTree.toString(),D=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return $g(f.source)&&(this.browserUrlTree=f.extractedUrl),pt(f).pipe(sn(A=>{const R=this.transitions.getValue();return r.next(new Js(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),R!==this.transitions.getValue()?Ha.E:Promise.resolve(A)}),function pp(n,e,t,r){return sn(i=>function kl(n,e,t,r,i){return new fp(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,vt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ei.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function O(n,e,t,r,i){return(0,Hn.z)(l=>function Kv(n,e,t,r,i="emptyOnly",l="legacy"){try{const u=new bp(n,e,t,r,i,l).recognize();return null===u?vp(new yp):pt(u)}catch(u){return vp(u)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,vt.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ei.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const R=new pa(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(R)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:B,source:$,restoredState:ee,extras:_e}=f,Ve=new Js(R,this.serializeUrl(B),$,ee);r.next(Ve);const Oe=Il(B,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},f),{targetSnapshot:Oe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ha.E}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!B})}),(0,Ei.b)(f=>{const _=new sh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,vt.U)(f=>Object.assign(Object.assign({},f),{guards:mp(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Wv(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?pt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Hg(n,e,t,r){return(0,er.D)(n).pipe((0,Hn.z)(i=>function qu(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?pt(l.map(f=>{const _=Gu(f,e,i);let D;if(function ID(n){return n&&Al(n.canDeactivate)}(_))D=T(_.canDeactivate(n,e,t,r));else{if(!Al(_))throw new Error("Invalid CanDeactivate guard");D=T(_(n,e,t,r))}return D.pipe(Vo())})).pipe(Za()):pt(!0)}(i.component,i.route,t,e,r)),Vo(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Hn.z)(f=>f&&function Rg(n){return"boolean"==typeof n}(f)?function Qr(n,e,t,r){return(0,er.D)(e).pipe(Fo(i=>nh(function _p(n,e){return null!==n&&e&&e(new as(n)),pt(!0)}(i.route.parent,r),function gp(n,e){return null!==n&&e&&e(new oh(n)),pt(!0)}(i.route,r),function ba(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function Bg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ss(()=>pt(u.guards.map(_=>{const D=Gu(_,u.node,t);let S;if(function op(n){return n&&Al(n.canActivateChild)}(D))S=T(D.canActivateChild(r,n));else{if(!Al(D))throw new Error("Invalid CanActivateChild guard");S=T(D(r,n))}return S.pipe(Vo())})).pipe(Za())));return pt(l).pipe(Za())}(n,i.path,t),function zv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const i=r.map(l=>ss(()=>{const u=Gu(l,e,t);let f;if(function sp(n){return n&&Al(n.canActivate)}(u))f=T(u.canActivate(e,n));else{if(!Al(u))throw new Error("Invalid CanActivate guard");f=T(u(e,n))}return f.pipe(Vo())}));return pt(i).pipe(Za())}(n,i.route,t))),Vo(i=>!0!==i,!0))}(r,l,n,e):pt(f)),(0,vt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ei.b)(f=>{if(Sc(f.guardsResult)){const D=Uo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw D.url=f.guardsResult,D}const _=new Cl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),at(f=>{if(f.guards.canActivateChecks.length)return pt(f).pipe((0,Ei.b)(_=>{const D=new Mr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),sn(_=>{let D=!1;return pt(_).pipe(function G(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pt(t);let l=0;return(0,er.D)(i).pipe(Fo(u=>function ce(n,e,t,r){return function Ue(n,e,t,r){const i=Xe(n);if(0===i.length)return pt({});const l={};return(0,er.D)(i).pipe((0,Hn.z)(u=>function St(n,e,t,r){const i=Gu(n,e,r);return T(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,Ei.b)(f=>{l[u]=f}))),ih(1),(0,Hn.z)(()=>Xe(l).length===i.length?pt(l):Ha.E))}(n._resolve,n,e,r).pipe((0,vt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Lv(n,t).resolve),null)))}(u.route,r,n,e)),(0,Ei.b)(()=>l++),ih(1),(0,Hn.z)(u=>l===i.length?pt(t):Ha.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ei.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Ei.b)(_=>{const D=new ii(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!B})}),(0,vt.U)(f=>{const _=function Nv(n,e,t){const r=Bu(n,e._root,t?t._root:void 0);return new dh(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Ei.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new Ng(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ei.b)({next(){l=!0},complete(){l=!0}}),function Ig(n){return(0,Fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Ts(f=>{if(u=!0,function Ho(n){return n&&n[_c]}(f)){const _=Sc(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const D=new jn(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(D),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$g(i.source)};this.scheduleNavigation(S,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Lu(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return Ha.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Yu(t),this.config=t.map(up),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,D=i||this.routerState.root,S=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function Yo(n,e,t,r,i){if(0===t.length)return Og(e.root,e.root,e.root,r,i);const l=function Fv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return yr(l.outlets,(_,D)=>{f[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===u?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new Pv(t,e,r)}(t);if(l.toRoot())return Og(e.root,e.root,new Et([],{}),r,i);const u=function Lg(n,e,t){if(n.isAbsolute)return new tp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new tp(l,l===e.root,0)}const r=$a(n.commands[0])?0:1;return function Vv(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new tp(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=u.processChildren?$o(u.segmentGroup,u.index,l.commands):Uv(u.segmentGroup,u.index,l.commands);return Og(e.root,u.segmentGroup,f,r,i)}(D,this.currentUrlTree,t,A,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Sc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Cp(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Dp):!1===r?Object.assign({},Ch):r,Sc(t))return W(this.currentUrlTree,t,i);const l=this.parseUrl(t);return W(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,u){var f,_;if(this.disposed)return Promise.resolve(!1);let D,S,A;u?(D=u.resolve,S=u.reject,A=u.promise):A=new Promise(($,ee)=>{D=$,S=ee});const R=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:R,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:D,reject:S,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new jn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function $g(n){return"imperative"!==n}let Zg=(()=>{class n{constructor(t,r,i,l,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=u,this.commands=null,this.onChanges=new Un.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Th(this.skipLocationChange),replaceUrl:Th(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Th(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Si),s.Y36(Ya),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),ai=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Un.x,this.subscription=t.events.subscribe(l=>{l instanceof gc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,u){if(0!==t||r||i||l||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Th(this.skipLocationChange),replaceUrl:Th(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Th(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Si),s.Y36(Ya),s.Y36(fe))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&s.uIk("target",r.target)("href",r.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function Th(n){return""===n||!!n}class t0{}class kD{preload(e,t){return pt(null)}}let xD=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new kc(i,r,_=>t.triggerEvent(new Tl(_)),_=>t.triggerEvent(new Qs(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(xn(t=>t instanceof gc),Fo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(s.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,er.D)(i).pipe((0,Cs.J)(),(0,vt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Hn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Si),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(t0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Gg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Wf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ro=new s.OlP("ROUTER_CONFIGURATION"),r0=new s.OlP("ROUTER_FORROOT_GUARD"),OD=[be,{provide:si,useClass:Es},{provide:Si,useFactory:function o0(n,e,t,r,i,l,u={},f,_){const D=new Si(null,n,e,t,r,i,El(l));return f&&(D.urlHandlingStrategy=f),_&&(D.routeReuseStrategy=_),function RD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,D),u.enableTracing&&D.events.subscribe(S=>{var A,R;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(R=console.groupEnd)||void 0===R||R.call(console)}),D},deps:[si,ju,be,s.zs3,s.Sil,Ac,ro,[class wp{},new s.FiY],[class zn{},new s.FiY]]},ju,{provide:Ya,useFactory:function qg(n){return n.routerState.root},deps:[Si]},xD,kD,class n0{preload(e,t){return t().pipe(Ts(()=>pt(null)))}},{provide:ro,useValue:{enableTracing:!1}}];function vS(){return new s.PXZ("Router",Si)}let Vn=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[OD,s0(t),{provide:r0,useFactory:ND,deps:[[Si,new s.FiY,new s.tp0]]},{provide:ro,useValue:r||{}},{provide:fe,useFactory:LD,deps:[ie,[new s.tBr(tt),new s.FiY],ro]},{provide:Gg,useFactory:bS,deps:[Si,rc,ro]},{provide:t0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:kD},{provide:s.PXZ,multi:!0,useFactory:vS},[Eh,{provide:s.ip1,multi:!0,useFactory:PD,deps:[Eh]},{provide:l0,useFactory:a0,deps:[Eh]},{provide:s.tb,multi:!0,useExisting:l0}]]}}static forChild(t){return{ngModule:n,providers:[s0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(r0,8),s.LFG(Si,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function bS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Gg(n,e,t)}function LD(n,e,t={}){return t.useHash?new Se(n,e):new ze(n,e)}function ND(n){return"guarded"}function s0(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Ac,multi:!0,useValue:n}]}let Eh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Un.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(Si),u=this.injector.get(ro);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ro),i=this.injector.get(xD),l=this.injector.get(Gg),u=this.injector.get(Si),f=this.injector.get(s.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function PD(n){return n.appInitializer.bind(n)}function a0(n){return n.bootstrapListener.bind(n)}const l0=new s.OlP("Router Initializer"),zg=new s.OlP("GETS_ALL_EVENT_DTO");let VD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),zu=(()=>{class n extends VD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ms=new s.OlP("NgValueAccessor"),uO={provide:Ms,useExisting:(0,s.Gpc)(()=>Mi),multi:!0},wS=new s.OlP("CompositionEventMode");let Mi=(()=>{class n extends VD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BD(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(wS,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[s._Bn([uO]),s.qOj]}),n})();function xc(n){return null==n||0===n.length}function UD(n){return null!=n&&"number"==typeof n.length}const Rn=new s.OlP("NgValidators"),Oc=new s.OlP("NgAsyncValidators"),HD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Br{static min(e){return function jD(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function YD(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function $D(n){return xc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function h0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ZD(n){return xc(n.value)||HD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function GD(n){return e=>xc(e.value)||!UD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qD(n){return e=>UD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Pt(n){if(!n)return Tp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Kg(e)}static composeAsync(e){return Jg(e)}}function Tp(n){return null}function f0(n){return null!=n}function p0(n){const e=(0,s.QGY)(n)?(0,er.D)(n):n;return(0,s.CqO)(e),e}function Ep(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Zo(n,e){return e.map(t=>t(n))}function zD(n){return n.map(e=>function WD(n){return!n.validate}(e)?e:t=>e.validate(t))}function Kg(n){if(!n)return null;const e=n.filter(f0);return 0==e.length?null:function(t){return Ep(Zo(t,e))}}function wa(n){return null!=n?Kg(zD(n)):null}function Jg(n){if(!n)return null;const e=n.filter(f0);return 0==e.length?null:function(t){return function FD(...n){const e=(0,tr.jO)(n),{args:t,keys:r}=is(n),i=new Sr.y(l=>{const{length:u}=t;if(!u)return void l.complete();const f=new Array(u);let _=u,D=u;for(let S=0;S<u;S++){let A=!1;(0,Po.Xf)(t[S]).subscribe((0,qn.x)(l,R=>{A||(A=!0,D--),f[S]=R},()=>_--,void 0,()=>{(!_||!A)&&(D||l.next(r?ha(r,f):f),l.complete())}))}});return e?i.pipe(ku(e)):i}(Zo(t,e).map(p0)).pipe((0,vt.U)(Ep))}}function Qg(n){return null!=n?Jg(zD(n)):null}function Xg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DS(n){return n._rawValidators}function m0(n){return n._rawAsyncValidators}function KD(n){return n?Array.isArray(n)?n:[n]:[]}function Ku(n,e){return Array.isArray(n)?n.includes(e):n===e}function Sp(n,e){const t=KD(e);return KD(n).forEach(i=>{Ku(t,i)||t.push(i)}),t}function e_(n,e){return KD(e).filter(t=>!Ku(n,t))}class t_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wa extends t_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends t_{get formDirective(){return null}get path(){return null}}class JD{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let As=(()=>{class n extends JD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Wa,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[s.qOj]}),n})(),ds=(()=>{class n extends JD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Is,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[s.qOj]}),n})();function Go(n,e){Mp(n,e),e.valueAccessor.writeValue(n.value),function _0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Nl(n,e)})}(n,e),function nC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function TS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Nl(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ip(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function i_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mp(n,e){const t=DS(n);null!==e.validator?n.setValidators(Xg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=m0(n);null!==e.asyncValidator?n.setAsyncValidators(Xg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();i_(e._rawValidators,i),i_(e._rawAsyncValidators,i)}function Ip(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=DS(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=m0(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return i_(e._rawValidators,r),i_(e._rawAsyncValidators,r),t}function Nl(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ih="VALID",kp="INVALID",Nc="PENDING",Xu="DISABLED";function Ah(n){return(xp(n)?n.validators:n)||null}function aC(n){return Array.isArray(n)?wa(n):n||null}function o_(n,e){return(xp(e)?e.asyncValidators:n)||null}function ES(n){return Array.isArray(n)?Qg(n):n||null}function xp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const b0=n=>n instanceof Yn,w0=n=>n instanceof hs;function cC(n){return b0(n)?n.value:n.getRawValue()}function uC(n,e){const t=w0(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[e])throw new s.vHH(1001,"")}function ks(n,e){w0(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new s.vHH(1002,"")})}class D0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aC(this._rawValidators),this._composedAsyncValidatorFn=ES(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ih}get invalid(){return this.status===kp}get pending(){return this.status==Nc}get disabled(){return this.status===Xu}get enabled(){return this.status!==Xu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ES(e)}addValidators(e){this.setValidators(Sp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(e_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(e_(e,this._rawAsyncValidators))}hasValidator(e){return Ku(this._rawValidators,e)}hasAsyncValidator(e){return Ku(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ih,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ih||this.status===Nc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xu:Ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nc,this._hasOwnPendingAsyncValidator=!0;const t=p0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function oC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=w0(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof wO)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Xu:this.errors?kp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nc)?Nc:this._anyControlsHaveStatus(kp)?kp:Ih}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Yn extends D0{constructor(e=null,t,r){super(Ah(t),o_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hs extends D0{constructor(e,t,r){super(Ah(t),o_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ks(this,e),Object.keys(e).forEach(r=>{uC(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=cC(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class wO extends D0{constructor(e,t,r){super(Ah(t),o_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ks(this,e),e.forEach((r,i)=>{uC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>cC(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let fs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const T0=new s.OlP("NgModelWithFormControlWarning"),kS={provide:Is,useExisting:(0,s.Gpc)(()=>$i)};let $i=(()=>{class n extends Is{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ip(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Go(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Sh(t.control||null,t,!1),Qu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function s_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Sh(r||null,t),b0(i)&&(Go(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function rC(n,e){Mp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function y0(n,e){return Ip(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mp(this.form,this),this._oldForm&&Ip(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Rn,10),s.Y36(Oc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([kS]),s.qOj,s.TTD]}),n})();const CC={provide:Wa,useExisting:(0,s.Gpc)(()=>ps)};let ps=(()=>{class n extends Wa{constructor(t,r,i,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Lc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Mi?t=l:function Mh(n){return Object.getPrototypeOf(n.constructor)===zu}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ju(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function g0(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(Is,13),s.Y36(Rn,10),s.Y36(Oc,10),s.Y36(Ms,10),s.Y36(T0,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([CC]),s.qOj,s.TTD]}),n})(),VS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[bC]]}),n})(),xs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:T0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[VS]}),n})();var __=L(4986);function A0(n,e=__.z){return(0,Fr.e)((t,r)=>{let i=null,l=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const D=l;l=null,r.next(D)}};function _(){const D=u+n,S=e.now();if(S<D)return i=this.schedule(void 0,D-S),void r.add(i);f()}t.subscribe((0,qn.x)(r,D=>{l=D,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{l=i=null}))})}const y_=new s.OlP("SEARCH_DTO_STORAGE");let US=(()=>{class n{constructor(t){this._searchDtoStorage=t,this.searchedEvent=new hs({title:new Yn("")}),this.subscription=new ji.w0,this.subscription=this.searchedEvent.valueChanges.pipe(Ti({title:""}),A0(400)).subscribe(r=>this._searchDtoStorage.next({title:r.title}))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(y_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-search-event"]],decls:3,vars:1,consts:[[1,"mt-4","w-50"],[1,"d-flex","align-items-center",3,"formGroup"],["type","text","formControlName","title","placeholder","Search event",1,"me-3","ps-3","py-2","rounded","border-0","w-75"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"form",1),s._UZ(2,"input",2),s.qZA()()),2&t&&(s.xp6(1),s.Q6J("formGroup",r.searchedEvent))},directives:[fs,ds,$i,Mi,As,ps],encapsulation:2,changeDetection:0}),n})();const k0=new s.OlP("REMOVES_EVENT_DTO"),li=new s.OlP("CONTEXT_DTO_STORAGE");class HS{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const PC={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function FC(n,e=PC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(l=>l.split(":")).map(l=>{const u=e[l[0]]||l;return new HS(u[0],u[1])}),i=r.filter(l=>l.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const ur="undefined"!=typeof window&&window||{};var v_=(()=>{return(n=v_||(v_={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",v_;var n})();let qo;function b_(){if(void 0===ur.document)return"bs4";const n=ur.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),ur.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=ur.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(ur.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(ur.document.head.removeChild(n),"bs4"):(ur.document.head.removeChild(n),"bs5")}function Pl(){return void 0===ur||(void 0===ur.__theme?(qo||(qo=b_()),"bs3"===qo):"bs3"===ur.__theme)}function w_(){return!Pl()&&(qo||(qo=b_()),"bs4"===qo)}function kh(){return{isBs3:Pl(),isBs4:w_(),isBs5:!Pl()&&!w_()&&(qo||(qo=b_()),"bs5"===qo)}}function QS(){const n="Change";return function(t,r){const i=` __${r}Value`;Object.defineProperty(t,r,{get(){return this[i]},set(l){const u=this[i];this[i]=l,u!==l&&this[r+n]&&this[r+n].emit(l)}})}}const Pp={},xh="undefined"==typeof console||!("warn"in console);function io(n){!(0,s.X6Q)()||xh||n in Pp||(Pp[n]=!0,console.warn(n))}let x0,Fp=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{x0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){x0=!1}let UC=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?qr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ca=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Zi(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Vp(n){try{return n.frameElement}catch(e){return null}}(function Rh(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===rd(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),l=rd(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Lh(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==l:"video"===i?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Nh(n){return!function D_(n){return function O0(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function td(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Wo(n){return function Oh(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nd(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(UC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nd(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function rd(n){if(!nd(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function id(n){return null!=n&&"false"!=`${n}`}class Ph{constructor(e,t,r,i,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ks.q)(1)).subscribe(e)}}let Fh=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ph(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ca),s.LFG(s.R0b),s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jC=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=id(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=id(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(Fh),s.Y36(se))},n.\u0275dir=s.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[s.TTD]}),n})(),L0=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Fp,UC,Ca]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt]]}),n})();var N0=L(6451),YC=L(1144);const $C=["addListener","removeListener"],ZC=["addEventListener","removeEventListener"],GC=["on","off"];function Bp(n,e,t,r){if((0,Hi.m)(t)&&(r=t,t=void 0),r)return Bp(n,e,t).pipe(ku(r));const[i,l]=function tM(n){return(0,Hi.m)(n.addEventListener)&&(0,Hi.m)(n.removeEventListener)}(n)?ZC.map(u=>f=>n[u](e,f,t)):function eM(n){return(0,Hi.m)(n.addListener)&&(0,Hi.m)(n.removeListener)}(n)?$C.map(R0(n,e)):function qC(n){return(0,Hi.m)(n.on)&&(0,Hi.m)(n.off)}(n)?GC.map(R0(n,e)):[];if(!i&&(0,YC.z)(n))return(0,Hn.z)(u=>Bp(u,e,t))((0,Po.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Sr.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function R0(n,e){return t=>r=>n[t](e,r)}var WC=L(4408);const Vh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Vh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new ji.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Vh;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vh;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var rM=L(7565);const iM=new class zC extends rM.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class nM extends WC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Vh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Vh.cancelAnimationFrame(t),e._scheduled=void 0)}});var C_=(()=>{return(n=C_||(C_={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",C_;var n})(),Bh=(()=>{return(n=Bh||(Bh={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",Bh;var n})();function Uh(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function P0(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===Uh(t,"position")?P0(t):t:r?r.ownerDocument.documentElement:document.documentElement}function Up(n){return null!==n.parentNode?Up(n.parentNode):n}function T_(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,l=document.createRange();l.setStart(r,0),l.setEnd(i,0);const u=l.commonAncestorContainer;if(n!==u&&e!==u||r.contains(i))return function F0(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||P0(n.firstElementChild)===n)}(u)?u:P0(u);const f=Up(n);return f.host?T_(f.host,e):T_(n,Up(e).host)}function oM(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===Uh(e,"transform");)e=e.parentElement;return e||document.documentElement}function aM(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function lM(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function KC(n){const e=n.body,t=n.documentElement;return{height:lM("Height",e,t),width:lM("Width",e,t)}}function Hh(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function rr(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function sd(n){const e=n.getBoundingClientRect();if(!(e&&rr(e.top)&&rr(e.left)&&rr(e.bottom)&&rr(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?KC(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||rr(e.right)&&rr(t.left)&&e.right-t.left||0,l=(null==r?void 0:r.height)||n.clientHeight||rr(e.bottom)&&rr(t.top)&&e.bottom-t.top||0;let u=n.offsetWidth-i,f=n.offsetHeight-l;if(u||f){const _=Uh(n);u-=aM(_,"x"),f-=aM(_,"y"),t.width-=u,t.height-=f}return Hh(t)}function V0(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function E_(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=Uh(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:E_(V0(n))}function B0(n,e,t=!1){var r,i,l,u,f,_;const D="HTML"===e.nodeName,S=sd(n),A=sd(e),B=(E_(n),Uh(e)),$=parseFloat(B.borderTopWidth),ee=parseFloat(B.borderLeftWidth);t&&D&&(A.top=Math.max(null!==(r=A.top)&&void 0!==r?r:0,0),A.left=Math.max(null!==(i=A.left)&&void 0!==i?i:0,0));const _e=Hh({top:(null!==(l=S.top)&&void 0!==l?l:0)-(null!==(u=A.top)&&void 0!==u?u:0)-$,left:(null!==(f=S.left)&&void 0!==f?f:0)-(null!==(_=A.left)&&void 0!==_?_:0)-ee,width:S.width,height:S.height});if(_e.marginTop=0,_e.marginLeft=0,D){const Ve=parseFloat(B.marginTop),Oe=parseFloat(B.marginLeft);rr(_e.top)&&(_e.top-=$-Ve),rr(_e.bottom)&&(_e.bottom-=$-Ve),rr(_e.left)&&(_e.left-=ee-Oe),rr(_e.right)&&(_e.right-=ee-Oe),_e.marginTop=Ve,_e.marginLeft=Oe}return _e}function U0(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function JC(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===Uh(n,"position")||JC(V0(n)))}function M_(n,e,t=0,r,i=!1){let l={top:0,left:0};const u=i?oM(n):T_(n,e);if("viewport"===r)l=function S_(n,e=!1){const t=n.ownerDocument.documentElement,r=B0(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),l=Math.max(t.clientHeight,window.innerHeight||0),u=e?0:U0(t),f=e?0:U0(t,"left");return Hh({top:u-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:l})}(u,i);else{let f;"scrollParent"===r?(f=E_(V0(e)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const _=B0(f,u,i);if(_&&"HTML"===f.nodeName&&!JC(u)){const{height:D,width:S}=KC(n.ownerDocument);rr(l.top)&&rr(_.top)&&rr(_.marginTop)&&(l.top+=_.top-_.marginTop),rr(l.top)&&(l.bottom=Number(D)+Number(_.top)),rr(l.left)&&rr(_.left)&&rr(_.marginLeft)&&(l.left+=_.left-_.marginLeft),rr(l.top)&&(l.right=Number(S)+Number(_.left))}else _&&(l=_)}return rr(l.left)&&(l.left+=t),rr(l.top)&&(l.top+=t),rr(l.right)&&(l.right-=t),rr(l.bottom)&&(l.bottom-=t),l}function cM({width:n,height:e}){return n*e}function QC(n,e,t,r,i=["top","bottom","right","left"],l="viewport",u=0){var f,_,D,S,A,R,B,$,ee,_e,Ve,Oe;if(-1===n.indexOf("auto"))return n;const We=M_(t,r,u,l),Ge={top:{width:null!==(f=null==We?void 0:We.width)&&void 0!==f?f:0,height:(null!==(_=null==e?void 0:e.top)&&void 0!==_?_:0)-(null!==(D=null==We?void 0:We.top)&&void 0!==D?D:0)},right:{width:(null!==(S=null==We?void 0:We.right)&&void 0!==S?S:0)-(null!==(A=null==e?void 0:e.right)&&void 0!==A?A:0),height:null!==(R=null==We?void 0:We.height)&&void 0!==R?R:0},bottom:{width:null!==(B=null==We?void 0:We.width)&&void 0!==B?B:0,height:(null!==($=null==We?void 0:We.bottom)&&void 0!==$?$:0)-(null!==(ee=null==e?void 0:e.bottom)&&void 0!==ee?ee:0)},left:{width:(null!==(_e=e.left)&&void 0!==_e?_e:0)-(null!==(Ve=null==We?void 0:We.left)&&void 0!==Ve?Ve:0),height:null!==(Oe=null==We?void 0:We.height)&&void 0!==Oe?Oe:0}},yt=Object.keys(Ge).map(On=>Object.assign(Object.assign({position:On},Ge[On]),{area:cM(Ge[On])})).sort((On,tn)=>tn.area-On.area);let ct=yt.filter(({width:On,height:tn})=>On>=t.clientWidth&&tn>=t.clientHeight);ct=ct.filter(({position:On})=>i.some(tn=>tn===On));const un=ct.length>0?ct[0].position:yt[0].position,Pn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${kh().isBs5?Bh[un]:un}`),un+(Pn?`-${Pn}`:"")}const Hp=(n,e=0)=>n?parseFloat(n):e;function XC(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=Hp(null==t?void 0:t.marginTop)+Hp(null==t?void 0:t.marginBottom),i=Hp(null==t?void 0:t.marginLeft)+Hp(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function H0(n,e,t){return B0(e,t?oM(n):T_(n,e),t)}function I_(n,e,t){var r,i,l;const u=t.split(" ")[0],f=XC(n),_={width:f.width,height:f.height},D=-1!==["right","left"].indexOf(u),S=D?"top":"left",A=D?"left":"top",R=D?"height":"width",B=D?"width":"height";return _[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[R]/2-f[R]/2,_[A]=u===A?(null!==(i=e[A])&&void 0!==i?i:0)-f[B]:null!==(l=e[function dM(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(A)])&&void 0!==l?l:0,_}function A_(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const LO={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function jh(n,e){return!!kh().isBs5&&LO[e].includes(n)}function Yh(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function OO(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function eT(n){var e,t,r,i,l,u;let f=n.offsets.target;const _=n.instance.target.querySelector(".arrow");if(!_)return n;const D=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=D?"height":"width",A=D?"Top":"Left",R=A.toLowerCase(),B=D?"left":"top",$=D?"bottom":"right",ee=XC(_)[S],_e=n.placement.split(" ")[1];(null!==(e=n.offsets.host[$])&&void 0!==e?e:0)-ee<(null!==(t=f[R])&&void 0!==t?t:0)&&(f[R]-=(null!==(r=f[R])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[$])&&void 0!==i?i:0)-ee)),Number(n.offsets.host[R])+Number(ee)>(null!==(l=f[$])&&void 0!==l?l:0)&&(f[R]+=Number(n.offsets.host[R])+Number(ee)-Number(f[$])),f=Hh(f);const Ve=Uh(n.instance.target),Oe=parseFloat(Ve[`margin${A}`])||0,We=parseFloat(Ve[`border${A}Width`])||0;let Ge;if(_e){const ct=parseFloat(Ve.borderRadius)||0,un=Number(Oe+We+ct);Ge=R===_e?Number(n.offsets.host[R])+un:Number(n.offsets.host[R])+Number(n.offsets.host[S]-un)}else Ge=Number(n.offsets.host[R])+Number(n.offsets.host[S]/2-ee/2);let yt=Ge-(null!==(u=f[R])&&void 0!==u?u:0)-Oe-We;return yt=Math.max(Math.min(f[S]-(ee+5),yt),0),n.offsets.arrow={[R]:Math.round(yt),[B]:""},n.instance.arrow=_,n}function j0(n){if(n.offsets.target=Hh(n.offsets.target),!A_(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),I_(n.instance.target,n.offsets.host,n.placement)),n;const e=M_(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=QC("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),_=[t,f];return _.forEach((D,S)=>{var A,R,B,$,ee,_e,Ve,Oe,We,Ge,yt,ct,un,Pn,On,tn;if(t!==D||_.length===S+1)return;t=n.placement.split(" ")[0];const Bn="left"===t&&Math.floor(null!==(A=n.offsets.target.right)&&void 0!==A?A:0)>Math.floor(null!==(R=n.offsets.host.left)&&void 0!==R?R:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==($=n.offsets.host.right)&&void 0!==$?$:0)||"top"===t&&Math.floor(null!==(ee=n.offsets.target.bottom)&&void 0!==ee?ee:0)>Math.floor(null!==(_e=n.offsets.host.top)&&void 0!==_e?_e:0)||"bottom"===t&&Math.floor(null!==(Ve=n.offsets.target.top)&&void 0!==Ve?Ve:0)<Math.floor(null!==(Oe=n.offsets.host.bottom)&&void 0!==Oe?Oe:0),mo=Math.floor(null!==(We=n.offsets.target.left)&&void 0!==We?We:0)<Math.floor(null!==(Ge=e.left)&&void 0!==Ge?Ge:0),cu=Math.floor(null!==(yt=n.offsets.target.right)&&void 0!==yt?yt:0)>Math.floor(null!==(ct=e.right)&&void 0!==ct?ct:0),TD=Math.floor(null!==(un=n.offsets.target.top)&&void 0!==un?un:0)<Math.floor(null!==(Pn=e.top)&&void 0!==Pn?Pn:0),ED=Math.floor(null!==(On=n.offsets.target.bottom)&&void 0!==On?On:0)>Math.floor(null!==(tn=e.bottom)&&void 0!==tn?tn:0),it="left"===t&&mo||"right"===t&&cu||"top"===t&&TD||"bottom"===t&&ED,mt=-1!==["top","bottom"].indexOf(t),Ot=mt&&"left"===r&&mo||mt&&"right"===r&&cu||!mt&&"left"===r&&TD||!mt&&"right"===r&&ED;(Bn||it||Ot)&&((Bn||it)&&(t=_[S+1]),Ot&&(r=function hM(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),I_(n.instance.target,n.offsets.host,n.placement)))}),n}function pM(n){var e;if(!A_(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:l,[t]:u}=r;r.top="",r.left="",r[t]="";const f=M_(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=l,r[t]=u;const D={primary(S){var A,R,B,$;let ee=n.offsets.target[S];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)<(null!==(R=f[S])&&void 0!==R?R:0)&&(ee=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==($=f[S])&&void 0!==$?$:0)),{[S]:ee}},secondary(S){var A,R,B,$;const ee="right"===S,_e=ee?"left":"top";let Oe=n.offsets.target[_e];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)>(null!==(R=f[S])&&void 0!==R?R:0)&&(Oe=Math.min(null!==(B=n.offsets.target[_e])&&void 0!==B?B:0,(null!==($=f[S])&&void 0!==$?$:0)-n.offsets.target[ee?"width":"height"])),{[_e]:Oe}}};return["left","right","top","bottom"].forEach(S=>{const A=-1!==["left","top","start"].indexOf(S)?D.primary:D.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),A(S))}),n}function k_(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:l,target:u}=n.offsets,f=-1!==["bottom","top"].indexOf(r),_=f?"left":"top",D=f?"width":"height",S={start:{[_]:l[_]},end:{[_]:(null!==(e=l[_])&&void 0!==e?e:0)+l[D]-u[D]}};n.offsets.target=Object.assign(Object.assign({},u),{[_]:_===i?S.start[_]:S.end[_]})}return n}const $0=new class x_{position(e,t){return this.offset(e,t)}offset(e,t){return H0(t,e)}positionElements(e,t,r,i,l){const u=[j0,k_,pM,eT],_=function Y0(n,e,t,r){if(!n||!e)return;const i=H0(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const l=!!t.match(/auto/g);let u=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const f=u.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(u=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(u)&&(u="auto"),u=QC(u,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:I_(n,i,u),host:i,arrow:void 0},positionFixed:!1,placement:u,placementAuto:l}}(t,e,C_[r],l);if(_)return u.reduce((D,S)=>S(D),_)}};function RO(n,e,t,r,i,l){const u=$0.positionElements(n,e,t,r,i);if(!u)return;const f=function uM(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(u);Yh(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},l),u.instance.arrow&&Yh(u.instance.arrow,u.offsets.arrow,l),function NO(n,e){const t=n.instance.target;let r=t.className;const i=kh().isBs5?Bh[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function fM(n){return kh().isBs5?jh(n,"end")?"ms-2":jh(n,"start")?"me-2":jh(n,"top")?"mb-2":jh(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(u,l)}let Fl=(()=>{class n{constructor(t,r,i){this.update$$=new Un.x,this.positionElements=new Map,this.isDisabled=!1,qr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,N0.T)(Bp(window,"scroll",{passive:!0}),Bp(window,"resize",{passive:!0}),pt(0,iM),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(l=>{RO(od(l.target),od(l.element),l.attachment,l.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(od(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(od(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(s.FYo),s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function od(n){return"string"==typeof n?document.querySelector(n):n instanceof s.SBq?n.nativeElement:null!=n?n:null}class $h{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class tT{constructor(e,t,r,i,l,u,f,_){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=l,this._ngZone=u,this._applicationRef=f,this._posService=_,this.onBeforeShow=new s.vpe,this.onShown=new s.vpe,this.onBeforeHide=new s.vpe,this.onHidden=new s.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=s.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof s.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,l,u,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const _=this._componentRef.location.nativeElement;return null===(t=_.parentNode)||void 0===t||t.removeChild(_),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(l=this._contentRef)||void 0===l?void 0:l.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=u=>{e.show?e.show(u):this.show(u),u()};return this._renderer&&(this._unregisterListenersFn=function YS(n,e){const t=FC(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],l=[],u=()=>{l.forEach(f=>i.push(f())),l.length=0};return t.forEach(f=>{const _=f.open===f.close,D=_?e.toggle:e.show;if(!_&&f.close&&e.hide){const S=n.listen(r,f.close,e.hide);l.push(()=>S)}D&&i.push(n.listen(r,f.open,()=>D(u)))}),()=>{i.forEach(f=>f())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:u=>{this.isShown?r():i(u)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function $S(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function AO(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new $h([]);if(e instanceof s.Rgc){if(this._viewContainerRef){const u=this._viewContainerRef.createEmbeddedView(e,t);return u.markForCheck(),new $h([u.rootNodes],u)}const l=e.createEmbeddedView({});return this._applicationRef.attachView(l),new $h([l.rootNodes],l)}if("function"==typeof e){const l=this._componentFactoryResolver.resolveComponentFactory(e),u=s.zs3.create({providers:this._providers,parent:this._injector}),f=l.create(u);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new $h([[f.location.nativeElement]],f.hostView,f)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new $h([i])}}let zo=(()=>{class n{constructor(t,r,i,l,u){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=l,this._applicationRef=u}createLoader(t,r,i){return new tT(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s._Vd),s.LFG(s.R0b),s.LFG(s.zs3),s.LFG(Fl),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nT=["*"];let O_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),G0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const L_={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},iT=new s.OlP("override-default-config");let oT=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Pl()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Pl()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(G0),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&s.NdJ("mousedown",function(l){return r.onClickStarted(l)})("click",function(l){return r.onClickStop(l)})("popstate",function(){return r.onPopState()},!1,s.Jf7)("keydown.esc",function(l){return r.onEsc(l)},!1,s.Jf7),2&t&&s.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:nT,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1),s.Hsn(2),s.qZA()()),2&t&&s.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[jC],encapsulation:2}),n})(),aT=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Pl()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class XS{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=ur),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function JS(){const n=kh(),e=Object.keys(n).find(t=>n[t]);return v_[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),uT=1,N_=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new s.vpe,this.onShown=new s.vpe,this.onHide=new s.vpe,this.onHidden=new s.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},L_,i):L_}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||uT++;return this.config=this.modalDefaultOption?Object.assign({},L_,this.modalDefaultOption,r):Object.assign({},L_,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(aT).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const f of this.config.providers)i.provide(f);const l=new O_,u=i.provide({provide:G0,useValue:this.config}).provide({provide:O_,useValue:l}).attach(oT).to("body");return l.hide=()=>{var f;return null===(f=u.instance)||void 0===f?void 0:f.hide()},l.setClass=f=>{u.instance&&(u.instance.config.class=f)},l.onHidden=new s.vpe,l.onHide=new s.vpe,this.copyEvent(i.onBeforeHide,l.onHide),this.copyEvent(i.onHidden,l.onHidden),u.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),u.instance&&(u.instance.level=this.getModalsCount(),l.content=i.getInnerComponent(),l.id=null===(r=u.instance.config)||void 0===r?void 0:r.id),l}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(l=>{var u;return(null===(u=l.instance)||void 0===u?void 0:u.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var l;return(null===(l=i.instance)||void 0===l?void 0:l.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,l)=>{i.instance&&(i.instance.level=l+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(zo),s.LFG(iT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();L0.forRoot();let dT=(()=>{class n{static forRoot(){return{ngModule:n,providers:[N_,zo,Fl]}}static forChild(){return{ngModule:n,providers:[N_,zo,Fl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[L0]]}),n})();function hT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const l=s.CHM(t).ngIf;return s.oxw().onConfirmDeleteTaskButtonClicked(l.eventId)}),s._uU(1," Yes, I am sure "),s.qZA()}}let fT=(()=>{class n{constructor(t,r,i){this._contextDtoStoragePort=t,this._removesEventDto=r,this.modalRef=i,this.event$=this._contextDtoStoragePort.asObservable()}onCancelButtonClicked(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}onConfirmDeleteTaskButtonClicked(t){var r;this._removesEventDto.remove(t),null===(r=this.modalRef)||void 0===r||r.hide()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(li),s.Y36(k0),s.Y36(O_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-confirm-delete-event-modal"]],decls:9,vars:3,consts:[[1,"bg-white","d-flex","justify-content-center","align-items-center","flex-column","py-4","mt-5"],[1,"my-5"],[1,"my-3","w-50"],["type","button","class","btn btn-danger w-100",3,"click",4,"ngIf"],[1,"mb-5","w-50"],["type","button",1,"btn","bg-gray-400","w-100",3,"click"],["type","button",1,"btn","btn-danger","w-100",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Are you sure you want to delete your event?"),s.qZA(),s.TgZ(3,"div",2),s.YNc(4,hT,2,0,"button",3),s.ALo(5,"async"),s.qZA(),s.TgZ(6,"div",4)(7,"button",5),s.NdJ("click",function(){return r.onCancelButtonClicked()}),s._uU(8," Cancel "),s.qZA()()()),2&t&&(s.xp6(4),s.Q6J("ngIf",s.lcZ(5,1,r.event$)))},directives:[Wt],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();function pT(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr",5)(1,"td",6),s.O4$(),s.TgZ(2,"svg",7),s._UZ(3,"path",8)(4,"path",9)(5,"path",10),s.qZA(),s.kcU(),s.TgZ(6,"p",11),s._uU(7),s.qZA()(),s.TgZ(8,"td")(9,"a",12),s._uU(10,"Go to Event"),s.qZA()(),s.TgZ(11,"td")(12,"p",11),s._uU(13),s.ALo(14,"date"),s.ALo(15,"date"),s.qZA()(),s.TgZ(16,"td")(17,"button",13)(18,"a",14),s._uU(19,"Edit"),s.qZA()()(),s.TgZ(20,"td")(21,"button",15),s.NdJ("click",function(){const l=s.CHM(t).$implicit;return s.oxw(2).onDeleteButtonClicked(l.id)}),s.O4$(),s.TgZ(22,"svg",16),s._UZ(23,"path",17)(24,"path",18),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(7),s.Oqu(t.title),s.xp6(2),s.Q6J("routerLink","/event/"+t.id),s.xp6(4),s.AsE(" ",s.xi3(14,5,t.fromDate,"dd.MM.YYYY")," - ",s.xi3(15,8,t.toDate,"dd.MM.YYYY")," "),s.xp6(5),s.Q6J("routerLink","/event/"+t.id+"/edit-event")}}function PO(n,e){if(1&n&&(s.TgZ(0,"table",2)(1,"thead",3)(2,"tr")(3,"th"),s._uU(4,"Event Title"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Link"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Date"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Manage"),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Delete"),s.qZA()()(),s.TgZ(13,"tbody"),s.YNc(14,pT,25,11,"tr",4),s.ALo(15,"async"),s.qZA()()),2&n){const t=s.oxw();s.xp6(14),s.Q6J("ngForOf",s.lcZ(15,1,t.events$))}}let _M=(()=>{class n{constructor(t,r,i,l,u){this._getsAllEventDto=t,this._removesEventDto=r,this._searchDtoStorage=i,this._contextDtoStoragePort=l,this.modalService=u,this.events$=this._searchDtoStorage.asObservable().pipe(sn(f=>this._getsAllEventDto.getAll(f&&f.title&&f.title.length?{title:f.title}:{})))}onDeleteButtonClicked(t){this._contextDtoStoragePort.next({eventId:t}),this.modalRef=this.modalService.show(fT)}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(zg),s.Y36(k0),s.Y36(y_),s.Y36(li),s.Y36(N_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-events-list"]],decls:3,vars:3,consts:[[1,"container-fluid","bg-white","mx-auto","py-4","px-5","mt-5"],["class","table table-borderless text-center",4,"ngIf"],[1,"table","table-borderless","text-center"],[1,"bg-gray-400"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar2-minus","me-2"],["d","M5.5 10.5A.5.5 0 0 1 6 10h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"],["d","M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"],[1,"m-0","text-dark"],[1,"text-decoration-none",3,"routerLink"],["type","button",1,"btn","bg-gray-400","border-0"],[1,"text-decoration-none","text-dark",3,"routerLink"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-dark","g-col-2"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,PO,16,3,"table",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,r.events$)))},directives:[Wt,rn,ai],pipes:[Fn,Ud],encapsulation:2,changeDetection:0}),n})();function yM(n,e){1&n&&(s.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"a",6)(4,"p"),s._uU(5,"Events"),s.qZA()(),s.TgZ(6,"a",7)(7,"p"),s._uU(8,"Users"),s.qZA()()(),s.TgZ(9,"div",8)(10,"a",9)(11,"button",10),s._uU(12," Create new event "),s.qZA()()()(),s._UZ(13,"lib-search-event")(14,"lib-events-list"),s.qZA())}function mT(n,e){1&n&&(s.TgZ(0,"div",11)(1,"h1"),s._uU(2,"Start building your dashboard"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Create your first event"),s.qZA(),s.TgZ(5,"a",12),s._uU(6,"Create event"),s.qZA()())}let vM=(()=>{class n{constructor(t){this._getsAllEventDto=t,this.hasEvents$=this._getsAllEventDto.getAll().pipe((0,vt.U)(r=>r.length>0))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(zg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-page"]],decls:5,vars:4,consts:[[1,"h-100"],["class","container-fluid w-75 mx-auto",4,"ngIf","ngIfElse"],["template",""],[1,"container-fluid","w-75","mx-auto"],[1,"container","d-flex","align-items-center","justify-content-between","border-bottom","mx-auto","pt-3"],[1,"d-flex","justify-content-start","align-items-center"],["routerLink","/",1,"fs-3","fw-bold","me-5","text-decoration-none","text-white"],["routerLink","/users",1,"fs-3","fw-bold","text-decoration-none","text-white"],[1,"py-3"],["routerLink","/event-form"],["type","button",1,"btn","btn-success"],[1,"container-fluid","w-75","mx-auto","d-flex","justify-content-center","align-items-center","flex-column","my-auto","h-75"],["routerLink","/event-form","role","button",1,"btn","bg-success","text-white"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,yM,15,0,"div",1),s.ALo(2,"async"),s.qZA(),s.YNc(3,mT,7,0,"ng-template",null,2,s.W1O)),2&t){const i=s.MAs(4);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,r.hasEvents$))("ngIfElse",i)}},directives:[Wt,ai,US,_M],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn,xs,dT.forRoot()]]}),n})();var ci=L(6351);function W0(){return(0,Fr.e)((n,e)=>{let t,r=!1;n.subscribe((0,qn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function R_(n,e=Bi.y){return n=null!=n?n:gT,(0,Fr.e)((t,r)=>{let i,l=!0;t.subscribe((0,qn.x)(r,u=>{const f=e(u);(l||!n(i,f))&&(l=!1,i=f,r.next(u))}))})}function gT(n,e){return n===e}var et,Ta=L(2011),_T=(L(4087),L(3942)),ye=L(5861),ad=L(9681),P_=L(4859),Vl=L(1877),Xt=L(2090),yT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rc={},Yp=Yp||{},bt=yT||self;function F_(){}function V_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Os(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var so="closure_uid_"+(1e9*Math.random()>>>0),vT=0;function bT(n,e,t){return n.call.apply(n.bind,arguments)}function wM(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ii(n,e,t){return(Ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bT:wM).apply(null,arguments)}function B_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ai(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Qa(){this.s=this.s,this.o=this.o}var DM={};Qa.prototype.s=!1,Qa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ea(n){return Object.prototype.hasOwnProperty.call(n,so)&&n[so]||(n[so]=++vT)}(this);delete DM[n]}},Qa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},wT=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function K0(n){return Array.prototype.concat.apply([],arguments)}function Zh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function U_(n){return/^[\s\xa0]*$/.test(n)}var ui,J0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gi(n,e){return-1!=n.indexOf(e)}function Zp(n,e){return n<e?-1:n>e?1:0}e:{var H_=bt.navigator;if(H_){var Q0=H_.userAgent;if(Q0){ui=Q0;break e}}ui=""}function j_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function X0(n){const e={};for(const t in n)e[t]=n[t];return e}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<eb.length;l++)t=eb[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Y_(n){return Y_[" "](n),n}Y_[" "]=F_;var $_,n,CM=Gi(ui,"Opera"),Gh=Gi(ui,"Trident")||Gi(ui,"MSIE"),TT=Gi(ui,"Edge"),nb=TT||Gh,ET=Gi(ui,"Gecko")&&!(Gi(ui.toLowerCase(),"webkit")&&!Gi(ui,"Edge"))&&!(Gi(ui,"Trident")||Gi(ui,"MSIE"))&&!Gi(ui,"Edge"),TM=Gi(ui.toLowerCase(),"webkit")&&!Gi(ui,"Edge");function ST(){var n=bt.document;return n?n.documentMode:void 0}e:{var rb="",ib=(n=ui,ET?/rv:([^\);]+)(\)|;)/.exec(n):TT?/Edge\/([\d\.]+)/.exec(n):Gh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):TM?/WebKit\/(\S+)/.exec(n):CM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ib&&(rb=ib?ib[1]:""),Gh){var sb=ST();if(null!=sb&&sb>parseFloat(rb)){$_=String(sb);break e}}$_=rb}var EM={};var MM=bt.document&&Gh&&(ST()||parseInt($_,10))||void 0,IM=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",F_,e),bt.removeEventListener("test",F_,e)}catch(t){}return n}();function qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function qh(n,e){if(qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ET){e:{try{Y_(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:IT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qh.Z.h.call(this)}}qi.prototype.h=function(){this.defaultPrevented=!0},Ai(qh,qi);var IT={2:"touch",3:"pen",4:"mouse"};qh.prototype.h=function(){qh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wh="closure_listenable_"+(1e6*Math.random()|0),AT=0;function kT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++AT,this.ca=this.fa=!1}function Gp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function qp(n){this.src=n,this.g={},this.h=0}function Z_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=z0(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Gp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G_(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}qp.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=G_(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new kT(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var q_="closure_lm_"+(1e6*Math.random()|0),W_={};function Pc(n,e,t,r,i){if(r&&r.once)return ld(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Pc(n,e[l],t,r,i);return null}return t=wt(t),n&&n[Wh]?n.N(e,t,Os(r)?!!r.capture:!!r,i):xT(n,e,t,!1,r,i)}function xT(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var u=Os(i)?!!i.capture:!!i,f=z_(n);if(f||(n[q_]=f=new qp(n)),(t=f.add(e,t,r,u,l)).proxy)return t;if(r=function AM(){var e=OT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)IM||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(xM(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ld(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ld(n,e[l],t,r,i);return null}return t=wt(t),n&&n[Wh]?n.O(e,t,Os(r)?!!r.capture:!!r,i):xT(n,e,t,!0,r,i)}function kM(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)kM(n,e[l],t,r,i);else r=Os(r)?!!r.capture:!!r,t=wt(t),n&&n[Wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G_(l=n.g[e],t,r,i))&&(Gp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=z_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G_(e,t,r,i)),(t=-1<n?e[n]:null)&&Wp(t))}function Wp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wh])Z_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(xM(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=z_(e))?(Z_(t,n),0==t.h&&(t.src=null,e[q_]=null)):Gp(n)}}}function xM(n){return n in W_?W_[n]:W_[n]="on"+n}function OT(n,e){if(n.ca)n=!0;else{e=new qh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Wp(n),n=t.call(r,e)}return n}function z_(n){return(n=n[q_])instanceof qp?n:null}var LT="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(n){return"function"==typeof n?n:(n[LT]||(n[LT]=function(e){return n.handleEvent(e)}),n[LT])}function di(){Qa.call(this),this.i=new qp(this),this.P=this,this.I=null}function ki(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new qi(e,n);else if(e instanceof qi)e.target=e.target||n;else{var i=e;tb(e=new qi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];i=K_(u,r,!0,e)&&i}if(i=K_(u=e.g=n,r,!0,e)&&i,i=K_(u,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=K_(u=e.g=t[l],r,!1,e)&&i}function K_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&Z_(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ai(di,Qa),di.prototype[Wh]=!0,di.prototype.removeEventListener=function(n,e,t,r){kM(this,n,e,t,r)},di.prototype.M=function(){if(di.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gp(t[r]);delete n.g[e],n.h--}}this.I=null},di.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},di.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zh=bt.JSON.stringify;function OM(){var n=lb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ab,zp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vr,n=>n.reset());class vr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FO(n){bt.setTimeout(()=>{throw n},0)}function Q_(n,e){ab||function LM(){var n=bt.Promise.resolve(void 0);ab=function(){n.then(NT)}}(),X_||(ab(),X_=!0),lb.add(n,e)}var X_=!1,lb=new class J_{constructor(){this.h=this.g=null}add(e,t){const r=zp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function NT(){for(var n;n=OM();){try{n.h.call(n.g)}catch(t){FO(t)}var e=zp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}X_=!1}function Kp(n,e){di.call(this),this.h=n||1,this.g=e||bt,this.j=Ii(this.kb,this),this.l=Date.now()}function cb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ub(n,e,t){if("function"==typeof n)t&&(n=Ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function RT(n){n.g=ub(()=>{n.g=null,n.i&&(n.i=!1,RT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ai(Kp,di),(et=Kp.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ki(this,"tick"),this.da&&(cb(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){Kp.Z.M.call(this),cb(this),delete this.g};class Jp extends Qa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RT(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qp(n){Qa.call(this),this.h=n,this.g={}}Ai(Qp,Qa);var PT=[];function FT(n,e,t,r){Array.isArray(t)||(t&&(PT[0]=t.toString()),t=PT);for(var i=0;i<t.length;i++){var l=Pc(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Xp(n){j_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Wp(e)},n),n.g={}}function em(){this.g=!0}function Kh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nm(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<i.length;u++)i[u]=""}}}return zh(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Qp.prototype.M=function(){Qp.Z.M.call(this),Xp(this)},Qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},em.prototype.Aa=function(){this.g=!1},em.prototype.info=function(){};var cd={},UT=null;function ey(){return UT=UT||new di}function db(n){qi.call(this,cd.Ma,n)}function Jh(n){const e=ey();ki(e,new db(e,n))}function hb(n,e){qi.call(this,cd.STAT_EVENT,n),this.stat=e}function gs(n){const e=ey();ki(e,new hb(e,n))}function fb(n,e){qi.call(this,cd.Na,n),this.size=e}function rm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}cd.Ma="serverreachability",Ai(db,qi),cd.STAT_EVENT="statevent",Ai(hb,qi),cd.Na="timingevent",Ai(fb,qi);var ty={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HT(){}function PM(){}HT.prototype.h=null;var mb,Qh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xh(){qi.call(this,"d")}function pb(){qi.call(this,"c")}function im(){}function Bl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Qp(this),this.P=FM,this.W=new Kp(n=nb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jT}function jT(){this.i=null,this.g="",this.h=!1}Ai(Xh,qi),Ai(pb,qi),Ai(im,HT),im.prototype.g=function(){return new XMLHttpRequest},im.prototype.i=function(){return{}},mb=new im;var FM=45e3,gb={},ny={};function _b(n,e,t){n.K=1,n.v=ly(Sa(e)),n.s=t,n.U=!0,yb(n,null)}function yb(n,e){n.F=Date.now(),sm(n),n.A=Sa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),wb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new jT,n.g=of(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Jp(Ii(n.Ia,n,n.g),n.O)),FT(n.V,n.g,"readystatechange",n.gb),e=n.H?X0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jh(1),function VT(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),_=0;_<f.length;_++){var D=f[_].split("=");if(1<D.length){var S=D[0];D=D[1];var A=S.split("_");u=2<=A.length&&"type"==A[1]?u+(S+"=")+D+"&":u+(S+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function YT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function $T(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ef(n,t),i==ny){4==e&&(n.o=4,gs(14),r=!1),Kh(n.j,n.m,null,"[Incomplete Response]");break}if(i==gb){n.o=4,gs(15),Kh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kh(n.j,n.m,i,null),iy(n,i)}YT(n)&&i!=ny&&i!=gb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vb(e),e.L=!0,gs(11))):(Kh(n.j,n.m,t,"[Invalid Chunked Response]"),ud(n),tf(n))}function ef(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ny:(t=Number(e.substring(t,r)),isNaN(t)?gb:(r+=1)+t>e.length?ny:(e=e.substr(r,t),n.C=r+t,e))}function sm(n){n.Y=Date.now()+n.P,vb(n,n.P)}function vb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rm(Ii(n.eb,n),e)}function ry(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function tf(n){0==n.l.G||n.I||eE(n.l,n)}function ud(n){ry(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cb(n.W),Xp(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function iy(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hy(t.i,n)))if(t.I=n.N,!n.J&&hy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=rm(Ii(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;by(t),Lb(t)}vy(t),gs(18)}if(1>=zT(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else hd(t,11)}else if((n.J||t.g==n)&&by(t),!U_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const A=D[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const R=D[5];null!=R&&"number"==typeof R&&0<R&&(t.K=r=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var l=r.i;!l.g&&(Gi($,"spdy")||Gi($,"quic")||Gi($,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Cb(l,l.h),l.h=null))}if(r.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,ir(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=rE(r,r.H?r.la:null,r.W),u.J){Tb(r.i,u);var f=u,_=r.K;_&&f.setTimeout(_),f.B&&(ry(f),sm(f)),r.g=u}else Fb(r);0<t.l.length&&Pb(t)}else"stop"!=D[0]&&"close"!=D[0]||hd(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?hd(t,7):Hc(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}Jh(4)}catch(D){}}function om(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(V_(n)||"string"==typeof n)wT(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(V_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function VM(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(V_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function nf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof nf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function sy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Fc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Fc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Fc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=Bl.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Ul(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const S=Ul(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>S)&&(3!=S||nb||this.g&&(this.h.h||this.g.ga()||QM(this.g)))){this.I||4!=S||7==e||Jh(8==e||0>=A?3:2),ry(this);var t=this.g.ba();this.N=t;t:if(YT(this)){var r=QM(this.g);n="";var i=r.length,l=4==Ul(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ud(this),tf(this);var u="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function BT(n,e,t,r,i,l,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U_(f)){var D=f;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,gs(12),ud(this),tf(this);break e}Kh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iy(this,t)}this.U?($T(this,S,u),nb&&this.i&&3==S&&(FT(this.V,this.W,"tick",this.fb),this.W.start())):(Kh(this.j,this.m,u,null),iy(this,u)),4==S&&ud(this),this.i&&!this.I&&(4==S?eE(this.l,this):(this.i=!1,sm(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,gs(12)):(this.o=0,gs(13)),ud(this),tf(this)}}}catch(S){}},et.fb=function(){if(this.g){var n=Ul(this.g),e=this.g.ga();this.C<e.length&&(ry(this),$T(this,n,e),this.i&&4!=n&&sm(this))}},et.cancel=function(){this.I=!0,ud(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tm(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jh(3),gs(17)),ud(this),this.o=2,tf(this)):vb(this,this.Y-n)},(et=nf.prototype).R=function(){sy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return sy(this),this.g.concat()},et.get=function(n,e){return Fc(this.h,n)?this.h[n]:e},et.set=function(n,e){Fc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var ZT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof dd){this.g=void 0!==e?e:n.g,oy(this,n.j),this.s=n.s,am(this,n.i),ay(this,n.m),this.l=n.l,e=n.h;var t=new um;t.i=e.i,e.g&&(t.g=new nf(e.g),t.h=e.h),GT(this,t),this.o=n.o}else n&&(t=String(n).match(ZT))?(this.g=!!e,oy(this,t[1]||"",!0),this.s=lm(t[2]||""),am(this,t[3]||"",!0),ay(this,t[4]),this.l=lm(t[5]||"",!0),GT(this,t[6]||"",!0),this.o=lm(t[7]||"")):(this.g=!!e,this.h=new um(null,this.g))}function Sa(n){return new dd(n)}function oy(n,e,t){n.j=t?lm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function am(n,e,t){n.i=t?lm(e,!0):e}function ay(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GT(n,e,t){e instanceof um?(n.h=e,function ZM(n,e){e&&!n.j&&(Vc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(cy(this,r),wb(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=cm(e,WT)),n.h=new um(e,n.g))}function ir(n,e,t){n.h.set(e,t)}function ly(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cm(e,bb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cm(e,bb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(cm(t,"/"==t.charAt(0)?YM:jM,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cm(t,$M)),n.join("")};var bb=/[#\/\?@]/g,jM=/[#\?:]/g,YM=/[#\?]/g,WT=/[#\?@]/g,$M=/#/g;function um(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vc(n){n.g||(n.g=new nf,n.h=0,n.i&&function BM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cy(n,e){Vc(n),e=Bc(n,e),Fc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Fc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&sy(n)))}function uy(n,e){return Vc(n),e=Bc(n,e),Fc(n.g.h,e)}function wb(n,e,t){cy(n,e),0<t.length&&(n.i=null,n.g.set(Bc(n,e),Zh(t)),n.h+=t.length)}function Bc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dy(n){this.l=n||qM,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=um.prototype).add=function(n,e){Vc(this),this.i=null,n=Bc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){Vc(this),this.g.forEach(function(t,r){wT(t,function(i){n.call(e,i,r,this)},this)},this)},et.T=function(){Vc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},et.R=function(n){Vc(this);var e=[];if("string"==typeof n)uy(this,n)&&(e=K0(e,this.g.get(Bc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=K0(e,n[t])}return e},et.set=function(n,e){return Vc(this),this.i=null,uy(this,n=Bc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var u=i;""!==r[l]&&(u+="="+encodeURIComponent(String(r[l]))),n.push(u)}}return this.i=n.join("&")};var qM=10;function Db(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zT(n){return n.h?1:n.g?n.g.size:0}function hy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cb(n,e){n.g?n.g.add(e):n.h=e}function Tb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function WM(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Zh(n.i)}function Eb(){}function fy(){this.g=new Eb}function zM(n,e,t){const r=t||"";try{om(n,function(i,l){let u=i;Os(i)&&(u=zh(i)),e.push(r+l+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function dm(n){this.l=n.$b||null,this.j=n.ib||!1}function Sb(n,e){di.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=py,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dy.prototype.cancel=function(){if(this.i=WM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Eb.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},Eb.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},Ai(dm,HT),dm.prototype.g=function(){return new Sb(this.l,this.j)},dm.prototype.i=function(n){return function(){return n}}({}),Ai(Sb,di);var py=0;function KT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function hm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fm(n)}function fm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Sb.prototype).open=function(n,e){if(this.readyState!=py)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fm(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=py},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fm(this)),this.g&&(this.readyState=3,fm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hm(this):fm(this),3==this.readyState&&KT(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,hm(this))},et.Ta=function(n){this.g&&(this.response=n,hm(this))},et.ha=function(){this.g&&hm(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KM=bt.JSON.parse;function Ir(n){di.call(this),this.headers=new nf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mb,this.K=this.L=!1}Ai(Ir,di);var Mb="",Ib=/^https?$/i,my=["POST","PUT"];function JM(n){return"content-type"==n.toLowerCase()}function Ab(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kb(n),gy(n)}function kb(n){n.D||(n.D=!0,ki(n,"complete"),ki(n,"error"))}function JT(n){if(n.h&&void 0!==Yp&&(!n.C[1]||4!=Ul(n)||2!=n.ba()))if(n.v&&4==Ul(n))ub(n.Fa,0,n);else if(ki(n,"readystatechange"),4==Ul(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(ZT)[1]||null;if(!i&&bt.self&&bt.self.location){var l=bt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Ib.test(i?i.toLowerCase():"")}t=r}if(t)ki(n,"complete"),ki(n,"success");else{n.m=6;try{var u=2<Ul(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",kb(n)}}finally{gy(n)}}}function gy(n,e){if(n.g){_y(n);const t=n.g,r=n.C[0]?F_:null;n.g=null,n.C=null,e||ki(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function _y(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Ul(n){return n.g?n.g.readyState:0}function QM(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Mb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function xb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function XM(n){let e="";return j_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function Xa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ob(n){this.za=0,this.l=[],this.h=new em,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xa("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xa("baseRetryDelayMs",5e3,n),this.$a=Xa("retryDelaySeedMs",1e4,n),this.Ya=Xa("forwardChannelMaxRetries",2,n),this.ra=Xa("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new dy(n&&n.concurrentRequestLimit),this.Ca=new fy,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Hc(n){if(Nb(n),3==n.G){var e=n.V++,t=Sa(n.F);ir(t,"SID",n.J),ir(t,"RID",e),ir(t,"TYPE","terminate"),sf(n,t),(e=new Bl(n,n.h,e,void 0)).K=2,e.v=ly(Sa(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon&&(t=bt.navigator.sendBeacon(e.v.toString(),"")),!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=of(e.l,null),e.g.ea(e.v)),e.F=Date.now(),sm(e)}nE(n)}function Lb(n){n.g&&(Vb(n),n.g.cancel(),n.g=null)}function Nb(n){Lb(n),n.u&&(bt.clearTimeout(n.u),n.u=null),by(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Rb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Pb(n)}function Pb(n){Db(n.i)||n.m||(n.m=!0,Q_(n.Ha,n),n.C=0)}function eI(n,e){var t;t=e?e.m:n.V++;const r=Sa(n.F);ir(r,"SID",n.J),ir(r,"RID",t),ir(r,"AID",n.U),sf(n,r),n.o&&n.s&&xb(r,n.o,n.s),t=new Bl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=yy(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Cb(n.i,t),_b(t,r,e)}function sf(n,e){n.j&&om({},function(t,r){ir(e,r,t)})}function yy(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ii(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=i[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let D=i[_].h;const S=i[_].g;if(D-=l,0>D)l=Math.max(0,i[_].h-100),f=!1;else try{zM(S,u,"req"+D+"_")}catch(A){r&&r(S)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Fb(n){n.g||n.u||(n.Y=1,Q_(n.Ga,n),n.A=0)}function vy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rm(Ii(n.Ga,n),tE(n,n.A)),n.A++,0))}function Vb(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function XT(n){n.g=new Bl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Sa(n.oa);ir(e,"RID","rpc"),ir(e,"SID",n.J),ir(e,"CI",n.N?"0":"1"),ir(e,"AID",n.U),sf(n,e),ir(e,"TYPE","xmlhttp"),n.o&&n.s&&xb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ly(Sa(e)),t.s=null,t.U=!0,yb(t,n)}function by(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function eE(n,e){var t=null;if(n.g==e){by(n),Vb(n),n.g=null;var r=2}else{if(!hy(n.i,e))return;t=e.D,Tb(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ki(r=ey(),new fb(r,t,e,i)),Pb(n)}else Fb(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function QT(n,e){return!(zT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rm(Ii(n.Ha,n,e),tE(n,n.C)),n.C++,0)))}(n,e)||2==r&&vy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:hd(n,5);break;case 4:hd(n,10);break;case 3:hd(n,6);break;default:hd(n,2)}}function tE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function hd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ii(n.jb,n);t||(t=new dd("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||oy(t,"https"),ly(t)),function rf(n,e){const t=new em;if(bt.Image){const r=new Image;r.onload=B_(Uc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=B_(Uc,t,r,"TestLoadImage: error",!1,e),r.onabort=B_(Uc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=B_(Uc,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gs(2);n.G=0,n.j&&n.j.va(e),nE(n),Nb(n)}function nE(n){n.G=0,n.I=-1,n.j&&((0!=WM(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Zh(n.l),n.l.length=0),n.j.ua())}function rE(n,e,t){let r=function UM(n){return n instanceof dd?Sa(n):new dd(n,void 0)}(t);if(""!=r.i)e&&am(r,e+"."+r.i),ay(r,r.m);else{const i=bt.location;r=function HM(n,e,t,r){var i=new dd(null,void 0);return n&&oy(i,n),e&&am(i,e),t&&ay(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&j_(n.aa,function(i,l){ir(r,l,i)}),t=n.sa,(e=n.D)&&t&&ir(r,e,t),ir(r,"VER",n.ma),sf(n,r),r}function of(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(t&&n.Ba&&!n.qa?new dm({ib:!0}):n.qa)).L=n.H,e}function Bb(){}function mm(){if(Gh&&!(10<=Number(MM)))throw Error("Environmental error: no available transport.")}function Ls(n,e){di.call(this),this.g=new Ob(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!U_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!U_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fd(this)}function Ub(n){Xh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Hb(){pb.call(this),this.status=1}function fd(n){this.g=n}(et=Ir.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mb.g(),this.C=function RM(n){return n.h||(n.h=n.i())}(this.u?this.u:mb),this.g.onreadystatechange=Ii(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Ab(this,l)}n=t||"";const i=new nf(this.headers);r&&om(r,function(l,u){i.set(u,l)}),r=function DT(n){e:{var e=JM;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=bt.FormData&&n instanceof bt.FormData,!(0<=z0(my,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_y(this),0<this.B&&((this.K=function pm(n){return Gh&&function SM(){return function CT(n){var e=EM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=J0(String($_)).split("."),t=J0("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",l=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Zp(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Zp(0==i[2].length,0==l[2].length)||Zp(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.pa,this)):this.A=ub(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Ab(this,l)}},et.pa=function(){void 0!==Yp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ki(this,"complete"),ki(this,"abort"),gy(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gy(this,!0)),Ir.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?JT(this):this.cb())},et.cb=function(){JT(this)},et.ba=function(){try{return 2<Ul(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),KM(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=Ob.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=X0(l),tb(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yy(this,i,e),ir(t=Sa(this.F),"RID",n),ir(t,"CVER",22),this.D&&ir(t,"X-HTTP-Session-Id",this.D),sf(this,t),this.o&&l&&xb(t,this.o,l),Cb(this.i,i),this.Ra&&ir(t,"TYPE","init"),this.ja?(ir(t,"$req",e),ir(t,"SID","null"),i.$=!0,_b(i,t,null)):_b(i,t,e),this.G=2}}else 3==this.G&&(n?eI(this,n):0==this.l.length||Db(this.i)||eI(this))},et.Ga=function(){if(this.u=null,XT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rm(Ii(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gs(10),Lb(this),XT(this))},et.ab=function(){null!=this.v&&(this.v=null,Lb(this),vy(this),gs(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),gs(2)):(this.h.info("Failed to ping google.com"),gs(1))},(et=Bb.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},mm.prototype.g=function(n,e){return new Ls(n,e)},Ai(Ls,di),Ls.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Q_(Ii(n.hb,n,e))),gs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=rE(n,null,n.W),Pb(n)},Ls.prototype.close=function(){Hc(this.g)},Ls.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Rb(this.g,e)}else this.v?((e={}).__data__=zh(n),Rb(this.g,e)):Rb(this.g,n)},Ls.prototype.M=function(){this.g.j=null,delete this.j,Hc(this.g),delete this.g,Ls.Z.M.call(this)},Ai(Ub,Xh),Ai(Hb,pb),Ai(fd,Bb),fd.prototype.xa=function(){ki(this.g,"a")},fd.prototype.wa=function(n){ki(this.g,new Ub(n))},fd.prototype.va=function(n){ki(this.g,new Hb(n))},fd.prototype.ua=function(){ki(this.g,"b")},mm.prototype.createWebChannel=mm.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,NM.COMPLETE="complete",PM.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",di.prototype.listen=di.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var tI=Rc.createWebChannelTransport=function(){return new mm},iE=Rc.getStatEventTarget=function(){return ey()},wy=Rc.ErrorCode=ty,nI=Rc.EventType=NM,rI=Rc.Event=cd,sE=Rc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gm=Rc.FetchXmlHttpFactory=dm,Dy=Rc.WebChannel=PM,jb=Rc.XhrIo=Ir;const Ma="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let jc="9.6.10";const Ko=new Vl.Yd("@firebase/firestore");function Yb(){return Ko.logLevel}function Pe(n,...e){if(Ko.logLevel<=Vl.in.DEBUG){const t=e.map($b);Ko.debug(`Firestore (${jc}): ${n}`,...t)}}function dr(n,...e){if(Ko.logLevel<=Vl.in.ERROR){const t=e.map($b);Ko.error(`Firestore (${jc}): ${n}`,...t)}}function Yc(n,...e){if(Ko.logLevel<=Vl.in.WARN){const t=e.map($b);Ko.warn(`Firestore (${jc}): ${n}`,...t)}}function $b(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function Lt(n,e){n||rt()}function Ze(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class Gb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aE{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let u=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hi,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const D=u;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},_=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new sI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new xi(e)}}class qb{constructor(e,t,r){this.type="FirstParty",this.user=xi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Wb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new qb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.p=t.token,new lE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class oo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function cE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}oo.A=-1;class Cy{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cE(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function pd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function zb(n){return n+"\0"}class br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new br(0,0))}static max(){return new kt(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Kb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $c(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class af{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===af.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof af?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),u=t.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends af{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new on(t)}static emptyPath(){return new on([])}}const _s=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends af{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return _s.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(l(),i++)}if(l(),u)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class lf{constructor(e){this.fields=e,e.sort(hr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const _m=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=_m.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function md(n){return"string"==typeof n?fi.fromBase64String(n):fi.fromUint8Array(n)}function Ty(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dE(n){const e=n.mapValue.fields.__previous_value__;return Ty(e)?dE(e):e}function ym(n){const e=Zc(n.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class Jb{constructor(e,t,r,i,l,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}function Gc(n){return null==n}function qc(n){return 0===n&&1/n==-1/0}function Ey(n){return"number"==typeof n&&Number.isInteger(n)&&!qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(on.fromString(e))}static fromName(e){return new Ye(on.fromString(e).popFirst(5))}static empty(){return new Ye(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new on(e.slice()))}}const Qb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hE={nullValue:"NULL_VALUE"};function Wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ty(n)?4:mE(n)?9:10:rt()}function ao(n,e){if(n===e)return!0;const t=Wc(n);if(t!==Wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ym(n).isEqual(ym(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Zc(r.timestampValue),u=Zc(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,md(n.bytesValue).isEqual(md(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return sr(r.geoPointValue.latitude)===sr(i.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return sr(r.integerValue)===sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=sr(r.doubleValue),u=sr(i.doubleValue);return l===u?qc(l)===qc(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(r,i){const l=r.mapValue.fields||{},u=i.mapValue.fields||{};if(Kb(l)!==Kb(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!ao(l[f],u[f])))return!1;return!0}(n,e);default:return rt()}var i}function cf(n,e){return void 0!==(n.values||[]).find(t=>ao(t,e))}function zc(n,e){if(n===e)return 0;const t=Wc(n),r=Wc(e);if(t!==r)return zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const u=sr(i.integerValue||i.doubleValue),f=sr(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Sy(n.timestampValue,e.timestampValue);case 4:return Sy(ym(n),ym(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(i,l){const u=md(i),f=md(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const u=i.split("/"),f=l.split("/");for(let _=0;_<u.length&&_<f.length;_++){const D=zt(u[_],f[_]);if(0!==D)return D}return zt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const u=zt(sr(i.latitude),sr(l.latitude));return 0!==u?u:zt(sr(i.longitude),sr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const u=i.values||[],f=l.values||[];for(let _=0;_<u.length&&_<f.length;++_){const D=zc(u[_],f[_]);if(D)return D}return zt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const u=i.fields||{},f=Object.keys(u),_=l.fields||{},D=Object.keys(_);f.sort(),D.sort();for(let S=0;S<f.length&&S<D.length;++S){const A=zt(f[S],D[S]);if(0!==A)return A;const R=zc(u[f[S]],_[D[S]]);if(0!==R)return R}return zt(f.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Sy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Zc(n),r=Zc(e),i=zt(t.seconds,r.seconds);return 0!==i?i:zt(t.nanos,r.nanos)}function Kc(n){return fE(n)}function fE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Zc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?md(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const u of r.values||[])l?l=!1:i+=",",i+=fE(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${fE(r.fields[f])}`;return l+"}"}(n.mapValue):rt();var e}function uf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xb(n){return!!n&&"integerValue"in n}function df(n){return!!n&&"arrayValue"in n}function ew(n){return!!n&&"nullValue"in n}function pE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vm(n){return!!n&&"mapValue"in n}function hf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $c(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gE(n,e){return void 0===n?e:void 0===e||zc(n,e)>0?n:e}function tw(n,e){return void 0===n?e:void 0===e||zc(n,e)<0?n:e}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(t)}setAll(e){let t=hr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=hf(u):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());vm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$c(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Wi(hf(this.value))}}function nw(n){const e=[];return $c(n.fields,(t,r)=>{const i=new hr([t]);if(vm(r)){const l=nw(r.mapValue).fields;if(0===l.length)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)}),new lf(e)}class $n{constructor(e,t,r,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new $n(e,0,kt.min(),kt.min(),Wi.empty(),0)}static newFoundDocument(e,t,r){return new $n(e,1,t,kt.min(),r,0)}static newNoDocument(e,t){return new $n(e,2,t,kt.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,kt.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function My(n){return n.fields.find(e=>2===e.kind)}function ff(n){return n.fields.filter(e=>2!==e.kind)}bm.UNKNOWN_ID=-1;class Iy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ay{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ay(0,Jc.min())}}function rw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(1e9===r?new br(t+1,0):new br(t,r));return new Jc(i,Ye.empty(),e)}function BO(n){return new Jc(n.readTime,n.key,-1)}class Jc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jc(kt.min(),Ye.empty(),-1)}static max(){return new Jc(kt.max(),Ye.empty(),-1)}}function UO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}class HO{constructor(e,t=null,r=[],i=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=f,this.P=null}}function lI(n,e=null,t=[],r=[],i=null,l=null,u=null){return new HO(n,e,t,r,i,l,u)}function pf(n){const e=Ze(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Kc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),e.P=t}return e.P}function ky(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!uI(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ao(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DE(n.startAt,e.startAt)&&DE(n.endAt,e.endAt)}function gd(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function iw(n,e){return n.filters.filter(t=>t instanceof pi&&t.field.isEqual(e))}class pi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new sw(e,t,r):"array-contains"===t?new ow(e,r):"in"===t?new vE(e,r):"not-in"===t?new bE(e,r):"array-contains-any"===t?new wE(e,r):new pi(e,t,r)}static V(e,t,r){return"in"===t?new _E(e,r):new yE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zc(t,this.value)):null!==t&&Wc(this.value)===Wc(t)&&this.v(zc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sw extends pi{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class _E extends pi{constructor(e,t){super(e,"in",t),this.keys=cI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yE extends pi{constructor(e,t){super(e,"not-in",t),this.keys=cI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class ow extends pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return df(t)&&cf(t.arrayValue,this.value)}}class vE extends pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cf(this.value.arrayValue,t)}}class bE extends pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cf(this.value.arrayValue,t)}}class wE extends pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!df(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cf(this.value.arrayValue,r))}}class _d{constructor(e,t){this.position=e,this.inclusive=t}}class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function uI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function xy(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],u=n.position[i];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(u.referenceValue),t.key):zc(u,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function DE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ao(n.position[t],e.position[t]))return!1;return!0}class Qc{constructor(e,t=null,r=[],i=[],l=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function dI(n,e,t,r,i,l,u,f){return new Qc(n,e,t,r,i,l,u,f)}function wm(n){return new Qc(n)}function Oy(n){return!Gc(n.limit)&&"F"===n.limitType}function Ly(n){return!Gc(n.limit)&&"L"===n.limitType}function aw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function CE(n){for(const e of n.filters)if(e.S())return e.field;return null}function lw(n){return null!==n.collectionGroup}function Xc(n){const e=Ze(n);if(null===e.D){e.D=[];const t=CE(e),r=aw(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yd(t)),e.D.push(new yd(hr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yd(hr.keyField(),l))}}}return e.D}function Jo(n){const e=Ze(n);if(!e.C)if("F"===e.limitType)e.C=lI(e.path,e.collectionGroup,Xc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xc(e))t.push(new yd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new _d(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new _d(e.startAt.position,!e.startAt.inclusive):null;e.C=lI(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Qo(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dm(n,e){return ky(Jo(n),Jo(e))&&n.limitType===e.limitType}function Ny(n){return`${pf(Jo(n))}|lt:${n.limitType}`}function cw(n){return`Query(target=${function jO(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Kc(r.value)}`;var r}).join(", ")}]`),Gc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Kc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Kc(t)).join(",")),`Target(${e})`}(Jo(n))}; limitType=${n.limitType})`}function uw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,u){const f=xy(i,l,u);return i.inclusive?f<=0:f<0}(t.startAt,Xc(t),r)||t.endAt&&!function(i,l,u){const f=xy(i,l,u);return i.inclusive?f>=0:f>0}(t.endAt,Xc(t),r)));var t,r}function Ry(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dw(n){return(e,t)=>{let r=!1;for(const i of Xc(n)){const l=TE(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function TE(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,l,u){const f=l.data.field(i),_=u.data.field(i);return null!==f&&null!==_?zc(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function EE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function hw(n){return{integerValue:""+n}}function fw(n,e){return Ey(e)?hw(e):EE(n,e)}class Py{constructor(){this._=void 0}}function hI(n,e,t){return n instanceof mf?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof gf?SE(n,e):n instanceof eu?ME(n,e):function(r,i){const l=Xo(r,i),u=mw(l)+mw(r.k);return Xb(l)&&Xb(r.k)?hw(u):EE(r.M,u)}(n,e)}function pw(n,e,t){return n instanceof gf?SE(n,e):n instanceof eu?ME(n,e):t}function Xo(n,e){return n instanceof _f?Xb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mf extends Py{}class gf extends Py{constructor(e){super(),this.elements=e}}function SE(n,e){const t=IE(e);for(const r of n.elements)t.some(i=>ao(i,r))||t.push(r);return{arrayValue:{values:t}}}class eu extends Py{constructor(e){super(),this.elements=e}}function ME(n,e){let t=IE(e);for(const r of n.elements)t=t.filter(i=>!ao(i,r));return{arrayValue:{values:t}}}class _f extends Py{constructor(e,t){super(),this.M=e,this.k=t}}function mw(n){return sr(n.integerValue||n.doubleValue)}function IE(n){return df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fy{constructor(e,t){this.field=e,this.transform=t}}class kE{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cm{}function gw(n,e,t){n instanceof yf?function(r,i,l){const u=r.value.clone(),f=fI(r.fieldTransforms,i,l.transformResults);u.setAll(f),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof vd?function(r,i,l){if(!Vy(r.precondition,i))return void i.convertToUnknownDocument(l.version);const u=fI(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(LE(r)),f.setAll(u),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tm(n,e,t){var i;n instanceof yf?function(r,i,l){if(!Vy(r.precondition,i))return;const u=r.value.clone(),f=pI(r.fieldTransforms,l,i);u.setAll(f),i.convertToFoundDocument(_w(i),u).setHasLocalMutations()}(n,e,t):n instanceof vd?function(r,i,l){if(!Vy(r.precondition,i))return;const u=pI(r.fieldTransforms,l,i),f=i.data;f.setAll(LE(r)),f.setAll(u),i.convertToFoundDocument(_w(i),f).setHasLocalMutations()}(n,e,t):Vy(n.precondition,i=e)&&i.convertToNoDocument(kt.min())}function xE(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Xo(r.transform,i||null);null!=l&&(null==t&&(t=Wi.empty()),t.set(r.field,l))}return t||null}function OE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&pd(t,r,(i,l)=>function AE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof gf&&r instanceof gf||t instanceof eu&&r instanceof eu?pd(t.elements,r.elements,ao):t instanceof _f&&r instanceof _f?ao(t.k,r.k):t instanceof mf&&r instanceof mf);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function _w(n){return n.isFoundDocument()?n.version:kt.min()}class yf extends Cm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class vd extends Cm{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function LE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fI(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],u=l.transform,f=e.data.field(l.field);r.set(l.field,pw(u,f,t[i]))}return r}function pI(n,e,t){const r=new Map;for(const i of n){const l=i.transform,u=t.data.field(i.field);r.set(i.field,hI(l,u,e))}return r}class vf extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class yw extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class mI{constructor(e){this.count=e}}var Hr,mn;function gI(n){switch(n){default:return rt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function _I(n){if(void 0===n)return dr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Hr.OK:return de.OK;case Hr.CANCELLED:return de.CANCELLED;case Hr.UNKNOWN:return de.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return de.INTERNAL;case Hr.UNAVAILABLE:return de.UNAVAILABLE;case Hr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Hr.NOT_FOUND:return de.NOT_FOUND;case Hr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Hr.ABORTED:return de.ABORTED;case Hr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Hr.DATA_LOSS:return de.DATA_LOSS;default:return rt()}}(mn=Hr||(Hr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class bd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}class jr{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new By(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new By(this.root,e,this.comparator,!1)}getReverseIterator(){return new By(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new By(this.root,e,this.comparator,!0)}}class By{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Yr.RED,this.left=null!=i?i:Yr.EMPTY,this.right=null!=l?l:Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Yr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kn(this.comparator);return t.data=e,t}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wd(n){return n.hasNext()?n.getNext():void 0}const Dd=new jr(Ye.comparator);function lo(){return Dd}const vw=new jr(Ye.comparator);function Em(){return vw}function Sm(){return new bd(n=>n.toString(),(n,e)=>n.isEqual(e))}const bw=new jr(Ye.comparator),ww=new Kn(Ye.comparator);function gn(...n){let e=ww;for(const t of n)e=e.add(t);return e}const YO=new Kn(zt);function Dw(){return YO}class Uy{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Hy.createSynthesizedTargetChangeForCurrentChange(e,t)),new Uy(kt.min(),r,Dw(),lo(),gn())}}class Hy{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Hy(fi.EMPTY_BYTE_STRING,t,gn(),gn(),gn())}}class Mm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class RE{constructor(e,t){this.targetId=e,this.$=t}}class PE{constructor(e,t,r=fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class FE{constructor(){this.B=0,this.L=Tw(),this.U=fi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=gn(),t=gn(),r=gn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Hy(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=Tw()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class yI{constructor(e){this.nt=e,this.st=new Map,this.it=lo(),this.rt=Cw(),this.ot=new Kn(zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(gd(l))if(0===r){const u=new Ye(l.path);this.ct(t,u,$n.newNoDocument(u,kt.min()))}else Lt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,u)=>{const f=this.wt(u);if(f){if(l.current&&gd(f.target)){const _=new Ye(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,$n.newNoDocument(_,e))}l.j&&(t.set(u,l.H()),l.J())}});let r=gn();this.rt.forEach((l,u)=>{let f=!0;u.forEachWhile(_=>{const D=this.wt(_);return!D||2===D.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.it.forEach((l,u)=>u.setReadTime(e));const i=new Uy(e,t,this.ot,this.it,r);return this.it=lo(),this.rt=Cw(),this.ot=new Kn(zt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new FE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Kn(zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new FE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Cw(){return new jr(Ye.comparator)}function Tw(){return new jr(Ye.comparator)}const VE={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bI{constructor(e,t){this.databaseId=e,this.N=t}}function bf(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jy(n,e){return n.N?e.toBase64():e.toUint8Array()}function $O(n,e){return bf(n,e.toTimestamp())}function ei(n){return Lt(!!n),kt.fromTimestamp(function(e){const t=Zc(e);return new br(t.seconds,t.nanos)}(n))}function Im(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BE(n){const e=on.fromString(n);return Lt(I(e)),e}function Am(n,e){return Im(n.databaseId,e.path)}function Hl(n,e){const t=BE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(HE(t))}function UE(n,e){return Im(n.databaseId,e)}function wI(n){const e=BE(n);return 4===e.length?on.emptyPath():HE(e)}function km(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HE(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function DI(n,e,t){return{name:Am(n,e),fields:t.value.mapValue.fields}}function CI(n,e,t){const r=Hl(n,e.name),i=ei(e.updateTime),l=new Wi({mapValue:{fields:e.fields}}),u=$n.newFoundDocument(r,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Yy(n,e){let t;if(e instanceof yf)t={update:DI(n,e.key,e.value)};else if(e instanceof vf)t={delete:Am(n,e.key)};else if(e instanceof vd)t={update:DI(n,e.key,e.data),updateMask:C(e.fieldMask)};else{if(!(e instanceof yw))return rt();t={verify:Am(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const u=l.transform;if(u instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof eu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _f)return{fieldPath:l.field.canonicalString(),increment:u.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:$O(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function Ew(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ur.updateTime(ei(i.updateTime)):void 0!==i.exists?Ur.exists(i.exists):Ur.none():Ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let f=null;"setToServerValue"in u?(Lt("REQUEST_TIME"===u.setToServerValue),f=new mf):"appendMissingElements"in u?f=new gf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new eu(u.removeAllFromArray.values||[]):"increment"in u?f=new _f(l,u.increment):rt();const _=hr.fromServerFormat(u.fieldPath);return new Fy(_,f)}(n,i)):[];var i;if(e.update){const i=Hl(n,e.update.name),l=new Wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new lf((e.updateMask.fieldPaths||[]).map(D=>hr.fromServerFormat(D)));return new vd(i,l,u,t,r)}return new yf(i,l,t,r)}if(e.delete){const i=Hl(n,e.delete);return new vf(i,t)}if(e.verify){const i=Hl(n,e.verify);return new yw(i,t)}return rt()}function TI(n,e){return{documents:[UE(n,e.path)]}}function EI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const D=_.map(S=>function(A){if("=="===A.op){if(pE(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NAN"}};if(ew(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(pE(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NOT_NAN"}};if(ew(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:h(A.field),op:d(A.op),value:A.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(D=>{return{field:h((S=D).field),direction:c(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(D=e.limit,n.N||Gc(D)?D:{value:D});var D,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function SI(n){let e=wI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=a(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new yd(m((A=S).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(S){let A;return A="object"==typeof S?S.value:S,Gc(A)?null:A}(t.limit));let _=null;var S;t.startAt&&(_=new _d((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new _d(S.values||[],!S.before)}(t.endAt)),dI(e,i,u,l,f,"F",_,D)}function a(n){return n?void 0!==n.unaryFilter?[w(n)]:void 0!==n.fieldFilter?[v(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>a(e)).reduce((e,t)=>e.concat(t)):rt():[]}function c(n){return VE[n]}function d(n){return vI[n]}function h(n){return{fieldPath:n.canonicalString()}}function m(n){return hr.fromServerFormat(n.fieldPath)}function v(n){return pi.create(m(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function w(n){switch(n.unaryFilter.op){case"IS_NAN":const e=m(n.unaryFilter.field);return pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=m(n.unaryFilter.field);return pi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=m(n.unaryFilter.field);return pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=m(n.unaryFilter.field);return pi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function C(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function k(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U(e)),e=P(n.get(t),e);return U(e)}function P(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function U(n){return n+"\x01\x01"}function q(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&rt(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,u),i+="\0";break;case"\x11":i+=n.substring(l,u+1);break;default:rt()}l=u+2}return new on(r)}const ve=["userId","batchId"];function Re(n,e){return[n,k(e)]}function He(n,e,t){return[n,k(e),t]}const nt={},Ee=["prefixPath","collectionGroup","readTime","documentId"],gt=["prefixPath","collectionGroup","documentId"],en=["collectionGroup","readTime","prefixPath","documentId"],An=["canonicalId","targetId"],co=["targetId","path"],Cd=["path","targetId"],Sw=["collectionId","parent"],Mw=["indexId","uid"],Iw=["uid","sequenceNumber"],Aw=["indexId","uid","arrayValue","directionalValue","documentKey"],kw=["indexId","uid","documentKey"],xw=["userId","collectionPath","documentId"],Ow=["userId","collectionPath","largestBatchId"],Lw=["userId","collectionGroup","largestBatchId"],$y=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oV=[...$y,"documentOverlays"],WO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aV=[...WO,"indexConfiguration","indexState","indexEntries"],zO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,l=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++l,u&&l===i&&t()},_=>r(_))}),u=!0,l===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class jE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new hi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Nw(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=MI(r.target.error);this.At.reject(new Nw(e,i))}}static open(e,t,r,i){try{return new jE(t,e.transaction(i,r))}catch(l){throw new Nw(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new cV(t)}}class jl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===jl.Vt((0,Xt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Om(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Xt.hl)())return!1;if(jl.St())return!0;const e=(0,Xt.z$)(),t=jl.Vt(e),r=0<t&&t<10,i=jl.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{r(u.target.result)},l.onblocked=()=>{i(new Nw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Ae(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ae(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Nw(e,f))},l.onupgradeneeded=u=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=jE.open(l.db,e,u?"readonly":"readwrite",r),D=i(_).next(S=>(_.bt(),S)).catch(S=>(_.abort(S),me.reject(S))).toPromise();return D.catch(()=>{}),yield _.Rt,D}catch(_){const D="FirebaseError"!==_.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),l.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lV{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Om(this.Ft.delete())}}class Nw extends Ae{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xm(n){return"IndexedDbTransactionError"===n.name}class cV{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Om(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Om(this.store.add(e))}get(e){return Om(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Om(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Om(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Gt(i,(u,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new me((l,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(l,u,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=l=>{const u=MI(l.target.error);i(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}Gt(e,t){const r=[];return new me((i,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new lV(f),D=t(f.primaryKey,f.value,_);if(D instanceof me){const S=D.catch(A=>(_.done(),me.reject(A)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Om(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=MI(r.target.error);t(i)}})}let JO=!1;function MI(n){const e=jl.Vt((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JO||(JO=!0,setTimeout(()=>{throw r},0)),r}}return n}class QO extends KO{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function zi(n,e){const t=Ze(n);return jl.xt(t.Ht,e)}class II{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&gw(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Tm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Tm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gn())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,r)=>OE(t,r))&&pd(this.baseMutations,e.baseMutations,(t,r)=>OE(t,r))}}class AI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=bw;const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,r[u].version);return new AI(e,t,r,i)}}class kI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wf{constructor(e,t,r,i,l=kt.min(),u=kt.min(),f=fi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new wf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class XO{constructor(e){this.Jt=e}}function eL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:YE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Am(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:bf(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Lm(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Lm(e.version)}}var i,l;return r}function YE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Lm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nm(n){const e=new br(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function Zy(n,e){const t=(e.baseMutations||[]).map(l=>Ew(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(u.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Ew(n.Jt,l)),i=br.fromMillis(e.localWriteTimeMs);return new II(e.batchId,i,t,r)}function Rw(n){const e=Nm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nm(n.lastLimboFreeSnapshotVersion):kt.min();let r;var i;return void 0!==n.query.documents?(Lt(1===(i=n.query).documents.length),r=Jo(wm(wI(i.documents[0])))):r=Jo(SI(n.query)),new wf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,fi.fromBase64String(n.resumeToken))}function tL(n,e){const t=Lm(e.snapshotVersion),r=Lm(e.lastLimboFreeSnapshotVersion);let i;i=gd(e.target)?TI(n.Jt,e.target):EI(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xI(n){const e=SI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qo(e,e.limit,"L"):e}function OI(n,e){return new kI(e.largestBatchId,Ew(n.Jt,e.overlayMutation))}function nL(n,e){const t=e.path.lastSegment();return[n,k(e.path.popLast()),t]}class dV{getBundleMetadata(e,t){return rL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Nm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return rL(e).put({bundleId:(r=t).id,createTime:Lm(ei(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return iL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:xI(i.bundledQuery),readTime:Nm(i.readTime)};var i})}saveNamedQuery(e,t){return iL(e).put({name:(r=t).name,readTime:Lm(ei(r.readTime)),bundledQuery:r.bundledQuery});var r}}function rL(n){return zi(n,"bundles")}function iL(n){return zi(n,"namedQueries")}class LI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new LI(e,t.uid||"")}getOverlay(e,t){return Pw(e).get(nL(this.userId,t)).next(r=>r?OI(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,u)=>{const f=new kI(t,u);i.push(this.Xt(e,f))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(k(u.getCollectionPath())));const l=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(Pw(e).Qt("collectionPathOverlayIndex",f))}),me.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Sm(),l=k(t),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Pw(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const D=OI(this.M,_);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Sm();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pw(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,D,S)=>{const A=OI(this.M,D);l.size()<i||A.largestBatchId===u?(l.set(A.getKey(),A),u=A.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return Pw(e).put(function(r,i,l){const[u,f,_]=nL(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Yy(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Pw(n){return zi(n,"documentOverlays")}class Gy{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),qc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(md(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?mE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function hV(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function sL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=hV(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Gy.fe=new Gy;class fV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=sL(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=sL(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class pV{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class mV{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class $E{constructor(){this.De=new fV,this.Ce=new pV(this.De),this.xe=new mV(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Df{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Df(this.indexId,this.documentKey,this.arrayValue,r)}}function Rm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=oL(n.arrayValue,e.arrayValue),0!==t?t:(t=oL(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function oL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class gV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=My(e);if(void 0!==t&&!this.Be(t))return!1;const r=ff(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[l++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class _V{constructor(){this.qe=new NI}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class NI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kn(on.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(on.comparator)).toArray()}}const ZE=new Uint8Array(0);class yV{constructor(e){this.user=e,this.Ge=new NI,this.Ke=new bd(t=>pf(t),(t,r)=>ky(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:k(i)};return aL(e).put(l)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[zb(t),""],!1,!0);return aL(e).qt(i).next(l=>{for(const u of l){if(u.collectionId!==t)break;r.push(q(u.parent))}return r})}addFieldIndex(e,t){const r=GE(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=GE(e),i=qE(e),l=Fw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Fw(e);let i=!0;const l=new Map;return me.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{i&&(i=!!f),l.set(u,f)})).next(()=>{if(i){let u=gn();return me.forEach(l,(f,_)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=f,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${pf(t)}`);const S=function(Oe,We){const Ge=My(We);if(void 0===Ge)return null;for(const yt of iw(Oe,Ge.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(_,f),A=function(Oe,We){const Ge=new Map;for(const yt of ff(We))for(const ct of iw(Oe,yt.fieldPath))switch(ct.op){case"==":case"in":Ge.set(yt.fieldPath.canonicalString(),ct.value);break;case"not-in":case"!=":return Ge.set(yt.fieldPath.canonicalString(),ct.value),Array.from(Ge.values())}return null}(_,f),R=function(Oe,We){const Ge=[];let yt=!0;for(const un of ff(We)){let Pn,On=!0;for(const tn of iw(Oe,un.fieldPath)){let Bn,mo=!0;switch(tn.op){case"<":case"<=":Bn="nullValue"in(ct=tn.value)?hE:"booleanValue"in ct?{booleanValue:!1}:"integerValue"in ct||"doubleValue"in ct?{doubleValue:NaN}:"timestampValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ct?{stringValue:""}:"bytesValue"in ct?{bytesValue:""}:"referenceValue"in ct?uf(el.empty(),Ye.empty()):"geoPointValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ct?{arrayValue:{}}:"mapValue"in ct?{mapValue:{}}:rt();break;case"==":case"in":case">=":Bn=tn.value;break;case">":Bn=tn.value,mo=!1;break;case"!=":case"not-in":Bn=hE}gE(Pn,Bn)===Bn&&(Pn=Bn,On=mo)}if(null!==Oe.startAt)for(let tn=0;tn<Oe.orderBy.length;++tn)if(Oe.orderBy[tn].field.isEqual(un.fieldPath)){const Bn=Oe.startAt.position[tn];gE(Pn,Bn)===Bn&&(Pn=Bn,On=Oe.startAt.inclusive);break}if(void 0===Pn)return null;Ge.push(Pn),yt&&(yt=On)}var ct;return new _d(Ge,yt)}(_,f),B=function(Oe,We){const Ge=[];let yt=!0;for(const un of ff(We)){let Pn,On=!0;for(const tn of iw(Oe,un.fieldPath)){let Bn,mo=!0;switch(tn.op){case">=":case">":Bn="nullValue"in(ct=tn.value)?{booleanValue:!1}:"booleanValue"in ct?{doubleValue:NaN}:"integerValue"in ct||"doubleValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ct?{stringValue:""}:"stringValue"in ct?{bytesValue:""}:"bytesValue"in ct?uf(el.empty(),Ye.empty()):"referenceValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ct?{arrayValue:{}}:"arrayValue"in ct?{mapValue:{}}:"mapValue"in ct?Qb:rt(),mo=!1;break;case"==":case"in":case"<=":Bn=tn.value;break;case"<":Bn=tn.value,mo=!1;break;case"!=":case"not-in":Bn=Qb}tw(Pn,Bn)===Bn&&(Pn=Bn,On=mo)}if(null!==Oe.endAt)for(let tn=0;tn<Oe.orderBy.length;++tn)if(Oe.orderBy[tn].field.isEqual(un.fieldPath)){const Bn=Oe.endAt.position[tn];tw(Pn,Bn)===Bn&&(Pn=Bn,On=Oe.endAt.inclusive);break}if(void 0===Pn)return null;Ge.push(Pn),yt&&(yt=On)}var ct;return new _d(Ge,yt)}(_,f),$=this.je(f,_,R),ee=this.je(f,_,B),_e=this.We(f,_,A),Ve=this.ze(f.indexId,S,$,!!R&&R.inclusive,ee,!!B&&B.inclusive,_e);return me.forEach(Ve,Oe=>r.Kt(Oe,t.limit).next(We=>{We.forEach(Ge=>{u=u.add(new Ye(q(Ge.documentKey)))})}))}).next(()=>u)}return me.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,l,u,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),D=_/(null!=t?t.length:1),S=[];for(let A=0;A<_;++A){const R=t?this.He(t[A/D]):ZE,B=r?this.Je(e,R,r[A%D],i):this.Ye(e),$=l?this.Xe(e,R,l[A%D],u):this.Ye(e+1);S.push(...this.createRange(B,$,f.map(ee=>this.Je(e,R,ee,!0))))}return S}Je(e,t,r,i){const l=new Df(e,Ye.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Df(e,Ye.empty(),t,r);return i?l.ke():l}Ye(e){return new Df(e,Ye.empty(),ZE,ZE)}getFieldIndex(e,t){const r=new gV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const u=l.filter(f=>r.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const r=new $E;for(const i of ff(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const u=r.Ne(i.kind);Gy.fe.Zt(l,u)}return r.Se()}He(e){const t=new $E;return Gy.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new $E);let l=0;for(const u of ff(e)){const f=r[l++];for(const _ of i)if(this.tn(t,u.fieldPath)&&df(f))i=this.en(i,u,f);else{const D=_.Ne(u.kind);Gy.fe.Zt(f,D)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],l=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new $E;_.seed(f.Se()),Gy.fe.Zt(u,_.Ne(t.kind)),l.push(_)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof pi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=GE(e),i=qE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const u=[];return me.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(D,S){const A=S?new Ay(S.sequenceNumber,new Jc(Nm(S.readTime),new Ye(q(S.documentKey)),S.largestBatchId)):Ay.empty(),R=D.fields.map(([B,$])=>new Iy(hr.fromServerFormat(B),$));return new bm(D.indexId,D.collectionGroup,R,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=GE(e),l=qE(e);return this.sn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>me.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Lm((R=r).readTime),documentKey:k(R.documentKey.path),largestBatchId:R.largestBatchId});var R})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,l)=>{const u=r.get(i.collectionGroup);return(u?me.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),me.forEach(f,_=>this.rn(e,i,_).next(D=>{const S=this.on(l,_);return D.isEqual(S)?me.resolve():this.un(e,l,D,S)}))))})}an(e,t,r){return Fw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:k(t.key.path)})}cn(e,t,r){return Fw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,k(t.key.path)])}rn(e,t,r){const i=Fw(e);let l=new Kn(Rm);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,k(t.path)])},(u,f)=>{l=l.add(new Df(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}on(e,t){let r=new Kn(Rm);const i=this.Ze(t,e);if(null==i)return r;const l=My(t);if(null!=l){const u=e.data.field(l.fieldPath);if(df(u))for(const f of u.arrayValue.values||[])r=r.add(new Df(t.indexId,e.key,this.He(f),i))}else r=r.add(new Df(t.indexId,e.key,ZE,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(u,f,_,D,S){const A=u.getIterator(),R=f.getIterator();let B=wd(A),$=wd(R);for(;B||$;){let ee=!1,_e=!1;if(B&&$){const Ve=_(B,$);Ve<0?_e=!0:Ve>0&&(ee=!0)}else null!=B?_e=!0:ee=!0;ee?(D($),$=wd(R)):_e?(S(B),B=wd(A)):(B=wd(A),$=wd(R))}}(r,i,Rm,u=>{l.push(this.an(e,t,u))},u=>{l.push(this.cn(e,t,u))}),me.waitFor(l)}sn(e){let t=1;return qE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Rm(u,f)).filter((u,f,_)=>!f||0!==Rm(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=Rm(u,e),_=Rm(u,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(u),i.push(u.ke());else if(_>0)break}i.push(t);const l=[];for(let u=0;u<i.length;u+=2)l.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,""],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,""]));return l}}function aL(n){return zi(n,"collectionParents")}function Fw(n){return zi(n,"indexEntries")}function GE(n){return zi(n,"indexConfiguration")}function qE(n){return zi(n,"indexState")}const lL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ea{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:u},(S,A,R)=>(f++,R.delete()));l.push(_.next(()=>{Lt(1===f)}));const D=[];for(const S of t.mutations){const A=He(e,S.key.path,t.batchId);l.push(i.delete(A)),D.push(S.key)}return me.waitFor(l).next(()=>D)}function WE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class RI{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new RI(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cf(e).Wt({index:"userMutationsIndex",range:r},(i,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=qy(e),u=Cf(e);return u.add({}).next(f=>{Lt("number"==typeof f);const _=new II(f,t,r,i),D=function(R,B,$){const ee=$.baseMutations.map(Ve=>Yy(R.Jt,Ve)),_e=$.mutations.map(Ve=>Yy(R.Jt,Ve));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:_e}}(this.M,this.userId,_),S=[];let A=new Kn((R,B)=>zt(R.canonicalString(),B.canonicalString()));for(const R of i){const B=He(this.userId,R.key.path,f);A=A.add(R.key.path.popLast()),S.push(u.put(D)),S.push(l.put(B,nt))}return A.forEach(R=>{S.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),me.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Cf(e).get(t).next(r=>r?(Lt(r.userId===this.userId),Zy(this.M,r)):null)}ln(e,t){return this.hn[t]?me.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Cf(e).Wt({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(Lt(f.batchId>=r),l=Zy(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,u)=>{r=l.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Zy(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Re(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return qy(e).Wt({range:i},(u,f,_)=>{const[D,S,A]=u,R=q(S);if(D===this.userId&&t.path.isEqual(R))return Cf(e).get(A).next(B=>{if(!B)throw rt();Lt(B.userId===this.userId),l.push(Zy(this.M,B))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(zt);const i=[];return t.forEach(l=>{const u=Re(this.userId,l.path),f=IDBKeyRange.lowerBound(u),_=qy(e).Wt({range:f},(D,S,A)=>{const[R,B,$]=D,ee=q(B);R===this.userId&&l.path.isEqual(ee)?r=r.add($):A.done()});i.push(_)}),me.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Re(this.userId,r),u=IDBKeyRange.lowerBound(l);let f=new Kn(zt);return qy(e).Wt({range:u},(_,D,S)=>{const[A,R,B]=_,$=q(R);A===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(B)):S.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Cf(e).get(l).next(u=>{if(null===u)throw rt();Lt(u.userId===this.userId),r.push(Zy(this.M,u))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return cL(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return qy(e).Wt({range:r},(l,u,f)=>{if(l[0]===this.userId){const _=q(l[1]);i.push(_)}else f.done()}).next(()=>{Lt(0===i.length)})})}containsKey(e,t){return uL(e,this.userId,t)}_n(e){return dL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uL(n,e,t){const r=Re(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return qy(n).Wt({range:l,jt:!0},(f,_,D)=>{const[S,A,R]=f;S===e&&A===i&&(u=!0),D.done()}).next(()=>u)}function Cf(n){return zi(n,"mutations")}function qy(n){return zi(n,"documentMutations")}function dL(n){return zi(n,"mutationQueues")}class Pm{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Pm(0)}static gn(){return new Pm(-1)}}class vV{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Pm(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>kt.fromTimestamp(new br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wy(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Lt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Wy(e).Wt((u,f)=>{const _=Rw(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>me.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Wy(e).Wt((r,i)=>{const l=Rw(i);t(l)})}yn(e){return hL(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}pn(e,t){return hL(e).put("targetGlobalKey",t)}In(e,t){return Wy(e).put(tL(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=pf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Wy(e).Wt({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const D=Rw(f);ky(t,D.target)&&(l=D,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Tf(e);return t.forEach(u=>{const f=k(u.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Tf(e);return me.forEach(t,l=>{const u=k(l.path);return me.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Tf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Tf(e);let l=gn();return i.Wt({range:r,jt:!0},(u,f,_)=>{const D=q(u[1]),S=new Ye(D);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=k(t.path),i=IDBKeyRange.bound([r],[zb(r)],!1,!0);let l=0;return Tf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,f],_,D)=>{0!==u&&(l++,D.done())}).next(()=>l>0)}Et(e,t){return Wy(e).get(t).next(r=>r?Rw(r):null)}}function Wy(n){return zi(n,"targets")}function hL(n){return zi(n,"targetGlobal")}function Tf(n){return zi(n,"targetDocuments")}function Fm(n){return PI.apply(this,arguments)}function PI(){return PI=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==zO)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),PI.apply(this,arguments)}function fL([n,e],[t,r]){const i=zt(n,t);return 0===i?zt(e,r):i}class bV{constructor(e){this.En=e,this.buffer=new Kn(fL),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wV{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){xm(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Fm(i)}yield t.vn(e)}))}}class DV{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(oo.A);const r=new bV(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(lL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lL):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,l,u,f,_,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(D=Date.now(),Yb()<=Vl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-S}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class CV{constructor(e,t){this.db=e,this.garbageCollector=new DV(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return zE(e,r)}removeReference(e,t,r){return zE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zE(e,t)}Mn(e,t){return function(r,i){let l=!1;return dL(r).zt(u=>uL(r,u,i).next(f=>(f&&(l=!0),me.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.kn(e,(u,f)=>{if(f<=t){const _=this.Mn(e,u).next(D=>{if(!D)return l++,r.getEntry(e,u).next(()=>(r.removeEntry(u,kt.min()),Tf(e).delete([0,k(u.path)])))});i.push(_)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zE(e,t)}kn(e,t){const r=Tf(e);let i,l=oo.A;return r.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:D})=>{0===u?(l!==oo.A&&t(new Ye(q(i)),l),l=D,i=_):l=oo.A}).next(()=>{l!==oo.A&&t(new Ye(q(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zE(n,e){return Tf(n).put((r=n.currentSequenceNumber,{targetId:0,path:k(e.path),sequenceNumber:r}));var r}class pL{constructor(){this.changes=new bd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TV{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vm(e).put(r)}removeEntry(e,t,r){return Vm(e).delete(function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],YE(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=$n.newInvalidDocument(t);return Vm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:$n.newInvalidDocument(t)};return Vm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,l)=>{r={document:this.Fn(t,l),size:WE(l)}}).next(()=>r)}getEntries(e,t){let r=lo();return this.Bn(e,t,(i,l)=>{const u=this.Fn(i,l);r=r.insert(i,u)}).next(()=>r)}Ln(e,t){let r=lo(),i=new jr(Ye.comparator);return this.Bn(e,t,(l,u)=>{const f=this.Fn(l,u);r=r.insert(l,f),i=i.insert(l,WE(u))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return me.resolve();let i=new Kn(_L);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(Vw(i.first()),Vw(i.last())),u=i.getIterator();let f=u.getNext();return Vm(e).Wt({index:"documentKeyIndex",range:l},(_,D,S)=>{const A=Ye.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;f&&_L(f,A)<0;)r(f,null),f=u.getNext();f&&f.isEqual(A)&&(r(f,D),f=u.hasNext()?u.getNext():null),f?S.Ut(Vw(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),YE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vm(e).qt(IDBKeyRange.bound(i,l,!0)).next(u=>{let f=lo();for(const _ of u){const D=this.Fn(Ye.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(D.key,D)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=lo();const u=gL(t,r),f=gL(t,Jc.max());return Vm(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,D,S)=>{const A=this.Fn(Ye.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(A.key,A),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new EV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mL(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}On(e,t){return mL(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function uV(n,e){let t;if(e.document)t=CI(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=Nm(e.noDocument.readTime);t=$n.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=Ye.fromSegments(e.unknownDocument.path),i=Nm(e.unknownDocument.version);t=$n.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new br(r[0],r[1]);return kt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return $n.newInvalidDocument(e)}}class EV extends pL{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new bd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Kn((l,u)=>zt(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,f.readTime)),u.isValidDocument()){const _=eL(this.qn.M,u);i=i.add(l.path.popLast()),r+=WE(_)-f.size,t.push(this.qn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=eL(this.qn.M,u.convertToNoDocument(kt.min()));t.push(this.qn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((l,u)=>{this.Gn.set(l,{size:u,readTime:r.get(l).readTime})}),r))}}function mL(n){return zi(n,"remoteDocumentGlobal")}function Vm(n){return zi(n,"remoteDocumentsV14")}function Vw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gL(n,e){const t=e.documentKey.path.toArray();return[n,YE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _L(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ye.comparator(n,e)}class SV{constructor(e){this.M=e}kt(e,t,r,i){const l=new jE("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ve,{unique:!0}),f.createObjectStore("documentMutations"),yL(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=me.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),yL(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",D)}(l))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(D=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ve,{unique:!0});const S=_.store("mutations"),A=D.map(R=>S.put(R));return me.waitFor(A)})}(e,l))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Kn(l))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&i>=7&&(u=u.next(()=>this.jn(l))),r<8&&i>=8&&(u=u.next(()=>this.Wn(e,l))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.zn(l))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:xw});_.createIndex("collectionPathOverlayIndex",Ow,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Lw,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Ee});_.createIndex("documentKeyIndex",gt),_.createIndex("collectionGroupIndex",en)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Mw}).createIndex("sequenceNumberIndex",Iw,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Aw}).createIndex("documentKeyIndex",kw,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=WE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>me.forEach(i,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(f=>me.forEach(f,_=>{Lt(_.userId===l.userId);const D=Zy(this.M,_);return cL(e,l.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((u,f)=>{const _=new on(u),D=[0,k(_)];l.push(t.get(D).next(S=>S?me.resolve():t.put({targetId:0,path:k(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Sw});const r=t.store("collectionParents"),i=new NI,l=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:k(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new on(u);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,_],D)=>{const S=q(f);return l(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Rw(i),u=tL(this.M,l);return t.put(u)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,u)=>{const f=t.store("remoteDocumentsV14"),_=(D=u,D.document?new Ye(on.fromString(D.document.name).popFirst(5)):D.noDocument?Ye.fromSegments(D.noDocument.path):D.unknownDocument?Ye.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(S))}).next(()=>me.waitFor(i))}}function yL(n){n.createObjectStore("targetDocuments",{keyPath:co}).createIndex("documentTargetsIndex",Cd,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",An,{unique:!0}),n.createObjectStore("targetGlobal")}const FI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VI{constructor(e,t,r,i,l,u,f,_,D,S,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=u,this.document=f,this.Yn=D,this.Xn=S,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=R=>Promise.resolve(),!VI.vt())throw new Ae(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CV(this,i),this.cs=t+"main",this.M=new XO(_),this.hs=new jl(this.cs,this.Zn,new SV(this.M)),this.ls=new vV(this.referenceDelegate,this.M),this.fs=new TV(this.M),this.ds=new dV,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,FI);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new oo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>KE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(xm(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Bw(e).get("owner").next(t=>me.resolve(this.bs(t)))}Ps(e){return KE(e).delete(this.clientId)}Vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=zi(r,"clientMetadata");return i.qt().next(l=>{const u=e.Ss(l,18e5),f=l.filter(_=>-1===u.indexOf(_));return me.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?me.resolve(!0):Bw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,FI);return!1}}return!(!this.networkEnabled||!this.inForeground)||KE(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new QO(t,oo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>KE(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return RI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new yV(e)}getDocumentOverlayCache(e){return LI.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(u=this.Zn)?aV:13===u?WO:12===u?oV:11===u?$y:void rt();var u;let f;return this.hs.runTransaction(e,i,l,_=>(f=new QO(_,this.ts?this.ts.next():oo.A),"readwrite-primary"===t?this.Ts(f).next(D=>!!D||this.Es(f)).next(D=>{if(!D)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(de.FAILED_PRECONDITION,zO);return r(f)}).next(D=>this.Rs(f).next(()=>D)):this.Fs(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return Bw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(de.FAILED_PRECONDITION,FI)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bw(e).put("owner",t)}static vt(){return jl.vt()}As(e){const t=Bw(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bw(n){return zi(n,"owner")}function KE(n){return zi(n,"clientMetadata")}function BI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class MV{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):lw(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new Ye(t)).next(r=>{let i=Em();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let l=Em();return this.indexManager.getCollectionParents(e,i).next(u=>me.forEach(u,f=>{const _=(D=t,S=f.child(i),new Qc(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Ws(e,_,r).next(D=>{D.forEach((S,A)=>{l=l.insert(S,A)})})}).next(()=>l))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const u of l)for(const f of u.mutations){const _=f.key;let D=i.get(_);null==D&&(D=$n.newInvalidDocument(_),i=i.insert(_,D)),Tm(f,D,u.localWriteTime),D.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((l,u)=>{uw(t,u)||(i=i.remove(l))}),i))}}class UI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=gn(),i=gn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new UI(e,t.fromCache,r,i)}}class vL{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(kt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(l=>{const u=this.ti(t,l);return(Oy(t)||Ly(t))&&this.ei(t.limitType,u,i,r)?this.Zs(e,t):(Yb()<=Vl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cw(t)),this.Xs.Ks(e,t,rw(r,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ti(e,t){let r=new Kn(dw(e));return t.forEach((i,l)=>{uw(e,l)&&(r=r.add(l))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Zs(e,t){return Yb()<=Vl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",cw(t)),this.Xs.Ks(e,t,Jc.min())}}class IV{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new jr(zt),this.ii=new bd(l=>pf(l),ky),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new MV(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function bL(n,e,t,r){return new IV(n,e,t,r)}function wL(n,e){return HI.apply(this,arguments)}function HI(){return HI=(0,ye.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(l=>(i=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const u=[],f=[];let _=gn();for(const D of i){u.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}for(const D of l){f.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}return t.ai.qs(r,_).next(D=>({ci:D,removedBatchIds:u,addedBatchIds:f}))})})}),HI.apply(this,arguments)}function AV(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,D){const S=_.batch,A=S.keys();let R=me.resolve();return A.forEach(B=>{R=R.next(()=>D.getEntry(f,B)).next($=>{const ee=_.docVersions.get(B);Lt(null!==ee),$.version.compareTo(ee)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),D.addEntry($)))})}),R.next(()=>u.$s.removeMutationBatch(f,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function DL(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function kV(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((D,S)=>{const A=i.get(S);if(!A)return;f.push(t.ls.removeMatchingKeys(l,D.removedDocuments,S).next(()=>t.ls.addMatchingKeys(l,D.addedDocuments,S)));let R=A.withSequenceNumber(l.currentSequenceNumber);var B,$,ee;e.targetMismatches.has(S)?R=R.withResumeToken(fi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):D.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(D.resumeToken,r)),i=i.insert(S,R),$=R,ee=D,(0===(B=A).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(l,R))});let _=lo();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),f.push(CL(l,u,e.documentUpdates).next(D=>{_=D})),!r.isEqual(kt.min())){const D=t.ls.getLastRemoteSnapshotVersion(l).next(S=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(D)}return me.waitFor(f).next(()=>u.apply(l)).next(()=>t.ai.Gs(l,_)).next(()=>_)}).then(l=>(t.si=i,l))}function CL(n,e,t){let r=gn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=lo();return t.forEach((u,f)=>{const _=i.get(u);f.isNoDocument()&&f.version.isEqual(kt.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Pe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),l})}function xV(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function zy(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(l=>l?(i=l,me.resolve(i)):t.ls.allocateTargetId(r).next(u=>(i=new wf(e,u,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Ky(n,e,t){return jI.apply(this,arguments)}function jI(){return jI=(0,ye.Z)(function*(n,e,t){const r=Ze(n),i=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!xm(u))throw u;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),jI.apply(this,arguments)}function JE(n,e,t){const r=Ze(n);let i=kt.min(),l=gn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,D){const S=Ze(f),A=S.ii.get(D);return void 0!==A?me.resolve(S.si.get(A)):S.ls.getTargetData(_,D)}(r,u,Jo(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(u,f.targetId).next(_=>{l=_})}).next(()=>r.ni.Ks(u,e,t?i:kt.min(),t?l:gn())).next(f=>(SL(r,Ry(e),f),{documents:f,hi:l})))}function TL(n,e){const t=Ze(n),r=Ze(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(u=>u?u.target:null))}function EL(n,e){const t=Ze(n),r=t.ri.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,rw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(SL(t,e,i),i))}function SL(n,e,t){let r=kt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function YI(){return YI=(0,ye.Z)(function*(n,e,t,r){const i=Ze(n);let l=gn(),u=lo();for(const D of t){const S=e.li(D.metadata.name);D.document&&(l=l.add(S));const A=e.fi(D);A.setReadTime(e.di(D.metadata.readTime)),u=u.insert(S,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),_=yield zy(i,(D=r,Jo(wm(on.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>CL(D,f,u).next(S=>(f.apply(D),S)).next(S=>i.ls.removeMatchingKeysForTargetId(D,_.targetId).next(()=>i.ls.addMatchingKeys(D,l,_.targetId)).next(()=>i.ai.Gs(D,S)).next(()=>S)))}),YI.apply(this,arguments)}function LV(n,e){return $I.apply(this,arguments)}function $I(){return $I=(0,ye.Z)(function*(n,e,t=gn()){const r=yield zy(n,Jo(xI(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const u=ei(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.ds.saveNamedQuery(l,e);const f=r.withResumeToken(fi.EMPTY_BYTE_STRING,u);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(l,f).next(()=>i.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.ls.addMatchingKeys(l,t,r.targetId)).next(()=>i.ds.saveNamedQuery(l,e))})}),$I.apply(this,arguments)}class NV{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return me.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:ei(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:xI(r.bundledQuery),readTime:ei(r.readTime)}),me.resolve();var r}}class RV{constructor(){this.overlays=new jr(Ye.comparator),this.mi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=Sm(),l=t.length+1,u=new Ye(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new jr((D,S)=>D-S);const u=this.overlays.getIterator();for(;u.hasNext();){const D=u.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=l.get(D.largestBatchId);null===S&&(S=Sm(),l=l.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const f=Sm(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,S)=>f.set(D,S)),!(f.size()>=i)););return me.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kI(t,r));let l=this.mi.get(t);void 0===l&&(l=gn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class ZI{constructor(){this.gi=new Kn(Ki.yi),this.pi=new Kn(Ki.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ki(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ki(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ye(new on([])),r=new Ki(t,e),i=new Ki(t,e+1),l=[];return this.pi.forEachInRange([r,i],u=>{this.Ei(u),l.push(u.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ye(new on([])),r=new Ki(t,e),i=new Ki(t,e+1);let l=gn();return this.pi.forEachInRange([r,i],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Ki(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ki{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ye.comparator(e.key,t.key)||zt(e.Vi,t.Vi)}static Ii(e,t){return zt(e.Vi,t.Vi)||Ye.comparator(e.key,t.key)}}class PV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Kn(Ki.yi)}checkEmpty(e){return me.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const l=this.vi;this.vi++;const u=new II(l,t,r,i);this.$s.push(u);for(const f of i)this.Si=this.Si.add(new Ki(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),l=i<0?0:i;return me.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return me.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ki(t,0),i=new Ki(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,i],u=>{const f=this.Di(u.Vi);l.push(f)}),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(zt);return t.forEach(i=>{const l=new Ki(i,0),u=new Ki(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,u],f=>{r=r.add(f.Vi)})}),me.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const u=new Ki(new Ye(l),0);let f=new Kn(zt);return this.Si.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(f=f.add(_.Vi)),!0)},u),me.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return me.forEach(t.mutations,i=>{const l=new Ki(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ki(t,0),i=this.Si.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class FV{constructor(e){this.ki=e,this.docs=new jr(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,u=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():$n.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=lo();const l=new Ye(t.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||UO(BO(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}Mi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VV(this)}getSize(e){return me.resolve(this.size)}}class VV extends pL{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class BV{constructor(e){this.persistence=e,this.Oi=new bd(t=>pf(t),ky),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new ZI,this.targetCount=0,this.Bi=Pm.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),me.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Pm(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.In(t),me.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),me.waitFor(l).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(u=>{l.push(i.markPotentiallyOrphaned(e,u))}),me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.$i.containsKey(t))}}class UV{constructor(e,t){this.Li={},this.overlays={},this.ts=new oo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new BV(this),this.indexManager=new _V,this.fs=new FV(r=>this.referenceDelegate.Ui(r)),this.M=new XO(t),this.ds=new NV(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new PV(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new HV(this.ts.next());return this.referenceDelegate.qi(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ki(e,t){return me.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class HV extends KO{constructor(e){super(),this.currentSequenceNumber=e}}class GI{constructor(e){this.persistence=e,this.Qi=new ZI,this.ji=null}static Wi(e){return new GI(e)}get zi(){if(this.ji)return this.ji;throw rt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.zi,r=>{const i=Ye.fromPath(r);return this.Hi(e,i).next(l=>{l||t.removeEntry(i,kt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return me.or([()=>me.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function ML(n,e){return`firestore_clients_${n}_${e}`}function IL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qI(n,e){return`firestore_targets_${n}_${e}`}class QE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(l=new Ae(i.error.code,i.error.message))),u?new QE(e,t,i.state,l):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ae(r.error.code,r.error.message))),l?new Uw(e,r.state,i):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class XE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Dw();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=Ey(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return i?new XE(e,l):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class WI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new WI(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zI{constructor(){this.activeTargetIds=Dw()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KI{constructor(e,t,r,i,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new jr(zt),this.started=!1,this.ir=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=ML(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new zI),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const l=e.getItem(ML(e.persistenceKey,i));if(l){const u=XE.Ji(i,l);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qI(this.persistenceKey,e));if(r){const i=Uw.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qI(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let u=oo.A;if(null!=l)try{const f=JSON.parse(l);Lt("number"==typeof f),u=f}catch(f){dr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==oo.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new QE(this.currentUser,e,t,r),l=IL(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=IL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=qI(this.persistenceKey,e),l=new Uw(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return XE.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return QE.Ji(new xi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Uw.Ji(i,t)}wr(e){return WI.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),u=[],f=[];return l.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Or(u,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Dw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class AL{constructor(){this.Fr=new zI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new zI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jV{Br(e){}shutdown(){}}class kL{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $V{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class ZV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const u=this.oo(e,t);Pe("RestConnection","Sending: ",u,r);const f={};return this.uo(f,i,l),this.ao(e,u,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Yc("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}co(e,t,r,i,l){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${YV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((l,u)=>{const f=new jb;f.listenOnce(nI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case wy.NO_ERROR:const D=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),l(D);break;case wy.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),u(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case wy.HTTP_ERROR:const S=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const R=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN}(A.status);u(new Ae(R,A.message))}else u(new Ae(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=tI(),u=iE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new gm({})),this.uo(f.initMessageHeaders,t,r),(0,Xt.uI)()||(0,Xt.b$)()||(0,Xt.d)()||(0,Xt.w1)()||(0,Xt.Mn)()||(0,Xt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const D=l.createWebChannel(_,f);let S=!1,A=!1;const R=new $V({jr:$=>{A?Pe("Connection","Not sending because WebChannel is closed:",$):(S||(Pe("Connection","Opening WebChannel transport."),D.open(),S=!0),Pe("Connection","WebChannel sending:",$),D.send($))},Wr:()=>D.close()}),B=($,ee,_e)=>{$.listen(ee,Ve=>{try{_e(Ve)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return B(D,Dy.EventType.OPEN,()=>{A||Pe("Connection","WebChannel transport opened.")}),B(D,Dy.EventType.CLOSE,()=>{A||(A=!0,Pe("Connection","WebChannel transport closed"),R.eo())}),B(D,Dy.EventType.ERROR,$=>{A||(A=!0,Yc("Connection","WebChannel transport errored:",$),R.eo(new Ae(de.UNAVAILABLE,"The operation could not be completed")))}),B(D,Dy.EventType.MESSAGE,$=>{var ee;if(!A){const _e=$.data[0];Lt(!!_e);const Ve=_e,Oe=Ve.error||(null===(ee=Ve[0])||void 0===ee?void 0:ee.error);if(Oe){Pe("Connection","WebChannel received error:",Oe);const We=Oe.status;let Ge=function(ct){const un=Hr[ct];if(void 0!==un)return _I(un)}(We),yt=Oe.message;void 0===Ge&&(Ge=de.INTERNAL,yt="Unknown error status: "+We+" with message "+Oe.message),A=!0,R.eo(new Ae(Ge,yt)),D.close()}else Pe("Connection","WebChannel received:",_e),R.no(_e)}}),B(u,rI.STAT_EVENT,$=>{$.stat===sE.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===sE.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.Zr()},0),R}}function xL(){return"undefined"!=typeof window?window:null}function e1(){return"undefined"!=typeof document?document:null}function Hw(n){return new bI(n,!0)}class JI{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class OL{constructor(e,t,r,i,l,u,f,_){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new JI(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GV extends OL{constructor(e,t,r,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function GO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),i=e.targetChange.targetIds||[],l=function(_,D){return _.N?(Lt(void 0===D||"string"==typeof D),fi.fromBase64String(D||"")):(Lt(void 0===D||D instanceof Uint8Array),fi.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const D=void 0===_.code?de.UNKNOWN:_I(_.code);return new Ae(D,_.message||"")}(u);t=new PE(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Hl(n,r.document.name),l=ei(r.document.updateTime),u=new Wi({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(i,l,u);t=new Mm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Hl(n,r.document),l=r.readTime?ei(r.readTime):kt.min(),u=$n.newNoDocument(i,l);t=new Mm([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Hl(n,r.document);t=new Mm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new mI(r.count||0);t=new RE(r.targetId,l)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return kt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?ei(l.readTime):kt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=km(this.M),t.addTarget=function(i,l){let u;const f=l.target;return u=gd(f)?{documents:TI(i,f)}:{query:EI(i,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=jy(i,l.resumeToken):l.snapshotVersion.compareTo(kt.min())>0&&(u.readTime=bf(i,l.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function o(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=km(this.M),t.removeTarget=e,this.Oo(t)}}class qV extends OL{constructor(e,t,r,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function qO(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let l=ei(r.updateTime?r.updateTime:i);return l.isEqual(kt.min())&&(l=ei(i)),new kE(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.Jo(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=km(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Yy(this.M,r))};this.Oo(t)}}class WV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class zV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(dr(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class KV{constructor(e,t,r,i,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{r.enqueueAndForget((0,ye.Z)(function*(){var _;Ef(u)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(D){const S=Ze(D);S.lu.add(4),yield Jy(S),S._u.set("Unknown"),S.lu.delete(4),yield jw(S)}),function(D){return _.apply(this,arguments)})(u))}))}),this._u=new zV(r,i)}}function jw(n){return QI.apply(this,arguments)}function QI(){return QI=(0,ye.Z)(function*(n){if(Ef(n))for(const e of n.fu)yield e(!0)}),QI.apply(this,arguments)}function Jy(n){return XI.apply(this,arguments)}function XI(){return XI=(0,ye.Z)(function*(n){for(const e of n.fu)yield e(!1)}),XI.apply(this,arguments)}function t1(n,e){const t=Ze(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),nA(t)?tA(t):Xy(t).Co()&&eA(t,e))}function Yw(n,e){const t=Ze(n),r=Xy(t);t.hu.delete(e),r.Co()&&LL(t,e),0===t.hu.size&&(r.Co()?r.ko():Ef(t)&&t._u.set("Unknown"))}function eA(n,e){n.wu.Z(e.targetId),Xy(n).Qo(e)}function LL(n,e){n.wu.Z(e),Xy(n).jo(e)}function tA(n){n.wu=new yI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Xy(n).start(),n._u.iu()}function nA(n){return Ef(n)&&!Xy(n).Do()&&n.hu.size>0}function Ef(n){return 0===Ze(n).lu.size}function NL(n){n.wu=void 0}function JV(n){return rA.apply(this,arguments)}function rA(){return rA=(0,ye.Z)(function*(n){n.hu.forEach((e,t)=>{eA(n,e)})}),rA.apply(this,arguments)}function QV(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*(n,e){NL(n),nA(n)?(n._u.uu(e),tA(n)):n._u.set("Unknown")}),iA.apply(this,arguments)}function XV(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof PE&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const u=l.cause;for(const f of l.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield n1(n,r)}else if(e instanceof Mm?n.wu.ut(e):e instanceof RE?n.wu._t(e):n.wu.ht(e),!t.isEqual(kt.min()))try{const r=yield DL(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const u=i.wu.yt(l);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const D=i.hu.get(_);D&&i.hu.set(_,D.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(fi.EMPTY_BYTE_STRING,_.snapshotVersion)),LL(i,f);const D=new wf(_.target,f,1,_.sequenceNumber);eA(i,D)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield n1(n,r)}var r}),sA.apply(this,arguments)}function n1(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n,e,t){if(!xm(e))throw e;n.lu.add(1),yield Jy(n),n._u.set("Offline"),t||(t=()=>DL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield jw(n)}))}),oA.apply(this,arguments)}function RL(n,e){return e().catch(t=>n1(n,t,e))}function Qy(n){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n){const e=Ze(n),t=Sf(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;eB(e);)try{const i=yield xV(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,tB(e,i)}catch(i){yield n1(e,i)}PL(e)&&FL(e)}),aA.apply(this,arguments)}function eB(n){return Ef(n)&&n.cu.length<10}function tB(n,e){n.cu.push(e);const t=Sf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function PL(n){return Ef(n)&&!Sf(n).Do()&&n.cu.length>0}function FL(n){Sf(n).start()}function nB(n){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n){Sf(n).Xo()}),lA.apply(this,arguments)}function rB(n){return cA.apply(this,arguments)}function cA(){return cA=(0,ye.Z)(function*(n){const e=Sf(n);for(const t of n.cu)e.Ho(t.mutations)}),cA.apply(this,arguments)}function iB(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,ye.Z)(function*(n,e,t){const r=n.cu.shift(),i=AI.from(r,e,t);yield RL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qy(n)}),uA.apply(this,arguments)}function sB(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,ye.Z)(function*(n,e){var t;e&&Sf(n).zo&&(yield(t=(0,ye.Z)(function*(r,i){if(gI(l=i.code)&&l!==de.ABORTED){const u=r.cu.shift();Sf(r).No(),yield RL(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Qy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),PL(n)&&FL(n)}),dA.apply(this,arguments)}function VL(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,ye.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Ef(t);t.lu.add(3),yield Jy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield jw(t)}),hA.apply(this,arguments)}function fA(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,ye.Z)(function*(n,e){const t=Ze(n);e?(t.lu.delete(2),yield jw(t)):e||(t.lu.add(2),yield Jy(t),t._u.set("Unknown"))}),pA.apply(this,arguments)}function Xy(n){return n.mu||(n.mu=function(e,t,r){const i=Ze(e);return i.tu(),new GV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:JV.bind(null,n),Jr:QV.bind(null,n),Ko:XV.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.mu.No(),nA(n)?tA(n):n._u.set("Unknown")):(yield n.mu.stop(),NL(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Sf(n){return n.gu||(n.gu=function(e,t,r){const i=Ze(e);return i.tu(),new qV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:nB.bind(null,n),Jr:sB.bind(null,n),Yo:rB.bind(null,n),Jo:iB.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.No(),yield Qy(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class mA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,l){const u=Date.now()+r,f=new mA(e,t,u,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(n,e){if(dr("AsyncQueue",`${e}: ${n}`),xm(n))return new Ae(de.UNAVAILABLE,`${e}: ${n}`);throw n}class tv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Em(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new tv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class BL{constructor(){this.yu=new jr(Ye.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class nv{constructor(e,t,r,i,l,u,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new nv(e,t,tv.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class oB{constructor(){this.Iu=void 0,this.listeners=[]}}class aB{constructor(){this.queries=new bd(e=>Ny(e),Dm),this.onlineState="Unknown",this.Tu=new Set}}function gA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new oB),i)try{l.Iu=yield t.onListen(r)}catch(u){const f=ev(u,`Initialization of query '${cw(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&bA(t)}),_A.apply(this,arguments)}function yA(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),vA.apply(this,arguments)}function lB(n,e){const t=Ze(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Au(i)&&(r=!0);u.Iu=i}}r&&bA(t)}function cB(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function bA(n){n.Tu.forEach(e=>{e.next()})}class wA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new nv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=nv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class uB{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class UL{constructor(e){this.M=e}li(e){return Hl(this.M,e)}fi(e){return e.metadata.exists?CI(this.M,e.document,!1):$n.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ei(e)}}class dB{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HL(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=on.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new UL(this.M);for(const i of e)if(i.metadata.queries){const l=r.li(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||gn()).add(l);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function OV(n,e,t,r){return YI.apply(this,arguments)}(e.localStore,new UL(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield LV(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function HL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jL{constructor(e){this.key=e}}class YL{constructor(e){this.key=e}}class $L{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=gn(),this.mutatedKeys=gn(),this.Lu=dw(e),this.Uu=new tv(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new BL,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _=Oy(this.query)&&i.size===this.query.limit?i.last():null,D=Ly(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,A)=>{const R=i.get(S),B=uw(this.query,A)?A:null,$=!!R&&this.mutatedKeys.has(R.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;R&&B?R.data.isEqual(B.data)?$!==ee&&(r.track({type:3,doc:B}),_e=!0):this.Qu(R,B)||(r.track({type:2,doc:B}),_e=!0,(_&&this.Lu(B,_)>0||D&&this.Lu(B,D)<0)&&(f=!0)):!R&&B?(r.track({type:0,doc:B}),_e=!0):R&&!B&&(r.track({type:1,doc:R}),_e=!0,(_||D)&&(f=!0)),_e&&(B?(u=u.add(B),l=ee?l.add(S):l.delete(S)):(u=u.delete(S),l=l.delete(S)))}),Oy(this.query)||Ly(this.query))for(;u.size>this.query.limit;){const S=Oy(this.query)?u.last():u.first();u=u.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:u,Ku:r,ei:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((D,S)=>function(A,R){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(A)-B(R)}(D.type,S.type)||this.Lu(D.doc,S.doc)),this.ju(r);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==l.length||_?{snapshot:new nv(this.query,e.Uu,i,l,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new BL,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=gn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new YL(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new jL(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=gn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return nv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class hB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fB{constructor(e){this.key=e,this.Xu=!1}}class pB{constructor(e,t,r,i,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new bd(f=>Ny(f),Dm),this.ea=new Map,this.na=new Set,this.sa=new jr(Ye.comparator),this.ia=new Map,this.ra=new ZI,this.oa={},this.ua=new Map,this.aa=Pm.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function mB(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,ye.Z)(function*(n,e){const t=ZA(n);let r,i;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const u=yield zy(t.localStore,Jo(e));t.isPrimaryClient&&t1(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield CA(t,e,r,"current"===f)}return i}),DA.apply(this,arguments)}function CA(n,e,t,r){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*(n,e,t,r){n.ha=(S,A,R)=>{return(B=(0,ye.Z)(function*($,ee,_e,Ve){let Oe=ee.view.Gu(_e);Oe.ei&&(Oe=yield JE($.localStore,ee.query,!1).then(({documents:yt})=>ee.view.Gu(yt,Oe)));const We=Ve&&Ve.targetChanges.get(ee.targetId),Ge=ee.view.applyChanges(Oe,$.isPrimaryClient,We);return NA($,ee.targetId,Ge.zu),Ge.snapshot}),function($,ee,_e,Ve){return B.apply(this,arguments)})(n,S,A,R);var B};const i=yield JE(n.localStore,e,!0),l=new $L(e,i.hi),u=l.Gu(i.documents),f=Hy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(u,n.isPrimaryClient,f);NA(n,t,_.zu);const D=new hB(e,t,l);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),TA.apply(this,arguments)}function gB(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(l=>!Dm(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ky(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Yw(t.remoteStore,r.targetId),rv(t,r.targetId)}).catch(Fm))):(rv(t,r.targetId),yield Ky(t.localStore,r.targetId,!0))}),EA.apply(this,arguments)}function SA(){return SA=(0,ye.Z)(function*(n,e,t){const r=GA(n);try{const i=yield function(l,u){const f=Ze(l),_=br.now(),D=u.reduce((A,R)=>A.add(R.key),gn());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,D).next(R=>{S=R;const B=[];for(const $ of u){const ee=xE($,S.get($.key));null!=ee&&B.push(new vd($.key,ee,nw(ee.value.mapValue),Ur.exists(!0)))}return f.$s.addMutationBatch(A,_,B,u)})).then(A=>(A.applyToLocalDocumentSet(S),{batchId:A.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let _=l.oa[l.currentUser.toKey()];_||(_=new jr(zt)),_=_.insert(u,f),l.oa[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Td(r,i.changes),yield Qy(r.remoteStore)}catch(i){const l=ev(i,"Failed to persist write");t.reject(l)}}),SA.apply(this,arguments)}function ZL(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ye.Z)(function*(n,e){const t=Ze(n);try{const r=yield kV(t.localStore,e);e.targetChanges.forEach((i,l)=>{const u=t.ia.get(l);u&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Xu=!0:i.modifiedDocuments.size>0?Lt(u.Xu):i.removedDocuments.size>0&&(Lt(u.Xu),u.Xu=!1))}),yield Td(t,r,e)}catch(r){yield Fm(r)}}),MA.apply(this,arguments)}function GL(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((l,u)=>{const f=u.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(l,u){const f=Ze(l);f.onlineState=u;let _=!1;f.queries.forEach((D,S)=>{for(const A of S.listeners)A.Eu(u)&&(_=!0)}),_&&bA(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yB(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,ye.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),l=i&&i.key;if(l){let u=new jr(Ye.comparator);u=u.insert(l,$n.newNoDocument(l,kt.min()));const f=gn().add(l),_=new Uy(kt.min(),new Map,new Kn(zt),u,f);yield ZL(r,_),r.sa=r.sa.remove(l),r.ia.delete(e),RA(r)}else yield Ky(r.localStore,e,!1).then(()=>rv(r,e,t)).catch(Fm)}),IA.apply(this,arguments)}function vB(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield AV(t.localStore,e);LA(t,r,null),OA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Td(t,i)}catch(i){yield Fm(i)}}),AA.apply(this,arguments)}function bB(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,ye.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(l,u){const f=Ze(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return f.$s.lookupMutationBatch(_,u).next(S=>(Lt(null!==S),D=S.keys(),f.$s.removeMutationBatch(_,S))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,D))})}(r.localStore,e);LA(r,e,t),OA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Td(r,i)}catch(i){yield Fm(i)}}),kA.apply(this,arguments)}function xA(){return xA=(0,ye.Z)(function*(n,e){const t=Ze(n);Ef(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const u=Ze(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=ev(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),xA.apply(this,arguments)}function OA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function LA(n,e,t){const r=Ze(n);let i=r.oa[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function rv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||qL(n,r)})}function qL(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Yw(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),RA(n))}function NA(n,e,t){for(const r of t)r instanceof jL?(n.ra.addReference(r.key,e),DB(n,r)):r instanceof YL?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||qL(n,r.key)):rt()}function DB(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),RA(n))}function RA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ye(on.fromString(e)),r=n.aa.next();n.ia.set(r,new fB(t)),n.sa=n.sa.insert(t,r),t1(n.remoteStore,new wf(Jo(wm(t.path)),r,2,oo.A))}}function Td(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,ye.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[],u=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,_)=>{u.push(r.ha(_,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),i.push(D);const S=UI.Js(_.targetId,D);l.push(S)}}))}),yield Promise.all(u),r.Zu.Ko(i),yield(f=(0,ye.Z)(function*(_,D){const S=Ze(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>me.forEach(D,R=>me.forEach(R.zs,B=>S.persistence.referenceDelegate.addReference(A,R.targetId,B)).next(()=>me.forEach(R.Hs,B=>S.persistence.referenceDelegate.removeReference(A,R.targetId,B)))))}catch(A){if(!xm(A))throw A;Pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const R=A.targetId;if(!A.fromCache){const B=S.si.get(R),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(R,ee)}}}),function(_,D){return f.apply(this,arguments)})(r.localStore,l))}),PA.apply(this,arguments)}function CB(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ye.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield wL(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(u=>{u.forEach(f=>{f.reject(new Ae(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Td(t,r.ci)}var i}),FA.apply(this,arguments)}function TB(n,e){const t=Ze(n),r=t.ia.get(e);if(r&&r.Xu)return gn().add(r.key);{let i=gn();const l=t.ea.get(e);if(!l)return i;for(const u of l){const f=t.ta.get(u);i=i.unionWith(f.view.qu)}return i}}function EB(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=yield JE(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&NA(t,e.targetId,i.zu),i}),VA.apply(this,arguments)}function SB(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,ye.Z)(function*(n,e){const t=Ze(n);return EL(t.localStore,e).then(r=>Td(t,r))}),BA.apply(this,arguments)}function MB(n,e,t,r){return UA.apply(this,arguments)}function UA(){return UA=(0,ye.Z)(function*(n,e,t,r){const i=Ze(n),l=yield function(u,f){const _=Ze(u),D=Ze(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.ln(S,f).next(A=>A?_.ai.qs(S,A):me.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Qy(i.remoteStore):"acknowledged"===t||"rejected"===t?(LA(i,e,r||null),OA(i,e),f=e,Ze(Ze(i.localStore).$s).dn(f)):rt(),yield Td(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),UA.apply(this,arguments)}function HA(){return HA=(0,ye.Z)(function*(n,e){const t=Ze(n);if(ZA(t),GA(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield WL(t,r.toArray());t.ca=!0,yield fA(t.remoteStore,!0);for(const l of i)t1(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(rv(t,u),Ky(t.localStore,u,!0))),Yw(t.remoteStore,u)}),yield i,yield WL(t,r),function(l){const u=Ze(l);u.ia.forEach((f,_)=>{Yw(u.remoteStore,_)}),u.ra.bi(),u.ia=new Map,u.sa=new jr(Ye.comparator)}(t),t.ca=!1,yield fA(t.remoteStore,!1)}}),HA.apply(this,arguments)}function WL(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,ye.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[];for(const u of e){let f;const _=r.ea.get(u);if(_&&0!==_.length){f=yield zy(r.localStore,Jo(_[0]));for(const D of _){const S=r.ta.get(D),A=yield EB(r,S);A.snapshot&&l.push(A.snapshot)}}else{const D=yield TL(r.localStore,u);f=yield zy(r.localStore,D),yield CA(r,zL(D),u,!1)}i.push(f)}return r.Zu.Ko(l),i}),jA.apply(this,arguments)}function zL(n){return dI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AB(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Os()}function kB(n,e,t,r){return YA.apply(this,arguments)}function YA(){return YA=(0,ye.Z)(function*(n,e,t,r){const i=Ze(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=yield EL(i.localStore,Ry(l[0])),f=Uy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Td(i,u,f);break}case"rejected":yield Ky(i.localStore,e,!0),rv(i,e,r);break;default:rt()}}),YA.apply(this,arguments)}function xB(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,ye.Z)(function*(n,e,t){const r=ZA(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield TL(r.localStore,i),u=yield zy(r.localStore,l);yield CA(r,zL(l),u.targetId,!1),t1(r.remoteStore,u)}for(const i of t)r.ea.has(i)&&(yield Ky(r.localStore,i,!1).then(()=>{Yw(r.remoteStore,i),rv(r,i)}).catch(Fm))}}),$A.apply(this,arguments)}function ZA(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yB.bind(null,e),e.Zu.Ko=lB.bind(null,e.eventManager),e.Zu.la=cB.bind(null,e.eventManager),e}function GA(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bB.bind(null,e),e}class KL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Hw(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return bL(this.persistence,new vL,e.initialUser,this.M)}_a(e){return new UV(GI.Wi,this.M)}da(e){return new AL}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JL extends KL{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield GA(r.ga.syncEngine),yield Qy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return bL(this.persistence,new vL,e.initialUser,this.M)}wa(e){return new wV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=BI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new VI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xL(),e1(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new AL}}class LB extends JL{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof KI&&(r.sharedClientState.syncEngine={kr:MB.bind(null,i),Mr:kB.bind(null,i),Or:xB.bind(null,i),Os:AB.bind(null,i),Nr:SB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ye.Z)(function*(u){yield function IB(n,e){return HA.apply(this,arguments)}(r.ga.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}da(e){const t=xL();if(!KI.vt(t))throw new Ae(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=BI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KI(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qA{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>GL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CB.bind(null,r.syncEngine),yield fA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aB}createDatastore(e){const t=Hw(e.databaseInfo.databaseId),r=new ZV(e.databaseInfo);return new WV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>GL(this.syncEngine,f,0),u=kL.vt()?new kL:new jV,new KV(t,r,i,l,u);var t,r,i,l,u}createSyncEngine(e,t){return function(r,i,l,u,f,_,D){const S=new pB(r,i,l,u,f,_);return D&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ze(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Jy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function QL(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class r1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NB{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new hi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new uB(JSON.parse(l),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ye.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class RB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,u){const f=Ze(l),_=km(f.M)+"/documents",D={documents:u.map(B=>Am(f.M,B))},S=yield f.co("BatchGetDocuments",_,D),A=new Map;S.forEach(B=>{const $=function ZO(n,e){return"found"in e?function(t,r){Lt(!!r.found);const i=Hl(t,r.found.name),l=ei(r.found.updateTime),u=new Wi({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(i,l,u)}(n,e):"missing"in e?function(t,r){Lt(!!r.missing),Lt(!!r.readTime);const i=Hl(t,r.missing),l=ei(r.readTime);return $n.newNoDocument(i,l)}(n,e):rt()}(f.M,B);A.set($.key.toString(),$)});const R=[];return u.forEach(B=>{const $=A.get(B.toString());Lt(!!$),R.push($)}),R}),function(l,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Ye.fromPath(i);e.mutations.push(new yw(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const u=Ze(i),f=km(u.M)+"/documents",_={writes:l.map(D=>Yy(u.M,D))};yield u.ro("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Ae(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class PB{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new JI(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ye.Z)(function*(){const t=new RB(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ca(l)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Gc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!gI(t)}return!1}}class FB{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xi.UNAUTHENTICATED,this.clientId=Cy.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ye.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Pe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ev(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function XL(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield wL(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),WA.apply(this,arguments)}function eN(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>VL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>VL(e.remoteStore,l)),n.onlineComponents=e}),zA.apply(this,arguments)}function KA(n){return JA.apply(this,arguments)}function JA(){return JA=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield XL(n,new KL)),n.offlineComponents}),JA.apply(this,arguments)}function s1(n){return QA.apply(this,arguments)}function QA(){return QA=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield eN(n,new qA)),n.onlineComponents}),QA.apply(this,arguments)}function tN(n){return KA(n).then(e=>e.persistence)}function XA(n){return KA(n).then(e=>e.localStore)}function nN(n){return s1(n).then(e=>e.remoteStore)}function ek(n){return s1(n).then(e=>e.syncEngine)}function iv(n){return tk.apply(this,arguments)}function tk(){return tk=(0,ye.Z)(function*(n){const e=yield s1(n),t=e.eventManager;return t.onListen=mB.bind(null,e.syncEngine),t.onUnlisten=gB.bind(null,e.syncEngine),t}),tk.apply(this,arguments)}function rN(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,u,f,_){const D=new r1({next:A=>{l.enqueueAndForget(()=>yA(i,S));const R=A.docs.has(u);!R&&A.fromCache?_.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&f&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new wA(wm(u.path),D,{includeMetadataChanges:!0,Du:!0});return gA(i,S)}(yield iv(n),n.asyncQueue,e,t,r)})),r.promise}function iN(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,u,f,_){const D=new r1({next:A=>{l.enqueueAndForget(()=>yA(i,S)),A.fromCache&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new wA(u,D,{includeMetadataChanges:!0,Du:!0});return gA(i,S)}(yield iv(n),n.asyncQueue,e,t,r)})),r.promise}const sN=new Map;function nk(n,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oN(n,e,t,r){if(!0===e&&!0===r)throw new Ae(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aN(n){if(!Ye.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lN(n){if(Ye.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function o1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o1(n);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cN(n,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,oN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $w{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uN({}),this._settingsFrozen=!1,e instanceof el?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zb;switch(t.type){case"gapi":const r=t.client;return Lt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Wb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sN.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),sN.delete(e),t.terminate())}(this),Promise.resolve()}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class Ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class tu extends Ns{constructor(e,t,r){super(e,t,wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ye(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function dN(n,e,...t){if(n=(0,Xt.m9)(n),nk("collection","path",e),n instanceof $w){const r=on.fromString(e,...t);return lN(r),new tu(n,null,r)}{if(!(n instanceof fr||n instanceof tu))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return lN(r),new tu(n.firestore,null,r)}}function a1(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=Cy.R()),nk("doc","path",e),n instanceof $w){const r=on.fromString(e,...t);return aN(r),new fr(n,null,new Ye(r))}{if(!(n instanceof fr||n instanceof tu))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return aN(r),new fr(n.firestore,n instanceof tu?n.converter:null,new Ye(r))}}function hN(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof fr||n instanceof tu)&&(e instanceof fr||e instanceof tu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fN(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Ns&&e instanceof Ns&&n.firestore===e.firestore&&Dm(n._query,e._query)&&n.converter===e.converter}class WB{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new JI(this,"async_queue_retry"),this.Ua=()=>{const t=e1();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=e1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=e1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new hi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ye.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!xm(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,dr("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=mA.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(i),i}qa(){this.Fa&&rt()}verifyOperationInProgress(){}ja(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function rk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class zB{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends $w{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new WB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||pN(this),this._firestoreClient.terminate()}}function mi(n){return n._firestoreClient||pN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Jb(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new FB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function mN(n,e,t){const r=new hi;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield XL(n,t),yield eN(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function gN(n){if(n._initialized||n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ed{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(fi.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nu(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bm{constructor(e){this._methodName=e}}class l1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const s3=/^__.*__$/;class o3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vd(e,this.data,this.fieldMask,t,this.fieldTransforms):new yf(e,this.data,t,this.fieldTransforms)}}class _N{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class c1{constructor(e,t,r,i,l,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new c1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return h1(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(yN(this.Ya)&&s3.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class a3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Hw(e)}uc(e,t,r,i=!1){return new c1({Ya:e,methodName:t,oc:r,path:hr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Um(n){const e=n._freezeSettings(),t=Hw(n._databaseId);return new a3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u1(n,e,t,r,i,l={}){const u=n.uc(l.merge||l.mergeFields?2:0,e,t,i);ak("Data must be an object, but it was:",u,r);const f=wN(r,u);let _,D;if(l.merge)_=new lf(u.fieldMask),D=u.fieldTransforms;else if(l.mergeFields){const S=[];for(const A of l.mergeFields){const R=lk(e,A,t);if(!u.contains(R))throw new Ae(de.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);CN(S,R)||S.push(R)}_=new lf(S),D=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=u.fieldTransforms;return new o3(new Wi(f),_,D)}class Zw extends Bm{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zw}}function vN(n,e,t){return new c1({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ik extends Bm{_toFieldTransform(e){return new Fy(e.path,new mf)}isEqual(e){return e instanceof ik}}class l3 extends Bm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=vN(this,e,!0),r=this.ac.map(l=>Hm(l,t)),i=new gf(r);return new Fy(e.path,i)}isEqual(e){return this===e}}class c3 extends Bm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=vN(this,e,!0),r=this.ac.map(l=>Hm(l,t)),i=new eu(r);return new Fy(e.path,i)}isEqual(e){return this===e}}class u3 extends Bm{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new _f(e.M,fw(e.M,this.cc));return new Fy(e.path,t)}isEqual(e){return this===e}}function sk(n,e,t,r){const i=n.uc(1,e,t);ak("Data must be an object, but it was:",i,r);const l=[],u=Wi.empty();$c(r,(_,D)=>{const S=d1(e,_,t);D=(0,Xt.m9)(D);const A=i.nc(S);if(D instanceof Zw)l.push(S);else{const R=Hm(D,A);null!=R&&(l.push(S),u.set(S,R))}});const f=new lf(l);return new _N(u,f,i.fieldTransforms)}function ok(n,e,t,r,i,l){const u=n.uc(1,e,t),f=[lk(e,r,t)],_=[i];if(l.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(lk(e,l[R])),_.push(l[R+1]);const D=[],S=Wi.empty();for(let R=f.length-1;R>=0;--R)if(!CN(D,f[R])){const B=f[R];let $=_[R];$=(0,Xt.m9)($);const ee=u.nc(B);if($ instanceof Zw)D.push(B);else{const _e=Hm($,ee);null!=_e&&(D.push(B),S.set(B,_e))}}const A=new lf(D);return new _N(S,A,u.fieldTransforms)}function bN(n,e,t,r=!1){return Hm(t,n.uc(r?4:3,e))}function Hm(n,e){if(DN(n=(0,Xt.m9)(n)))return ak("Unsupported field value:",e,n),wN(n,e);if(n instanceof Bm)return function(t,r){if(!yN(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const u of t){let f=Hm(u,r.sc(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=br.fromDate(t);return{timestampValue:bf(r.M,i)}}if(t instanceof br){const i=new br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bf(r.M,i)}}if(t instanceof l1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nu)return{bytesValue:jy(r.M,t._byteString)};if(t instanceof fr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Im(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${o1(t)}`)}(n,e)}function wN(n,e){const t={};return uE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(n,(r,i)=>{const l=Hm(i,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function DN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof br||n instanceof l1||n instanceof nu||n instanceof fr||n instanceof Bm)}function ak(n,e,t){if(!DN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=o1(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function lk(n,e,t){if((e=(0,Xt.m9)(e))instanceof Ed)return e._internalPath;if("string"==typeof e)return d1(n,e);throw h1("Field path arguments must be of type string or ",n,!1,void 0,t)}const d3=new RegExp("[~\\*/\\[\\]]");function d1(n,e,t){if(e.search(d3)>=0)throw h1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch(r){throw h1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function h1(n,e,t,r,i){const l=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||u)&&(_+=" (found",l&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Ae(de.INVALID_ARGUMENT,f+n+_)}function CN(n,e){return n.some(t=>t.isEqual(e))}class Gw{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new h3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(f1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class h3 extends Gw{data(){return super.data()}}function f1(n,e){return"string"==typeof e?d1(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}class jm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends Gw{constructor(e,t,r,i,l,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(f1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qw extends Sd{data(e={}){return super.data(e)}}class Mf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qw(this._firestore,this._userDataWriter,r.key,r,new jm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new qw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new jm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new qw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new jm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==u.type&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),D=l.indexOf(u.doc.key)),{type:f3(u.type),doc:f,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function TN(n,e){return n instanceof Sd&&e instanceof Sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mf&&e instanceof Mf&&n._firestore===e._firestore&&fN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function EN(n){if(Ly(n)&&0===n.explicitOrderBy.length)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}function If(n,...e){for(const t of e)n=t._apply(n);return n}class p3 extends Ww{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Um(e.firestore),r=function(i,l,u,f,_,D,S){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){xN(S,D);const B=[];for(const $ of S)B.push(kN(f,i,$));A={arrayValue:{values:B}}}else A=kN(f,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||xN(S,D),A=bN(u,"where",S,"in"===D||"not-in"===D);const R=pi.create(_,D,A);return function(B,$){if($.S()){const _e=CE(B);if(null!==_e&&!_e.isEqual($.field))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${$.field.toString()}'`);const Ve=aw(B);null!==Ve&&ON(0,$.field,Ve)}const ee=function(_e,Ve){for(const Oe of _e.filters)if(Ve.indexOf(Oe.op)>=0)return Oe.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ee)throw new Ae(de.INVALID_ARGUMENT,ee===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,R),R}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ns(e.firestore,e.converter,function(i,l){const u=i.filters.concat([l]);return new Qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class g3 extends Ww{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new yd(i,l);return function(f,_){if(null===aw(f)){const D=CE(f);null!==D&&ON(0,D,_.field)}}(r,u),u}(e._query,this.hc,this.dc);return new Ns(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Qc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SN extends Ww{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ns(e.firestore,e.converter,Qo(e._query,this._c,this.wc))}}class MN extends Ww{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=AN(e,this.type,this.mc,this.gc);return new Ns(e.firestore,e.converter,(i=t,new Qc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class IN extends Ww{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=AN(e,this.type,this.mc,this.gc);return new Ns(e.firestore,e.converter,(i=t,new Qc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function AN(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof Gw)return function(i,l,u,f,_){if(!f)throw new Ae(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const D=[];for(const S of Xc(i))if(S.field.isKeyField())D.push(uf(l,f.key));else{const A=f.data.field(S.field);if(Ty(A))throw new Ae(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const R=S.field.canonicalString();throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}D.push(A)}return new _d(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Um(n.firestore);return function(l,u,f,_,D,S){const A=l.explicitOrderBy;if(D.length>A.length)throw new Ae(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let B=0;B<D.length;B++){const $=D[B];if(A[B].field.isKeyField()){if("string"!=typeof $)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!lw(l)&&-1!==$.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ee=l.path.child(on.fromString($));if(!Ye.isDocumentKey(ee))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const _e=new Ye(ee);R.push(uf(u,_e))}else{const ee=bN(f,_,$);R.push(ee)}}return new _d(R,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function kN(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&-1!==t.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ye.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uf(n,new Ye(r))}if(t instanceof fr)return uf(n,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o1(t)}.`)}function xN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ON(n,e,t){if(!t.isEqual(e))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ck{convertValue(e,t="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return $c(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new l1(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ym(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);Lt(I(r));const i=new el(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return i.isEqual(t)||dr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function p1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class T3 extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}class LN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Um(e)}set(e,t,r){this._verifyNotCommitted();const i=Af(e,this._firestore),l=p1(i.converter,t,r),u=u1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Af(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Ed?ok(this._dataReader,"WriteBatch.update",l._key,t,r,i):sk(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Af(e,this._firestore);return this._mutations=this._mutations.concat(new vf(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ym extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function NN(n,e,t){n=_n(n,fr);const r=_n(n.firestore,wr),i=p1(n.converter,e,t);return sv(r,[u1(Um(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ur.none())])}function RN(n,e,t,...r){n=_n(n,fr);const i=_n(n.firestore,wr),l=Um(i);let u;return u="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Ed?ok(l,"updateDoc",n._key,e,t,r):sk(l,"updateDoc",n._key,e),sv(i,[u.toMutation(n._key,Ur.exists(!0))])}function PN(n,...e){var t,r,i;n=(0,Xt.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||rk(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(rk(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,D,S;if(n instanceof fr)D=_n(n.firestore,wr),S=wm(n._key.path),_={next:A=>{e[u]&&e[u](uk(D,n,A))},error:e[u+1],complete:e[u+2]};else{const A=_n(n,Ns);D=_n(A.firestore,wr),S=A._query;const R=new Ym(D);_={next:B=>{e[u]&&e[u](new Mf(D,R,A,B))},error:e[u+1],complete:e[u+2]},EN(n._query)}return function(A,R,B,$){const ee=new r1($),_e=new wA(R,ee,B);return A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return gA(yield iv(A),_e)})),()=>{ee.pa(),A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return yA(yield iv(A),_e)}))}}(mi(D),S,f,_)}function sv(n,e){return function(t,r){const i=new hi;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function _B(n,e,t){return SA.apply(this,arguments)}(yield ek(t),r,i)})),i.promise}(mi(n),e)}function uk(n,e,t){const r=t.docs.get(e._key),i=new Ym(n);return new Sd(n,i,e._key,r,new jm(t.hasPendingWrites,t.fromCache),e.converter)}class N3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Um(e)}get(e){const t=Af(e,this._firestore),r=new T3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const l=i[0];if(l.isFoundDocument())return new Gw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Gw(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const i=Af(e,this._firestore),l=p1(i.converter,t,r),u=u1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const l=Af(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Ed?ok(this._dataReader,"Transaction.update",l._key,t,r,i):sk(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=Af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Af(e,this._firestore),r=new Ym(this._firestore);return super.get(e).then(i=>new Sd(this._firestore,r,t._key,i._document,new jm(!1,!1),t.converter))}}function dk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VN(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function BN(){if(!function aI(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){jc=ad.SDK_VERSION,(0,ad._registerComponent)(new P_.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new wr(i,new aE(t.getProvider("auth-internal")),new oI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ad.registerVersion)(Ma,"3.4.7",n),(0,ad.registerVersion)(Ma,"3.4.7","esm2017")}();class zw{constructor(e){this._delegate=e}static fromBase64String(e){return BN(),new zw(nu.fromBase64String(e))}static fromUint8Array(e){return VN(),new zw(nu.fromUint8Array(e))}toBase64(){return BN(),this._delegate.toBase64()}toUint8Array(){return VN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hk(n){return function Y3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class $3{enableIndexedDbPersistence(e,t){return function JB(n,e){gN(n=_n(n,wr));const t=mi(n),r=n._freezeSettings(),i=new qA;return mN(t,i,new JL(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function QB(n){gN(n=_n(n,wr));const e=mi(n),t=n._freezeSettings(),r=new qA;return mN(e,r,new LB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function XB(n){if(n._initialized&&!n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!jl.vt())return Promise.resolve();const i=r+"main";yield jl.delete(i)}),function(r){return t.apply(this,arguments)})(BI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof el||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function GB(n,e,t,r={}){var i;const l=(n=_n(n,$w))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Yc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=xi.MOCK_USER;else{u=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xi(_)}n._authCredentials=new Gb(new sI(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function t3(n){return function VB(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield tN(n),t=yield nN(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i.lu.delete(0),jw(i)}(t)}))}(mi(n=_n(n,wr)))}(this._delegate)}disableNetwork(){return function n3(n){return function BB(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield tN(n),t=yield nN(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=Ze(i);l.lu.add(0),yield Jy(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=_n(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,oN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function e3(n){return function(e){const t=new hi;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function wB(n,e){return xA.apply(this,arguments)}(yield ek(e),t)})),t.promise}(mi(n=_n(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function L3(n,e){return function jB(n,e){const t=new r1(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield iv(n),i=t,Ze(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield iv(n),i=t,void Ze(r).Tu.delete(i);var r,i}))}}(mi(n=_n(n,wr)),rk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ov(this,dN(this._delegate,e))}catch(t){throw uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new tl(this,a1(this._delegate,e))}catch(t){throw uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ho(this,function qB(n,e){if(n=_n(n,$w),nk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(n,null,(t=e,new Qc(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function R3(n,e){return function YB(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,s1(i).then(l=>l.datastore));var i;new PB(n.asyncQueue,r,e,t).run()})),t.promise}(mi(n=_n(n,wr)),t=>e(new N3(n,t)))}(this._delegate,t=>e(new HN(this,t)))}batch(){return mi(this._delegate),new jN(new LN(this._delegate,e=>sv(this._delegate,e)))}loadBundle(e){return function r3(n,e){const t=mi(n=_n(n,wr)),r=new zB;return function $B(n,e,t,r){const i=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,D){if(_ instanceof Uint8Array)return QL(_,D);if(_ instanceof ArrayBuffer)return QL(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new NB(_,u);var _}(t,Hw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function OB(n,e,t){const r=Ze(n);var i;(i=(0,ye.Z)(function*(l,u,f){try{const _=yield u.getMetadata();if(yield function(R,B){const $=Ze(R),ee=ei(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",_e=>$.ds.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ee)>=0)}(l.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(R=_).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);f._updateProgress(HL(_));const D=new dB(_,l.localStore,u.M);let S=yield u.fa();for(;S;){const R=yield D.Nu(S);R&&f._updateProgress(R),S=yield u.fa()}const A=yield D.complete();return yield Td(l,A.Ou,void 0),yield function(R,B){const $=Ze(R);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.ds.saveBundleMetadata(ee,B))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(_){return Yc("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var R}),function(l,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ek(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function i3(n,e){return function ZB(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.ds.getNamedQuery(l,r))}(yield XA(n),e)}))}(mi(n=_n(n,wr)),e).then(t=>t?new Ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ho(this,t):null)}}class m1 extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new zw(new nu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tl.forKey(t,this.firestore,null)}}class HN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new m1(e)}get(e){const t=Zm(e);return this._delegate.get(t).then(r=>new Kw(this._firestore,new Sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zm(e);return r?(dk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Zm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Zm(e);return this._delegate.delete(t),this}}class jN{constructor(e){this._delegate=e}set(e,t,r){const i=Zm(e);return r?(dk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Zm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Zm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $m{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new qw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$m.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new $m(e,new m1(e),t),i.set(t,l)),l}}$m.INSTANCES=new WeakMap;class tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new m1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tl(t,new fr(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new tl(t,new fr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ov(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ov(this.firestore,dN(this._delegate,e))}catch(t){throw uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof fr&&hN(this._delegate,e)}set(e,t){t=dk("DocumentReference.set",t);try{return t?NN(this._delegate,e,t):NN(this._delegate,e)}catch(r){throw uo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?RN(this._delegate,e):RN(this._delegate,e,t,...r)}catch(i){throw uo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function x3(n){return sv(_n(n.firestore,wr),[new vf(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=YN(e),r=$N(e,i=>new Kw(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function S3(n){n=_n(n,fr);const e=_n(n.firestore,wr),t=mi(e),r=new Ym(e);return function UB(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,u){try{const f=yield function(_,D){const S=Ze(_);return S.persistence.runTransaction("read document","readonly",A=>S.ai.Bs(A,D))}(i,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ae(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ev(f,`Failed to get document '${l} from cache`);u.reject(_)}}),function(i,l,u){return r.apply(this,arguments)})(yield XA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Sd(e,r,n._key,i,new jm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function M3(n){n=_n(n,fr);const e=_n(n.firestore,wr);return rN(mi(e),n._key,{source:"server"}).then(t=>uk(e,n,t))}(this._delegate):function E3(n){n=_n(n,fr);const e=_n(n.firestore,wr);return rN(mi(e),n._key).then(t=>uk(e,n,t))}(this._delegate),t.then(r=>new Kw(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tl(this.firestore,this._delegate.withConverter(e?$m.getInstance(this.firestore,e):null))}}function uo(n,e,t){return n.message=n.message.replace(e,t),n}function YN(n){for(const e of n)if("object"==typeof e&&!hk(e))return e;return{}}function $N(n,e){var t,r;let i;return i=hk(n[0])?n[0]:hk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Kw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TN(this._delegate,e._delegate)}}class Jw extends Kw{data(e){const t=this._delegate.data(e);return function oE(n,e){n||rt()}(void 0!==t),t}}class ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new m1(e)}where(e,t,r){try{return new ho(this.firestore,If(this._delegate,function m3(n,e,t){const r=e,i=f1("where",n);return new p3(i,r,t)}(e,t,r)))}catch(i){throw uo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ho(this.firestore,If(this._delegate,function _3(n,e="asc"){const t=e,r=f1("orderBy",n);return new g3(r,t)}(e,t)))}catch(r){throw uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ho(this.firestore,If(this._delegate,function y3(n){return cN("limit",n),new SN("limit",n,"F")}(e)))}catch(t){throw uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ho(this.firestore,If(this._delegate,function v3(n){return cN("limitToLast",n),new SN("limitToLast",n,"L")}(e)))}catch(t){throw uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ho(this.firestore,If(this._delegate,function b3(...n){return new MN("startAt",n,!0)}(...e)))}catch(t){throw uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ho(this.firestore,If(this._delegate,function w3(...n){return new MN("startAfter",n,!1)}(...e)))}catch(t){throw uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ho(this.firestore,If(this._delegate,function D3(...n){return new IN("endBefore",n,!1)}(...e)))}catch(t){throw uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ho(this.firestore,If(this._delegate,function C3(...n){return new IN("endAt",n,!0)}(...e)))}catch(t){throw uo(t,"endAt()","Query.endAt()")}}isEqual(e){return fN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function A3(n){n=_n(n,Ns);const e=_n(n.firestore,wr),t=mi(e),r=new Ym(e);return function HB(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,u){try{const f=yield JE(i,l,!0),_=new $L(l,f.hi),D=_.Gu(f.documents),S=_.applyChanges(D,!1);u.resolve(S.snapshot)}catch(f){const _=ev(f,`Failed to execute query '${l} against cache`);u.reject(_)}}),function(i,l,u){return r.apply(this,arguments)})(yield XA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Mf(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function k3(n){n=_n(n,Ns);const e=_n(n.firestore,wr),t=mi(e),r=new Ym(e);return iN(t,n._query,{source:"server"}).then(i=>new Mf(e,r,n,i))}(this._delegate):function I3(n){n=_n(n,Ns);const e=_n(n.firestore,wr),t=mi(e),r=new Ym(e);return EN(n._query),iN(t,n._query).then(i=>new Mf(e,r,n,i))}(this._delegate),t.then(r=>new fk(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=YN(e),r=$N(e,i=>new fk(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PN(this._delegate,t,r)}withConverter(e){return new ho(this.firestore,this._delegate.withConverter(e?$m.getInstance(this.firestore,e):null))}}class G3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new G3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Jw(this._firestore,r))})}isEqual(e){return TN(this._delegate,e._delegate)}}class ov extends ho{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tl(this.firestore,e):null}doc(e){try{return new tl(this.firestore,void 0===e?a1(this._delegate):a1(this._delegate,e))}catch(t){throw uo(t,"doc()","CollectionReference.doc()")}}add(e){return function O3(n,e){const t=_n(n.firestore,wr),r=a1(n),i=p1(n.converter,e);return sv(t,[u1(Um(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new tl(this.firestore,t))}isEqual(e){return hN(this._delegate,e._delegate)}withConverter(e){return new ov(this.firestore,this._delegate.withConverter(e?$m.getInstance(this.firestore,e):null))}}function Zm(n){return _n(n,fr)}class pk{constructor(...e){this._delegate=new Ed(...e)}static documentId(){return new pk(hr.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Ed&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function F3(){return new ik("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gm(e)}static delete(){const e=function P3(){return new Zw("deleteField")}();return e._methodName="FieldValue.delete",new Gm(e)}static arrayUnion(...e){const t=function V3(...n){return new l3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gm(t)}static arrayRemove(...e){const t=function B3(...n){return new c3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gm(t)}static increment(e){const t=function U3(n){return new u3("increment",n)}(e);return t._methodName="FieldValue.increment",new Gm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const q3={Firestore:UN,GeoPoint:l1,Timestamp:br,Blob:zw,Transaction:HN,WriteBatch:jN,DocumentReference:tl,DocumentSnapshot:Kw,Query:ho,QueryDocumentSnapshot:Jw,QuerySnapshot:fk,CollectionReference:ov,FieldPath:pk,FieldValue:Gm,setLogLevel:function Z3(n){!function iI(n){Ko.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function z3(n){(function W3(n,e){n.INTERNAL.registerComponent(new P_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},q3)))})(n,(e,t)=>new UN(e,t,new $3)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(_T.Z);var Qw=L(5363),K3=L(6063);class kf extends Un.x{constructor(e=1/0,t=1/0,r=K3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:u}=this;t||(r.push(e),!i&&r.push(l.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let u=0;u<l.length&&!e.closed;u+=r?1:2)e.next(l[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var J3=L(3099);function ZN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,J3.B)({connector:()=>new kf(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function GN(n,e){return(0,Hi.m)(e)?sn(()=>n,e):sn(()=>n)}var mk=L(9468);L(5867);const WN=new Map,nU={activated:!1,tokenObservers:[]},rU={initialized:!1,enabled:!1};function Ji(n){return WN.get(n)||nU}function Yl(n,e){WN.set(n,e)}function _1(){return rU}class lU{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function cU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fo=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KN(n){if(!Ji(n).activated)throw fo.create("use-before-activation",{appName:n.name})}function vk(n,e){return bk.apply(this,arguments)}function bk(){return bk=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,l)}catch(A){throw fo.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw fo.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw fo.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw fo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const D=1e3*Number(_[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),bk.apply(this,arguments)}function pU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Xw="firebase-app-check-store";let b1=null;function QN(){return b1||(b1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xw,{keyPath:"compositeKey"})}}catch(t){e(fo.create("storage-open",{originalErrorMessage:t.message}))}}),b1)}function wk(){return wk=(0,ye.Z)(function*(n,e){const r=(yield QN()).transaction(Xw,"readwrite"),l=r.objectStore(Xw).put({compositeKey:n,value:e});return new Promise((u,f)=>{l.onsuccess=_=>{u()},r.onerror=_=>{var D;f(fo.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})}),wk.apply(this,arguments)}const eD=new Vl.Yd("@firebase/app-check");function nR(n,e){return(0,Xt.hl)()?function yU(n,e){return function XN(n,e){return wk.apply(this,arguments)}(function tR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{eD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rR(){return _1().enabled}function iR(){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,ye.Z)(function*(){const n=_1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ek.apply(this,arguments)}const TU={error:"UNKNOWN_ERROR"};function EU(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function w1(n){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,ye.Z)(function*(n,e=!1){const t=n.app;KN(t);const r=Ji(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&D1(_)&&(i=_)}if(!e&&i&&D1(i))return{token:i.token};let f,u=!1;if(rR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vk(pU(t,yield iR()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),u=!0);const _=yield r.exchangeTokenPromise;return yield nR(t,_),Yl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?eD.warn(_.message):eD.error(_),l=_}return i?(f={token:i.token},Yl(t,Object.assign(Object.assign({},r),{token:i})),yield nR(t,i)):f=MU(l),u&&oR(t,f),f}),Sk.apply(this,arguments)}function Ik(n,e){const t=Ji(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function sR(n){const{app:e}=n,t=Ji(e);let r=t.tokenRefresher;r||(r=function SU(n){const{app:e}=n;return new lU((0,ye.Z)(function*(){let r;if(r=Ji(e).token?yield w1(n,!0):yield w1(n),r.error)throw r.error}),()=>!0,()=>{const t=Ji(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Yl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function oR(n,e){const t=Ji(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function D1(n){return n.expireTimeMillis-Date.now()>0}function MU(n){return{token:EU(TU),error:n}}class IU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ji(this.app);for(const t of e)Ik(this.app,t.next);return Promise.resolve()}}const pR="app-check-internal";!function jU(){(0,ad._registerComponent)(new P_.wA("app-check",n=>function AU(n,e){return new IU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pR).initialize()})),(0,ad._registerComponent)(new P_.wA(pR,n=>function kU(n){return{getToken:e=>w1(n,e),addTokenListener:e=>function Mk(n,e,t,r){const{app:i}=n,l=Ji(i),u={next:t,error:r,type:e};if(Yl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&D1(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),sR(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>sR(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ik(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ad.registerVersion)("@firebase/app-check","0.5.5")}();class Ok{constructor(){return(0,ci.vb)("app-check")}}"undefined"!=typeof window&&window;var qU=L(127);const gR=new s.OlP("angularfire2.auth.use-emulator"),_R=new s.OlP("angularfire2.auth.settings"),yR=new s.OlP("angularfire2.auth.tenant-id"),vR=new s.OlP("angularfire2.auth.langugage-code"),bR=new s.OlP("angularfire2.auth.use-device-language"),wR=new s.OlP("angularfire.auth.persistence"),DR=(n,e,t,r,i,l,u,f)=>(0,Ta.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),u)for(const[D,S]of Object.entries(u))_.settings[D]=S;return f&&_.setPersistence(f),_},[t,r,i,l,u,f]);let Nk=(()=>{class n{constructor(t,r,i,l,u,f,_,D,S,A,R,B){const $=new Un.x,ee=pt(void 0).pipe((0,Qw.Q)(u.outsideAngular),sn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4087)))),(0,vt.U)(()=>(0,Ta.on)(t,l,r)),(0,vt.U)(_e=>DR(_e,l,f,D,S,A,_,R)),ZN({bufferSize:1,refCount:!1}));if(Rr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{ee.pipe(Vo()).subscribe();const Ve=ee.pipe(sn(Ge=>Ge.getRedirectResult().then(yt=>yt,()=>null)),ci.iC,ZN({bufferSize:1,refCount:!1})),Oe=ee.pipe(sn(Ge=>new Sr.y(yt=>({unsubscribe:l.runOutsideAngular(()=>Ge.onAuthStateChanged(ct=>yt.next(ct),ct=>yt.error(ct),()=>yt.complete()))})))),We=ee.pipe(sn(Ge=>new Sr.y(yt=>({unsubscribe:l.runOutsideAngular(()=>Ge.onIdTokenChanged(ct=>yt.next(ct),ct=>yt.error(ct),()=>yt.complete()))}))));this.authState=Ve.pipe(GN(Oe),(0,mk.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular)),this.user=Ve.pipe(GN(We),(0,mk.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular)),this.idToken=this.user.pipe(sn(Ge=>Ge?(0,er.D)(Ge.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(sn(Ge=>Ge?(0,er.D)(Ge.getIdTokenResult()):pt(null))),this.credential=(0,N0.T)(Ve,$,this.authState.pipe(xn(Ge=>!Ge))).pipe((0,vt.U)(Ge=>(null==Ge?void 0:Ge.user)?Ge:null),(0,mk.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular))}return(0,Ta.pX)(this,ee,l,{spy:{apply:(_e,Ve,Oe)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Oe.then(We=>$.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ta.Dh),s.LFG(Ta.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ci.HU),s.LFG(gR,8),s.LFG(_R,8),s.LFG(yR,8),s.LFG(vR,8),s.LFG(bR,8),s.LFG(wR,8),s.LFG(Ok,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function CR(n,e){return function zU(n,e=__.z){return new Sr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Rk(n,e){return CR(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function T1(n,e){return Rk(n,e).pipe(Ti(void 0),W0(),(0,vt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(S=>S.doc.ref.isEqual(u.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function TR(n,e,t){return T1(n,t).pipe(Vr((r,i)=>function JU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function QU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Pk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),R_(),(0,vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Pk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function ER(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class SR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=T1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ti(void 0),W0(),xn(([r,i])=>i.length>0||!r),(0,vt.U)(([r,i])=>i),ci.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ER(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(e={}){return Rk(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ci.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(ci.iC)}add(e){return this.ref.add(e)}doc(e){return new MR(this.ref.doc(e),this.afs)}}class MR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=kR(r,t);return new SR(i,l,this.afs)}snapshotChanges(){return function KU(n,e){return CR(n,e).pipe(Ti(void 0),W0(),(0,vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(ci.iC)}}class XU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?T1(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xn(t=>t.length>0),ci.iC):T1(this.query,this.afs.schedulers.outsideAngular).pipe(ci.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ER(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(e={}){return Rk(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ci.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(ci.iC)}}const IR=new s.OlP("angularfire2.enableFirestorePersistence"),AR=new s.OlP("angularfire2.firestore.persistenceSettings"),eH=new s.OlP("angularfire2.firestore.settings"),tH=new s.OlP("angularfire2.firestore.use-emulator");function kR(n,e=(t=>t)){return{query:e(n),ref:n}}let xf=(()=>{class n{constructor(t,r,i,l,u,f,_,D,S,A,R,B,$,ee,_e,Ve,Oe){this.schedulers=_;const We=(0,Ta.on)(t,f,r),Ge=S;A&&DR(We,f,R,$,ee,_e,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,Ta.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const yt=f.runOutsideAngular(()=>We.firestore());if(l&&yt.settings(l),Ge&&yt.useEmulator(...Ge),i&&!Rr(u)){const ct=()=>{try{return(0,er.D)(yt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(un){return"undefined"!=typeof console&&console.warn(un),pt(!1)}};return[yt,f.runOutsideAngular(ct)]}return[yt,pt(!1)]},[l,Ge,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=kR(i,r),f=this.schedulers.ngZone.run(()=>l);return new SR(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),l=this.firestore.collectionGroup(t);return new XU(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new MR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ta.Dh),s.LFG(Ta.xv,8),s.LFG(IR,8),s.LFG(eH,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ci.HU),s.LFG(AR,8),s.LFG(tH,8),s.LFG(Nk,8),s.LFG(gR,8),s.LFG(_R,8),s.LFG(yR,8),s.LFG(vR,8),s.LFG(bR,8),s.LFG(wR,8),s.LFG(Ok,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qm=(()=>{class n{constructor(){qU.Z.registerVersion("angularfire",ci.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:IR,useValue:!0},{provide:AR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xf]}),n})();const xR=n=>{var e,t;return Object.assign(Object.assign({},n),{fromDate:null===(e=n.fromDate)||void 0===e?void 0:e.toDate(),toDate:null===(t=n.toDate)||void 0===t?void 0:t.toDate()})};let av=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("events").add(t)}getAll(t){return this._client.collection("events").valueChanges({idField:"id"}).pipe((0,vt.U)(r=>t&&t.title?r.filter(i=>{var l;return i.title.toLowerCase().includes(null===(l=null==t?void 0:t.title)||void 0===l?void 0:l.toLowerCase())}):r),(0,vt.U)(r=>r.map(xR)))}getOne(t){return this._client.doc("events/"+t).valueChanges({idField:"id"}).pipe((0,vt.U)(xR))}remove(t){this._client.doc("events/"+t).delete()}set(t){this._client.doc("events/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const OR=new s.OlP("ADDS_EVENT_DTO"),E1=new s.OlP("GETS_ONE_EVENT_DTO"),LR=new s.OlP("SETS_EVENT_DTO");let S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[av,{provide:OR,useExisting:av},{provide:zg,useExisting:av},{provide:E1,useExisting:av},{provide:k0,useExisting:av},{provide:LR,useExisting:av}],imports:[[qm]]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),NR=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[NR,{provide:y_,useExisting:NR}],imports:[[]]}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn.forChild([{path:"",component:vM}]),Xr,S1,nH,rH]]}),n})();var sH=L(5032);function RR(n){return(0,Fr.e)((e,t)=>{(0,Po.Xf)(n).subscribe((0,qn.x)(t,()=>t.complete(),sH.Z)),!t.closed&&e.subscribe(t)})}function Wm(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function po(n){return"string"==typeof n}function M1(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function Of(n){return n&&n.getTime&&!isNaN(n.getTime())}function zm(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function Km(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Dr(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Rs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jm(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function PR(n){return void 0===n}function an(n){const e=+n;let t=0;return 0!==e&&isFinite(e)&&(t=Wm(e)),t}const tD={},FR={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Ps(n,e){const t=n.toLowerCase();let r=n;t in FR&&(r=FR[t]),tD[t]=tD[`${t}s`]=tD[e]=r}function VR(n){return po(n)?tD[n]||tD[n.toLowerCase()]:void 0}function Ad(n,e,t){const r=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}const Fk={},lv={},BR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Vt(n,e,t,r){n&&(lv[n]=r),e&&(lv[e[0]]=function(){return Ad(r.apply(null,arguments),e[1],e[2])}),t&&(lv[t]=function(i,l){return l.locale.ordinal(r.apply(null,arguments),n)})}function hH(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function I1(n,e,t){const r=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(r.getUTCFullYear())&&r.setUTCFullYear(n),r}function A1(n,e=0,t=1,r=0,i=0,l=0,u=0){const f=new Date(n,e,t,r,i,l,u);return n<100&&n>=0&&isFinite(f.getFullYear())&&f.setFullYear(n),f}function ln(n,e=!1){return e?n.getUTCHours():n.getHours()}function cv(n,e=!1){return e?n.getUTCMinutes():n.getMinutes()}function Vk(n,e=!1){return e?n.getUTCSeconds():n.getSeconds()}function kd(n,e=!1){return e?n.getUTCMilliseconds():n.getMilliseconds()}function iu(n,e=!1){return e?n.getUTCDay():n.getDay()}function Xm(n,e=!1){return e?n.getUTCDate():n.getDate()}function cn(n,e=!1){return e?n.getUTCMonth():n.getMonth()}function Ar(n,e=!1){return e?n.getUTCFullYear():n.getFullYear()}function uv(n,e){return!(!n||!e)&&dv(n,e)&&cn(n)===cn(e)}function dv(n,e){return!(!n||!e)&&Ar(n)===Ar(e)}function Lf(n,e){return!(!n||!e)&&dv(n,e)&&uv(n,e)&&Xm(n)===Xm(e)}const UR=/\d/,Ia=/\d\d/,HR=/\d{3}/,Bk=/\d{4}/,k1=/[+-]?\d{6}/,pr=/\d\d?/,jR=/\d\d\d\d?/,YR=/\d\d\d\d\d\d?/,x1=/\d{1,3}/,Uk=/\d{1,4}/,O1=/[+-]?\d{1,6}/,yH=/\d+/,L1=/[+-]?\d+/,N1=/Z|[+-]\d\d(?::?\d\d)?/gi,bH=/[+-]?\d+(\.\d{1,3})?/,nD=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,R1={};function _t(n,e,t){R1[n]=zm(e)?e:function(r,i){return r&&t?t:e}}function wH(n,e){return Rs(R1,n)?R1[n](!1,e):new RegExp(function DH(n){return eg(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,r,i,l)=>t||r||i||l))}(n))}function eg(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Hk={};function mr(n,e){const t=po(n)?[n]:n;let r=e;if(Km(e)&&(r=function(i,l,u){return l[e]=an(i),u}),Dr(t)&&zm(r)){let i;for(i=0;i<t.length;i++)Hk[t[i]]=r}}function rD(n,e){mr(n,function(t,r,i,l){return i._w=i._w||{},e(t,i._w,i,l)})}function CH(n,e,t){return null!=e&&Rs(Hk,n)&&Hk[n](e,t._a,t,n),t}const TH={};function Fs(n,e){TH[n]=e}function Tn(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function jk(n,e){return e.locale.getFullYear?e.locale.getFullYear(n,e.isUTC).toString():Ar(n,e.isUTC).toString()}function Yk(n){return an(n)+(an(n)>68?1900:2e3)}function iD(n){return $k(n)?366:365}function $k(n){return n%4==0&&n%100!=0||n%400==0}function P1(n,e){if(isNaN(n)||isNaN(e))return NaN;const t=function oH(n,e){return(n%e+e)%e}(e,12);return 1===t?$k(n+(e-t)/12)?29:28:31-t%7%2}const AH={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Qi(n,e){const t=Object.assign({},AH,e),r=n.getFullYear()+(t.year||0),i=n.getMonth()+(t.month||0);let l=n.getDate()+(t.day||0);return t.month&&!t.day&&(l=Math.min(l,P1(r,i))),A1(r,i,l,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function hv(n,e){return Km(e)?e:n}function tg(n,e,t){const r=Math.min(Xm(n),P1(Ar(n),e));return t?n.setUTCMonth(e,r):n.setMonth(e,r),n}function Zk(n,e,t){return t?n.setUTCDate(e):n.setDate(e),n}function xd(n){return new Date(n.getTime())}function Od(n,e,t){const r=xd(n);switch(e){case"year":tg(r,0,t);case"quarter":case"month":Zk(r,1,t);case"week":case"isoWeek":case"day":case"date":!function OH(n,e,t){t?n.setUTCHours(e):n.setHours(e)}(r,0,t);case"hours":!function LH(n,e,t){t?n.setUTCMinutes(e):n.setMinutes(e)}(r,0,t);case"minutes":!function NH(n,e,t){t?n.setUTCSeconds(e):n.setSeconds(e)}(r,0,t);case"seconds":!function RH(n,e,t){t?n.setUTCMilliseconds(e):n.setMilliseconds(e)}(r,0,t)}return"week"===e&&function Wj(n,e,t={}){au(n,e-ix(n,t.locale,t.isUTC),"day")}(r,0,{isUTC:t}),"isoWeek"===e&&function zj(n,e,t={}){const r=function qj(n,e=Li()){return po(n)?e.weekdaysParse(n)%7||7:Km(n)&&isNaN(n)?null:n}(e,t.locale);cD(n,function gi(n,e){return iu(n,e)}(n)%7?r:r-7)}(r,1),"quarter"===e&&tg(r,3*Math.floor(cn(r,t)/3),t),r}function F1(n,e,t){let r=e;return"date"===r&&(r="day"),function $j(n,e,t,r){return gP(n,rx(e,t),-1,r)}(au(Od(n,r,t),1,"isoWeek"===r?"week":r,t),1,"milliseconds",t)}function Gk(n,e){const t=+Od(n,"day",e),r=+Od(n,"year",e);return Math.round((t-r)/864e5)+1}function V1(n,e,t){const r=e-t+7;return-(I1(n,0,r).getUTCDay()-e+7)%7+r-1}function fv(n,e,t,r){const i=V1(Ar(n,r),e,t),l=Math.floor((Gk(n,r)-i-1)/7)+1;let u,f;return l<1?(f=Ar(n,r)-1,u=l+ng(f,e,t)):l>ng(Ar(n,r),e,t)?(u=l-ng(Ar(n,r),e,t),f=Ar(n,r)+1):(f=Ar(n,r),u=l),{week:u,year:f}}function ng(n,e,t){const r=V1(n,e,t),i=V1(n+1,e,t);return(iD(n)-r+i)/7}const ZR=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,VH="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),GR="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),BH="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qR="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),UH="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),WR={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},YH=nD,$H=nD;class zR{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];this[zm(r)?t:`_${t}`]=r}this._config=e}calendar(e,t,r){const i=this._calendar[e]||this._calendar.sameElse;return zm(i)?i.call(null,t,r):i}longDateFormat(e){const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(i){return i.slice(1)}),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return Ar(e,t)}postformat(e){return e}relativeTime(e,t,r,i){const l=this._relativeTime[r];return zm(l)?l(e,t,r,i):l.replace(/%d/i,e.toString(10))}pastFuture(e,t){const r=this._relativeTime[e>0?"future":"past"];return zm(r)?r(t):r.replace(/%s/i,t)}months(e,t,r=!1){if(!e)return Dr(this._months)?this._months:this._months.standalone;if(Dr(this._months))return this._months[cn(e,r)];const i=(this._months.isFormat||ZR).test(t)?"format":"standalone";return this._months[i][cn(e,r)]}monthsShort(e,t,r=!1){if(!e)return Dr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(Dr(this._monthsShort))return this._monthsShort[cn(e,r)];const i=ZR.test(t)?"format":"standalone";return this._monthsShort[i][cn(e,r)]}monthsParse(e,t,r){let i,l,u;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++){if(i=new Date(Date.UTC(2e3,u)),r&&!this._longMonthsParse[u]){const f=this.months(i,"",!0).replace(".",""),_=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[u]=new RegExp(`^${f}$`,"i"),this._shortMonthsParse[u]=new RegExp(`^${_}$`,"i")}if(!r&&!this._monthsParse[u]&&(l=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[u]=new RegExp(l.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[u].test(e)||r&&"MMM"===t&&this._shortMonthsParse[u].test(e)||!r&&this._monthsParse[u].test(e))return u}}monthsRegex(e){return this._monthsParseExact?(Rs(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(Rs(this,"_monthsRegex")||(this._monthsRegex=$H),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(Rs(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Rs(this,"_monthsShortRegex")||(this._monthsShortRegex=YH),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return fv(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,r){if(!e)return Dr(this._weekdays)?this._weekdays:this._weekdays.standalone;if(Dr(this._weekdays))return this._weekdays[iu(e,r)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][iu(e,r)]}weekdaysMin(e,t,r){return e?this._weekdaysMin[iu(e,r)]:this._weekdaysMin}weekdaysShort(e,t,r){return e?this._weekdaysShort[iu(e,r)]:this._weekdaysShort}weekdaysParse(e,t,r){let i,l;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const u=cD(new Date(Date.UTC(2e3,1)),i,null,!0);if(r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(u,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(u,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(u,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(l=`^${this.weekdays(u,"",!0)}|^${this.weekdaysShort(u,"",!0)}|^${this.weekdaysMin(u,"",!0)}`,this._weekdaysParse[i]=new RegExp(l.replace(".",""),"i")),!(Dr(this._fullWeekdaysParse)&&Dr(this._shortWeekdaysParse)&&Dr(this._minWeekdaysParse)&&Dr(this._weekdaysParse)))return;if(r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(Rs(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Rs(this,"_weekdaysRegex")||(this._weekdaysRegex=nD),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(Rs(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Rs(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=nD),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(Rs(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Rs(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nD),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:WR;const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,i=>i.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,r){const i=e.toLocaleLowerCase();let l,u,f;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)f=new Date(2e3,l),this._shortMonthsParse[l]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(f,"").toLocaleLowerCase();return r?"MMM"===t?(u=this._shortMonthsParse.indexOf(i),-1!==u?u:null):(u=this._longMonthsParse.indexOf(i),-1!==u?u:null):"MMM"===t?(u=this._shortMonthsParse.indexOf(i),-1!==u?u:(u=this._longMonthsParse.indexOf(i),-1!==u?u:null)):(u=this._longMonthsParse.indexOf(i),-1!==u?u:(u=this._shortMonthsParse.indexOf(i),-1!==u?u:null))}handleWeekStrictParse(e,t,r){let i;const l=e.toLocaleLowerCase();if(!this._weekdaysParse){let u;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],u=0;u<7;++u){const f=cD(new Date(Date.UTC(2e3,1)),u,null,!0);this._minWeekdaysParse[u]=this.weekdaysMin(f).toLocaleLowerCase(),this._shortWeekdaysParse[u]=this.weekdaysShort(f).toLocaleLowerCase(),this._weekdaysParse[u]=this.weekdays(f,"").toLocaleLowerCase()}}if(Dr(this._weekdaysParse)&&Dr(this._shortWeekdaysParse)&&Dr(this._minWeekdaysParse))return r?"dddd"===t?(i=this._weekdaysParse.indexOf(l),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(l),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(l),-1!==i||(i=this._shortWeekdaysParse.indexOf(l),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null)):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(l),-1!==i||(i=this._weekdaysParse.indexOf(l),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null)):(i=this._minWeekdaysParse.indexOf(l),-1!==i||(i=this._weekdaysParse.indexOf(l),-1!==i)?i:(i=this._shortWeekdaysParse.indexOf(l),-1!==i?i:null))}computeMonthsParse(){const e=[],t=[],r=[];let i,l;for(l=0;l<12;l++)i=new Date(2e3,l),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(rg),t.sort(rg),r.sort(rg),l=0;l<12;l++)e[l]=eg(e[l]),t[l]=eg(t[l]);for(l=0;l<24;l++)r[l]=eg(r[l]);this._monthsRegex=new RegExp(`^(${r.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],r=[],i=[];let l;for(l=0;l<7;l++){const u=cD(new Date(Date.UTC(2e3,1)),l,null,!0),f=this.weekdaysMin(u),_=this.weekdaysShort(u),D=this.weekdays(u);e.push(f),t.push(_),r.push(D),i.push(f),i.push(_),i.push(D)}for(e.sort(rg),t.sort(rg),r.sort(rg),i.sort(rg),l=0;l<7;l++)t[l]=eg(t[l]),r[l]=eg(r[l]),i[l]=eg(i[l]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function rg(n,e){return e.length-n.length}const KR={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:WR,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:VH,monthsShort:GR,week:{dow:0,doy:6},weekdays:BH,weekdaysMin:UH,weekdaysShort:qR,meridiemParse:/[ap]\.?m?\.?/i};function ZH(n,e,t){const r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length);let u,l=0;for(u=0;u<r;u++)(t&&n[u]!==e[u]||!t&&an(n[u])!==an(e[u]))&&l++;return l+i}function B1(n,e){Vt(null,[n,n.length,!1],null,e)}function JR(n,e){return Wk(n,e.locale).toString()}function QR(n){return XR(n).toString()}function Wk(n,e=Li(),t){return fv(n,e.firstDayOfWeek(),e.firstDayOfYear(),t).year}function XR(n,e){return fv(n,1,4,e).year}function tP(n,e){Vt(n,null,null,function(t,r){let i=function sg(n,e={}){return e._isUTC?e._offset||0:function nP(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:r.isUTC,_offset:r.offset}),l="+";return i<0&&(i=-i,l="-"),l+Ad(~~(i/60),2)+e+Ad(~~i%60,2)})}const tj=/([\+\-]|\d\d)/gi;const Xi={},sD={};let oD;function rP(n){return n&&n.toLowerCase().replace("_","-")}function sP(n){return Xi[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),Xi[n]}function Kk(n,e){let t;return n&&(PR(e)?t=Li(n):po(n)&&(t=oP(n,e)),t&&(oD=t)),oD&&oD._abbr}function oP(n,e){if(null===e)return delete Xi[n],oD=Li("en"),null;if(!e)return;let t=KR;if(e.abbr=n,null!=e.parentLocale){if(null==Xi[e.parentLocale])return sD[e.parentLocale]||(sD[e.parentLocale]=[]),sD[e.parentLocale].push({name:n,config:e}),null;t=Xi[e.parentLocale]._config}return Xi[n]=new zR(function iP(n,e){const t=Object.assign({},n);for(const r in e)!Rs(e,r)||(Jm(n[r])&&Jm(e[r])?(t[r]={},Object.assign(t[r],n[r]),Object.assign(t[r],e[r])):null!=e[r]?t[r]=e[r]:delete t[r]);for(const r in n)Rs(n,r)&&!Rs(e,r)&&Jm(n[r])&&(t[r]=Object.assign({},t[r]));return t}(t,e)),sD[n]&&sD[n].forEach(function(r){oP(r.name,r.config)}),Kk(n),Xi[n]}function Li(n){return function aj(){Xi.en||(Kk("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const e=n%10;return n+(1===an(n%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function GH(){Vt("w",["ww",2,!1],"wo",function(n,e){return function ig(n,e=Li(),t){return e.week(n,t)}(n,e.locale).toString(10)}),Vt("W",["WW",2,!1],"Wo",function(n){return function qk(n,e){return fv(n,1,4,e).week}(n).toString(10)}),Ps("week","w"),Ps("isoWeek","W"),Fs("week",5),Fs("isoWeek",5),_t("w",pr),_t("ww",pr,Ia),_t("W",pr),_t("WW",pr,Ia),rD(["w","ww","W","WW"],function(n,e,t,r){return e[r.substr(0,1)]=an(n),t})}(),function qH(){Vt(null,["gg",2,!1],null,function(n,e){return(Wk(n,e.locale)%100).toString()}),Vt(null,["GG",2,!1],null,function(n){return(XR(n)%100).toString()}),B1("gggg",JR),B1("ggggg",JR),B1("GGGG",QR),B1("GGGGG",QR),Ps("weekYear","gg"),Ps("isoWeekYear","GG"),Fs("weekYear",1),Fs("isoWeekYear",1),_t("G",L1),_t("g",L1),_t("GG",pr,Ia),_t("gg",pr,Ia),_t("GGGG",Uk,Bk),_t("gggg",Uk,Bk),_t("GGGGG",O1,k1),_t("ggggg",O1,k1),rD(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){return e[r.substr(0,2)]=an(n),t}),rD(["gg","GG"],function(n,e,t,r){return e[r]=Yk(n),t})}(),function MH(){Vt("Y",null,null,function(n,e){const t=Ar(n,e.isUTC);return t<=9999?t.toString(10):`+${t}`}),Vt(null,["YY",2,!1],null,function(n,e){return(Ar(n,e.isUTC)%100).toString(10)}),Vt(null,["YYYY",4,!1],null,jk),Vt(null,["YYYYY",5,!1],null,jk),Vt(null,["YYYYYY",6,!0],null,jk),Ps("year","y"),Fs("year",1),_t("Y",L1),_t("YY",pr,Ia),_t("YYYY",Uk,Bk),_t("YYYYY",O1,k1),_t("YYYYYY",O1,k1),mr(["YYYYY","YYYYYY"],0),mr("YYYY",function(n,e,t){return e[0]=2===n.length?Yk(n):an(n),t}),mr("YY",function(n,e,t){return e[0]=Yk(n),t}),mr("Y",function(n,e,t){return e[0]=parseInt(n,10),t})}(),function zH(){Vt("z",null,null,function(n,e){return e.isUTC?"UTC":""}),Vt("zz",null,null,function(n,e){return e.isUTC?"Coordinated Universal Time":""})}(),function KH(){Vt("X",null,null,function(n){return function pH(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Vt("x",null,null,function(n){return n.valueOf().toString(10)}),_t("x",L1),_t("X",bH),mr("X",function(n,e,t){return t._d=new Date(1e3*parseFloat(n)),t}),mr("x",function(n,e,t){return t._d=new Date(an(n)),t})}(),function JH(){Vt("s",["ss",2,!1],null,function(n,e){return Vk(n,e.isUTC).toString(10)}),Ps("second","s"),Fs("second",15),_t("s",pr),_t("ss",pr,Ia),mr(["s","ss"],5)}(),function QH(){Vt("Q",null,"Qo",function(n,e){return function XH(n,e=!1){return Math.ceil((cn(n,e)+1)/3)}(n,e.isUTC).toString(10)}),Ps("quarter","Q"),Fs("quarter",7),_t("Q",UR),mr("Q",function(n,e,t){return e[1]=3*(an(n)-1),t})}(),function ej(){tP("Z",":"),tP("ZZ",""),_t("Z",N1),_t("ZZ",N1),mr(["Z","ZZ"],function(n,e,t){return t._useUTC=!0,t._tzm=function zk(n,e){const t=(e||"").match(n);if(null===t)return null;const i=t[t.length-1].match(tj)||["-","0","0"],l=60*parseInt(i[1],10)+an(i[2]);return 0===l?0:"+"===i[0]?l:-l}(N1,n),t})}(),function IH(){Vt("M",["MM",2,!1],"Mo",function(n,e){return(cn(n,e.isUTC)+1).toString(10)}),Vt("MMM",null,null,function(n,e){return e.locale.monthsShort(n,e.format,e.isUTC)}),Vt("MMMM",null,null,function(n,e){return e.locale.months(n,e.format,e.isUTC)}),Ps("month","M"),Fs("month",8),_t("M",pr),_t("MM",pr,Ia),_t("MMM",function(n,e){return e.monthsShortRegex(n)}),_t("MMMM",function(n,e){return e.monthsRegex(n)}),mr(["M","MM"],function(n,e,t){return e[1]=an(n)-1,t}),mr(["MMM","MMMM"],function(n,e,t,r){const i=t._locale.monthsParse(n,r,t._strict);return null!=i?e[1]=i:Tn(t).invalidMonth=!!n,t})}(),function rj(){Vt("m",["mm",2,!1],null,function(n,e){return cv(n,e.isUTC).toString(10)}),Ps("minute","m"),Fs("minute",14),_t("m",pr),_t("mm",pr,Ia),mr(["m","mm"],4)}(),function ij(){let n;for(Vt("S",null,null,function(t,r){return(~~(kd(t,r.isUTC)/100)).toString(10)}),Vt(null,["SS",2,!1],null,function(t,r){return(~~(kd(t,r.isUTC)/10)).toString(10)}),Vt(null,["SSS",3,!1],null,function(t,r){return kd(t,r.isUTC).toString(10)}),Vt(null,["SSSS",4,!1],null,function(t,r){return(10*kd(t,r.isUTC)).toString(10)}),Vt(null,["SSSSS",5,!1],null,function(t,r){return(100*kd(t,r.isUTC)).toString(10)}),Vt(null,["SSSSSS",6,!1],null,function(t,r){return(1e3*kd(t,r.isUTC)).toString(10)}),Vt(null,["SSSSSSS",7,!1],null,function(t,r){return(1e4*kd(t,r.isUTC)).toString(10)}),Vt(null,["SSSSSSSS",8,!1],null,function(t,r){return(1e5*kd(t,r.isUTC)).toString(10)}),Vt(null,["SSSSSSSSS",9,!1],null,function(t,r){return(1e6*kd(t,r.isUTC)).toString(10)}),Ps("millisecond","ms"),Fs("millisecond",16),_t("S",x1,UR),_t("SS",x1,Ia),_t("SSS",x1,HR),n="SSSS";n.length<=9;n+="S")_t(n,yH);function e(t,r,i){return r[6]=an(1e3*parseFloat(`0.${t}`)),i}for(n="S";n.length<=9;n+="S")mr(n,e)}(),function sj(){function n(i,l){return ln(i,l)%12||12}function t(i,l){Vt(i,null,null,function(u,f){return f.locale.meridiem(ln(u,f.isUTC),cv(u,f.isUTC),l)})}function r(i,l){return l._meridiemParse}Vt("H",["HH",2,!1],null,function(i,l){return ln(i,l.isUTC).toString(10)}),Vt("h",["hh",2,!1],null,function(i,l){return n(i,l.isUTC).toString(10)}),Vt("k",["kk",2,!1],null,function(i,l){return function e(i,l){return ln(i,l)||24}(i,l.isUTC).toString(10)}),Vt("hmm",null,null,function(i,l){return`${n(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}`}),Vt("hmmss",null,null,function(i,l){return`${n(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}${Ad(Vk(i,l.isUTC),2)}`}),Vt("Hmm",null,null,function(i,l){return`${ln(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}`}),Vt("Hmmss",null,null,function(i,l){return`${ln(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}${Ad(Vk(i,l.isUTC),2)}`}),t("a",!0),t("A",!1),Ps("hour","h"),Fs("hour",13),_t("a",r),_t("A",r),_t("H",pr),_t("h",pr),_t("k",pr),_t("HH",pr,Ia),_t("hh",pr,Ia),_t("kk",pr,Ia),_t("hmm",jR),_t("hmmss",YR),_t("Hmm",jR),_t("Hmmss",YR),mr(["H","HH"],3),mr(["k","kk"],function(i,l,u){const f=an(i);return l[3]=24===f?0:f,u}),mr(["a","A"],function(i,l,u){return u._isPm=u._locale.isPM(i),u._meridiem=i,u}),mr(["h","hh"],function(i,l,u){return l[3]=an(i),Tn(u).bigHour=!0,u}),mr("hmm",function(i,l,u){const f=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f)),Tn(u).bigHour=!0,u}),mr("hmmss",function(i,l,u){const f=i.length-4,_=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f,2)),l[5]=an(i.substr(_)),Tn(u).bigHour=!0,u}),mr("Hmm",function(i,l,u){const f=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f)),u}),mr("Hmmss",function(i,l,u){const f=i.length-4,_=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f,2)),l[5]=an(i.substr(_)),u})}(),function FH(){Vt("DDD",["DDDD",3,!1],"DDDo",function(n){return Gk(n).toString(10)}),Ps("dayOfYear","DDD"),Fs("dayOfYear",4),_t("DDD",x1),_t("DDDD",HR),mr(["DDD","DDDD"],function(n,e,t){return t._dayOfYear=an(n),t})}(),function Zj(){Vt("d",null,"do",function(n,e){return iu(n,e.isUTC).toString(10)}),Vt("dd",null,null,function(n,e){return e.locale.weekdaysMin(n,e.format,e.isUTC)}),Vt("ddd",null,null,function(n,e){return e.locale.weekdaysShort(n,e.format,e.isUTC)}),Vt("dddd",null,null,function(n,e){return e.locale.weekdays(n,e.format,e.isUTC)}),Vt("e",null,null,function(n,e){return ix(n,e.locale,e.isUTC).toString(10)}),Vt("E",null,null,function(n,e){return function _P(n,e){return iu(n,e)||7}(n,e.isUTC).toString(10)}),Ps("day","d"),Ps("weekday","e"),Ps("isoWeekday","E"),Fs("day",11),Fs("weekday",11),Fs("isoWeekday",11),_t("d",pr),_t("e",pr),_t("E",pr),_t("dd",function(n,e){return e.weekdaysMinRegex(n)}),_t("ddd",function(n,e){return e.weekdaysShortRegex(n)}),_t("dddd",function(n,e){return e.weekdaysRegex(n)}),rD(["dd","ddd","dddd"],function(n,e,t,r){const i=t._locale.weekdaysParse(n,r,t._strict);return null!=i?e.d=i:Tn(t).invalidWeekday=!!n,t}),rD(["d","e","E"],function(n,e,t,r){return e[r]=an(n),t})}(),function EH(){Vt("D",["DD",2,!1],"Do",function(n,e){return Xm(n,e.isUTC).toString(10)}),Ps("date","D"),Fs("date",9),_t("D",pr),_t("DD",pr,Ia),_t("Do",function(n,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),mr(["D","DD"],2),mr("Do",function(n,e,t){return e[2]=an(n.match(pr)[0]),t})}())}(),n?function oj(n){let e,t,r=0;for(;r<n.length;){const i=rP(n[r]).split("-");let l=i.length;for(e=rP(n[r+1]),e=e?e.split("-"):null;l>0;){if(t=sP(i.slice(0,l).join("-")),t)return t;if(e&&e.length>=l&&ZH(i,e,!0)>=l-1)break;l--}r++}return null}(Dr(n)?n:[n]):oD}const aD=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],lj=aD.reduce((n,e)=>(n[e]=!0,n),{});function aP(n){return n<0?Math.floor(n):Math.ceil(n)}function lP(n){return 4800*n/146097}function Jk(n){return 146097*n/4800}let Nf=Math.round;const su_ss=44,su_s=45,su_m=45,su_h=22,su_d=26,su_M=11;function dj(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}class cP{constructor(e,t={}){this._data={},this._locale=Li(),this._locale=t&&t._locale||Li();const i=e.year||0,l=e.quarter||0,u=e.month||0,f=e.week||0,_=e.day||0,D=e.hours||0,S=e.minutes||0,A=e.seconds||0,R=e.milliseconds||0;return this._isValid=function cj(n){if(Object.keys(n).some(r=>r in lj&&null===n[r]||isNaN(n[r])))return!1;let t=!1;for(let r=0;r<aD.length;++r)if(n[aD[r]]){if(t)return!1;n[aD[r]]!==an(n[aD[r]])&&(t=!0)}return!0}(e),this._milliseconds=+R+1e3*A+60*S*1e3+1e3*D*60*60,this._days=+_+7*f,this._months=+u+3*l+12*i,function uj(n){let e=n._milliseconds,t=n._days,r=n._months;const i=n._data;e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=864e5*aP(Jk(r)+t),t=0,r=0),i.milliseconds=e%1e3;const l=Wm(e/1e3);i.seconds=l%60;const u=Wm(l/60);i.minutes=u%60;const f=Wm(u/60);i.hours=f%24,t+=Wm(f/24);const _=Wm(lP(t));r+=_,t-=aP(Jk(_));const D=Wm(r/12);return r%=12,i.day=t,i.month=r,i.year=D,n}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let r=function hj(n,e,t){const r=rx(n).abs(),i=Nf(r.as("s")),l=Nf(r.as("m")),u=Nf(r.as("h")),f=Nf(r.as("d")),_=Nf(r.as("M")),D=Nf(r.as("y")),S=i<=su_ss&&["s",i]||i<su_s&&["ss",i]||l<=1&&["m"]||l<su_m&&["mm",l]||u<=1&&["h"]||u<su_h&&["hh",u]||f<=1&&["d"]||f<su_d&&["dd",f]||_<=1&&["M"]||_<su_M&&["MM",_]||D<=1&&["y"]||["yy",D];return dj.apply(null,[S[0],S[1],e,+n>0,t])}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}localeData(){return this._locale}locale(e){return e?(this._locale=Li(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,r;const i=this._milliseconds,l=VR(e);if("month"===l||"year"===l)return t=this._days+i/864e5,r=this._months+lP(t),"month"===l?r:r/12;switch(t=this._days+Math.round(Jk(this._months)),l){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${l}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*an(this._months/12):NaN}}function Qk(n){if(null==n._isValid){const e=Tn(n),t=Array.prototype.some.call(e.parsedDateParts,function(i){return null!=i});let r=!isNaN(n._d&&n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return r;n._isValid=r}return n._isValid}function H1(n,e){return n._d=new Date(NaN),Object.assign(Tn(n),e||{userInvalidated:!0}),n}const mj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_j=/Z|[+-]\d\d(?::?\d\d)?/,j1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],Xk=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yj=/^\/?Date\((\-?\d+)/i,vj={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},bj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function uP(n){if(!po(n._i))return n;const e=n._i,t=mj.exec(e)||gj.exec(e);let r,i,l,u,f,_;if(!t)return n._isValid=!1,n;for(f=0,_=j1.length;f<_;f++)if(j1[f][1].exec(t[1])){i=j1[f][0],r=!1!==j1[f][2];break}if(null==i)return n._isValid=!1,n;if(t[3]){for(f=0,_=Xk.length;f<_;f++)if(Xk[f][1].exec(t[3])){l=(t[2]||" ")+Xk[f][0];break}if(null==l)return n._isValid=!1,n}if(!r&&null!=l)return n._isValid=!1,n;if(t[4]){if(!_j.exec(t[4]))return n._isValid=!1,n;u="Z"}return n._f=i+(l||"")+(u||""),tx(n)}function Dj(n){const e=parseInt(n,10);return e<=49?e+2e3:e}function dP(n){if(!po(n._i))return n;const e=bj.exec(function Cj(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!e)return function pj(n){return n._isValid=!1,n}(n);const t=function wj(n,e,t,r,i,l){const u=[Dj(n),GR.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return l&&u.push(parseInt(l,10)),u}(e[4],e[3],e[2],e[5],e[6],e[7]);return function Tj(n,e,t){return!n||qR.indexOf(n)===new Date(e[0],e[1],e[2]).getDay()||(Tn(t).weekdayMismatch=!0,t._isValid=!1,!1)}(e[1],t,n)&&(n._a=t,n._tzm=function Ej(n,e,t){if(n)return vj[n];if(e)return 0;{const r=parseInt(t,10),i=r%100;return(r-i)/100*60+i}}(e[8],e[9],e[10]),n._d=I1.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Tn(n).rfc2822=!0),n}function nl(n,e,t,r,i=0){const l=Li(t||"en");if(!l)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const f=function Mj(n,e,t,r,i=0){if(!Of(n))return t.invalidDate;const l=hP(e,t);return Fk[l]=Fk[l]||function dH(n){const e=n.match(BR),t=e.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=lv[e[i]]?lv[e[i]]:hH(e[i]);return function(i,l,u,f=0){let _="";for(let D=0;D<t;D++)_+=zm(r[D])?r[D].call(null,i,{format:n,locale:l,isUTC:u,offset:f}):r[D];return _}}(l),Fk[l](n,t,r,i)}(n,e||(r?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),l,r,i);return f&&l.postformat(f)}function hP(n,e){let t=n,r=5;const i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,l=u=>e.formatLongDate(u)||u;for(i.lastIndex=0;r>=0&&i.test(t);)t=t.replace(i,l),i.lastIndex=0,r-=1;return t}function pv(n,e,t){return null!=n?n:null!=e?e:t}function ex(n){const e=[];let t,r,i;if(n._d)return n;const l=function Ij(n){const e=new Date;return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function Aj(n){let e,t,r,i,l,u,f;const _=n._w;if(null!=_.GG||null!=_.W||null!=_.E)i=1,l=4,e=pv(_.GG,n._a[0],fv(new Date,1,4).year),t=pv(_.W,1),r=pv(_.E,1),(r<1||r>7)&&(f=!0);else{i=n._locale._week.dow,l=n._locale._week.doy;const D=fv(new Date,i,l);e=pv(_.gg,n._a[0],D.year),t=pv(_.w,D.week),null!=_.d?(r=_.d,(r<0||r>6)&&(f=!0)):null!=_.e?(r=_.e+i,(_.e<0||_.e>6)&&(f=!0)):r=i}t<1||t>ng(e,i,l)?Tn(n)._overflowWeeks=!0:null!=f?Tn(n)._overflowWeekday=!0:(u=function $R(n,e,t,r,i){const f=1+7*(e-1)+(7+t-r)%7+V1(n,r,i);let _,D;return f<=0?(_=n-1,D=iD(_)+f):f>iD(n)?(_=n+1,D=f-iD(n)):(_=n,D=f),{year:_,dayOfYear:D}}(e,t,r,i,l),n._a[0]=u.year,n._dayOfYear=u.dayOfYear)}(n),null!=n._dayOfYear&&(i=pv(n._a[0],l[0]),(n._dayOfYear>iD(i)||0===n._dayOfYear)&&(Tn(n)._overflowDayOfYear=!0),r=new Date(Date.UTC(i,0,n._dayOfYear)),n._a[1]=r.getUTCMonth(),n._a[2]=r.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=l[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?I1:A1).apply(null,e);const u=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&void 0!==n._w.d&&n._w.d!==u&&(Tn(n).weekdayMismatch=!0),n}function fP(n){let e;const t=n._a;return t&&-2===Tn(n).overflow&&(e=t[1]<0||t[1]>11?1:t[2]<1||t[2]>P1(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,Tn(n)._overflowDayOfYear&&(e<0||e>2)&&(e=2),Tn(n)._overflowWeeks&&-1===e&&(e=7),Tn(n)._overflowWeekday&&-1===e&&(e=8),Tn(n).overflow=e),n}function tx(n){if("ISO_8601"===n._f)return uP(n);if("RFC_2822"===n._f)return dP(n);if(n._a=[],Tn(n).empty=!0,Dr(n._f)||!n._i&&0!==n._i)return n;let e=n._i.toString(),t=0;const r=e.length,i=hP(n._f,n._locale).match(BR)||[];let l,u,f,_;for(l=0;l<i.length;l++)u=i[l],f=(e.match(wH(u,n._locale))||[])[0],f&&(_=e.substr(0,e.indexOf(f)),_.length>0&&Tn(n).unusedInput.push(_),e=e.slice(e.indexOf(f)+f.length),t+=f.length),lv[u]?(f?Tn(n).empty=!1:Tn(n).unusedTokens.push(u),CH(u,f,n)):n._strict&&!f&&Tn(n).unusedTokens.push(u);return Tn(n).charsLeftOver=r-t,e.length>0&&Tn(n).unusedInput.push(e),n._a[3]<=12&&!0===Tn(n).bigHour&&n._a[3]>0&&(Tn(n).bigHour=void 0),Tn(n).parsedDateParts=n._a.slice(0),Tn(n).meridiem=n._meridiem,n._a[3]=function Oj(n,e,t){let r=e;if(null==t)return r;if(null!=n.meridiemHour)return n.meridiemHour(r,t);if(null==n.isPM)return r;const i=n.isPM(t);return i&&r<12&&(r+=12),!i&&12===r&&(r=0),r}(n._locale,n._a[3],n._meridiem),ex(n),fP(n)}function Rj(n){const e=fP(function Pj(n){let e=n._i;const t=n._f;return n._locale=n._locale||Li(n._l),null===e||void 0===t&&""===e?H1(n,{nullInput:!0}):(po(e)&&(n._i=e=n._locale.preparse(e,t)),M1(e)?(n._d=xd(e),n):(Dr(t)?function Lj(n){let e,t,r,i,l;if(!n._f||0===n._f.length)return Tn(n).invalidFormat=!0,H1(n);for(l=0;l<n._f.length;l++)i=0,e=Object.assign({},n),null!=n._useUTC&&(e._useUTC=n._useUTC),e._f=n._f[l],tx(e),Qk(e)&&(i+=Tn(e).charsLeftOver,i+=10*Tn(e).unusedTokens.length,Tn(e).score=i,(null==r||i<r)&&(r=i,t=e));Object.assign(n,t||e)}(n):t?tx(n):function Fj(n){const e=n._i;if(PR(e))n._d=new Date;else if(M1(e))n._d=xd(e);else if(po(e))!function Sj(n){if(!po(n._i))return n;const e=yj.exec(n._i);null!==e?n._d=new Date(+e[1]):(uP(n),!1!==n._isValid||(delete n._isValid,dP(n),!1!==n._isValid||(delete n._isValid,H1(n))))}(n);else if(Dr(e)&&e.length){const t=e.slice(0);n._a=t.map(r=>po(r)?parseInt(r,10):r),ex(n)}else if(Jm(e))!function Nj(n){if(n._d)return n;const e=n._i;if(Jm(e)){const t=function lH(n){const e={};let t,r;for(r in n)Rs(n,r)&&(t=VR(r),t&&(e[t]=n[r]));return e}(e);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(r=>po(r)?parseInt(r,10):r)}return ex(n)}(n);else{if(!Km(e))return H1(n);n._d=new Date(e)}}(n),Qk(n)||(n._d=null),n))}(n));return e._d=new Date(null!=e._d?e._d.getTime():NaN),Qk(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}function lD(n,e,t,r,i){return M1(n)?n:function Vj(n,e,t,r,i){const l={};let u=n;return(Jm(u)&&function aH(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let e;for(e in n)if(n.hasOwnProperty(e))return!1;return!0}(u)||Dr(u)&&0===u.length)&&(u=void 0),l._useUTC=l._isUTC=i,l._l=t,l._i=u,l._f=e,l._strict=r,Rj(l)}(n,e,t,r,i)._d}function pP(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function nx(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Gl(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()>e.valueOf():e.valueOf()<Od(n,t).valueOf())}function ou(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()<e.valueOf():F1(n,t).valueOf()<e.valueOf())}function mv(n,e,t="milliseconds"){if(!n||!e)return!1;if("milliseconds"===t)return n.valueOf()===e.valueOf();const r=e.valueOf();return Od(n,t).valueOf()<=r&&r<=F1(n,t).valueOf()}const Uj=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Hj=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function rx(n,e,t={}){const r=function jj(n,e){if(null==n)return{};if(function fj(n){return n instanceof cP}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(Km(n))return e?{[e]:n}:{milliseconds:n};if(po(n)){let t=Uj.exec(n);if(t){const r="-"===t[1]?-1:1;return{year:0,day:an(t[2])*r,hours:an(t[3])*r,minutes:an(t[4])*r,seconds:an(t[5])*r,milliseconds:an(nx(1e3*an(t[6])))*r}}if(t=Hj.exec(n),t){const r="-"===t[1]?-1:1;return{year:og(t[2],r),month:og(t[3],r),week:og(t[4],r),day:og(t[5],r),hours:og(t[6],r),minutes:og(t[7],r),seconds:og(t[8],r)}}}if(Jm(n)&&("from"in n||"to"in n)){const t=function Yj(n,e){if(!Of(n)||!Of(e))return{milliseconds:0,months:0};let t;const r=function nj(n,e,t={}){if(!t._isUTC)return n;const r=xd(e),i=6e4*(t._offset||0),l=n.valueOf()-r.valueOf()+i;return r.setTime(r.valueOf()+l),r}(e,n,{_offset:n.getTimezoneOffset()});return ou(n,r)?t=mP(n,r):(t=mP(r,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(lD(n.from),lD(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,e);return new cP(r,t)}function og(n,e){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function mP(n,e){const t={milliseconds:0,months:0};return t.months=cn(e)-cn(n)+12*(Ar(e)-Ar(n)),Gl(au(xd(n),t.months,"month"),e)&&--t.months,t.milliseconds=+e-+au(xd(n),t.months,"month"),t}function au(n,e,t,r){return gP(n,rx(e,t),1,r)}function gP(n,e,t,r){const i=e._milliseconds,l=nx(e._days),u=nx(e._months);return u&&tg(n,cn(n,r)+u*t,r),l&&Zk(n,Xm(n,r)+l*t,r),i&&function PH(n,e){n.setTime(e)}(n,function fH(n){return n.getTime()}(n)+i*t),xd(n)}function cD(n,e,t=Li(),r){const i=iu(n,r),l=function Gj(n,e){if(!po(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const r=e.weekdaysParse(n);return Km(r)?r:null}(e,t);return au(n,l-i,"day")}function ix(n,e=Li(),t){return(iu(n,t)+7-e.firstDayOfWeek())%7}const yP=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},Qj={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},rl=function(n){return function(e,t){const r=yP(e);let i=Qj[n][yP(e)];return 2===r&&(i=i[t?0:1]),i.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),rl("s"),rl("s"),rl("m"),rl("m"),rl("h"),rl("h"),rl("d"),rl("d"),rl("M"),rl("M"),rl("y"),rl("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const ox="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),ax="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,e){let t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+n[t]+"$|^"+e[t]+"$","i")})(ox,ax),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(ax),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(ox),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const FP={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,e,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,e){const t=FP.longDateFormat[e]?FP.longDateFormat[e]:e;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,e=!1)=>543+(e?n.getUTCFullYear():n.getFullYear())};function wv(n){return function(e){return n+"\u043e"+(11===ln(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),wv("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),wv("[\u0417\u0430\u0432\u0442\u0440\u0430 "),wv("[\u0412\u0447\u043e\u0440\u0430 "),wv("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class $1{}const Ld="*";function Z1(n,e=null){return{type:4,styles:e,timings:n}}function VP(n,e=null){return{type:2,steps:n,options:e}}function Ff(n){return{type:6,styles:n,offset:null}}function BP(n,e,t){return{type:0,name:n,styles:e,options:t}}function _x(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function UP(n){Promise.resolve(null).then(n)}class dD{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class HP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?UP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++r==l&&this._onDestroy()}),u.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var w6=L(233);class jP extends cr{constructor(e,t,r){super(e),t.pipe((0,Qw.Q)(w6.N)).pipe(Vr((u,f)=>f?r(u,f):u,e)).subscribe(u=>this.next(u))}}class G1 extends Sr.y{constructor(e,t,r){super(),this._dispatcher=e,this._reducer=t,this.source=r}select(e){var t;return((null===(t=this.source)||void 0===t?void 0:t.pipe((0,vt.U)(e)))||(new Sr.y).pipe((0,vt.U)(e))).pipe(R_())}lift(e){const t=new G1(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}var YP=L(655),D6=L(3532);const E6=["*"];let vx=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S6=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return kh()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Bh[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("id",r.id),s.Tol("tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass),s.ekj("show",!r._bsVersions.isBs3)("bs3",r._bsVersions.isBs3))},ngContentSelectors:E6,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),M6=0,I6=(()=>{class n{constructor(t,r,i,l,u,f){this._elementRef=l,this._renderer=u,this._positionService=f,this.tooltipId=M6++,this.adaptivePosition=!0,this.tooltipChange=new s.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new s.vpe,this._tooltip=r.createLoader(this._elementRef,t,this._renderer).provide({provide:vx,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){io("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){io("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){io("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return io("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){io("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return io("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){io('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return io('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){io("tooltipClass deprecated")}set _tooltipContext(t){io("tooltipContext deprecated")}set _tooltipPopupDelay(t){io("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return io("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){io("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(S6).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function T6(n=0,e,t=__.P){let r=-1;return null!=e&&((0,D6.K)(e)?t=e:r=e),new Sr.y(i=>{let l=function C6(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(this.delay).subscribe(()=>{t(),r()}),this.triggers&&FC(this.triggers).forEach(i=>{!i.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,i.close,()=>{var l;null===(l=this._delaySubscription)||void 0===l||l.unsubscribe(),r()}))})):t()}hide(){var t;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(t=this._tooltip.instance)||void 0===t?void 0:t.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(zo),s.Y36(vx),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Fl))},n.\u0275dir=s.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,YP.gn)([QS(),(0,YP.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),A6=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zo,Fl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt]]}),n})();function k6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function x6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return i.changeMinutes(i.minuteStep)}),s._UZ(2,"span",2),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(1),s.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function O6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0"),s.qZA())}function L6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return i.changeSeconds(i.secondsStep)}),s._UZ(2,"span",2),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(1),s.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function N6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function R6(n,e){1&n&&s._UZ(0,"td")}function P6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0:\xa0"),s.qZA())}function F6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td",4)(1,"input",5),s.NdJ("wheel",function(i){s.CHM(t);const l=s.oxw();return l.prevDef(i),l.changeMinutes(l.minuteStep*l.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){s.CHM(t);const i=s.oxw();return i.changeMinutes(i.minuteStep,"key")})("keydown.ArrowDown",function(){s.CHM(t);const i=s.oxw();return i.changeMinutes(-i.minuteStep,"key")})("change",function(i){return s.CHM(t),s.oxw().updateMinutes(i.target)}),s.qZA()()}if(2&n){const t=s.oxw();s.ekj("has-error",t.invalidMinutes),s.xp6(1),s.ekj("is-invalid",t.invalidMinutes),s.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),s.uIk("aria-label",t.labelMinutes)}}function V6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0:\xa0"),s.qZA())}function B6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td",4)(1,"input",5),s.NdJ("wheel",function(i){s.CHM(t);const l=s.oxw();return l.prevDef(i),l.changeSeconds(l.secondsStep*l.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){s.CHM(t);const i=s.oxw();return i.changeSeconds(i.secondsStep,"key")})("keydown.ArrowDown",function(){s.CHM(t);const i=s.oxw();return i.changeSeconds(-i.secondsStep,"key")})("change",function(i){return s.CHM(t),s.oxw().updateSeconds(i.target)}),s.qZA()()}if(2&n){const t=s.oxw();s.ekj("has-error",t.invalidSeconds),s.xp6(1),s.ekj("is-invalid",t.invalidSeconds),s.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),s.uIk("aria-label",t.labelSeconds)}}function U6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function H6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td")(1,"button",8),s.NdJ("click",function(){return s.CHM(t),s.oxw().toggleMeridian()}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(1),s.ekj("disabled",!t.isEditable||!t.canToggleMeridian),s.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),s.xp6(1),s.hij("",t.meridian," ")}}function j6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function Y6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return i.changeMinutes(-i.minuteStep)}),s._UZ(2,"span",7),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(1),s.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function $6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0"),s.qZA())}function Z6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return i.changeSeconds(-i.secondsStep)}),s._UZ(2,"span",7),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(1),s.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function G6(n,e){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function q6(n,e){1&n&&s._UZ(0,"td")}function bx(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||bx(new Date(n)))}function wx(n,e){return!(n.min&&e<n.min||n.max&&e>n.max)}function ug(n){return void 0===n?NaN:"number"==typeof n?n:parseInt(n,10)}function ZP(n,e=!1){const t=ug(n);return isNaN(t)||t<0||t>(e?12:24)?NaN:t}function GP(n){const e=ug(n);return isNaN(e)||e<0||e>60?NaN:e}function qP(n){const e=ug(n);return isNaN(e)||e<0||e>60?NaN:e}function WP(n){return"string"==typeof n?new Date(n):n}function ul(n,e){if(!n)return ul(q1(new Date,0,0,0),e);if(!e)return n;let t=n.getHours(),r=n.getMinutes(),i=n.getSeconds();return e.hour&&(t+=ug(e.hour)),e.minute&&(r+=ug(e.minute)),e.seconds&&(i+=ug(e.seconds)),q1(n,t,r,i)}function zP(n,e){let t=ZP(e.hour);const r=GP(e.minute),i=qP(e.seconds)||0;return e.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(r)?n:q1(n,t,r,i):isNaN(t)||isNaN(r)?n:q1(new Date,t,r,i)}function q1(n,e,t,r){const i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e,t,r,n.getMilliseconds());return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),i}function Dx(n){const e=n.toString();return e.length>1?e:`0${e}`}function KP(n,e){return!isNaN(ZP(n,e))}function JP(n){return!isNaN(GP(n))}function QP(n){return!isNaN(qP(n))}function XP(n,e="0",t="0",r){return KP(n,r)&&JP(e)&&QP(t)}function W1(n,e){return!(n.readonlyInput||n.disabled||e&&("wheel"===e.source&&!n.mousewheel||"key"===e.source&&!n.arrowkeys))}function eF(n){const{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:l,mousewheel:u,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:R,max:B}=n;return{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:l,mousewheel:u,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:R,max:B}}let tF=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nd=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nF={value:void 0,config:new tF,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function rF(n=nF,e){switch(e.type){case Nd.WRITE_VALUE:return Object.assign({},n,{value:e.payload});case Nd.CHANGE_HOURS:{if(!W1(n.config,e.payload)||!function e5(n,e){return!(!n.step||n.step>0&&!e.canIncrementHours||n.step<0&&!e.canDecrementHours)}(e.payload,n.controls))return n;const t=ul(n.value,{hour:e.payload.step});return!n.config.max&&!n.config.min||wx(n.config,t)?Object.assign({},n,{value:t}):n}case Nd.CHANGE_MINUTES:{if(!W1(n.config,e.payload)||!function t5(n,e){return!(!n.step||n.step>0&&!e.canIncrementMinutes||n.step<0&&!e.canDecrementMinutes)}(e.payload,n.controls))return n;const t=ul(n.value,{minute:e.payload.step});return!n.config.max&&!n.config.min||wx(n.config,t)?Object.assign({},n,{value:t}):n}case Nd.CHANGE_SECONDS:{if(!W1(n.config,e.payload)||!function n5(n,e){return!(!n.step||n.step>0&&!e.canIncrementSeconds||n.step<0&&!e.canDecrementSeconds)}(e.payload,n.controls))return n;const t=ul(n.value,{seconds:e.payload.step});return!n.config.max&&!n.config.min||wx(n.config,t)?Object.assign({},n,{value:t}):n}case Nd.SET_TIME_UNIT:{if(!W1(n.config))return n;const t=zP(n.value,e.payload);return Object.assign({},n,{value:t})}case Nd.UPDATE_CONTROLS:{const t=function r5(n,e){const{min:i,max:l,hourStep:u,minuteStep:f,secondsStep:_,showSeconds:D}=e,S={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return S;if(l){const A=ul(n,{hour:u});if(S.canIncrementHours=l>A&&n.getHours()+u<24,!S.canIncrementHours){const R=ul(n,{minute:f});S.canIncrementMinutes=D?l>R:l>=R}if(!S.canIncrementMinutes){const R=ul(n,{seconds:_});S.canIncrementSeconds=l>=R}n.getHours()<12&&(S.canToggleMeridian=ul(n,{hour:12})<l)}if(i){const A=ul(n,{hour:-u});if(S.canDecrementHours=i<A,!S.canDecrementHours){const R=ul(n,{minute:-f});S.canDecrementMinutes=D?i<R:i<=R}if(!S.canDecrementMinutes){const R=ul(n,{seconds:-_});S.canDecrementSeconds=i<=R}n.getHours()>=12&&(S.canToggleMeridian=ul(n,{hour:-12})>i)}return S}(n.value,e.payload),r={value:n.value,config:e.payload,controls:t};return n.config.showMeridian!==r.config.showMeridian&&n.value&&(r.value=new Date(n.value)),Object.assign({},n,r)}default:return n}}let z1=(()=>{class n extends G1{constructor(){const t=new cr({type:"[mini-ngrx] dispatcher init"});super(t,rF,new jP(nF,t,rF))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const s5={provide:Ms,useExisting:(0,s.Gpc)(()=>Cx),multi:!0};let Cx=(()=>{class n{constructor(t,r,i,l){this._cd=r,this._store=i,this._timepickerActions=l,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new s.vpe,this.meridianChange=new s.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(u=>u.value).subscribe(u=>{this._renderTime(u),this.onChange(u),this._store.dispatch(this._timepickerActions.updateControls(eF(this)))}),i.select(u=>u.controls).subscribe(u=>{const f=XP(this.hours,this.minutes,this.seconds,this.isPM()),_=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||f;this.isValid.emit(_),Object.assign(this,u),r.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(eF(this)))}changeHours(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:r}))}changeMinutes(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:r}))}changeSeconds(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:r}))}updateHours(t){this.resetValidation(),this.hours=t.value;const r=KP(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const r=JP(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const r=QP(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function Q6(n,e,t){const r=zP(new Date,n);return!(!r||e&&r>e||t&&r<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function X6(n,e,t){return 0===n.length||0===e.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=XP(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){bx(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(WP(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){var t;null===(t=this.timepickerSub)||void 0===t||t.unsubscribe()}_renderTime(t){if(!t||!bx(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const r=WP(t);if(!r)return;let l=r.getHours();this.showMeridian&&(this.meridian=this.meridians[l>=12?1:0],this.meridianChange.emit(this.meridian),l%=12,0===l&&(l=12)),this.hours=Dx(l),this.minutes=Dx(r.getMinutes()),this.seconds=Dx(r.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(tF),s.Y36(s.sBO),s.Y36(z1),s.Y36(Nd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[s._Bn([s5,z1]),s.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,r){1&t&&(s.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),s.NdJ("click",function(){return r.changeHours(r.hourStep)}),s._UZ(5,"span",2),s.qZA()(),s.YNc(6,k6,2,0,"td",3),s.YNc(7,x6,3,2,"td",3),s.YNc(8,O6,2,0,"td",3),s.YNc(9,L6,3,2,"td",3),s.YNc(10,N6,2,0,"td",3),s.YNc(11,R6,1,0,"td",3),s.qZA(),s.TgZ(12,"tr")(13,"td",4)(14,"input",5),s.NdJ("wheel",function(l){return r.prevDef(l),r.changeHours(r.hourStep*r.wheelSign(l),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(l){return r.updateHours(l.target)}),s.qZA()(),s.YNc(15,P6,2,0,"td",3),s.YNc(16,F6,2,9,"td",6),s.YNc(17,V6,2,0,"td",3),s.YNc(18,B6,2,9,"td",6),s.YNc(19,U6,2,0,"td",3),s.YNc(20,H6,3,4,"td",3),s.qZA(),s.TgZ(21,"tr",0)(22,"td")(23,"a",1),s.NdJ("click",function(){return r.changeHours(-r.hourStep)}),s._UZ(24,"span",7),s.qZA()(),s.YNc(25,j6,2,0,"td",3),s.YNc(26,Y6,3,2,"td",3),s.YNc(27,$6,2,0,"td",3),s.YNc(28,Z6,3,2,"td",3),s.YNc(29,G6,2,0,"td",3),s.YNc(30,q6,1,0,"td",3),s.qZA()()()),2&t&&(s.xp6(2),s.Q6J("hidden",!r.showSpinners),s.xp6(2),s.ekj("disabled",!r.canIncrementHours||!r.isEditable),s.xp6(2),s.Q6J("ngIf",r.showMinutes),s.xp6(1),s.Q6J("ngIf",r.showMinutes),s.xp6(1),s.Q6J("ngIf",r.showSeconds),s.xp6(1),s.Q6J("ngIf",r.showSeconds),s.xp6(1),s.Q6J("ngIf",r.showMeridian),s.xp6(1),s.Q6J("ngIf",r.showMeridian),s.xp6(2),s.ekj("has-error",r.invalidHours),s.xp6(1),s.ekj("is-invalid",r.invalidHours),s.Q6J("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),s.uIk("aria-label",r.labelHours),s.xp6(1),s.Q6J("ngIf",r.showMinutes),s.xp6(1),s.Q6J("ngIf",r.showMinutes),s.xp6(1),s.Q6J("ngIf",r.showSeconds),s.xp6(1),s.Q6J("ngIf",r.showSeconds),s.xp6(1),s.Q6J("ngIf",r.showMeridian),s.xp6(1),s.Q6J("ngIf",r.showMeridian),s.xp6(1),s.Q6J("hidden",!r.showSpinners),s.xp6(2),s.ekj("disabled",!r.canDecrementHours||!r.isEditable),s.xp6(2),s.Q6J("ngIf",r.showMinutes),s.xp6(1),s.Q6J("ngIf",r.showMinutes),s.xp6(1),s.Q6J("ngIf",r.showSeconds),s.xp6(1),s.Q6J("ngIf",r.showSeconds),s.xp6(1),s.Q6J("ngIf",r.showMeridian),s.xp6(1),s.Q6J("ngIf",r.showMeridian))},directives:[Wt],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),o5=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Nd,z1]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[z1],imports:[[Nt]]}),n})();function a5(n,e){1&n&&s._UZ(0,"bs-current-date",4)}function l5(n,e){1&n&&s._UZ(0,"bs-timepicker")}const c5=[[["bs-datepicker-navigation-view"]],"*"],u5=["bs-datepicker-navigation-view","*"];function d5(n,e){if(1&n){const t=s.EpF();s.ynx(0),s._uU(1," \u200b "),s.TgZ(2,"button",2),s.NdJ("click",function(){return s.CHM(t),s.oxw().view("month")}),s.TgZ(3,"span"),s._uU(4),s.qZA()(),s.BQk()}if(2&n){const t=s.oxw();s.xp6(4),s.Oqu(t.calendar.monthTitle)}}const h5=["bsDatepickerDayDecorator",""];function f5(n,e){1&n&&s._UZ(0,"th")}function p5(n,e){if(1&n&&(s.TgZ(0,"th",5),s._uU(1),s.qZA()),2&n){const t=e.index,r=s.oxw();s.xp6(1),s.hij("",r.calendar.weekdays[t]," ")}}function m5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",11),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2).$implicit;return s.oxw().selectWeek(i)}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw(2).index,r=s.oxw();s.xp6(1),s.Oqu(r.calendar.weekNumbers[t])}}function g5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2).$implicit;return s.oxw().selectWeek(i)})("mouseenter",function(){s.CHM(t);const i=s.oxw(2).$implicit;return s.oxw().weekHoverHandler(i,!0)})("mouseleave",function(){s.CHM(t);const i=s.oxw(2).$implicit;return s.oxw().weekHoverHandler(i,!1)}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw(2).index,r=s.oxw();s.xp6(1),s.Oqu(r.calendar.weekNumbers[t])}}function _5(n,e){if(1&n&&(s.TgZ(0,"td",8),s.YNc(1,m5,2,1,"span",9),s.YNc(2,g5,2,1,"span",10),s.qZA()),2&n){const t=s.oxw(2);s.ekj("active-week",t.isWeekHovered),s.xp6(1),s.Q6J("ngIf",t.isiOS),s.xp6(1),s.Q6J("ngIf",!t.isiOS)}}function y5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).selectDay(i)})("mouseenter",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).hoverDay(i,!0)})("mouseleave",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).hoverDay(i,!1)}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.s9C("tooltip",t.tooltipText),s.Q6J("day",t),s.xp6(1),s.hij("",t.label," 3")}}function v5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",18),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).selectDay(i)})("mouseenter",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).hoverDay(i,!0)})("mouseleave",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).hoverDay(i,!1)}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("day",t),s.xp6(1),s.hij("",t.label," 2")}}function b5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).selectDay(i)}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw().$implicit;s.Q6J("day",t),s.xp6(1),s.hij("",t.label," 1")}}function w5(n,e){if(1&n&&(s.TgZ(0,"td",13),s.YNc(1,y5,2,3,"span",14),s.YNc(2,v5,2,2,"span",15),s.YNc(3,b5,2,2,"span",16),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),s.xp6(1),s.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),s.xp6(1),s.Q6J("ngIf",t.isiOS)}}function D5(n,e){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,_5,3,4,"td",6),s.YNc(2,w5,4,3,"td",7),s.qZA()),2&n){const t=e.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.options&&r.options.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",t.days)}}function C5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td",4),s.NdJ("click",function(){const l=s.CHM(t).$implicit;return s.oxw(2).viewMonth(l)})("mouseenter",function(){const l=s.CHM(t).$implicit;return s.oxw(2).hoverMonth(l,!0)})("mouseleave",function(){const l=s.CHM(t).$implicit;return s.oxw(2).hoverMonth(l,!1)}),s.TgZ(1,"span"),s._uU(2),s.qZA()()}if(2&n){const t=e.$implicit;s.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),s.xp6(1),s.ekj("selected",t.isSelected),s.xp6(1),s.Oqu(t.label)}}function T5(n,e){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,C5,3,7,"td",3),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("ngForOf",t)}}function E5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"td",4),s.NdJ("click",function(){const l=s.CHM(t).$implicit;return s.oxw(2).viewYear(l)})("mouseenter",function(){const l=s.CHM(t).$implicit;return s.oxw(2).hoverYear(l,!0)})("mouseleave",function(){const l=s.CHM(t).$implicit;return s.oxw(2).hoverYear(l,!1)}),s.TgZ(1,"span"),s._uU(2),s.qZA()()}if(2&n){const t=e.$implicit;s.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),s.xp6(1),s.ekj("selected",t.isSelected),s.xp6(1),s.Oqu(t.label)}}function S5(n,e){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,E5,3,7,"td",3),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("ngForOf",t)}}function M5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",2),s.NdJ("click",function(){const l=s.CHM(t).$implicit;return s.oxw().selectFromRanges(l)}),s._uU(1),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw();s.ekj("selected",t.value===r.selectedRange),s.xp6(1),s.hij(" ",t.label," ")}}const iF=["startTP"];function I5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"bs-days-calendar-view",11),s.NdJ("onNavigate",function(i){return s.CHM(t),s.oxw(3).navigateTo(i)})("onViewMode",function(i){return s.CHM(t),s.oxw(3).setViewMode(i)})("onHover",function(i){return s.CHM(t),s.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return s.CHM(t),s.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return s.CHM(t),s.oxw(3).daySelectHandler(i)}),s.ALo(1,"async"),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw(3);s.ekj("bs-datepicker-multiple",r.multipleCalendars),s.Q6J("calendar",t)("options",s.lcZ(1,4,r.options$))}}function A5(n,e){1&n&&s._UZ(0,"timepicker",null,15)}function k5(n,e){if(1&n&&(s.TgZ(0,"div",12),s._UZ(1,"timepicker",null,13),s.YNc(3,A5,2,0,"timepicker",14),s.qZA()),2&n){const t=s.oxw(3);s.xp6(3),s.Q6J("ngIf",t.isRangePicker)}}function x5(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",8),s.YNc(2,I5,2,6,"bs-days-calendar-view",9),s.ALo(3,"async"),s.qZA(),s.YNc(4,k5,4,1,"div",10),s.BQk()),2&n){const t=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,2,t.daysCalendar$)),s.xp6(2),s.Q6J("ngIf",t.withTimepicker)}}function O5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"bs-month-calendar-view",17),s.NdJ("onNavigate",function(i){return s.CHM(t),s.oxw(3).navigateTo(i)})("onViewMode",function(i){return s.CHM(t),s.oxw(3).setViewMode(i)})("onHover",function(i){return s.CHM(t),s.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return s.CHM(t),s.oxw(3).monthSelectHandler(i)}),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw(3);s.ekj("bs-datepicker-multiple",r.multipleCalendars),s.Q6J("calendar",t)}}function L5(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,O5,1,3,"bs-month-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.monthsCalendar))}}function N5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"bs-years-calendar-view",17),s.NdJ("onNavigate",function(i){return s.CHM(t),s.oxw(3).navigateTo(i)})("onViewMode",function(i){return s.CHM(t),s.oxw(3).setViewMode(i)})("onHover",function(i){return s.CHM(t),s.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return s.CHM(t),s.oxw(3).yearSelectHandler(i)}),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw(3);s.ekj("bs-datepicker-multiple",r.multipleCalendars),s.Q6J("calendar",t)}}function R5(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,N5,1,3,"bs-years-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.yearsCalendar))}}function P5(n,e){1&n&&(s.TgZ(0,"div",18)(1,"button",19),s._uU(2,"Apply"),s.qZA(),s.TgZ(3,"button",20),s._uU(4,"Cancel"),s.qZA()())}function F5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",23)(1,"button",24),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).setToday()}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw(3);s.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),s.xp6(2),s.Oqu(t.todayBtnLbl)}}function V5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",25)(1,"button",24),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).clearDate()}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw(3);s.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),s.xp6(2),s.Oqu(t.clearBtnLbl)}}function B5(n,e){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,F5,3,7,"div",21),s.YNc(2,V5,3,7,"div",22),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.showTodayBtn),s.xp6(1),s.Q6J("ngIf",t.showClearBtn)}}function U5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",26)(1,"bs-custom-date-view",27),s.NdJ("onSelect",function(i){return s.CHM(t),s.oxw(2).setRangeOnCalendar(i)}),s.qZA()()}if(2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function H5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",1)(1,"div",2),s.NdJ("@datepickerAnimation.done",function(){return s.CHM(t),s.oxw().positionServiceEnable()}),s.TgZ(2,"div",3),s.ALo(3,"async"),s.YNc(4,x5,5,4,"ng-container",4),s.YNc(5,L5,3,3,"div",5),s.YNc(6,R5,3,3,"div",5),s.qZA(),s.YNc(7,P5,5,0,"div",6),s.YNc(8,B5,3,2,"div",6),s.qZA(),s.YNc(9,U5,2,3,"div",7),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("ngClass",t.containerClass),s.xp6(1),s.Q6J("@datepickerAnimation",t.animationState),s.xp6(1),s.Q6J("ngSwitch",s.lcZ(3,9,t.viewMode)),s.xp6(2),s.Q6J("ngSwitchCase","day"),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngIf",!1),s.xp6(1),s.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),s.xp6(1),s.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const tY=["endTP"];function nY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"bs-days-calendar-view",11),s.NdJ("onNavigate",function(i){return s.CHM(t),s.oxw(3).navigateTo(i)})("onViewMode",function(i){return s.CHM(t),s.oxw(3).setViewMode(i)})("onHover",function(i){return s.CHM(t),s.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return s.CHM(t),s.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return s.CHM(t),s.oxw(3).daySelectHandler(i)}),s.ALo(1,"async"),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw(3);s.ekj("bs-datepicker-multiple",r.multipleCalendars),s.Q6J("calendar",t)("options",s.lcZ(1,4,r.options$))}}function rY(n,e){1&n&&s._UZ(0,"timepicker",null,15)}function iY(n,e){if(1&n&&(s.TgZ(0,"div",12),s._UZ(1,"timepicker",null,13),s.YNc(3,rY,2,0,"timepicker",14),s.qZA()),2&n){const t=s.oxw(3);s.xp6(3),s.Q6J("ngIf",t.isRangePicker)}}function sY(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",8),s.YNc(2,nY,2,6,"bs-days-calendar-view",9),s.ALo(3,"async"),s.qZA(),s.YNc(4,iY,4,1,"div",10),s.BQk()),2&n){const t=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,2,t.daysCalendar$)),s.xp6(2),s.Q6J("ngIf",t.withTimepicker)}}function oY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"bs-month-calendar-view",17),s.NdJ("onNavigate",function(i){return s.CHM(t),s.oxw(3).navigateTo(i)})("onViewMode",function(i){return s.CHM(t),s.oxw(3).setViewMode(i)})("onHover",function(i){return s.CHM(t),s.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return s.CHM(t),s.oxw(3).monthSelectHandler(i)}),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw(3);s.ekj("bs-datepicker-multiple",r.multipleCalendars),s.Q6J("calendar",t)}}function aY(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,oY,1,3,"bs-month-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.monthsCalendar))}}function lY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"bs-years-calendar-view",17),s.NdJ("onNavigate",function(i){return s.CHM(t),s.oxw(3).navigateTo(i)})("onViewMode",function(i){return s.CHM(t),s.oxw(3).setViewMode(i)})("onHover",function(i){return s.CHM(t),s.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return s.CHM(t),s.oxw(3).yearSelectHandler(i)}),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw(3);s.ekj("bs-datepicker-multiple",r.multipleCalendars),s.Q6J("calendar",t)}}function cY(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,lY,1,3,"bs-years-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.yearsCalendar))}}function uY(n,e){1&n&&(s.TgZ(0,"div",18)(1,"button",19),s._uU(2,"Apply"),s.qZA(),s.TgZ(3,"button",20),s._uU(4,"Cancel"),s.qZA()())}function dY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",23)(1,"button",24),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).setToday()}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw(3);s.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),s.xp6(2),s.Oqu(t.todayBtnLbl)}}function hY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",25)(1,"button",24),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).clearDate()}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw(3);s.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),s.xp6(2),s.Oqu(t.clearBtnLbl)}}function fY(n,e){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,dY,3,7,"div",21),s.YNc(2,hY,3,7,"div",22),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.showTodayBtn),s.xp6(1),s.Q6J("ngIf",t.showClearBtn)}}function pY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",26)(1,"bs-custom-date-view",27),s.NdJ("onSelect",function(i){return s.CHM(t),s.oxw(2).setRangeOnCalendar(i)}),s.qZA()()}if(2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function mY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",1)(1,"div",2),s.NdJ("@datepickerAnimation.done",function(){return s.CHM(t),s.oxw().positionServiceEnable()}),s.TgZ(2,"div",3),s.ALo(3,"async"),s.YNc(4,sY,5,4,"ng-container",4),s.YNc(5,aY,3,3,"div",5),s.YNc(6,cY,3,3,"div",5),s.qZA(),s.YNc(7,uY,5,0,"div",6),s.YNc(8,fY,3,2,"div",6),s.qZA(),s.YNc(9,pY,2,3,"div",7),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("ngClass",t.containerClass),s.xp6(1),s.Q6J("@datepickerAnimation",t.animationState),s.xp6(1),s.Q6J("ngSwitch",s.lcZ(3,9,t.viewMode)),s.xp6(2),s.Q6J("ngSwitchCase","day"),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngIf",!1),s.xp6(1),s.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),s.xp6(1),s.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let Rd=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sF="220ms cubic-bezier(0, 0, 0.2, 1)",oF=function b6(n,e){return{type:7,name:n,definitions:e,options:{}}}("datepickerAnimation",[BP("animated-down",Ff({height:"*",overflow:"hidden"})),_x("* => animated-down",[Ff({height:0,overflow:"hidden"}),Z1(sF)]),BP("animated-up",Ff({height:"*",overflow:"hidden"})),_x("* => animated-up",[Ff({height:"*",overflow:"hidden"}),Z1(sF)]),_x("* => unanimated",Z1("0s"))]);class aF{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new ji.w0,this.selectedTimeSub=new ji.w0}set minDate(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}set maxDate(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}set daysDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}set datesDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}set datesEnabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}set isDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}set dateCustomClasses(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}set dateTooltipTexts(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}let _i=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,r){return{type:n.SELECT_TIME,payload:{date:t,index:r}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),K1=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new cr(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),hD=(()=>{class n{constructor(t,r){this._actions=t,this._localeService=r,this._subs=[]}init(t){return this._store=t,this}setValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.select(t))}setRangeValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.selectRange(t))}setMinDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.minDate(t)),this}setMaxDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){var r;const i=Object.assign({locale:this._localeService.currentLocale},t);return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(r=>r.selectedTime).pipe(xn(r=>!!r)),t.daysCalendar$=this._store.select(r=>r.flaggedMonths).pipe(xn(r=>!!r)),t.monthsCalendar=this._store.select(r=>r.flaggedMonthsCalendar).pipe(xn(r=>!!r)),t.yearsCalendar=this._store.select(r=>r.yearsCalendarFlagged).pipe(xn(r=>!!r)),t.viewMode=this._store.select(r=>{var i;return null===(i=r.view)||void 0===i?void 0:i.mode}),t.options$=fa([this._store.select(r=>r.showWeekNumbers),this._store.select(r=>r.displayMonths)]).pipe((0,vt.U)(r=>({showWeekNumbers:r[0],displayMonths:r[1]}))),this):this}setEventHandlers(t){return t.setViewMode=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.changeViewMode(r))},t.navigateTo=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.navigateStep(r.step))},t.dayHoverHandler=r=>{var i;const l=r.cell;l.isOtherMonth||l.isDisabled||(null===(i=this._store)||void 0===i||i.dispatch(this._actions.hoverDay(r)),l.isHovered=r.isHovered)},t.monthHoverHandler=r=>{r.cell.isHovered=r.isHovered},t.yearHoverHandler=r=>{r.cell.isHovered=r.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.format())})),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedDate).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedRange).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(t=>{var r;return null===(r=this._store)||void 0===r?void 0:r.dispatch(this._actions.setLocale(t))})),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(_i),s.LFG(K1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xY={date:new Date,mode:"day"},lF=Object.assign(new Rd,{locale:"en",view:xY,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function Tx(n,e,t){const r=e&&ou(F1(n,"month"),e,"day"),i=t&&Gl(Od(n,"month"),t,"day");return r||i||!1}function fD(n,e,t){const r=e&&ou(F1(n,"year"),e,"day"),i=t&&Gl(Od(n,"year"),t,"day");return r||i||!1}function Ex(n,e,t){return!!(e&&Dr(e)&&e.length)&&(t&&"year"===t&&!e[0].getDate()?e.some(r=>mv(n,r,"year")):e.some(r=>mv(n,r,"date")))}function Sx(n,e,t){return!!(e&&Dr(e)&&e.length)&&!e.some(r=>mv(n,r,t||"date"))}function cF(n,e=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[e];return(null==t?void 0:t.years[0])&&t.years[0][0]&&t.years[0][0].date}function NY(n,e){return!n||!e||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=dF(t.value,e)),n)),n}function uF(n,e){return!n||!e||n instanceof Array&&!n.length||n instanceof Date?n:dF(n,e)}function dF(n,e){return n instanceof Array?n.map(r=>r&&(Gl(r,e,"date")&&(r=e),r)):n}function hF(n){return n&&pF(n)}function fF(n){return(null==n?void 0:n.length)&&n.map(e=>e&&pF(e)),n}function pF(n){const e=new Date;return n.setMilliseconds(e.getMilliseconds()),n.setSeconds(e.getSeconds()),n.setMinutes(e.getMinutes()),n.setHours(e.getHours()),n}function Mx(n,e){let t=n.initialDate;const r=new Array(n.height);for(let i=0;i<n.height;i++){r[i]=new Array(n.width);for(let l=0;l<n.width;l++)r[i][l]=e(t),t=Qi(t,n.shift)}return r}function Ix(n,e){const t=function mH(n){return A1(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),r=function OY(n,e){if(function _H(n,e){return n.getDay()===Number(e)}(n,e.firstDayOfWeek))return n;const r=function LY(n,e){const t=Number(e);if(isNaN(t))return 0;if(0===t)return n;const r=n-t%7;return r<0?r+7:r}(iu(n),e.firstDayOfWeek);return Qi(n,{day:-r})}(t,e);return{daysMatrix:Mx({width:e.width||0,height:e.height||0,initialDate:r,shift:{day:1}},u=>u),month:t}}function PY(n,e,t){return n.map(r=>r[0]?nl(r[0],e,t):"")}function FY(n){const e=Li(n),t=e.weekdaysShort(),r=e.firstDayOfWeek();return[...t.slice(r),...t.slice(0,r)]}function mF(n,e){return!e||n>=e}const jY={month:1};function gF(n,e){return{months:Mx({width:3,height:4,initialDate:Od(n,"year"),shift:jY},l=>({date:l,label:nl(l,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:nl(n,e.yearTitle,e.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const _F=-1*(Math.floor(8)-1),$Y={year:1};function yF(n,e,t){const r=function ZY(n,e){return e&&n.getFullYear()>=e.getFullYear()&&n.getFullYear()<e.getFullYear()+16?e:Qi(n,{year:_F})}(n,t),l=Mx({width:4,height:4,initialDate:r,shift:$Y},f=>({date:f,label:nl(f,e.yearLabel,e.locale)})),u=function GY(n,e){return`${nl(n[0][0].date,e.yearTitle,e.locale)} - ${nl(n[3][3].date,e.yearTitle,e.locale)}`}(l,e);return{years:l,monthTitle:"",yearTitle:u,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function xx(n,e){!n||!isNaN(n.getTime())||(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds()),n.setMilliseconds(e.getMilliseconds()))}function vF(n=lF,e){var t;switch(e.type){case _i.CALCULATE:return function WY(n){if(!n.view)return n;let e;e=n.displayOneMonthRange&&bF(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=Qi(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=Li(n.locale).firstDayOfWeek();let r=new Array(e);for(let i=0;i<e;i++)r[i]=Ix(t,n.monthViewOptions),t=Qi(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const i=Ix(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===i.month.getMonth()&&(r=n.flaggedMonths.map(l=>n.monthViewOptions?Ix(l.month,n.monthViewOptions):null).filter(l=>null!==l))}return Object.assign({},n,{monthsModel:r})}if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=gF(t,pD(n)),t=Qi(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=yF(t,pD(n),"year"===n.minMode?cF(n,i):void 0),t=Qi(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case _i.FORMAT:return function zY(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const r=n.monthsModel.map((i,l)=>function RY(n,e,t){return{month:n.month,monthTitle:nl(n.month,e.monthTitle,e.locale),yearTitle:nl(n.month,e.yearTitle,e.locale),weekNumbers:PY(n.daysMatrix,e.weekNumbers,e.locale),weekdays:FY(e.locale),weeks:n.daysMatrix.map((r,i)=>({days:r.map((l,u)=>({date:l,label:nl(l,e.dayLabel,e.locale),monthIndex:t,weekIndex:i,dayIndex:u}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(i,pD(n),l));return Object.assign({},n,{formattedMonths:r})}const e=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=gF(t,pD(n)),t=Qi(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=yF(t,pD(n)),t=Qi(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case _i.FLAG:return function KY(n){if(!n.view)return n;const e=bF(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((r,i)=>function VY(n,e){return n.weeks.forEach(t=>{t.days.forEach((r,i)=>{const l=!uv(r.date,n.month),u=!l&&Lf(r.date,e.hoveredDate),f=!l&&e.selectedRange&&Lf(r.date,e.selectedRange[0]),_=!l&&e.selectedRange&&Lf(r.date,e.selectedRange[1]),D=!l&&Lf(r.date,e.selectedDate)||f||_,S=!l&&e.selectedRange&&function BY(n,e,t){return!!(n&&e&&e[0])&&(e[1]?n>e[0]&&n<=e[1]:!!t&&n>e[0]&&n<=t)}(r.date,e.selectedRange,e.hoveredDate),A=e.isDisabled||ou(r.date,e.minDate,"day")||Gl(r.date,e.maxDate,"day")||function Bj(n,e){return!(void 0===e||!e||!e.length)&&e.some(t=>t===n.getDay())}(r.date,e.daysDisabled)||Ex(r.date,e.datesDisabled)||Sx(r.date,e.datesEnabled),R=new Date,B=!l&&Lf(r.date,R),$=e.dateCustomClasses&&e.dateCustomClasses.map(Ve=>Lf(r.date,Ve.date)?Ve.classes:[]).reduce((Ve,Oe)=>Ve.concat(Oe),[]).join(" ")||"",ee=e.dateTooltipTexts&&e.dateTooltipTexts.map(Ve=>Lf(r.date,Ve.date)?Ve.tooltipText:"").reduce((Ve,Oe)=>(Ve.push(Oe),Ve),[]).join(" ")||"",_e=Object.assign({},r,{isOtherMonth:l,isHovered:u,isSelected:D,isSelectionStart:f,isSelectionEnd:_,isInRange:S,isDisabled:A,isToday:B,customClasses:$,tooltipText:ee});(r.isOtherMonth!==_e.isOtherMonth||r.isHovered!==_e.isHovered||r.isSelected!==_e.isSelected||r.isSelectionStart!==_e.isSelectionStart||r.isSelectionEnd!==_e.isSelectionEnd||r.isDisabled!==_e.isDisabled||r.isInRange!==_e.isInRange||r.customClasses!==_e.customClasses||r.tooltipText!==_e.tooltipText)&&(t.days[i]=_e)})}),n.hideLeftArrow=e.isDisabled||!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=e.isDisabled||(!!e.monthIndex||0===e.monthIndex)&&!!e.displayMonths&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=Tx(Qi(n.month,{month:-1}),e.minDate,e.maxDate),n.disableRightArrow=Tx(Qi(n.month,{month:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:e,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:i}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((r,i)=>function YY(n,e){return n.months.forEach((t,r)=>{t.forEach((i,l)=>{let u;const f=uv(i.date,e.hoveredMonth),_=e.isDisabled||Ex(i.date,e.datesDisabled)||Sx(i.date,e.datesEnabled,"month")||Tx(i.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(u=uv(i.date,e.selectedRange[0]),u||(u=uv(i.date,e.selectedRange[1]))):u=uv(i.date,e.selectedDate);const D=Object.assign(i,{isHovered:f,isDisabled:_,isSelected:u});(i.isHovered!==D.isHovered||i.isDisabled!==D.isDisabled||i.isSelected!==D.isSelected)&&(n.months[r][l]=D)})}),n.hideLeftArrow=!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=(!!e.monthIndex||0===e.monthIndex)&&(!!e.displayMonths||0===e.displayMonths)&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=fD(Qi(n.months[0][0].date,{year:-1}),e.minDate,e.maxDate),n.disableRightArrow=fD(Qi(n.months[0][0].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,monthIndex:i}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((r,i)=>function qY(n,e){n.years.forEach((i,l)=>{i.forEach((u,f)=>{let _;const D=dv(u.date,e.hoveredYear),S=e.isDisabled||Ex(u.date,e.datesDisabled,"year")||Sx(u.date,e.datesEnabled,"year")||fD(u.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(_=dv(u.date,e.selectedRange[0]),_||(_=dv(u.date,e.selectedRange[1]))):_=dv(u.date,e.selectedDate);const A=Object.assign(u,{isHovered:D,isDisabled:S,isSelected:_});(u.isHovered!==A.isHovered||u.isDisabled!==A.isDisabled||u.isSelected!==A.isSelected)&&(n.years[l][f]=A)})}),n.hideLeftArrow=!!e.yearIndex&&e.yearIndex>0&&e.yearIndex!==e.displayMonths,n.hideRightArrow=!!e.yearIndex&&!!e.displayMonths&&e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,n.disableLeftArrow=fD(Qi(n.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const t=n.years.length-1;return n.disableRightArrow=fD(Qi(n.years[t][n.years[t].length-1].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,yearIndex:i}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case _i.NAVIGATE_OFFSET:return function JY(n,e){if(!n.view)return n;const t=function QY(n,e){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=cF(n,0);if(t){const r=Qi(t,{year:-_F});return Qi(r,e.payload)}}return Qi(Od(n.view.date,"month"),e.payload)}}(n,e);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}(n,e);case _i.NAVIGATE_TO:{const r=e.payload;if(!n.view||!r.unit)return n;const i=function kH(n,e){return A1(hv(n.getFullYear(),e.year),hv(n.getMonth(),e.month),1,hv(n.getHours(),e.hour),hv(n.getMinutes(),e.minute),hv(n.getSeconds(),e.seconds),hv(n.getMilliseconds(),e.milliseconds))}(n.view.date,r.unit);let l,u;return mF(r.viewMode,n.minMode)?(u=r.viewMode,l={view:{date:i,mode:u}}):(u=n.view.mode,l={selectedDate:i,view:{date:i,mode:u}}),Object.assign({},n,l)}case _i.CHANGE_VIEWMODE:return mF(e.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:e.payload}}):n;case _i.HOVER:return Object.assign({},n,{hoveredDate:e.payload});case _i.SELECT:{if(!n.view)return n;const r={selectedDate:e.payload,view:n.view};if(Array.isArray(n.selectedTime)){const f=n.selectedTime[0];r.selectedDate&&f&&xx(r.selectedDate,f)}const i=n.view.mode,u=Ox(e.payload||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:u},Object.assign({},n,r)}case _i.SELECT_TIME:{const{date:r,index:i}=e.payload,l=n.selectedTime?[...n.selectedTime]:[];return l[i]=r,Object.assign({},n,{selectedTime:l})}case _i.SET_OPTIONS:{if(!n.view)return n;const r=e.payload,i=r.minMode?r.minMode:n.view.mode,u=Ox(Of(r.value)&&r.value||Dr(r.value)&&Of(r.value[0])&&r.value[0]||n.view.date,r.minDate,r.maxDate);return r.view={mode:i,date:u},r.value&&(Dr(r.value)&&(r.selectedRange=r.value,r.selectedTime=r.value.map(f=>f)),r.value instanceof Date&&(r.selectedDate=r.value,r.selectedTime=[r.value])),Object.assign({},n,r)}case _i.SELECT_RANGE:{if(!n.view)return n;const r={selectedRange:e.payload,view:n.view};null===(t=r.selectedRange)||void 0===t||t.forEach((f,_)=>{if(Array.isArray(n.selectedTime)){const D=n.selectedTime[_];D&&xx(f,D)}});const i=n.view.mode,u=Ox(e.payload&&e.payload[0]||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:u},Object.assign({},n,r)}case _i.SET_MIN_DATE:return Object.assign({},n,{minDate:e.payload});case _i.SET_MAX_DATE:return Object.assign({},n,{maxDate:e.payload});case _i.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:e.payload});case _i.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:e.payload});case _i.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:e.payload});default:return n}}function pD(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function Ox(n,e,t){const r=Array.isArray(n)?n[0]:n;return e&&Gl(e,r,"day")?e:t&&ou(t,r,"day")?t:r}function bF(n,e,t){return!(!t||!mv(t,n,"day"))||e&&t&&e.getMonth()===t.getMonth()}let mD=(()=>{class n extends G1{constructor(){const t=new cr({type:"[datepicker] dispatcher init"});super(t,vF,new jP(lF,t,vF))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();var Vf=(()=>(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN"}(Vf||(Vf={})),Vf))();let XY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"span"),s._uU(2),s.qZA()()),2&t&&(s.xp6(2),s.Oqu(r.title))},encapsulation:2}),n})(),e$=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s._uU(3,"-"),s.qZA(),s._UZ(4,"input",3),s.TgZ(5,"button",4),s._uU(6,"+"),s.qZA()(),s.TgZ(7,"div",1)(8,"button",2),s._uU(9,"-"),s.qZA(),s._UZ(10,"input",3),s.TgZ(11,"button",4),s._uU(12,"+"),s.qZA()(),s.TgZ(13,"button",5),s._uU(14),s._UZ(15,"img",6),s.qZA()()),2&t&&(s.xp6(4),s.Q6J("value",r.hours),s.xp6(6),s.Q6J("value",r.minutes),s.xp6(4),s.hij("",r.ampm," "))},encapsulation:2}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:u5,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,r){1&t&&(s.F$t(c5),s.YNc(0,a5,1,0,"bs-current-date",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s.TgZ(3,"div",2),s.Hsn(4,1),s.qZA(),s.YNc(5,l5,1,0,"bs-timepicker",3)),2&t&&(s.Q6J("ngIf",!1),s.xp6(5),s.Q6J("ngIf",!1))},directives:[XY,e$,Wt],encapsulation:2}),n})(),Nx=(()=>{class n{constructor(){this.onNavigate=new s.vpe,this.onViewMode=new s.vpe}navTo(t){this.onNavigate.emit(t?Vf.DOWN:Vf.UP)}view(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,r){1&t&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return r.navTo(!0)}),s.TgZ(1,"span"),s._uU(2,"\u2039"),s.qZA()(),s.YNc(3,d5,5,1,"ng-container",1),s._uU(4," \u200b "),s.TgZ(5,"button",2),s.NdJ("click",function(){return r.view("year")}),s.TgZ(6,"span"),s._uU(7),s.qZA()(),s._uU(8," \u200b "),s.TgZ(9,"button",3),s.NdJ("click",function(){return r.navTo(!1)}),s.TgZ(10,"span"),s._uU(11,"\u203a"),s.qZA()()),2&t&&(s.Udp("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),s.Q6J("disabled",r.calendar.disableLeftArrow),s.xp6(3),s.Q6J("ngIf",r.calendar&&r.calendar.monthTitle),s.xp6(4),s.Oqu(r.calendar.yearTitle),s.xp6(2),s.Udp("visibility",r.calendar.hideRightArrow?"hidden":"visible"),s.Q6J("disabled",r.calendar.disableRightArrow))},directives:[Wt],encapsulation:2,changeDetection:0}),n})(),t$=(()=>{class n{constructor(t,r,i){this._config=t,this._elRef=r,this._renderer=i,this.day={date:new Date,label:""}}ngOnInit(){var t,r,i;(null===(t=this.day)||void 0===t?void 0:t.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(r=this.day)||void 0===r?void 0:r.customClasses)&&(null===(i=this.day)||void 0===i||i.customClasses.split(" ").filter(l=>l).forEach(l=>{this._renderer.addClass(this._elRef.nativeElement,l)}))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Rd),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:h5,decls:1,vars:1,template:function(t,r){1&t&&s._uU(0),2&t&&s.Oqu(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0}),n})(),wF=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new s.vpe,this.onViewMode=new s.vpe,this.onSelect=new s.vpe,this.onHover=new s.vpe,this.onHoverWeek=new s.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:Vf.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const r=t.days.find(i=>(this._config.selectFromOtherMonth||!i.isOtherMonth)&&!i.isDisabled);if(this.onSelect.emit(r),this._config.selectWeekDateRange){const l=t.days.slice(0).reverse().find(u=>(this._config.selectFromOtherMonth||!u.isOtherMonth)&&!u.isDisabled);this.onSelect.emit(l)}}weekHoverHandler(t,r){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(l=>(this._config.selectFromOtherMonth||!l.isOtherMonth)&&!l.isDisabled)&&(t.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(t))}hoverDay(t,r){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(i=>{Lf(i.date,t.date)&&(t.tooltipText=i.tooltipText)})),this.onHover.emit({cell:t,isHovered:r})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Rd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,r){1&t&&(s.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),s.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),s.qZA(),s.TgZ(2,"table",1)(3,"thead")(4,"tr"),s.YNc(5,f5,1,0,"th",2),s.YNc(6,p5,2,1,"th",3),s.qZA()(),s.TgZ(7,"tbody"),s.YNc(8,D5,3,2,"tr",4),s.qZA()()()),2&t&&(s.xp6(1),s.Q6J("calendar",r.calendar),s.xp6(4),s.Q6J("ngIf",r.options&&r.options.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",r.calendar.weekdays),s.xp6(2),s.Q6J("ngForOf",r.calendar.weeks))},directives:[Lx,Nx,t$,Wt,rn,I6],encapsulation:2}),n})(),DF=(()=>{class n{constructor(){this.onNavigate=new s.vpe,this.onViewMode=new s.vpe,this.onSelect=new s.vpe,this.onHover=new s.vpe}navigateTo(t){this.onNavigate.emit({step:{year:Vf.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(s.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),s.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),s.qZA(),s.TgZ(2,"table",1)(3,"tbody"),s.YNc(4,T5,2,1,"tr",2),s.qZA()()()),2&t&&(s.xp6(1),s.Q6J("calendar",r.calendar),s.xp6(3),s.Q6J("ngForOf",null==r.calendar?null:r.calendar.months))},directives:[Lx,Nx,rn],encapsulation:2}),n})(),CF=(()=>{class n{constructor(){this.onNavigate=new s.vpe,this.onViewMode=new s.vpe,this.onSelect=new s.vpe,this.onHover=new s.vpe}navigateTo(t){this.onNavigate.emit({step:{year:16*(Vf.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(s.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),s.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),s.qZA(),s.TgZ(2,"table",1)(3,"tbody"),s.YNc(4,S5,2,1,"tr",2),s.qZA()()()),2&t&&(s.xp6(1),s.Q6J("calendar",r.calendar),s.xp6(3),s.Q6J("ngForOf",null==r.calendar?null:r.calendar.years))},directives:[Lx,Nx,rn],encapsulation:2}),n})(),TF=(()=>{class n{constructor(){this.onSelect=new s.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,M5,2,3,"button",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",r.ranges))},directives:[rn],encapsulation:2,changeDetection:0}),n})(),n$=(()=>{class n extends aF{constructor(t,r,i,l,u,f,_){super(),this._config=r,this._store=i,this._element=l,this._actions=u,this._positionService=_,this.valueChange=new s.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=f,t.setStyle(l.nativeElement,"display","block"),t.setStyle(l.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Ks.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>this.valueChange.emit(i))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){var t,r;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(i=>{var l;Array.isArray(i)&&i.length>=1&&(null===(l=this.startTimepicker)||void 0===l||l.writeValue(i[0]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(i=>{this.timeSelectHandler(i,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:cn(t.date),year:Ar(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Ar(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(Rd),s.Y36(mD),s.Y36(s.SBq),s.Y36(_i),s.Y36(hD),s.Y36(Fl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,r){if(1&t&&s.Gf(iF,5),2&t){let i;s.iGM(i=s.CRH())&&(r.startTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&s.NdJ("click",function(l){return r._stopPropagation(l)})},features:[s._Bn([mD,hD]),s.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(s.YNc(0,H5,10,11,"div",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.viewMode))},directives:[wF,Cx,DF,CF,TF,Wt,ws,vi,ri,rn],pipes:[Fn],encapsulation:2,data:{animation:[oF]}}),n})(),r$=(()=>{class n{constructor(t,r,i,l,u){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Un.x,this.isDisabled=!1,this.bsValueChange=new s.vpe,this._subs=[],this._dateInputFormat$=new Un.x,Object.assign(this,this._config),this._datepicker=u.createLoader(r,l,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new cr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue||!t||this._config.withTimepicker||xx(t,new Date),t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=hF(t)),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,l,u;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(l=t.bsConfig.previousValue)||void 0===l?void 0:l.initCurrentTime)&&this._bsValue&&(this._bsValue=hF(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&((null===(u=this._elementRef)||void 0===u?void 0:u.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe(xn(t=>t!==this.isOpen),RR(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Rd,useValue:this._config}).attach(n$).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:uF(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Rd),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.s_b),s.Y36(zo))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[s.TTD]}),n})(),i$=(()=>{class n extends aF{constructor(t,r,i,l,u,f,_){super(),this._config=r,this._store=i,this._element=l,this._actions=u,this._positionService=_,this.valueChange=new s.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=f,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(l.nativeElement,"display","block"),t.setStyle(l.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setRangeValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Ks.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{this.valueChange.emit(i),this.chosenRange=i||[]}))}ngAfterViewInit(){var t,r,i;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(l=>{var u,f;Array.isArray(l)&&l.length>=2&&(null===(u=this.startTimepicker)||void 0===u||u.writeValue(l[0]),null===(f=this.endTimepicker)||void 0===f||f.writeValue(l[1]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(l=>{this.timeSelectHandler(l,0)}),null===(i=this.endTimepicker)||void 0===i||i.registerOnChange(l=>{this.timeSelectHandler(l,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:cn(t.date),year:Ar(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Ar(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){var r;let i=new Date(t);if(this._config.maxDate){const l=this._config.maxDate.getTime(),u=t.getTime()+864e5*(this._config.maxDateRange||0);i=u>l?new Date(this._config.maxDate):new Date(u)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));null===(r=this._effects)||void 0===r||r.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(Rd),s.Y36(mD),s.Y36(s.SBq),s.Y36(_i),s.Y36(hD),s.Y36(Fl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,r){if(1&t&&(s.Gf(iF,5),s.Gf(tY,5)),2&t){let i;s.iGM(i=s.CRH())&&(r.startTimepicker=i.first),s.iGM(i=s.CRH())&&(r.endTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&s.NdJ("click",function(l){return r._stopPropagation(l)})},features:[s._Bn([mD,hD]),s.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(s.YNc(0,mY,10,11,"div",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.viewMode))},directives:[wF,Cx,DF,CF,TF,Wt,ws,vi,ri,rn],pipes:[Fn],encapsulation:2,data:{animation:[oF]}}),n})();const s$={provide:Ms,useExisting:(0,s.Gpc)(()=>EF),multi:!0},o$={provide:Rn,useExisting:(0,s.Gpc)(()=>EF),multi:!0};let EF=(()=>{class n{constructor(t,r,i,l,u){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=l,this.changeDetection=u,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ji.w0}ngOnInit(){const t=r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(R_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const r=t?nl(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const r=t.value;if(null==r||""===r)return null;if(M1(r)){if(!Of(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&ou(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Gl(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Li(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);this._value=lD(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=pP(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(r$,1),s.Y36(K1),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[s._Bn([s$,o$])]}),n})(),a$=(()=>{class n extends Rd{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rx=(()=>{class n{constructor(t,r,i,l,u){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Un.x,this.isDisabled=!1,this.bsValueChange=new s.vpe,this._subs=[],this._rangeInputFormat$=new Un.x,this._datepicker=u.createLoader(r,l,i),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new cr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue!==t&&(t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=fF(t)),this._bsValue=t,this.bsValueChange.emit(t))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Un.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,l,u;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(l=t.bsConfig.previousValue)||void 0===l?void 0:l.initCurrentTime)&&this._bsValue&&(this._bsValue=fF(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&((null===(u=this._elementRef)||void 0===u?void 0:u.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(xn(t=>t!==this.isOpen),RR(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Rd,useValue:this._config}).attach(i$).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(xn(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()}))}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:uF(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:NY(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(a$),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.s_b),s.Y36(zo))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[s.TTD]}),n})();const l$={provide:Ms,useExisting:(0,s.Gpc)(()=>Q1),multi:!0},c$={provide:Rn,useExisting:(0,s.Gpc)(()=>Q1),multi:!0};let Q1=(()=>{class n{constructor(t,r,i,l,u){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=l,this.changeDetection=u,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ji.w0}ngOnInit(){this._picker._bsValue&&(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(R_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let r="";if(t){const i=t[0]?nl(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",l=t[1]?nl(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=i&&l?i+this._picker._config.rangeSeparator+l:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let r=t.value;const i=[];if(null==r||!Dr(r))return null;r=r.slice().sort((f,_)=>f.getTime()-_.getTime());const l=Of(r[0]),u=Of(r[1]);return l?u?(this._picker&&this._picker.minDate&&ou(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,i.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Gl(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,i.push({bsDate:{maxDate:this._picker.maxDate}})),i.length>0?(this.writeValue(r),i):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Li(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);let l=[];if("string"==typeof t){const u=this._picker._config.rangeSeparator.trim();l=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(u.length>0?u:this._picker._config.rangeSeparator).map(f=>f.trim())}Array.isArray(t)&&(l=t),this._value=l.map(u=>this._picker._config.useUtc?pP(lD(u,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):lD(u,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(u=>isNaN(u.valueOf())?void 0:u)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Rx,1),s.Y36(K1),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[s._Bn([l$,c$])]}),n})(),SF=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zo,Fl,mD,_i,hD,K1,Nd]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt,A6,o5]]}),n})();const u$=function(){return{isAnimated:!0}};let d$=(()=>{class n{constructor(t){this._addsEventDto=t,this.createEvent=new hs({imageUrl:new Yn("",Br.required),description:new Yn("",Br.required),title:new Yn("",Br.required),date:new Yn("",Br.required)}),this.minDate=new Date}onCreateEventSubmited(t){var r,i,l,u;if(t.invalid)return;const f=null===(r=t.get("date"))||void 0===r?void 0:r.value;this._addsEventDto.add({imageUrl:null===(i=t.get("imageUrl"))||void 0===i?void 0:i.value,description:null===(l=t.get("description"))||void 0===l?void 0:l.value,title:null===(u=t.get("title"))||void 0===u?void 0:u.value,fromDate:f[0],toDate:f[1]}),this.createEvent.reset()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(OR))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-create-event"]],decls:20,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["rows","4","formControlName","imageUrl","placeholder","Add link to your image",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title","placeholder","Add event title",1,"form-control"],["type","text","formControlName","date","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return r.onCreateEventSubmited(r.createEvent)}),s.TgZ(1,"div",1)(2,"div",2)(3,"p"),s._uU(4,"Add event image"),s.qZA(),s._UZ(5,"textarea",3),s.qZA(),s.TgZ(6,"div",2)(7,"p"),s._uU(8,"Event Description"),s.qZA(),s._UZ(9,"textarea",4),s.qZA(),s.TgZ(10,"div",2)(11,"p"),s._uU(12,"Event Title"),s.qZA(),s._UZ(13,"input",5),s.qZA(),s.TgZ(14,"div",2)(15,"p"),s._uU(16,"Event Date"),s.qZA(),s._UZ(17,"input",6),s.qZA()(),s.TgZ(18,"div",7),s._UZ(19,"input",8),s.qZA()()),2&t&&(s.Q6J("formGroup",r.createEvent),s.xp6(17),s.Q6J("minDate",r.minDate)("bsConfig",s.DdM(4,u$)),s.xp6(2),s.Q6J("disabled",!r.createEvent.valid))},directives:[fs,ds,$i,Mi,As,ps,Q1,Rx],encapsulation:2,changeDetection:0}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-event-form-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","pt-3","border-bottom","mx-auto","w-75"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"container-flex","w-75","mx-auto"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Event - Create your event"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"lib-create-event"),s.qZA())},directives:[ai,d$],encapsulation:2,changeDetection:0}),n})(),f$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs,SF.forRoot()]]}),n})(),MF=(()=>{class n{constructor(t){this._contextDtoStorage=t}resolve(t,r){var i;return this._contextDtoStorage.next({eventId:null===(i=t.params)||void 0===i?void 0:i.eventId}),pt(!0)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(li))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[MF],imports:[[]]}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn,Vn.forChild([{path:"",component:h$}]),f$,S1]]}),n})();const IF=new s.OlP("ADDS_DIET_DTO");function g$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",1),s.NdJ("ngSubmit",function(){const l=s.CHM(t).ngIf,u=s.oxw();return u.onNewDietSubmited(u.newDiet,l.eventId)}),s.TgZ(1,"p",2),s._uU(2,"Add your diet"),s.qZA(),s._UZ(3,"input",3)(4,"input",4),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("formGroup",t.newDiet),s.xp6(4),s.Q6J("disabled",t.newDiet.invalid)}}let _$=(()=>{class n{constructor(t,r){this._addsDietDto=t,this._contextDtoStorage=r,this.newDiet=new hs({name:new Yn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewDietSubmited(t,r){var i;this._addsDietDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newDiet.reset()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(IF),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-add-diet-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your diet",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(s.YNc(0,g$,5,2,"form",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.currentEvent$))},directives:[Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();const Px=new s.OlP("GETS_ALL_DIET_DTO"),AF=new s.OlP("REMOVES_DIET_DTO"),kF=new s.OlP("SETS_DIET_DTO"),xF=new s.OlP("INPUT_STATE_DTO_STORAGE");function y$(n,e){1&n&&s._UZ(0,"div")}function v$(n,e){if(1&n&&(s.TgZ(0,"div",6),s.YNc(1,y$,1,0,"div",7),s.qZA()),2&n){const t=e.ngIf,r=s.oxw().$implicit,i=s.MAs(4),l=s.MAs(7);s.xp6(1),s.Q6J("ngIf",t.dietId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function b$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",8),s.NdJ("ngSubmit",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onSaveChangesClicked(i)}),s._UZ(1,"input",9)(2,"input",10),s.qZA()}if(2&n){const t=s.oxw(2);s.Q6J("formGroup",t.editingDiet),s.xp6(2),s.Q6J("disabled",!t.editingDiet.valid)}}function w$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"div",12),s.O4$(),s.TgZ(2,"svg",13),s._UZ(3,"path",14),s.qZA(),s.kcU(),s.TgZ(4,"p",15),s._uU(5),s.qZA()(),s.TgZ(6,"div",16)(7,"button",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onEditClicked(i)}),s.O4$(),s.TgZ(8,"svg",18),s._UZ(9,"path",19),s.qZA()(),s.kcU(),s.TgZ(10,"button",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onDeleteClicked(i.id)}),s.O4$(),s.TgZ(11,"svg",20),s._UZ(12,"path",21)(13,"path",22),s.qZA()()()()}if(2&n){const t=s.oxw().$implicit;s.xp6(5),s.Oqu(t.name)}}function D$(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,v$,2,3,"div",3),s.ALo(2,"async"),s.YNc(3,b$,3,2,"ng-template",null,4,s.W1O),s.YNc(5,w$,14,1,"ng-template",null,5,s.W1O),s.qZA()),2&n){const t=s.MAs(6),r=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let C$=(()=>{class n{constructor(t,r,i,l,u){this._getsAllDietDto=t,this._removesDietDto=r,this._setsDietDto=i,this._inputStateDtoStorage=l,this._contextDtoStoragePort=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.editingDiet=new hs({name:new Yn("",Br.required)}),this.diets$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllDietDto.getAll({eventId:f.eventId})))}onDeleteClicked(t){this._removesDietDto.remove(t)}onSaveChangesClicked(t){var r;this._setsDietDto.set({id:t.id,name:null===(r=this.editingDiet.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}onEditClicked(t){var r;this._inputStateDtoStorage.next({dietId:t.id,isEditing:!0}),null===(r=this.editingDiet.get("name"))||void 0===r||r.setValue(t.name)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Px),s.Y36(AF),s.Y36(kF),s.Y36(xF),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-diet-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,D$,8,4,"div",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,r.diets$)))},directives:[rn,Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-diet-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Diet - Set up your diet"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"lib-add-diet-form"),s.qZA(),s._UZ(8,"lib-diet-list"))},directives:[ai,_$,C$],encapsulation:2,changeDetection:0}),n})(),E$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),OF=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[OF,{provide:xF,useExisting:OF}],imports:[[]]}),n})();const gD=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,l,u)=>void 0===i.find(f=>l[f]!==u[f]))(t,i,e))};let _D=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("diets").add(t)}getAll(t){return this._client.collection("diets").valueChanges({idField:"id"}).pipe((0,vt.U)(r=>gD(r,t)))}remove(t){this._client.doc("diets/"+t).delete()}set(t){this._client.doc("diets/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),LF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_D,{provide:IF,useExisting:_D},{provide:Px,useExisting:_D},{provide:AF,useExisting:_D},{provide:kF,useExisting:_D}],imports:[[qm]]}),n})(),NF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn,Vn.forChild([{path:"",component:T$}]),E$,LF,S$,M$]]}),n})();const RF=new s.OlP("GETS_ALL_NAV_LINK_DTO");function I$(n,e){if(1&n&&(s.TgZ(0,"li",2)(1,"a",3),s._UZ(2,"img",4),s.qZA()()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("routerLink",t.link),s.xp6(1),s.Q6J("src",t.icon,s.LSH)}}let A$=(()=>{class n{constructor(t){this._getsAllNavLinkDto=t,this.navLink$=this._getsAllNavLinkDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(RF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-navigation"]],decls:3,vars:3,consts:[[1,"nav","flex-column","pt-5","d-flex","align-items-center"],["class","nav-item fw-bold",4,"ngFor","ngForOf"],[1,"nav-item","fw-bold"],[1,"nav-link","d-inline-flex","fs-6","text-decoration-none","text-dark",3,"routerLink"],[1,"pe-2",3,"src"]],template:function(t,r){1&t&&(s.TgZ(0,"ul",0),s.YNc(1,I$,3,2,"li",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,r.navLink$)))},directives:[rn,ai],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),k$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-event-home-page"]],decls:5,vars:0,consts:[[1,"grid","bg-dark","vh-100"],[1,"g-col-1","bg-white"],[1,"g-col-9","g-start-3","text-white"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"lib-navigation"),s.qZA(),s.TgZ(3,"div",2),s._UZ(4,"router-outlet"),s.qZA()())},directives:[A$,Mc],encapsulation:2,changeDetection:0}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn]]}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn]]}),n})(),VF=(()=>{class n{constructor(t){this._client=t}getAll(t){return pt([{name:"Dashboard",link:"dashboard",icon:"assets/icons/nav-links/dashboard.svg"},{name:"Edit-event",link:"edit-event",icon:"assets/icons/nav-links/event.svg"},{name:"Diet",link:"diet",icon:"assets/icons/nav-links/diet.svg"},{name:"Transport",link:"transport",icon:"assets/icons/nav-links/transport.svg"},{name:"Attractions",link:"attractions",icon:"assets/icons/nav-links/attractions.svg"},{name:"User management",link:"user-management",icon:"assets/icons/nav-links/users.svg"}])}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),BF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[VF,{provide:RF,useExisting:VF}],imports:[[qm]]}),n})();const x$=function(n){return{dropdown:n}},O$=["*"],UF=[Ff({height:0,overflow:"hidden"}),Z1("220ms cubic-bezier(0, 0, 0.2, 1)",Ff({height:"*",overflow:"hidden"}))];let dg=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new s.vpe,this.isDisabledChange=new s.vpe,this.toggleClick=new s.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),N$=(()=>{class n{constructor(t,r,i,l,u){this._state=t,this.cd=r,this._renderer=i,this._element=l,this.isOpen=!1,this._factoryDropDownAnimation=u.build(UF),this._subscription=t.isOpenChange.subscribe(f=>{this.isOpen=f;const _=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),_&&!Pl()&&(this._renderer.addClass(_,"show"),(_.classList.contains("dropdown-menu-right")||_.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(_,"left","auto"),this._renderer.setStyle(_,"right","0")),"up"===this.direction&&(this._renderer.setStyle(_,"top","auto"),this._renderer.setStyle(_,"transform","translateY(-101%)"))),_&&this._state.isAnimated&&this._factoryDropDownAnimation.create(_).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dg),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36($1))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:O$,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA()),2&t&&(s.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),s.Q6J("ngClass",s.VKq(7,x$,"down"===r.direction)))},directives:[ws],encapsulation:2,changeDetection:0}),n})(),R$=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HF=(()=>{class n{constructor(t,r,i,l,u,f,_){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=l,this._state=u,this._config=f,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=_.build(UF),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:dg,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Pl()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(xn(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(N$).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,l=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&l[--this._state.counts].focus();break;case 40:this._state.counts+1<l.length&&(i.classList!==l[this._state.counts].classList?l[this._state.counts].focus():l[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Pl()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.s_b),s.Y36(zo),s.Y36(dg),s.Y36(R$),s.Y36($1))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&s.NdJ("keydown.arrowDown",function(l){return r.navigationClick(l)})("keydown.arrowUp",function(l){return r.navigationClick(l)}),2&t&&s.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[s._Bn([dg])]}),n})(),P$=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dg),s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),F$=(()=>{class n{constructor(t,r,i,l,u){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=l,this._state=u,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(f=>{this.isOpen=f,f?(this._documentClickListener=this._renderer.listen("document","click",_=>{this._state.autoClose&&2!==_.button&&!this._element.nativeElement.contains(_.target)&&(!this._state.insideClick||!this._dropdown._contains(_))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(f=>this.isDisabled=f||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(HF),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(dg))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&s.NdJ("click",function(l){return r.onClick(l)}),2&t&&s.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),V$=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zo,Fl,dg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Nt]]}),n})();function B$(n,e){if(1&n&&(s.TgZ(0,"a",11),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("routerLink","/event/"+t.id),s.xp6(1),s.hij(" ",t.title," ")}}function U$(n,e){if(1&n&&(s.O4$(),s.kcU(),s.TgZ(0,"ul",8)(1,"li",9),s.YNc(2,B$,2,2,"a",10),s.ALo(3,"async"),s.qZA()()),2&n){const t=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,1,t.allEvents$))}}function H$(n,e){if(1&n&&(s.TgZ(0,"div",1)(1,"p",2),s._uU(2),s.qZA(),s.TgZ(3,"div",3)(4,"span",4),s.O4$(),s.TgZ(5,"svg",5),s._UZ(6,"path",6),s.qZA()(),s.YNc(7,U$,4,3,"ul",7),s.qZA()()),2&n){const t=e.ngIf;s.xp6(2),s.hij("Event - ",t.title,"")}}let j$=(()=>{class n{constructor(t,r,i){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this._getsAllEventDto=i,this.event$=this._contextDtoStoragePort.asObservable().pipe(sn(l=>this._getsOneEventDto.getOne(l.eventId))),this.allEvents$=this._getsAllEventDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(E1),s.Y36(li),s.Y36(zg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-event-dropdown-list"]],decls:2,vars:3,consts:[["class","mb-3 d-flex justify-content-start align-items-center",4,"ngIf"],[1,"mb-3","d-flex","justify-content-start","align-items-center"],[1,"m-0","fs-4","me-3"],["dropdown","",1,"btn-group","p-1","m-0"],["id","button-split","type","button","dropdownToggle","","aria-controls","dropdown-split",1,"fs-3"],["width","20","height","15","viewBox","0 0 20 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 0L10 15L20 0H0Z","fill","white"],["id","dropdown-split","class","dropdown-menu","role","menu","aria-labelledby","button-split",4,"dropdownMenu"],["id","dropdown-split","role","menu","aria-labelledby","button-split",1,"dropdown-menu"],["role","menuitem"],["class","dropdown-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"routerLink"]],template:function(t,r){1&t&&(s.YNc(0,H$,8,1,"div",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.event$))},directives:[Wt,HF,F$,P$,rn,ai],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();function Y$(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",1)(2,"div")(3,"p",2),s._uU(4),s.qZA(),s.TgZ(5,"p",3),s._uU(6),s.ALo(7,"date"),s.ALo(8,"date"),s.qZA()(),s.TgZ(9,"button",4),s.O4$(),s.TgZ(10,"svg",5),s._UZ(11,"path",6),s.qZA()()(),s.kcU(),s.TgZ(12,"div",7)(13,"div",8),s._UZ(14,"img",9),s.qZA(),s.TgZ(15,"div",10)(16,"p",11),s._uU(17),s.qZA()()()()),2&n){const t=e.ngIf;s.xp6(4),s.hij("Event Details - ",t.title,""),s.xp6(2),s.AsE(" ",s.xi3(7,5,t.fromDate,"dd.MM.YYYY")," - ",s.xi3(8,8,t.toDate,"dd.MM.YYYY")," "),s.xp6(8),s.Q6J("src",t.imageUrl,s.LSH),s.xp6(3),s.Oqu(t.description)}}let $$=(()=>{class n{constructor(t,r){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this.event$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsOneEventDto.getOne(i.eventId)))}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(E1),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-event-dashboard"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"m-0","fs-4","fw-bold"],[1,"m-0","fs-6"],["type","button","routerLink","edit-event",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"mt-4","grid","h-25"],[1,"g-col-5"],["alt","",1,"img-fluid",3,"src"],[1,"g-col-6"],[1,"m-0"]],template:function(t,r){1&t&&(s.YNc(0,Y$,18,11,"div",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.event$))},directives:[Wt,Zg],pipes:[Fn,Ud],encapsulation:2,changeDetection:0}),n})();function Z$(n,e){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"p",12),s._uU(3),s.qZA()(),s.TgZ(4,"div",13)(5,"p",14),s._uU(6,"0/15"),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(3),s.Oqu(t.name)}}function G$(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Z$,7,1,"div",9),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.diets$))}}function q$(n,e){1&n&&(s.TgZ(0,"div",15)(1,"a",16),s._uU(2,"Configure"),s.qZA()())}let W$=(()=>{class n{constructor(t,r){this._getsAllDietDto=t,this._contextDtoStoragePort=r,this.diets$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsAllDietDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Px),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-diet-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","diet",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","diet",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Diet"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s.YNc(7,G$,3,3,"div",6),s.ALo(8,"async"),s.qZA(),s.YNc(9,q$,3,0,"ng-template",null,7,s.W1O)),2&t){const i=s.MAs(10);let l;s.xp6(7),s.Q6J("ngIf",null==(l=s.lcZ(8,2,r.diets$))?null:l.length)("ngIfElse",i)}},directives:[ai,Wt,rn],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();const Fx=new s.OlP("GETS_ALL_TRANSPORT_DTO");function z$(n,e){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"p",12),s._uU(3),s.qZA()(),s.TgZ(4,"div",13)(5,"p",14),s._uU(6,"0/15"),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(3),s.Oqu(t.name)}}function K$(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,z$,7,1,"div",9),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.transports$))}}function J$(n,e){1&n&&(s.TgZ(0,"div",15)(1,"a",16),s._uU(2,"Configure"),s.qZA()())}let Q$=(()=>{class n{constructor(t,r){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this.transports$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsAllTransportDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Fx),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-transport-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","transport",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","transport",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Transport"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s.YNc(7,K$,3,3,"div",6),s.ALo(8,"async"),s.qZA(),s.YNc(9,J$,3,0,"ng-template",null,7,s.W1O)),2&t){const i=s.MAs(10);let l;s.xp6(7),s.Q6J("ngIf",null==(l=s.lcZ(8,2,r.transports$))?null:l.length)("ngIfElse",i)}},directives:[ai,Wt,rn],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();const Vx=new s.OlP("GETS_ALL_ATTRACTION_DTO");function X$(n,e){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"p",12),s._uU(3),s.qZA()(),s.TgZ(4,"div",13)(5,"p",14),s._uU(6,"0/15"),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(3),s.Oqu(t.name)}}function e4(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,X$,7,1,"div",9),s.ALo(2,"async"),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.attractions$))}}function t4(n,e){1&n&&(s.TgZ(0,"div",15)(1,"a",16),s._uU(2,"Configure"),s.qZA()())}let n4=(()=>{class n{constructor(t,r){this._getsAllAttractionDto=t,this._contextDtoStoragePort=r,this.attractions$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsAllAttractionDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Vx),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-attractions-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","attractions",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","attractions",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Attraction"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s.YNc(7,e4,3,3,"div",6),s.ALo(8,"async"),s.qZA(),s.YNc(9,t4,3,0,"ng-template",null,7,s.W1O)),2&t){const i=s.MAs(10);let l;s.xp6(7),s.Q6J("ngIf",null==(l=s.lcZ(8,2,r.attractions$))?null:l.length)("ngIfElse",i)}},directives:[ai,Wt,rn],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-event-dashboard-page"]],decls:15,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"w-50"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"mt-4"],[1,"grid","mt-5","mb-5"],[1,"g-col-3"],[1,"g-col-3","g-start-5"],[1,"g-col-3","g-start-9"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"lib-event-dropdown-list"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"lib-event-dashboard"),s.qZA(),s.TgZ(8,"div",6)(9,"div",7),s._UZ(10,"lib-diet-card"),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"lib-transport-card"),s.qZA(),s.TgZ(13,"div",9),s._UZ(14,"lib-attractions-card"),s.qZA()())},directives:[j$,ai,$$,W$,Q$,n4],encapsulation:2,changeDetection:0}),n})(),i4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn,V$.forRoot()]]}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn]]}),n})(),o4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn]]}),n})(),yD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("transports").add(t)}getAll(t){return this._client.collection("transports").valueChanges({idField:"id"}).pipe((0,vt.U)(r=>gD(r,t)))}remove(t){this._client.doc("transports/"+t).delete()}set(t){this._client.doc("transports/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jF=new s.OlP("ADDS_TRANSPORT_DTO"),YF=new s.OlP("REMOVES_TRANSPORT_DTO"),$F=new s.OlP("SETS_TRANSPORT_DTO");let ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[yD,{provide:jF,useExisting:yD},{provide:Fx,useExisting:yD},{provide:YF,useExisting:yD},{provide:$F,useExisting:yD}],imports:[[qm]]}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn]]}),n})(),vD=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("attractions").valueChanges({idField:"id"}).pipe((0,vt.U)(r=>gD(r,t)))}add(t){this._client.collection("attractions").add(t)}set(t){this._client.doc("attractions/"+t.id).update(t)}remove(t){this._client.doc("attractions/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const GF=new s.OlP("ADDS_ATTRACTION_DTO"),qF=new s.OlP("SETS_ATTRACTION_DTO"),WF=new s.OlP("REMOVES_ATTRACTION_DTO");let zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vD,{provide:Vx,useExisting:vD},{provide:GF,useExisting:vD},{provide:qF,useExisting:vD},{provide:WF,useExisting:vD}],imports:[[qm]]}),n})(),KF=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const JF=new s.OlP("INPUT_STATE_DTO_STORAGE");let l4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[KF,{provide:JF,useExisting:KF}],imports:[[]]}),n})(),QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn.forChild([{path:"",component:r4}]),PF,S1,i4,s4,LF,o4,ZF,a4,zF]]}),n})();function c4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",1),s.NdJ("ngSubmit",function(){const l=s.CHM(t).ngIf,u=s.oxw();return u.onNewTransportButtonSubmited(u.newTransport,l.eventId)}),s.TgZ(1,"p",2),s._uU(2,"Add your transport options"),s.qZA(),s._UZ(3,"input",3)(4,"input",4),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("formGroup",t.newTransport),s.xp6(4),s.Q6J("disabled",t.newTransport.invalid)}}let u4=(()=>{class n{constructor(t,r){this._addsTransportDto=t,this._contextDtoStorage=r,this.newTransport=new hs({name:new Yn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewTransportButtonSubmited(t,r){var i;this._addsTransportDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newTransport.reset()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jF),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-add-transport-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your transport option",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(s.YNc(0,c4,5,2,"form",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.currentEvent$))},directives:[Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();const XF=new s.OlP("INPUT_STATE_DTO_STORAGE");function d4(n,e){1&n&&s._UZ(0,"div")}function h4(n,e){if(1&n&&(s.TgZ(0,"div",6),s.YNc(1,d4,1,0,"div",7),s.qZA()),2&n){const t=e.ngIf,r=s.oxw().$implicit,i=s.MAs(4),l=s.MAs(7);s.xp6(1),s.Q6J("ngIf",t.transportId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function f4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",8),s._UZ(1,"input",9),s.TgZ(2,"input",10),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onSaveButtonClicked(i)}),s.qZA()()}if(2&n){const t=s.oxw(2);s.Q6J("formGroup",t.editingTransport),s.xp6(2),s.Q6J("disabled",!t.editingTransport.valid)}}function p4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"div",12),s.O4$(),s.TgZ(2,"svg",13),s._UZ(3,"path",14),s.qZA(),s.kcU(),s.TgZ(4,"p",15),s._uU(5),s.qZA()(),s.TgZ(6,"div",16)(7,"button",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onEditButtonClicked(i)}),s.O4$(),s.TgZ(8,"svg",18),s._UZ(9,"path",19),s.qZA()(),s.kcU(),s.TgZ(10,"button",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onDeleteButtonClicked(i.id)}),s.O4$(),s.TgZ(11,"svg",20),s._UZ(12,"path",21)(13,"path",22),s.qZA()()()()}if(2&n){const t=s.oxw().$implicit;s.xp6(5),s.Oqu(t.name)}}function m4(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,h4,2,3,"div",3),s.ALo(2,"async"),s.YNc(3,f4,3,2,"ng-template",null,4,s.W1O),s.YNc(5,p4,14,1,"ng-template",null,5,s.W1O),s.qZA()),2&n){const t=s.MAs(6),r=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let g4=(()=>{class n{constructor(t,r,i,l,u){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesTransportDto=l,this._setsTransportDto=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.transports$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllTransportDto.getAll({eventId:f.eventId}))),this.editingTransport=new hs({name:new Yn("",Br.required)})}onDeleteButtonClicked(t){this._removesTransportDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({transportId:t.id,isEditing:!0}),null===(r=this.editingTransport.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsTransportDto.set({id:t.id,name:null===(r=this.editingTransport.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Fx),s.Y36(li),s.Y36(XF),s.Y36(YF),s.Y36($F))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-transport-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,m4,8,4,"div",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,r.transports$)))},directives:[rn,Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),_4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-transport-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Transport - Set up your transport options"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"lib-add-transport-form"),s.qZA(),s._UZ(8,"lib-transport-list"))},directives:[ai,u4,g4],encapsulation:2,changeDetection:0}),n})(),y4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),v4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),e2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),b4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[e2,{provide:XF,useExisting:e2}],imports:[[]]}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn,Vn.forChild([{path:"",component:_4}]),y4,ZF,v4,b4]]}),n})();const D4=function(){return{isAnimated:!0}};function C4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",1),s.NdJ("ngSubmit",function(){const l=s.CHM(t).ngIf;return s.oxw().onEditEventFormSubmited(l)}),s.TgZ(1,"div",2)(2,"div",3)(3,"p"),s._uU(4,"Add event image"),s.qZA(),s._UZ(5,"textarea",4),s.qZA(),s.TgZ(6,"div",3)(7,"p"),s._uU(8,"Event Description"),s.qZA(),s._UZ(9,"textarea",5),s.qZA(),s.TgZ(10,"div",3)(11,"p"),s._uU(12,"Event Title"),s.qZA(),s._UZ(13,"input",6),s.qZA(),s.TgZ(14,"div",3)(15,"p"),s._uU(16,"Event Date"),s.qZA(),s._UZ(17,"input",7),s.qZA()(),s.TgZ(18,"div",8),s._UZ(19,"input",9),s.qZA()()}if(2&n){const t=e.ngIf,r=s.oxw();s.Q6J("formGroup",t),s.xp6(17),s.Q6J("minDate",r.minDate)("bsConfig",s.DdM(3,D4))}}let T4=(()=>{class n{constructor(t,r,i,l){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this._setsEventDto=i,this.router=l,this.editEventForm$=this._contextDtoStoragePort.asObservable().pipe(sn(u=>this._getsOneEventDto.getOne(u.eventId)),(0,vt.U)(u=>new hs({imageUrl:new Yn(u.imageUrl,Br.required),description:new Yn(u.description,Br.required),title:new Yn(u.title,Br.required),date:new Yn([u.fromDate,u.toDate],Br.required),id:new Yn(u.id)}))),this.minDate=new Date}ngOnInit(){}formatDate(t){return t.toDate()}onEditEventFormSubmited(t){var r,i,l,u,f;const _=null===(r=t.get("date"))||void 0===r?void 0:r.value;this._setsEventDto.set({id:null===(i=t.get("id"))||void 0===i?void 0:i.value,imageUrl:null===(l=t.get("imageUrl"))||void 0===l?void 0:l.value,description:null===(u=t.get("description"))||void 0===u?void 0:u.value,title:null===(f=t.get("title"))||void 0===f?void 0:f.value,fromDate:_[0],toDate:_[1]}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(E1),s.Y36(li),s.Y36(LR),s.Y36(Si))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-edit-event"]],decls:2,vars:3,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["contentEditable","true","rows","4","formControlName","imageUrl",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","date","placeholder","","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(s.YNc(0,C4,20,4,"form",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.editEventForm$))},directives:[Wt,fs,ds,$i,Mi,As,ps,Q1,Rx],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),E4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-event-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Edit Event"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div"),s._UZ(7,"lib-edit-event"),s.qZA())},directives:[ai,T4],encapsulation:2,changeDetection:0}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,SF.forRoot(),xs]]}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn.forChild([{path:"",component:E4}]),S4]]}),n})();function I4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",1),s.NdJ("ngSubmit",function(){const l=s.CHM(t).ngIf,u=s.oxw();return u.onNewAttractionSubmited(u.newAttraction,l.eventId)}),s.TgZ(1,"p",2),s._uU(2,"Add your attraction"),s.qZA(),s._UZ(3,"input",3)(4,"input",4),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("formGroup",t.newAttraction),s.xp6(4),s.Q6J("disabled",t.newAttraction.invalid)}}let A4=(()=>{class n{constructor(t,r){this._addsAttractionDto=t,this._contextDtoStorage=r,this.newAttraction=new hs({name:new Yn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewAttractionSubmited(t,r){var i;this._addsAttractionDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newAttraction.reset()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(GF),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-add-attraction-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your attraction",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(s.YNc(0,I4,5,2,"form",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.currentEvent$))},directives:[Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();function k4(n,e){1&n&&s._UZ(0,"div")}function x4(n,e){if(1&n&&(s.TgZ(0,"div",6),s.YNc(1,k4,1,0,"div",7),s.qZA()),2&n){const t=e.ngIf,r=s.oxw().$implicit,i=s.MAs(4),l=s.MAs(7);s.xp6(1),s.Q6J("ngIf",t.attractionId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function O4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",8),s._UZ(1,"input",9),s.TgZ(2,"input",10),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onSaveButtonClicked(i)}),s.qZA()()}if(2&n){const t=s.oxw(2);s.Q6J("formGroup",t.editAttraction),s.xp6(2),s.Q6J("disabled",t.editAttraction.invalid)}}function L4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"div",12),s.O4$(),s.TgZ(2,"svg",13),s._UZ(3,"path",14),s.qZA(),s.kcU(),s.TgZ(4,"p",15),s._uU(5),s.qZA()(),s.TgZ(6,"div",16)(7,"button",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onEditButtonClicked(i)}),s.O4$(),s.TgZ(8,"svg",18),s._UZ(9,"path",19),s.qZA()(),s.kcU(),s.TgZ(10,"button",17),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onDeleteButtonClicked(i.id)}),s.O4$(),s.TgZ(11,"svg",20),s._UZ(12,"path",21)(13,"path",22),s.qZA()()()()}if(2&n){const t=s.oxw().$implicit;s.xp6(5),s.Oqu(t.name)}}function N4(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,x4,2,3,"div",3),s.ALo(2,"async"),s.YNc(3,O4,3,2,"ng-template",null,4,s.W1O),s.YNc(5,L4,14,1,"ng-template",null,5,s.W1O),s.qZA()),2&n){const t=s.MAs(6),r=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let R4=(()=>{class n{constructor(t,r,i,l,u){this._getsAllAttractionDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesAttractionDto=l,this._setsAttractionDto=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.attractions$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllAttractionDto.getAll({eventId:f.eventId}))),this.editAttraction=new hs({name:new Yn("",Br.required)})}onDeleteButtonClicked(t){this._removesAttractionDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({attractionId:t.id,isEditing:!0}),null===(r=this.editAttraction.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsAttractionDto.set({id:t.id,name:null===(r=this.editAttraction.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Vx),s.Y36(li),s.Y36(JF),s.Y36(WF),s.Y36(qF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-attractions-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn","text-white",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,N4,8,4,"div",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,r.attractions$)))},directives:[rn,Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-attractions-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"Attractions - Enter some attractions"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"lib-add-attraction-form"),s.qZA(),s._UZ(8,"lib-attractions-list"))},directives:[ai,A4,R4],encapsulation:2,changeDetection:0}),n})(),F4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),V4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),B4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn,Vn.forChild([{path:"",component:P4}]),F4,zF,V4,l4]]}),n})();const t2=new s.OlP("SEARCH_DTO_STORAGE");let U4=(()=>{class n{constructor(t){this._searchDtoStorage=t,this.searchedParticipant=new hs({email:new Yn}),this.subscription=new ji.w0,this.subscription=this.searchedParticipant.valueChanges.pipe(Ti({email:""}),A0(400)).subscribe(r=>this._searchDtoStorage.next({email:r.email}))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(t2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-search-participant"]],decls:3,vars:1,consts:[[1,"my-3","d-flex","align-items-center",3,"formGroup"],["type","text","formControlName","email","placeholder","Search email",1,"me-3","ps-2"],["type","submit","value","Search",1,"bg-success","btn","text-white"]],template:function(t,r){1&t&&(s.TgZ(0,"form",0),s._UZ(1,"input",1)(2,"input",2),s.qZA()),2&t&&s.Q6J("formGroup",r.searchedParticipant)},directives:[fs,ds,$i,Mi,As,ps],encapsulation:2,changeDetection:0}),n})();const n2=new s.OlP("ADDS_PARTICIPANT_DTO");function H4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",1),s.NdJ("ngSubmit",function(){const l=s.CHM(t).ngIf,u=s.oxw();return u.onNewParticipantSubmited(u.newParticipant,l.eventId)}),s.TgZ(1,"div",2),s._UZ(2,"input",3)(3,"input",4)(4,"input",5),s.qZA(),s._UZ(5,"input",6),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("formGroup",t.newParticipant),s.xp6(5),s.Q6J("disabled",t.newParticipant.invalid)}}let j4=(()=>{class n{constructor(t,r){this._addsUserDto=t,this._contextDtoStorage=r,this.newParticipant=new hs({name:new Yn("",Br.required),lastName:new Yn("",Br.required),email:new Yn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewParticipantSubmited(t,r){var i,l,u;this._addsUserDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,lastName:null===(l=t.get("lastName"))||void 0===l?void 0:l.value,email:null===(u=t.get("email"))||void 0===u?void 0:u.value,eventId:r}),this.newParticipant.reset()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(n2),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-add-participant"]],decls:2,vars:3,consts:[["class","my-3 d-flex flex-column align-items-end",3,"formGroup","ngSubmit",4,"ngIf"],[1,"my-3","d-flex","flex-column","align-items-end",3,"formGroup","ngSubmit"],[1,"d-flex","ps-2","mb-3"],["type","text","formControlName","name","placeholder","Name",1,"me-3","ps-2","w-50"],["type","text","formControlName","lastName","placeholder","Last Name",1,"me-3","ps-2","w-50"],["type","text","formControlName","email","placeholder","Email",1,"ps-2","w-100"],["type","submit","value","Add member",1,"bg-success","btn","text-white",3,"disabled"]],template:function(t,r){1&t&&(s.YNc(0,H4,6,2,"form",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,r.currentEvent$))},directives:[Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})();const r2=new s.OlP("GETS_ALL_PARTICIPANT_DTO"),s2=new s.OlP("REMOVES_PARTICIPANT_DTO"),o2=new s.OlP("SETS_PARTICIPANT_DTO"),a2=new s.OlP("INPUT_STATE_DTO_STORAGE");function Y4(n,e){1&n&&s._UZ(0,"div")}function $4(n,e){if(1&n&&(s.TgZ(0,"div",6),s.YNc(1,Y4,1,0,"div",7),s.qZA()),2&n){const t=e.ngIf,r=s.oxw().$implicit,i=s.MAs(4),l=s.MAs(7);s.xp6(1),s.Q6J("ngIf",t.id===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function Z4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",8),s._UZ(1,"input",9)(2,"input",10)(3,"input",11),s.TgZ(4,"input",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onSaveEditedParticipantClicked(i)}),s.qZA()()}if(2&n){const t=s.oxw(2);s.Q6J("formGroup",t.editingParticipantForm),s.xp6(4),s.Q6J("disabled",t.editingParticipantForm.invalid)}}function G4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",13)(1,"div",14),s.O4$(),s.TgZ(2,"svg",15),s._UZ(3,"path",16)(4,"path",17),s.qZA(),s.kcU(),s.TgZ(5,"div",18)(6,"p",19),s._uU(7),s.qZA(),s.TgZ(8,"p",20),s._uU(9),s.qZA()()(),s.TgZ(10,"div",21)(11,"button",22),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onEditParticipantClicked(i)}),s.O4$(),s.TgZ(12,"svg",23),s._UZ(13,"path",24),s.qZA()(),s.kcU(),s.TgZ(14,"button",22),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw().onDeleteParticipantClicked(i.id)}),s.O4$(),s.TgZ(15,"svg",25),s._UZ(16,"path",26)(17,"path",27),s.qZA()()()()}if(2&n){const t=s.oxw().$implicit;s.xp6(7),s.AsE("",t.name," ",t.lastName,""),s.xp6(2),s.Oqu(t.email)}}function q4(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,$4,2,3,"div",3),s.ALo(2,"async"),s.YNc(3,Z4,5,2,"ng-template",null,4,s.W1O),s.YNc(5,G4,18,3,"ng-template",null,5,s.W1O),s.qZA()),2&n){const t=s.MAs(6),r=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let W4=(()=>{class n{constructor(t,r,i,l,u){this._getsAllParticipantDto=t,this._removesParticipantDto=r,this._setsParticipantDto=i,this._inputStateDtoStorage=l,this._contextDtoStoragePort=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.participantsList$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllParticipantDto.getAll({eventId:f.eventId}))),this.editingParticipantForm=new hs({name:new Yn("",Br.required),lastName:new Yn("",Br.required),email:new Yn("",Br.required)})}onDeleteParticipantClicked(t){this._removesParticipantDto.remove(t)}onEditParticipantClicked(t){var r,i,l;this._inputStateDtoStorage.next({id:t.id,isEditing:!0}),null===(r=this.editingParticipantForm.get("name"))||void 0===r||r.setValue(t.name),null===(i=this.editingParticipantForm.get("lastName"))||void 0===i||i.setValue(t.lastName),null===(l=this.editingParticipantForm.get("email"))||void 0===l||l.setValue(t.email)}onSaveEditedParticipantClicked(t){var r,i,l;this._setsParticipantDto.set({id:t.id,name:null===(r=this.editingParticipantForm.get("name"))||void 0===r?void 0:r.value,lastName:null===(i=this.editingParticipantForm.get("lastName"))||void 0===i?void 0:i.value,email:null===(l=this.editingParticipantForm.get("email"))||void 0===l?void 0:l.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(r2),s.Y36(s2),s.Y36(o2),s.Y36(a2),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-participants-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","text","formControlName","lastName",1,"fs-6","ps-2","me-1"],["type","text","formControlName","email",1,"fs-6","ps-2","me-3"],["type","submit","value","Save changes",1,"bg-success","btn","text-white",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","7%","height","7%","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"],[1,"d-flex","flex-column"],[1,"ms-4","my-0","fs-5"],[1,"ms-4","my-0"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,q4,8,4,"div",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,r.participantsList$)))},directives:[rn,Wt,fs,ds,$i,Mi,As,ps],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-users-page"]],decls:10,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"d-flex","justify-content-between","align-content-center","border-bottom"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"User management"),s.qZA(),s.TgZ(3,"a",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"lib-search-participant")(8,"lib-add-participant"),s.qZA(),s._UZ(9,"lib-participants-list"))},directives:[ai,U4,j4,W4],encapsulation:2,changeDetection:0}),n})(),l2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[l2,{provide:a2,useExisting:l2}],imports:[[]]}),n})(),J4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),bD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("participants").add(t)}getAll(t){return this._client.collection("participants").valueChanges({idField:"id"}).pipe((0,vt.U)(r=>gD(r,t)))}remove(t){this._client.doc("participants/"+t).delete()}set(t){this._client.doc("participants/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[bD,{provide:n2,useExisting:bD},{provide:r2,useExisting:bD},{provide:s2,useExisting:bD},{provide:o2,useExisting:bD}],imports:[[qm]]}),n})(),X4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),c2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),eZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[c2,{provide:t2,useExisting:c2}],imports:[[]]}),n})(),tZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),nZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn.forChild([{path:"",component:z4}]),K4,J4,X4,Q4,tZ,eZ]]}),n})(),rZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn.forChild([{path:"",component:k$,resolve:{eventId:MF},children:[{path:"",loadChildren:()=>QF},{path:"diet",loadChildren:()=>NF},{path:"dashboard",loadChildren:()=>QF},{path:"transport",loadChildren:()=>w4},{path:"edit-event",loadChildren:()=>M4},{path:"attractions",loadChildren:()=>B4},{path:"user-management",loadChildren:()=>nZ}]}]),PF,S1,p$,FF,BF]]}),n})(),iZ=(()=>{class n{constructor(){this.searchedEmail=new hs({email:new Yn})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-search-user-details"]],decls:3,vars:1,consts:[[1,"mt-4","w-50"],[1,"d-flex","align-items-center",3,"formGroup"],["type","text","formControlName","email","placeholder","Search email",1,"me-3","ps-3","py-2","rounded","border-0","w-75"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"form",1),s._UZ(2,"input",2),s.qZA()()),2&t&&(s.xp6(1),s.Q6J("formGroup",r.searchedEmail))},directives:[fs,ds,$i,Mi,As,ps],encapsulation:2,changeDetection:0}),n})();const u2=new s.OlP("GETS_ALL_USER_DETAILS_DTO"),d2=new s.OlP("REMOVES_USER_DETAILS_DTO");function sZ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr",5)(1,"td",6),s.O4$(),s.TgZ(2,"svg",7),s._UZ(3,"path",8)(4,"path",9),s.qZA(),s.kcU(),s.TgZ(5,"p",10),s._uU(6),s.qZA()(),s.TgZ(7,"td")(8,"p",11),s._uU(9),s.qZA()(),s.TgZ(10,"td")(11,"p",11),s._uU(12),s.qZA()(),s.TgZ(13,"td")(14,"button",12)(15,"a",13),s._uU(16,"Edit"),s.qZA()()(),s.TgZ(17,"td")(18,"button",14),s.NdJ("click",function(){const l=s.CHM(t).$implicit;return s.oxw(2).onDeleteUserDetailsClicked(l.id)}),s.O4$(),s.TgZ(19,"svg",15),s._UZ(20,"path",16)(21,"path",17),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(6),s.Oqu(t.name),s.xp6(3),s.Oqu(t.lastName),s.xp6(3),s.Oqu(t.email)}}function oZ(n,e){if(1&n&&(s.TgZ(0,"table",2)(1,"thead",3)(2,"tr")(3,"th"),s._uU(4,"Name"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Last name"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Email"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Manage"),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Delete"),s.qZA()()(),s.TgZ(13,"tbody"),s.YNc(14,sZ,22,3,"tr",4),s.ALo(15,"async"),s.qZA()()),2&n){const t=s.oxw();s.xp6(14),s.Q6J("ngForOf",s.lcZ(15,1,t.usersList$))}}let aZ=(()=>{class n{constructor(t,r){this._getsAllUserDetailsDto=t,this._removesUserDetailsDto=r,this.usersList$=this._getsAllUserDetailsDto.getAll()}onDeleteUserDetailsClicked(t){this._removesUserDetailsDto.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(u2),s.Y36(d2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["lib-user-details-list"]],decls:3,vars:3,consts:[[1,"container-fluid","bg-white","mx-auto","py-4","px-5","mt-5"],["class","table table-borderless text-center",4,"ngIf"],[1,"table","table-borderless","text-center"],[1,"bg-gray-400"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"],[1,"m-0","ps-3","text-dark"],[1,"m-0","text-dark"],["type","button",1,"btn","bg-gray-400","border-0"],["routerLink","/users",1,"text-decoration-none","text-dark"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-dark","g-col-2"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,oZ,16,3,"table",1),s.ALo(2,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,r.usersList$)))},directives:[Wt,rn],pipes:[Fn],encapsulation:2,changeDetection:0}),n})(),lZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-users-page"]],decls:12,vars:0,consts:[[1,"h-100"],[1,"container-fluid","w-75","mx-auto"],[1,"container","d-flex","align-items-center","justify-content-between","border-bottom","mx-auto","pt-3"],[1,"d-flex","justify-content-start","align-items-center","py-1"],["routerLink","/",1,"fs-3","fw-bold","me-5","text-decoration-none","text-white"],["routerLink","/users",1,"fs-3","fw-bold","text-decoration-none","text-white"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"p"),s._uU(6,"Events"),s.qZA()(),s.TgZ(7,"a",5)(8,"p"),s._uU(9,"Users"),s.qZA()()()(),s._UZ(10,"lib-search-user-details")(11,"lib-user-details-list"),s.qZA()())},directives:[ai,iZ,aZ],encapsulation:2,changeDetection:0}),n})(),wD=(()=>{class n{constructor(t,r,i){this._client=t,this._auth=r,this._router=i}userSignOut(){this._auth.signOut().then(()=>this._router.navigate([""]))}add(t){this._client.collection("user-details").add(t)}getAll(t){return this._client.collection("user-details").valueChanges({idField:"id"}).pipe((0,vt.U)(r=>gD(r,t)))}remove(t){this._client.doc("user-details/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xf),s.LFG(Nk),s.LFG(Si))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const cZ=new s.OlP("ADDS_USER_DETAILS_DTO"),uZ=new s.OlP("USER_SIGN_OUT_DTO");let dZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wD,{provide:cZ,useExisting:wD},{provide:uZ,useExisting:wD},{provide:u2,useExisting:wD},{provide:d2,useExisting:wD}],imports:[[qm]]}),n})(),hZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt]]}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,xs]]}),n})(),pZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[],imports:[[Nt,Vn.forChild([{path:"",component:lZ}]),dZ,hZ,fZ]]}),n})();const mZ=[{path:"",loadChildren:()=>iH},{path:"event-form",loadChildren:()=>m$},{path:"diet",loadChildren:()=>NF},{path:"event/:eventId",loadChildren:()=>rZ},{path:"users",loadChildren:()=>pZ}];let gZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Vn.forRoot(mZ)],Vn]}),n})(),_Z=(()=>{class n{constructor(){this.title="niedzielny-projekt"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"py-1","container-flex","bg-success","text-white"],[1,"py-2","ps-4","d-flex","align-items-center"],["width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 0C11.2311 0 8.52431 0.821086 6.22202 2.35943C3.91973 3.89777 2.12532 6.08427 1.06569 8.64243C0.00606596 11.2006 -0.271181 14.0155 0.269012 16.7313C0.809205 19.447 2.14258 21.9416 4.10051 23.8995C6.05845 25.8574 8.55301 27.1908 11.2687 27.731C13.9845 28.2712 16.7994 27.9939 19.3576 26.9343C21.9157 25.8747 24.1022 24.0803 25.6406 21.778C27.1789 19.4757 28 16.7689 28 14C28 10.287 26.525 6.72601 23.8995 4.1005C21.274 1.475 17.713 0 14 0ZM13.91 10.45C13.6872 10.45 13.4736 10.5385 13.316 10.696C13.1585 10.8536 13.07 11.0672 13.07 11.29V16.43C13.07 17.3715 12.696 18.2745 12.0302 18.9402C11.3645 19.606 10.4615 19.98 9.52001 19.98C8.57849 19.98 7.67553 19.606 7.00978 18.9402C6.34402 18.2745 5.97001 17.3715 5.97001 16.43V14.09H8.68001V16.33C8.68001 16.5528 8.76851 16.7664 8.92604 16.924C9.08357 17.0815 9.29722 17.17 9.52001 17.17C9.74279 17.17 9.95645 17.0815 10.114 16.924C10.2715 16.7664 10.36 16.5528 10.36 16.33V11.33C10.4082 10.4224 10.8027 9.56781 11.4623 8.94239C12.1218 8.31697 12.9961 7.96835 13.905 7.96835C14.8139 7.96835 15.6882 8.31697 16.3477 8.94239C17.0073 9.56781 17.4018 10.4224 17.45 11.33V12.33L15.87 12.84L14.75 12.33V11.33C14.754 11.2167 14.7353 11.1038 14.695 10.9978C14.6547 10.8919 14.5937 10.795 14.5154 10.713C14.4371 10.631 14.3432 10.5655 14.2393 10.5204C14.1353 10.4752 14.0234 10.4513 13.91 10.45ZM21.84 16.45C21.7918 17.3576 21.3973 18.2122 20.7377 18.8376C20.0782 19.463 19.2039 19.8117 18.295 19.8117C17.3861 19.8117 16.5118 19.463 15.8523 18.8376C15.1927 18.2122 14.7982 17.3576 14.75 16.45V14.14L15.87 14.65L17.45 14.14V16.43C17.45 16.6528 17.5385 16.8664 17.696 17.024C17.8536 17.1815 18.0672 17.27 18.29 17.27C18.5128 17.27 18.7264 17.1815 18.884 17.024C19.0415 16.8664 19.13 16.6528 19.13 16.43V14.19H21.84V16.45Z","fill","black"],[1,"ps-2","m-0"],[1,"bg-dark","vh-100","text-white"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s.O4$(),s.TgZ(2,"svg",2),s._UZ(3,"path",3),s.qZA(),s.kcU(),s.TgZ(4,"h4",4),s._uU(5,"EVENT ADMIN"),s.qZA()()(),s.TgZ(6,"div",5),s._UZ(7,"router-outlet"),s.qZA())},directives:[Mc],styles:[""]}),n})();const h2_firebase={projectId:"sundaybootcamp-67f93",appId:"1:777656207743:web:9536bb56ef77efc0de324a",storageBucket:"sundaybootcamp-67f93.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAnJs2shS5FhTPMf8yVnS4UZNWqpnvek8E",authDomain:"sundaybootcamp-67f93.firebaseapp.com",messagingSenderId:"777656207743"},fn=!1;function f2(n){return new s.vHH(3e3,fn)}function JZ(){return"undefined"!=typeof window&&void 0!==window.document}function Bx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bf(n){switch(n.length){case 0:return new dD;case 1:return n[0];default:return new HP(n)}}function p2(n,e,t,r,i={},l={}){const u=[],f=[];let _=-1,D=null;if(r.forEach(S=>{const A=S.offset,R=A==_,B=R&&D||{};Object.keys(S).forEach($=>{let ee=$,_e=S[$];if("offset"!==$)switch(ee=e.normalizePropertyName(ee,u),_e){case"!":_e=i[$];break;case Ld:_e=l[$];break;default:_e=e.normalizeStyleValue($,ee,_e,u)}B[ee]=_e}),R||f.push(B),D=B,_=A}),u.length)throw function UZ(n){return new s.vHH(3502,fn)}();return f}function Ux(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Hx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Hx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Hx(t,"destroy",n)))}}function Hx(n,e,t){const r=t.totalTime,l=jx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function jx(n,e,t,r,i="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!u}}function Aa(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function m2(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Yx=(n,e)=>!1,g2=(n,e,t)=>[],_2=null;function $x(n){const e=n.parentNode||n.host;return e===_2?null:e}(Bx()||"undefined"!=typeof Element)&&(JZ()?(_2=(()=>document.documentElement)(),Yx=(n,e)=>{for(;e;){if(e===n)return!0;e=$x(e)}return!1}):Yx=(n,e)=>n.contains(e),g2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let hg=null,y2=!1;function v2(n){hg||(hg=function XZ(){return"undefined"!=typeof document?document.body:null}()||{},y2=!!hg.style&&"WebkitAppearance"in hg.style);let e=!0;return hg.style&&!function QZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in hg.style,!e&&y2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in hg.style)),e}const b2=Yx,w2=g2;let D2=(()=>{class n{validateStyleProperty(t){return v2(t)}matchesElement(t,r){return!1}containsElement(t,r){return b2(t,r)}getParentElement(t){return $x(t)}query(t,r,i){return w2(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,u,f=[],_){return new dD(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Zx=(()=>{class n{}return n.NOOP=new D2,n})();const Gx="ng-enter",eS="ng-leave",tS="ng-trigger",nS=".ng-trigger",T2="ng-animating",qx=".ng-animating";function fg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Wx(parseFloat(e[1]),e[2])}function Wx(n,e){return"s"===e?1e3*n:n}function rS(n,e,t){return n.hasOwnProperty("duration")?n:function nG(n,e,t){let i,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(f2()),{duration:0,delay:0,easing:""};i=Wx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=Wx(parseFloat(_),f[4]));const D=f[5];D&&(u=D)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function yZ(){return new s.vHH(3100,fn)}()),f=!0),l<0&&(e.push(function vZ(){return new s.vHH(3101,fn)}()),f=!0),f&&e.splice(_,0,f2())}return{duration:i,delay:l,easing:u}}(n,e,t)}function Dv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Uf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Dv(n,t);return t}function S2(n,e,t){return t?e+":"+t+";":""}function M2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=S2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=S2(0,sG(t),n.style[t]));n.setAttribute("style",e)}function lu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Kx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Bx()&&M2(n))}function pg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Kx(t);n.style[r]=""}),Bx()&&M2(n))}function DD(n){return Array.isArray(n)?1==n.length?n[0]:VP(n):n}const zx=new RegExp("{{\\s*(.+?)\\s*}}","g");function I2(n){let e=[];if("string"==typeof n){let t;for(;t=zx.exec(n);)e.push(t[1]);zx.lastIndex=0}return e}function iS(n,e,t){const r=n.toString(),i=r.replace(zx,(l,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function wZ(n){return new s.vHH(3003,fn)}()),f=""),f.toString()});return i==r?n:i}function sS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const iG=/-+([a-z0-9])/g;function Kx(n){return n.replace(iG,(...e)=>e[1].toUpperCase())}function sG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ka(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function DZ(n){return new s.vHH(3004,fn)}()}}function A2(n,e){return window.getComputedStyle(n)[e]}function dG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function hG(n,e,t){if(":"==n[0]){const _=function fG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function PZ(n){return new s.vHH(3016,fn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function RZ(n){return new s.vHH(3015,fn)}()),e;const i=r[1],l=r[2],u=r[3];e.push(k2(i,u));"<"==l[0]&&!("*"==i&&"*"==u)&&e.push(k2(u,i))}(r,t,e)):t.push(n),t}const cS=new Set(["true","1"]),uS=new Set(["false","0"]);function k2(n,e){const t=cS.has(n)||uS.has(n),r=cS.has(e)||uS.has(e);return(i,l)=>{let u="*"==n||n==i,f="*"==e||e==l;return!u&&t&&"boolean"==typeof i&&(u=i?cS.has(n):uS.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?cS.has(e):uS.has(e)),u&&f}}const pG=new RegExp("s*:selfs*,?","g");function Jx(n,e,t,r){return new mG(n).build(e,t,r)}class mG{constructor(e){this._driver=e}build(e,t,r){const i=new yG(t);this._resetContextStyleTimingState(i);const l=ka(this,DD(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function TZ(){return new s.vHH(3006,fn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,D=_.name;D.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,l.push(this.visitState(_,t))}),_.name=D}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function EZ(){return new s.vHH(3007,fn)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,u=i||{};r.styles.forEach(f=>{if(dS(f)){const _=f;Object.keys(_).forEach(D=>{I2(_[D]).forEach(S=>{u.hasOwnProperty(S)||l.add(S)})})}}),l.size&&(sS(l.values()),t.errors.push(function SZ(n,e){return new s.vHH(3008,fn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ka(this,DD(e.animation),t);return{type:1,matchers:dG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:mg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ka(this,r,t)),options:mg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(u=>{t.currentTime=r;const f=ka(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:mg(e.options)}}visitAnimate(e,t){const r=function bG(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Qx(rS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Qx(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||rS(r,e),Qx(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Ff({});if(5==l.type)i=this.visitKeyframes(l,t);else{let u=e.styles,f=!1;if(!u){f=!0;const D={};r.easing&&(D.easing=r.easing),u=Ff(D)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Ld?r.push(u):t.errors.push(function MZ(n){return new s.vHH(3002,fn)}()):r.push(u)}):r.push(e.styles);let i=!1,l=null;return r.forEach(u=>{if(dS(u)){const f=u,_=f.easing;if(_&&(l=_,delete f.easing),!i)for(let D in f)if(f[D].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],D=_[f];let S=!0;D&&(l!=i&&l>=D.startTime&&i<=D.endTime&&(t.errors.push(function IZ(n,e,t,r,i){return new s.vHH(3010,fn)}()),S=!1),l=D.startTime),S&&(_[f]={startTime:l,endTime:i}),t.options&&function rG(n,e,t){const r=e.params||{},i=I2(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function bZ(n){return new s.vHH(3001,fn)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function AZ(){return new s.vHH(3011,fn)}()),r;let l=0;const u=[];let f=!1,_=!1,D=0;const S=e.steps.map(Ve=>{const Oe=this._makeStyleAst(Ve,t);let We=null!=Oe.offset?Oe.offset:function vG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(dS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(dS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Oe.styles),Ge=0;return null!=We&&(l++,Ge=Oe.offset=We),_=_||Ge<0||Ge>1,f=f||Ge<D,D=Ge,u.push(Ge),Oe});_&&t.errors.push(function kZ(){return new s.vHH(3012,fn)}()),f&&t.errors.push(function xZ(){return new s.vHH(3200,fn)}());const A=e.steps.length;let R=0;l>0&&l<A?t.errors.push(function OZ(){return new s.vHH(3202,fn)}()):0==l&&(R=1/(A-1));const B=A-1,$=t.currentTime,ee=t.currentAnimateTimings,_e=ee.duration;return S.forEach((Ve,Oe)=>{const We=R>0?Oe==B?1:R*Oe:u[Oe],Ge=We*_e;t.currentTime=$+ee.delay+Ge,ee.duration=Ge,this._validateStyleAst(Ve,t),Ve.offset=We,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:ka(this,DD(e.animation),t),options:mg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:mg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:mg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function gG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(pG,"")),n=n.replace(/@\*/g,nS).replace(/@\w+/g,t=>nS+"-"+t.substr(1)).replace(/:animating/g,qx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Aa(t.collectedStyles,t.currentQuerySelector,{});const f=ka(this,DD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:mg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LZ(){return new s.vHH(3013,fn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rS(e.timings,t.errors,!0);return{type:12,animation:ka(this,DD(e.animation),t),timings:r,options:null}}}class yG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dS(n){return!Array.isArray(n)&&"object"==typeof n}function mg(n){return n?(n=Dv(n)).params&&(n.params=function _G(n){return n?Dv(n):null}(n.params)):n={},n}function Qx(n,e,t){return{duration:n,delay:e,easing:t}}function Xx(n,e,t,r,i,l,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:u,subTimeline:f}}class hS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const CG=new RegExp(":enter","g"),EG=new RegExp(":leave","g");function eO(n,e,t,r,i,l={},u={},f,_,D=[]){return(new SG).buildKeyframes(n,e,t,r,i,l,u,f,_,D)}class SG{buildKeyframes(e,t,r,i,l,u,f,_,D,S=[]){D=D||new hS;const A=new tO(e,t,D,i,l,S,[]);A.options=_,A.currentTimeline.setStyles([u],null,A.errors,_),ka(this,r,A);const R=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let $=R.length-1;$>=0;$--){const ee=R[$];if(ee.element===t){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,_)}return R.length?R.map(B=>B.buildKeyframes()):[Xx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const u=null!=r.duration?fg(r.duration):null,f=null!=r.delay?fg(r.delay):null;return 0!==u&&e.forEach(_=>{const D=t.appendInstructionToTimeline(_,u,f);l=Math.max(l,D.duration+D.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ka(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fS);const u=fg(l.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ka(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?fg(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),ka(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return rS(t.params?iS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?fg(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fS);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((D,S)=>{t.currentQueryIndex=S;const A=t.createSubContext(e.options,D);l&&A.delayNextStep(l),D===t.element&&(_=A.currentTimeline),ka(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const A=S.currentTime;ka(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const fS={};class tO{constructor(e,t,r,i,l,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new pS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=fg(r.duration)),null!=r.delay&&(i.delay=fg(r.delay));const l=r.params;if(l){let u=i.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=iS(l[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new tO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=fS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new MG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(CG,"."+this._enterClassName)).replace(EG,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),f.push(...D)}return!l&&0==f.length&&u.push(function NZ(n){return new s.vHH(3014,fn)}()),f}}class pS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ld,this._currentKeyframe[t]=Ld}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},u=function IG(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Ld})):Uf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=iS(u[f],l,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ld),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const D=Uf(f,!0);Object.keys(D).forEach(S=>{const A=D[S];"!"==A?e.add(S):A==Ld&&t.add(S)}),r||(D.offset=_/this.duration),i.push(D)});const l=e.size?sS(e.values()):[],u=t.size?sS(t.values()):[];if(r){const f=i[0],_=Dv(f);f.offset=0,_.offset=1,i=[f,_]}return Xx(this.element,i,l,u,this.duration,this.startTime,this.easing,!1)}}class MG extends pS{constructor(e,t,r,i,l,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=r+t,f=t/u,_=Uf(e[0],!1);_.offset=0,l.push(_);const D=Uf(e[0],!1);D.offset=L2(f),l.push(D);const S=e.length-1;for(let A=1;A<=S;A++){let R=Uf(e[A],!1);R.offset=L2((t+R.offset*r)/u),l.push(R)}r=u,t=0,i="",e=l}return Xx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function L2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class nO{}class AG extends nO{normalizePropertyName(e,t){return Kx(e)}normalizeStyleValue(e,t,r,i){let l="";const u=r.toString().trim();if(kG[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function CZ(n,e){return new s.vHH(3005,fn)}())}return u+l}}const kG=(()=>function xG(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function N2(n,e,t,r,i,l,u,f,_,D,S,A,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:D,postStyleProps:S,totalTime:A,errors:R}}const rO={};class R2{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function OG(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):u}build(e,t,r,i,l,u,f,_,D,S){const A=[],R=this.ast.options&&this.ast.options.params||rO,$=this.buildStyles(r,f&&f.params||rO,A),ee=_&&_.params||rO,_e=this.buildStyles(i,ee,A),Ve=new Set,Oe=new Map,We=new Map,Ge="void"===i,yt={params:Object.assign(Object.assign({},R),ee)},ct=S?[]:eO(e,t,this.ast.animation,l,u,$,_e,yt,D,A);let un=0;if(ct.forEach(On=>{un=Math.max(On.duration+On.delay,un)}),A.length)return N2(t,this._triggerName,r,i,Ge,$,_e,[],[],Oe,We,un,A);ct.forEach(On=>{const tn=On.element,Bn=Aa(Oe,tn,{});On.preStyleProps.forEach(cu=>Bn[cu]=!0);const mo=Aa(We,tn,{});On.postStyleProps.forEach(cu=>mo[cu]=!0),tn!==t&&Ve.add(tn)});const Pn=sS(Ve.values());return N2(t,this._triggerName,r,i,Ge,$,_e,ct,Pn,Oe,We,un)}}class LG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Dv(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!=u&&(i[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=iS(_,i,t));const D=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,D,_,t),r[D]=_})}}),r}}class RG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new LG(i.style,i.options&&i.options.params||{},r)}),P2(this.states,"true","1"),P2(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new R2(e,i,this.states))}),this.fallbackTransition=function PG(n,e,t){return new R2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function P2(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const FG=new hS;class VG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=Jx(this._driver,t,r,[]);if(r.length)throw function HZ(n){return new s.vHH(3503,fn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=p2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let u;const f=new Map;if(l?(u=eO(this._driver,t,l,Gx,eS,{},{},r,FG,i),u.forEach(S=>{const A=Aa(f,S.element,{});S.postStyleProps.forEach(R=>A[R]=null)})):(i.push(function jZ(){return new s.vHH(3300,fn)}()),u=[]),i.length)throw function YZ(n){return new s.vHH(3504,fn)}();f.forEach((S,A)=>{Object.keys(S).forEach(R=>{S[R]=this._driver.computeStyle(A,R,Ld)})});const D=Bf(u.map(S=>{const A=f.get(S.element);return this._buildPlayer(S,{},A)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function $Z(n){return new s.vHH(3301,fn)}();return t}listen(e,t,r,i){const l=jx(t,"","","");return Ux(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const F2="ng-animate-queued",iO="ng-animate-disabled",YG=[],V2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$G={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dl="__ng_removed";class sO{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function WG(n){return null!=n?n:null}(r?e.value:e),r){const l=Dv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const CD="void",oO=new sO(CD);class ZG{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hl(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function ZZ(n,e){return new s.vHH(3302,fn)}();if(null==r||0==r.length)throw function GZ(n){return new s.vHH(3303,fn)}();if(!function zG(n){return"start"==n||"done"==n}(r))throw function qZ(n,e){return new s.vHH(3400,fn)}();const l=Aa(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};l.push(u);const f=Aa(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(hl(e,tS),hl(e,tS+"-"+t),f[t]=oO),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(u);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function WZ(n){return new s.vHH(3401,fn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),u=new aO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(hl(e,tS),hl(e,tS+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const D=new sO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),f[t]=D,_||(_=oO),D.value!==CD&&_.value===D.value){if(!function QG(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,D.params)){const ee=[],_e=l.matchStyles(_.value,_.params,ee),Ve=l.matchStyles(D.value,D.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{pg(e,_e),lu(e,Ve)})}return}const R=Aa(this._engine.playersByElement,e,[]);R.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=l.matchTransition(_.value,D.value,e,D.params),$=!1;if(!B){if(!i)return;B=l.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:D,player:u,isFallbackTransition:$}),$||(hl(e,F2),u.onStart(()=>{Cv(e,F2)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ve=_e.indexOf(u);Ve>=0&&_e.splice(Ve,1)}}),this.players.push(u),R.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,nS,!0);r.forEach(i=>{if(i[dl])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(u.set(_,l[_].value),this._triggers[_]){const D=this.trigger(e,_,CD,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Bf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const u=l.name;if(i.has(u))return;i.add(u);const _=this._triggers[u].fallbackTransition,D=r[u]||oO,S=new sO(CD),A=new aO(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:D,toState:S,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[dl];(!l||l===V2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){hl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=jx(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Ux(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class GG{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ZG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const D=r.indexOf(_);r.splice(D+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),u=!0;break}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const u=r[i[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(mS(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mS(t))return;const l=t[dl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hl(e,iO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cv(e,iO))}removeNode(e,t,r,i){if(mS(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[dl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return mS(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,nS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,qx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[dl];if(r&&r.setForRemoval){if(e[dl]=V2,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(iO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Bf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function zZ(n){return new s.vHH(3402,fn)}()}_flushAnimations(e,t){const r=new hS,i=[],l=new Map,u=[],f=new Map,_=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(it=>{S.add(it);const mt=this.driver.query(it,".ng-animate-queued",!0);for(let Ot=0;Ot<mt.length;Ot++)S.add(mt[Ot])});const A=this.bodyNode,R=Array.from(this.statesByElement.keys()),B=H2(R,this.collectedEnterElements),$=new Map;let ee=0;B.forEach((it,mt)=>{const Ot=Gx+ee++;$.set(mt,Ot),it.forEach(En=>hl(En,Ot))});const _e=[],Ve=new Set,Oe=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const mt=this.collectedLeaveElements[it],Ot=mt[dl];Ot&&Ot.setForRemoval&&(_e.push(mt),Ve.add(mt),Ot.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(En=>Ve.add(En)):Oe.add(mt))}const We=new Map,Ge=H2(R,Array.from(Ve));Ge.forEach((it,mt)=>{const Ot=eS+ee++;We.set(mt,Ot),it.forEach(En=>hl(En,Ot))}),e.push(()=>{B.forEach((it,mt)=>{const Ot=$.get(mt);it.forEach(En=>Cv(En,Ot))}),Ge.forEach((it,mt)=>{const Ot=We.get(mt);it.forEach(En=>Cv(En,Ot))}),_e.forEach(it=>{this.processLeaveNode(it)})});const yt=[],ct=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Ot=>{const En=Ot.player,es=Ot.element;if(yt.push(En),this.collectedEnterElements.length){const go=es[dl];if(go&&go.setForMove){if(go.previousTriggersValues&&go.previousTriggersValues.has(Ot.triggerName)){const gg=go.previousTriggersValues.get(Ot.triggerName),jf=this.statesByElement.get(Ot.element);jf&&jf[Ot.triggerName]&&(jf[Ot.triggerName].value=gg)}return void En.destroy()}}const uu=!A||!this.driver.containsElement(A,es),xa=We.get(es),Hf=$.get(es),kr=this._buildInstruction(Ot,r,Hf,xa,uu);if(kr.errors&&kr.errors.length)return void ct.push(kr);if(uu)return En.onStart(()=>pg(es,kr.fromStyles)),En.onDestroy(()=>lu(es,kr.toStyles)),void i.push(En);if(Ot.isFallbackTransition)return En.onStart(()=>pg(es,kr.fromStyles)),En.onDestroy(()=>lu(es,kr.toStyles)),void i.push(En);const Q2=[];kr.timelines.forEach(go=>{go.stretchStartingKeyframe=!0,this.disabledNodes.has(go.element)||Q2.push(go)}),kr.timelines=Q2,r.append(es,kr.timelines),u.push({instruction:kr,player:En,element:es}),kr.queriedElements.forEach(go=>Aa(f,go,[]).push(En)),kr.preStyleProps.forEach((go,gg)=>{const jf=Object.keys(go);if(jf.length){let _g=_.get(gg);_g||_.set(gg,_g=new Set),jf.forEach(cO=>_g.add(cO))}}),kr.postStyleProps.forEach((go,gg)=>{const jf=Object.keys(go);let _g=D.get(gg);_g||D.set(gg,_g=new Set),jf.forEach(cO=>_g.add(cO))})});if(ct.length){const it=[];ct.forEach(mt=>{it.push(function KZ(n,e){return new s.vHH(3505,fn)}())}),yt.forEach(mt=>mt.destroy()),this.reportError(it)}const un=new Map,Pn=new Map;u.forEach(it=>{const mt=it.element;r.has(mt)&&(Pn.set(mt,mt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,un))}),i.forEach(it=>{const mt=it.element;this._getPreviousPlayers(mt,!1,it.namespaceId,it.triggerName,null).forEach(En=>{Aa(un,mt,[]).push(En),En.destroy()})});const On=_e.filter(it=>Y2(it,_,D)),tn=new Map;U2(tn,this.driver,Oe,D,Ld).forEach(it=>{Y2(it,_,D)&&On.push(it)});const mo=new Map;B.forEach((it,mt)=>{U2(mo,this.driver,new Set(it),_,"!")}),On.forEach(it=>{const mt=tn.get(it),Ot=mo.get(it);tn.set(it,Object.assign(Object.assign({},mt),Ot))});const cu=[],TD=[],ED={};u.forEach(it=>{const{element:mt,player:Ot,instruction:En}=it;if(r.has(mt)){if(S.has(mt))return Ot.onDestroy(()=>lu(mt,En.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(En.totalTime),void i.push(Ot);let es=ED;if(Pn.size>1){let xa=mt;const Hf=[];for(;xa=xa.parentNode;){const kr=Pn.get(xa);if(kr){es=kr;break}Hf.push(xa)}Hf.forEach(kr=>Pn.set(kr,es))}const uu=this._buildAnimation(Ot.namespaceId,En,un,l,mo,tn);if(Ot.setRealPlayer(uu),es===ED)cu.push(Ot);else{const xa=this.playersByElement.get(es);xa&&xa.length&&(Ot.parentPlayer=Bf(xa)),i.push(Ot)}}else pg(mt,En.fromStyles),Ot.onDestroy(()=>lu(mt,En.toStyles)),TD.push(Ot),S.has(mt)&&i.push(Ot)}),TD.forEach(it=>{const mt=l.get(it.element);if(mt&&mt.length){const Ot=Bf(mt);it.setRealPlayer(Ot)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<_e.length;it++){const mt=_e[it],Ot=mt[dl];if(Cv(mt,eS),Ot&&Ot.hasAnimation)continue;let En=[];if(f.size){let uu=f.get(mt);uu&&uu.length&&En.push(...uu);let xa=this.driver.query(mt,qx,!0);for(let Hf=0;Hf<xa.length;Hf++){let kr=f.get(xa[Hf]);kr&&kr.length&&En.push(...kr)}}const es=En.filter(uu=>!uu.destroyed);es.length?KG(this,mt,es):this.processLeaveNode(mt)}return _e.length=0,cu.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const mt=this.players.indexOf(it);this.players.splice(mt,1)}),it.play()}),cu}elementContainsData(e,t){let r=!1;const i=t[dl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==CD;f.forEach(D=>{D.queued||!_&&D.triggerName!=i||u.push(D)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const l=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const D=_.element,S=D!==l,A=Aa(r,D,[]);this._getPreviousPlayers(D,S,u,f,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),A.push(B)})}pg(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,u){const f=t.triggerName,_=t.element,D=[],S=new Set,A=new Set,R=t.timelines.map($=>{const ee=$.element;S.add(ee);const _e=ee[dl];if(_e&&_e.removedBeforeQueried)return new dD($.duration,$.delay);const Ve=ee!==_,Oe=function JG(n){const e=[];return j2(n,e),e}((r.get(ee)||YG).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===ee),We=l.get(ee),Ge=u.get(ee),yt=p2(0,this._normalizer,0,$.keyframes,We,Ge),ct=this._buildPlayer($,yt,Oe);if($.subTimeline&&i&&A.add(ee),Ve){const un=new aO(e,f,ee);un.setRealPlayer(ct),D.push(un)}return ct});D.forEach($=>{Aa(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function qG(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>hl($,T2));const B=Bf(R);return B.onDestroy(()=>{S.forEach($=>Cv($,T2)),lu(_,t.toStyles)}),A.forEach($=>{Aa(i,$,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dD(e.duration,e.delay)}}class aO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dD,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Ux(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Aa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mS(n){return n&&1===n.nodeType}function B2(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function U2(n,e,t,r,i){const l=[];t.forEach(_=>l.push(B2(_)));const u=[];r.forEach((_,D)=>{const S={};_.forEach(A=>{const R=S[A]=e.computeStyle(D,A,i);(!R||0==R.length)&&(D[dl]=$G,u.push(D))}),n.set(D,S)});let f=0;return t.forEach(_=>B2(_,l[f++])),u}function H2(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function u(f){if(!f)return 1;let _=l.get(f);if(_)return _;const D=f.parentNode;return _=t.has(D)?D:i.has(D)?1:u(D),l.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function hl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Cv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function KG(n,e,t){Bf(t).onDone(()=>n.processLeaveNode(e))}function j2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof HP?j2(r.players,e):e.push(r)}}function Y2(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class gS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new GG(e,t,r),this._timelineEngine=new VG(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],S=Jx(this._driver,l,_,[]);if(_.length)throw function BZ(n,e){return new s.vHH(3404,fn)}();f=function NG(n,e,t){return new RG(n,e,t)}(i,S,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,u]=m2(r);this._timelineEngine.command(l,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[u,f]=m2(r);return this._timelineEngine.listen(u,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eq=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&lu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lu(this._element,this._initialStyles),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pg(this._element,this._endStyles),this._endStyles=null),lu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lO(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];tq(i)&&(e=e||{},e[i]=n[i])}return e}function tq(n){return"display"===n||"position"===n}class $2{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:A2(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class nq{validateStyleProperty(e){return v2(e)}matchesElement(e,t){return!1}containsElement(e,t){return b2(e,t)}getParentElement(e){return $x(e)}query(e,t,r){return w2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(_.easing=l);const D={},S=u.filter(R=>R instanceof $2);(function oG(n,e){return 0===n||0===e})(r,i)&&S.forEach(R=>{let B=R.currentSnapshot;Object.keys(B).forEach($=>D[$]=B[$])}),t=function aG(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],u=[];if(r.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(_){f[_]=A2(n,_)})}}return e}(e,t=t.map(R=>Uf(R,!1)),D);const A=function XG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=lO(e[0]),e.length>1&&(r=lO(e[e.length-1]))):e&&(t=lO(e)),t||r?new eq(n,t,r):null}(e,t);return new $2(e,t,_,A)}}let rq=(()=>{class n extends $1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?VP(t):t;return Z2(this._renderer,null,r,"register",[i]),new iq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class iq extends class v6{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new sq(this._id,e,t||{},this._renderer)}}class sq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Z2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Z2(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const G2="@.disabled";let oq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new q2("",l,this.engine),this._rendererCache.set(l,S)),S}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(u,f,t,S.name,S)};return r.data.animation.forEach(_),new aq(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(gS),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class q2{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==G2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class aq extends q2{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==G2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function lq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function cq(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let uq=(()=>{class n extends gS{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(se),s.LFG(Zx),s.LFG(nO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const W2=new s.OlP("AnimationModuleType"),z2=[{provide:$1,useClass:rq},{provide:nO,useFactory:function dq(){return new AG}},{provide:gS,useClass:uq},{provide:s.FYo,useFactory:function hq(n,e,t){return new oq(n,e,t)},deps:[Nn,gS,s.R0b]}],K2=[{provide:Zx,useFactory:()=>new nq},{provide:W2,useValue:"BrowserAnimations"},...z2],fq=[{provide:Zx,useClass:D2},{provide:W2,useValue:"NoopAnimations"},...z2];let pq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fq:K2}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:K2,imports:[Va]}),n})(),J2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),mq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[J2,{provide:li,useExisting:J2}],imports:[[]]}),n})(),gq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[_Z]}),n.\u0275inj=s.cJS({providers:[],imports:[[Va,gZ,Ta.hO.initializeApp(h2_firebase),pq,Vn,FF,BF,mq]]}),n})();(0,s.G48)(),wu().bootstrapModule(gq).catch(n=>console.error(n))},5867:(st,Ce,L)=>{L.d(Ce,{Mq:()=>s.getApp,C6:()=>s.getApps});var s=L(9681);(0,s.registerVersion)("firebase","9.6.10","app")},127:(st,Ce,L)=>{L.d(Ce,{Z:()=>s.Z});var s=L(3942);s.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(st,Ce,L)=>{L.r(Ce);var s=L(5861),K=L(3942),N=L(2090),le=L(9681),X=L(655),pe=L(1877),se=L(4859);const Le=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new pe.Yd("@firebase/auth");function ze(y,...p){tt.logLevel<=pe.in.ERROR&&tt.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw je(y,...p)}function be(y,...p){return je(y,...p)}function we(y,p,g){const b=Object.assign(Object.assign({},Fe()),{[p]:g});return new N.LL("auth","Firebase",b).create(p,{appName:y.name})}function $e(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),we(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return fe.create(y,...p)}function te(y,p,...g){if(!y)throw je(p,...g)}function z(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ze(p),new Error(p)}function oe(y,p){y||z(p)}const ge=new Map;function ae(y){oe(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(oe(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function xt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function dn(){return"http:"===Jn()||"https:"===Jn()}function Jn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Dn{constructor(p,g){this.shortDelay=p,this.longDelay=g,oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,p){oe(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class ts{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vs=new Dn(3e4,6e4);function hn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Kt(y,p,g,b){return xr.apply(this,arguments)}function xr(){return(xr=(0,s.Z)(function*(y,p,g,b,M={}){return Ni(y,M,(0,s.Z)(function*(){let O={},G={};b&&("GET"===p?G=b:O={body:JSON.stringify(b)});const ce=(0,N.xO)(Object.assign({key:y.config.apiKey},G)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),ts.fetch()(ni(y,y.config.apiHost,g,ce),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ni(y,p,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},yn),p);try{const M=new Bs(y),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const G=yield O.json();if("needConfirmation"in G)throw Us(y,"account-exists-with-different-credential",G);if(O.ok&&!("errorMessage"in G))return G;{const ce=O.ok?G.errorMessage:G.error.message,[Ue,Xe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Us(y,"credential-already-in-use",G);if("EMAIL_EXISTS"===Ue)throw Us(y,"email-already-in-use",G);const St=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw we(y,St,Xe);Se(y,St)}}catch(M){if(M instanceof N.ZR)throw M;Se(y,"network-request-failed")}})).apply(this,arguments)}function ti(y,p,g,b){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(y,p,g,b,M={}){const O=yield Kt(y,p,g,b,M);return"mfaPendingCredential"in O&&Se(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ni(y,p,g,b){const M=`${p}${g}?${b}`;return y.config.emulator?Cn(y.config,M):`${y.config.apiScheme}://${M}`}class Bs{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),Vs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Us(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const M=be(y,p,b);return M.customData._tokenResponse=g,M}function yi(){return(yi=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Cr(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ri(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ln(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function fl(){return(fl=(0,s.Z)(function*(y,p=!1){const g=(0,N.m9)(y),b=yield g.getIdToken(p),M=ot(b);te(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,G=null==O?void 0:O.sign_in_provider;return{claims:M,token:b,authTime:Ln(Jt(M.auth_time)),issuedAtTime:Ln(Jt(M.iat)),expirationTime:Ln(Jt(M.exp)),signInProvider:G||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Jt(y){return 1e3*Number(y)}function ot(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,N.tV)(g);return M?JSON.parse(M):(ze("Failed to decode base64 JWT payload"),null)}catch(M){return ze("Caught error parsing JWT payload as JSON",M),null}}function Or(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&qt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function qt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class na{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class $r{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),M=yield Or(y,Ri(g,{idToken:b}));te(null==M?void 0:M.users.length,g,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const G=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Me(O.providerUserInfo):[],ce=Ke(y.providerData,G),St=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ce?void 0:ce.length)),at={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ce,metadata:new $r(O.createdAt,O.lastLoginAt),isAnonymous:St};Object.assign(y,at)})).apply(this,arguments)}function $t(){return($t=(0,s.Z)(function*(y){const p=(0,N.m9)(y);yield Lr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ke(y,p){return[...y.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function Me(y){return y.map(p=>{var{providerId:g}=p,b=(0,X._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,s.Z)(function*(y,p){const g=yield Ni(y,{},(0,s.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,G=ni(y,M,"/v1/token",`key=${O}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",ts.fetch()(G,{method:"POST",headers:ce,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(void 0!==p.idToken,"internal-error"),te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function It(y){const p=ot(y);return te(p,"internal-error"),te(void 0!==p.exp,"internal-error"),te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,s.Z)(function*(){return te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,s.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:G}=yield function Je(y,p){return ht.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(M,O,Number(G))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:M,expirationTime:O}=g,G=new Gt;return b&&(te("string"==typeof b,"internal-error",{appName:p}),G.refreshToken=b),M&&(te("string"==typeof M,"internal-error",{appName:p}),G.accessToken=M),O&&(te("number"==typeof O,"internal-error",{appName:p}),G.expirationTime=O),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Ht(y,p){te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:g,auth:b,stsTokenManager:M}=p,O=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new na(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new $r(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const b=yield Or(g,g.stsTokenManager.getToken(g.auth,p));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function yo(y){return fl.apply(this,arguments)}(this,p)}reload(){return function Zr(y){return $t.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,s.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield Lr(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield Or(p,function ut(y,p){return yi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,M,O,G,ce,Ue,Xe,St;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,zn=null!==(M=g.email)&&void 0!==M?M:void 0,Ss=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Wu=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Ac=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,kc=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,wp=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,Xv=null!==(St=g.lastLoginAt)&&void 0!==St?St:void 0,{uid:qa,emailVerified:wh,isAnonymous:Dh,providerData:Dp,stsTokenManager:Ch}=g;te(qa&&Ch,p,"internal-error");const Si=Gt.fromJSON(this.name,Ch);te("string"==typeof qa,p,"internal-error"),Ht(at,p.name),Ht(zn,p.name),te("boolean"==typeof wh,p,"internal-error"),te("boolean"==typeof Dh,p,"internal-error"),Ht(Ss,p.name),Ht(Wu,p.name),Ht(Ac,p.name),Ht(kc,p.name),Ht(wp,p.name),Ht(Xv,p.name);const Cp=new H({uid:qa,auth:p,email:zn,emailVerified:wh,displayName:at,isAnonymous:Dh,photoURL:Wu,phoneNumber:Ss,tenantId:Ac,stsTokenManager:Si,createdAt:wp,lastLoginAt:Xv});return Dp&&Array.isArray(Dp)&&(Cp.providerData=Dp.map($g=>Object.assign({},$g))),kc&&(Cp._redirectEventId=kc),Cp}static _fromIdTokenResponse(p,g,b=!1){return(0,s.Z)(function*(){const M=new Gt;M.updateFromServerResponse(g);const O=new H({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield Lr(O),O})()}}const Z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,b){var M=this;return(0,s.Z)(function*(){M.storage[g]=b})()}_get(g){var b=this;return(0,s.Z)(function*(){const M=b.storage[g];return void 0===M?null:M})()}_remove(g){var b=this;return(0,s.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function he(y,p,g){return`firebase:${y}:${p}:${g}`}class J{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:M,name:O}=this.auth;this.fullUserKey=he(this.userKey,M.apiKey,O),this.fullPersistenceKey=he("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?H._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,s.Z)(function*(){if(!g.length)return new J(ae(Z),p,b);const M=(yield Promise.all(g.map(function(){var Xe=(0,s.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=M[0]||ae(Z);const G=he(b,p.config.apiKey,p.name);let ce=null;for(const Xe of g)try{const St=yield Xe._get(G);if(St){const at=H._fromJSON(p,St);Xe!==O&&(ce=at),O=Xe;break}}catch(St){}const Ue=M.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&Ue.length?(O=Ue[0],ce&&(yield O._set(G,ce.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,s.Z)(function*(St){if(St!==O)try{yield St._remove(G)}catch(at){}});return function(St){return Xe.apply(this,arguments)}}())),new J(O,p,b)):new J(O,p,b)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Qt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ct(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ft(p))return"Blackberry";if(Sn(p))return"Webos";if(nn(p))return"Safari";if((p.includes("chrome/")||Gr(p))&&!p.includes("edge/"))return"Chrome";if(Zn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ct(y=(0,N.z$)()){return/firefox\//i.test(y)}function nn(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Gr(y=(0,N.z$)()){return/crios\//i.test(y)}function Qt(y=(0,N.z$)()){return/iemobile/i.test(y)}function Zn(y=(0,N.z$)()){return/android/i.test(y)}function Ft(y=(0,N.z$)()){return/blackberry/i.test(y)}function Sn(y=(0,N.z$)()){return/webos/i.test(y)}function Er(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function Hs(y=(0,N.z$)()){return Er(y)||Zn(y)||Sn(y)||Ft(y)||/windows phone/i.test(y)||Qt(y)}function ml(y,p=[]){let g;switch(y){case"Browser":g=Be((0,N.z$)());break;case"Worker":g=`${Be((0,N.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Pi{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bt(this),this.idTokenSubscription=new Bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var M,O;if(!b._deleted&&(b.persistenceManager=yield J.create(b,p),!b._deleted)){if(null===(M=b._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(G){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var b;let M=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,G=null==M?void 0:M._redirectEventId,ce=yield g.tryRedirectSignIn(p);(!O||O===G)&&(null==ce?void 0:ce.user)&&(M=ce.user)}return M?M._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)):g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(M){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){try{yield Lr(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Dt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){if(!g._deleted)return p&&te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,s.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,s.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var b,M;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return te(G,this,"internal-error"),G.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ml(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function Ne(y){return(0,N.m9)(y)}class Bt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function or(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class vn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(p){return z("not implemented")}_linkToIdToken(p,g){return z("not implemented")}_getReauthenticationResolver(p){return z("not implemented")}}function Qn(y,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:resetPassword",hn(y,p))})).apply(this,arguments)}function Rt(y,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ws(y,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",hn(y,p))})).apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPassword",hn(y,p))})).apply(this,arguments)}function js(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:sendOobCode",hn(y,p))})).apply(this,arguments)}function Wt(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function zl(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function vi(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function Pd(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",hn(y,p))})).apply(this,arguments)}function Fd(){return(Fd=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",hn(y,p))})).apply(this,arguments)}class Ql extends vn{constructor(p,g,b,M=null){super("password",b),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new Ql(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Ql(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function wo(y,p){return rn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Jl(y,p){return bi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return Rt(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Yf(y,p){return Fd.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ar(y,p){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithIdp",hn(y,p))})).apply(this,arguments)}class $s extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new $s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=g,O=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!M)return null;const G=new $s(b,M);return G.idToken=O.idToken||void 0,G.accessToken=O.accessToken||void 0,G.secret=O.secret,G.nonce=O.nonce,G.pendingToken=O.pendingToken||null,G}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ar(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ar(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function vg(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:sendVerificationCode",hn(y,p))})).apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",hn(y,p))})).apply(this,arguments)}function Bd(){return(Bd=(0,s.Z)(function*(y,p){const g=yield ti(y,"POST","/v1/accounts:signInWithPhoneNumber",hn(y,p));if(g.temporaryProof)throw Us(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const wg={USER_NOT_FOUND:"user-not-found"};function Hd(){return(Hd=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",hn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),wg)})).apply(this,arguments)}class La extends vn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new La({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new La({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function du(y,p){return Co.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function bg(y,p){return Bd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ud(y,p){return Hd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}=p;return b||g||M||O?new La({verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}):null}}class ia{constructor(p){var g,b,M,O,G,ce;const Ue=(0,N.zd)((0,N.pd)(p)),Xe=null!==(g=Ue.apiKey)&&void 0!==g?g:null,St=null!==(b=Ue.oobCode)&&void 0!==b?b:null,at=function Tv(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ue.mode)&&void 0!==M?M:null);te(Xe&&St&&at,"argument-error"),this.apiKey=Xe,this.operation=at,this.code=St,this.continueUrl=null!==(O=Ue.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(G=Ue.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ce=Ue.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function Xl(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||g||p||y}(p);try{return new ia(g)}catch(b){return null}}}let hu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Ql._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const M=ia.parseLink(b);return te(M,"argument-error"),Ql._fromEmailAndCode(g,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class To{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class wi extends To{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Na extends wi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return te("providerId"in g&&"signInMethod"in g,"argument-error"),$s._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Na.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Na.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:O,nonce:G,providerId:ce}=p;if(!b&&!M&&!g&&!O||!ce)return null;try{return new Na(ce)._credential({idToken:g,accessToken:b,nonce:G,pendingToken:O})}catch(Ue){return null}}}let sa=(()=>{class y extends wi{constructor(){super("facebook.com")}static credential(g){return $s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),_l=(()=>{class y extends wi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return $s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:M}=g;if(!b&&!M)return null;try{return y.credential(b,M)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),jd=(()=>{class y extends wi{constructor(){super("github.com")}static credential(g){return $s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Nt extends vn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ar(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ar(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:O}=g;return b&&M&&O&&b===M?new Nt(b,O):null}static _create(p,g){return new Nt(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fi extends To{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Fi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Fi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Nt.fromJSON(p);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Nt._create(b,g)}catch(M){return null}}}let ec=(()=>{class y extends wi{constructor(){super("twitter.com")}static credential(g,b){return $s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=g;if(!b||!M)return null;try{return y.credential(b,M)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function tc(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signUp",hn(y,p))})).apply(this,arguments)}class Rr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,M=!1){return(0,s.Z)(function*(){const O=yield H._fromIdTokenResponse(p,b,M),G=Zf(b);return new Rr({user:O,providerId:G,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=Zf(b);return new Rr({user:p,providerId:M,_tokenResponse:b,operationType:g})})()}}function Zf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yd(){return(Yd=(0,s.Z)(function*(y){var p;const g=Ne(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Rr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield tc(g,{returnSecureToken:!0}),M=yield Rr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class rc extends N.ZR{constructor(p,g,b,M){var O;super(g.code,g.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,M){return new rc(p,g,b,M)}}function ic(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?rc._fromErrorAndOperation(y,O,p,b):O})}function Zs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function fu(){return(fu=(0,s.Z)(function*(y,p){const g=(0,N.m9)(y);yield So(!0,g,p);const{providerUserInfo:b}=yield Cr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=Zs(b||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function kn(y,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(y,p,g=!1){const b=yield Or(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Rr._forOperation(y,"link",b)})).apply(this,arguments)}function So(y,p,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(y,p,g){yield Lr(p);const M=!1===y?"provider-already-linked":"no-such-provider";te(Zs(p.providerData).has(g)===y,p.auth,M)})).apply(this,arguments)}function $d(y,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(y,p,g=!1){const{auth:b}=y,M="reauthenticate";try{const O=yield Or(y,ic(b,M,p,y),g);te(O.idToken,b,"internal-error");const G=ot(O.idToken);te(G,b,"internal-error");const{sub:ce}=G;return te(y.uid===ce,b,"user-mismatch"),Rr._forOperation(y,M,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(b,"user-mismatch"),O}})).apply(this,arguments)}function aa(y,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(y,p,g=!1){const b="signIn",M=yield ic(y,b,p),O=yield Rr._fromIdTokenResponse(y,b,M);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Xn(y,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,s.Z)(function*(y,p){return aa(Ne(y),p)})).apply(this,arguments)}function ns(y,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(y,p){const g=(0,N.m9)(y);return yield So(!1,g,p.providerId),kn(g,p)})).apply(this,arguments)}function Mo(y,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(y,p){return $d((0,N.m9)(y),p)})).apply(this,arguments)}function sc(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithCustomToken",hn(y,p))})).apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(y,p){const g=Ne(y),b=yield sc(g,{token:p,returnSecureToken:!0}),M=yield Rr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class ft{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?oc._fromServerResponse(p,g):Se(p,"internal-error")}}class oc extends ft{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new oc(g)}}function bl(y,p,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function lc(){return(lc=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y),M={requestType:"PASSWORD_RESET",email:p};g&&bl(b,M,g),yield zl(b,M)})).apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(y,p,g){yield Qn((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Te(){return(Te=(0,s.Z)(function*(y,p){yield ws((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function jt(y,p){return gu.apply(this,arguments)}function gu(){return(gu=(0,s.Z)(function*(y,p){const g=(0,N.m9)(y),b=yield Qn(g,{oobCode:p}),M=b.requestType;switch(te(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=ft._fromServerResponse(Ne(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(y,p){const{data:g}=yield jt((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function Ci(){return(Ci=(0,s.Z)(function*(y,p,g){const b=Ne(y),M=yield tc(b,{returnSecureToken:!0,email:p,password:g}),O=yield Rr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Zd(){return(Zd=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};te(g.handleCodeInApp,b,"argument-error"),g&&bl(b,M,g),yield vi(b,M)})).apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y),M=hu.credentialWithLink(p,g||xt());return te(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Xn(b,M)})).apply(this,arguments)}function Pr(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:createAuthUri",hn(y,p))})).apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(y,p){const b={identifier:p,continueUri:dn()?xt():"http://localhost"},{signinMethods:M}=yield Pr((0,N.m9)(y),b);return M||[]})).apply(this,arguments)}function bu(){return(bu=(0,s.Z)(function*(y,p){const g=(0,N.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&bl(g.auth,M,p);const{email:O}=yield Wt(g.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function fc(){return(fc=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&bl(b.auth,O,g);const{email:G}=yield Pd(b.auth,O);G!==y.email&&(yield y.reload())})).apply(this,arguments)}function wu(y,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(y,p){return Kt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,N.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},G=yield Or(b,wu(b.auth,O));b.displayName=G.displayName||null,b.photoURL=G.photoUrl||null;const ce=b.providerData.find(({providerId:Ue})=>"password"===Ue);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(G)})).apply(this,arguments)}function Tu(y,p,g){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const G=yield Or(y,Rt(b,O));yield y._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class ca{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Wd extends ca{constructor(p,g,b,M){super(p,g,b),this.username=M}}class zd extends ca{constructor(p,g){super(p,"facebook.com",g)}}class ua extends Wd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Oo extends ca{constructor(p,g){super(p,"google.com",g)}}class Eu extends Wd{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Kr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function qd(y){var p,g;if(!y)return null;const{providerId:b}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const G=null===(g=null===(p=ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new ca(O,"anonymous"!==G&&"custom"!==G?G:null)}if(!b)return null;switch(b){case"facebook.com":return new zd(O,M);case"github.com":return new ua(O,M);case"google.com":return new Oo(O,M);case"twitter.com":return new Eu(O,M,y.screenName||null);case"custom":case"anonymous":return new ca(O,null);default:return new ca(O,b,M)}}(g)}class qs{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new qs("enroll",p)}static _fromMfaPendingCredential(p){return new qs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return qs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return qs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Dl{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Ne(p),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(ce=>ft._fromServerResponse(b,ce));te(M.mfaPendingCredential,b,"internal-error");const G=qs._fromMfaPendingCredential(M.mfaPendingCredential);return new Dl(G,O,function(){var ce=(0,s.Z)(function*(Ue){const Xe=yield Ue._process(b,G);delete M.mfaInfo,delete M.mfaPendingCredential;const St=Object.assign(Object.assign({},M),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const at=yield Rr._fromIdTokenResponse(b,g.operationType,St);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return te(g.user,b,"internal-error"),Rr._forOperation(g.user,g.operationType,St);default:Se(b,"internal-error")}});return function(Ue){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function lr(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:start",hn(y,p))}class Ws{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ft._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ws(p)}getSession(){var p=this;return(0,s.Z)(function*(){return qs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,s.Z)(function*(){const M=p,O=yield b.getSession(),G=yield Or(b.user,M._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(G),b.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield g.user.getIdToken(),O=yield Or(g.user,function Cg(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(y,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:G})=>G!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const Ba=new WeakMap,Iu="__sak";class da{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const tr=(()=>{class y extends da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xd(){const y=(0,N.z$)();return nn(y)||Er(y)}()&&function _r(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),O=this.localCache[b];M!==O&&g(b,O,M)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ce,Ue,Xe)=>{this.notifyListeners(ce,Xe)});const M=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(M);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!b)return}const O=()=>{const ce=this.storage.getItem(M);!b&&this.localCache[M]===ce||this.notifyListeners(M,ce)},G=this.storage.getItem(M);!function pl(){return(0,N.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var M=()=>super._set,O=this;return(0,s.Z)(function*(){yield M().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,M=this;return(0,s.Z)(function*(){const O=yield b().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,M=this;return(0,s.Z)(function*(){yield b().call(M,g),delete M.localCache[g]})()}}return y.type="LOCAL",y})(),Un=(()=>{class y extends da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Sr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const M=new y(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,s.Z)(function*(){const M=g,{eventId:O,eventType:G,data:ce}=M.data,Ue=b.handlersMap[G];if(!(null==Ue?void 0:Ue.size))return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:G});const Xe=Array.from(Ue).map(function(){var at=(0,s.Z)(function*(zn){return zn(M.origin,ce)});return function(zn){return at.apply(this,arguments)}}()),St=yield function cr(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Xe);M.ports[0].postMessage({status:"done",eventId:O,eventType:G,response:St})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ua(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class eh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var M=this;return(0,s.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let G,ce;return new Promise((Ue,Xe)=>{const St=Ua("",20);O.port1.start();const at=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);ce={messageChannel:O,onMessage(zn){const Ss=zn;if(Ss.data.eventId===St)switch(Ss.data.status){case"ack":clearTimeout(at),G=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Ue(Ss.data.response);break;default:clearTimeout(at),clearTimeout(G),Xe(new Error("invalid_response"))}}},M.handlers.add(ce),O.port1.addEventListener("message",ce.onMessage),M.target.postMessage({eventType:p,eventId:St,data:g},[O.port2])}).finally(()=>{ce&&M.removeMessageHandler(ce)})})()}}function In(){return window}function is(){return void 0!==In().WorkerGlobalScope&&"function"==typeof In().importScripts}function Bi(){return(Bi=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Au="firebaseLocalStorageDb",ha="firebaseLocalStorage",qn="fbase_key";class zs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fa(y,p){return y.transaction([ha],p?"readwrite":"readonly").objectStore(ha)}function No(){const y=indexedDB.open(Au,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ha,{keyPath:qn})}catch(M){g(M)}}),y.addEventListener("success",(0,s.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ha)?p(b):(b.close(),yield function Ui(){const y=indexedDB.deleteDatabase(Au);return new zs(y).toPromise()}(),p(yield No()))}))})}function Hi(y,p,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(y,p,g){const b=fa(y,!0).put({[qn]:p,value:g});return new zs(b).toPromise()})).apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(y,p){const g=fa(y,!1).get(p),b=yield new zs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Cs(y,p){const g=fa(y,!0).delete(p);return new zs(g).toPromise()}const ss=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield No()),g.db})()}_withRetries(g){var b=this;return(0,s.Z)(function*(){let M=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(M++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return is()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Sr._getInstance(function th(){return is()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var b,M;if(g.activeServiceWorker=yield function mc(){return Bi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new eh(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function vt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield No();return yield Hi(g,Iu,"1"),yield Cs(g,Iu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var M=this;return(0,s.Z)(function*(){return M._withPendingWrite((0,s.Z)(function*(){return yield M._withRetries(O=>Hi(O,g,b)),M.localCache[g]=b,M.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,s.Z)(function*(){const M=yield b._withRetries(O=>function xu(y,p){return Ro.apply(this,arguments)}(O,g));return b.localCache[g]=M,M})()}_remove(g){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(M=>Cs(M,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const b=yield g._withRetries(G=>{const ce=fa(G,!1).getAll();return new zs(ce).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:G,value:ce}of b)O.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(ce)&&(g.notifyListeners(G,ce),M.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!O.has(G)&&(g.notifyListeners(G,null),M.push(G));return M})()}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ha(y,p){return Kt(y,"POST","/v2/accounts/mfaSignIn:start",hn(y,p))}function os(){return(os=(0,s.Z)(function*(y){return(yield Kt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sn(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=M=>{const O=be("internal-error");O.customData=M,g(O)},b.type="text/javascript",b.charset="UTF-8",function rh(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Ks(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Vr=1e12;class xn{constructor(p){this.auth=p,this.counter=Vr,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Ts(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Vr;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Vr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var b;return null===(b=g._widgets.get(p||Vr))||void 0===b||b.execute(),""})()}}class Ts{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;te(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hn(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fo=Ks("rcb"),ih=new Dn(3e4,6e4);class Eg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!In().grecaptcha}load(p,g=""){return te(function Sg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(In().grecaptcha):new Promise((b,M)=>{const O=In().setTimeout(()=>{M(be(p,"network-request-failed"))},ih.get());In()[Fo]=()=>{In().clearTimeout(O),delete In()[Fo];const ce=In().grecaptcha;if(!ce)return void M(be(p,"internal-error"));const Ue=ce.render;ce.render=(Xe,St)=>{const at=Ue(Xe,St);return this.counter++,at},this.hostLanguage=g,b(ce)},sn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Fo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!In().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mg{load(p){return(0,s.Z)(function*(){return new xn(p)})()}clearedOneInstance(){}}const Vo="recaptcha",Ei={theme:"light",type:"image"};class Ig{constructor(p,g=Object.assign({},Ei),b){this.parameters=g,this.type=Vo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;te(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mg:new Eg,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const G=ce=>{!ce||(p.tokenChangeListeners.delete(G),O(ce))};p.tokenChangeListeners.add(G),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=In()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){te(dn()&&!is(),p.auth,"internal-error"),yield function Bo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Fr(y){return os.apply(this,arguments)}(p.auth);te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Js{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=La._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function jn(){return(jn=(0,s.Z)(function*(y,p,g){const b=Ne(y),M=yield Mr(b,p,(0,N.m9)(g));return new Js(M,O=>Xn(b,O))})).apply(this,arguments)}function pa(){return(pa=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y);yield So(!1,b,"phone");const M=yield Mr(b.auth,p,(0,N.m9)(g));return new Js(M,O=>ns(b,O))})).apply(this,arguments)}function Cl(){return(Cl=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y),M=yield Mr(b.auth,p,(0,N.m9)(g));return new Js(M,O=>Mo(b,O))})).apply(this,arguments)}function Mr(y,p,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(y,p,g){var b;const M=yield g.verify();try{let O;if(te("string"==typeof M,y,"argument-error"),te(g.type===Vo,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const G=O.session;if("phoneNumber"in O)return te("enroll"===G.type,y,"internal-error"),(yield lr(y,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{te("signin"===G.type,y,"internal-error");const ce=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return te(ce,y,"missing-multi-factor-info"),(yield Ha(y,{mfaPendingCredential:G.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield vg(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return G}}finally{g._reset()}})).apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(y,p){yield kn((0,N.m9)(y),p)})).apply(this,arguments)}let as=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ne(g)}verifyPhoneNumber(g,b){return Mr(this.auth,g,(0,N.m9)(b))}static credential(g,b){return La._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:M}=g;return b&&M?La._fromTokenResponse(b,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ma(y,p){return p?ae(p):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class oh extends vn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ar(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ar(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ar(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ag(y){return aa(y.auth,new oh(y),y.bypassAuthState)}function Wf(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),$d(g,new oh(y),y.bypassAuthState)}function Zt(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),kn(g,new oh(y),y.bypassAuthState)})).apply(this,arguments)}class nr{constructor(p,g,b,M,O=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:O,tenantId:G,error:ce,type:Ue}=p;if(ce)return void g.reject(ce);const Xe={auth:g.auth,requestUri:b,sessionId:M,tenantId:G||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Xe))}catch(St){g.reject(St)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ag;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return Wf;default:Se(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _c=new Dn(2e3,1e4);function Ho(){return(Ho=(0,s.Z)(function*(y,p,g){const b=Ne(y);$e(y,p,To);const M=ma(b,g);return new El(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,To);const M=ma(b.auth,g);return new El(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function Nu(){return(Nu=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,To);const M=ma(b.auth,g);return new El(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let El=(()=>{class y extends nr{constructor(g,b,M,O,G){super(g,b,O,G),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,s.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const b=Ua();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,M;this.pollId=(null===(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,_c.get())};g()}}return y.currentPopupAction=null,y})();const yc=new Map;class yr extends nr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let b=yc.get(g.auth._key());if(!b){try{const O=(yield function T(y,p){return E.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(M){b=()=>Promise.reject(M)}yc.set(g.auth._key(),b)}return g.bypassAuthState||yc.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function E(){return(E=(0,s.Z)(function*(y,p){const g=ke(p),b=re(y);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(g));return yield b._remove(g),M})).apply(this,arguments)}function x(y,p){return F.apply(this,arguments)}function F(){return(F=(0,s.Z)(function*(y,p){return re(y)._set(ke(p),"true")})).apply(this,arguments)}function re(y){return ae(y._redirectPersistence)}function ke(y){return he("pendingRedirect",y.config.apiKey,y.name)}function Mt(){return(Mt=(0,s.Z)(function*(y,p,g){const b=Ne(y);$e(y,p,To);const M=ma(b,g);return yield x(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,To);const M=ma(b.auth,g);yield x(M,b.auth);const O=yield Ru(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(y,p,g){const b=(0,N.m9)(y);$e(b.auth,p,To);const M=ma(b.auth,g);yield So(!1,b,p.providerId),yield x(M,b.auth);const O=yield Ru(b);return M._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(y,p){return yield Ne(y)._initializationPromise,Es(y,p,!1)})).apply(this,arguments)}function Es(y,p){return vc.apply(this,arguments)}function vc(){return(vc=(0,s.Z)(function*(y,p,g=!1){const b=Ne(y),M=ma(b,p),G=yield new yr(b,M,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield b._persistUserIfCurrent(G.user),yield b._setRedirectUser(null,p)),G})).apply(this,arguments)}function Ru(y){return jo.apply(this,arguments)}function jo(){return(jo=(0,s.Z)(function*(y){const p=Ua(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class wc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Pu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ch(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!ch(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dc(p))}saveEventToCache(p){this.cachedEventUids.add(Dc(p)),this.lastProcessedEventTime=Date.now()}}function Dc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ch({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Fu(y){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,s.Z)(function*(y,p={}){return Kt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const kg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mv=/^https?/;function no(){return(no=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Fu(y);for(const g of p)try{if(Vu(g))return}catch(b){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Vu(y){const p=xt(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const G=new URL(y);return""===G.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===b}if(!Mv.test(g))return!1;if(kg.test(y))return b===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Av=new Dn(3e4,6e4);function kv(){const y=In().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let uh=null;function xv(y){return uh=uh||function xg(y){return new Promise((p,g)=>{var b,M,O;function G(){kv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{kv(),g(be(y,"network-request-failed"))},timeout:Av.get()})}if(null===(M=null===(b=In().gapi)||void 0===b?void 0:b.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=In().gapi)||void 0===O?void 0:O.load)){const ce=Ks("iframefcb");return In()[ce]=()=>{gapi.load?G():g(be(y,"network-request-failed"))},sn(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ue=>g(Ue))}G()}}).catch(p=>{throw uh=null,p})}(y),uh}const zf=new Dn(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Il(y){const p=y.config;te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Cn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},M=dh.get(y.config.apiHost);M&&(b.eid=M);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,N.xO)(b).slice(1)}`}function Ya(){return Ya=(0,s.Z)(function*(y){const p=yield xv(y),g=In().gapi;return te(g,y,"internal-error"),p.open({where:document.body,url:Il(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},b=>new Promise(function(){var M=(0,s.Z)(function*(O,G){yield b.restyle({setHideOnLeave:!1});const ce=be(y,"network-request-failed"),Ue=In().setTimeout(()=>{G(ce)},zf.get());function Xe(){In().clearTimeout(Ue),O(b)}b.ping(Xe).then(Xe,()=>{G(ce)})});return function(O,G){return M.apply(this,arguments)}}()))}),Ya.apply(this,arguments)}const Lv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Xf(y,p,g,b,M,O){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const G={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:M};if(p instanceof To){p.setDefaultLanguage(y.languageCode),G.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(G.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,Xe]of Object.entries(O||{}))G[Ue]=Xe}if(p instanceof wi){const Ue=p.getScopes().filter(Xe=>""!==Xe);Ue.length>0&&(G.scopes=Ue.join(","))}y.tenantId&&(G.tid=y.tenantId);const ce=G;for(const Ue of Object.keys(ce))void 0===ce[Ue]&&delete ce[Ue];return`${function Rv({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ce).slice(1)}`}const Yo="webStorageSupport";class ep extends class Og{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ep(p)}_finalizeEnroll(p,g,b){return function Jd(y,p){return Kt(y,"POST","/v2/accounts/mfaEnrollment:finalize",hn(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function ji(y,p){return Kt(y,"POST","/v2/accounts/mfaSignIn:finalize",hn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pv=(()=>{class y{constructor(){}static assertion(g){return ep._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Fv="@firebase/auth",tp="0.19.11";class Lg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var M;p((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $o(){return window}function Ec(){return(Ec=(0,s.Z)(function*(y,p,g){var b;const{BuildInfo:M}=$o();oe(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Al(p.sessionId),G={};return Er()?G.ibi=M.packageName:Zn()?G.apn=M.packageName:Se(y,"operation-not-supported-in-this-environment"),M.displayName&&(G.appDisplayName=M.displayName),G.sessionId=O,Xf(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,G)})).apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(y){const{BuildInfo:p}=$o(),g={};Er()?g.iosBundleId=p.packageName:Zn()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Fu(y,g)})).apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(y,p,g){const{cordova:b}=$o();let M=()=>{};try{yield new Promise((O,G)=>{let ce=null;function Ue(){var at;O();const zn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof zn&&zn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Xe(){ce||(ce=window.setTimeout(()=>{G(be(y,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}p.addPassiveListener(Ue),document.addEventListener("resume",Xe,!1),Zn()&&document.addEventListener("visibilitychange",St,!1),M=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",St,!1),ce&&window.clearTimeout(ce)}})}finally{M()}})).apply(this,arguments)}function Al(y){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,s.Z)(function*(y){const p=Sc(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sc(y){if(oe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function Bv(y){(0,le._registerComponent)(new se.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:O,authDomain:G}=b.options;return((ce,Ue)=>{te(O&&!O.includes(":"),"invalid-api-key",{appName:ce.name}),te(!(null==G?void 0:G.includes(":")),"argument-error",{appName:ce.name});const Xe={apiKey:O,authDomain:G,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ml(y)},St=new Pi(ce,Ue,Xe);return function ue(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(St,g),St})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new se.wA("auth-internal",p=>{const g=Ne(p.getProvider("auth").getImmediate());return new Lg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Fv,tp,function Vv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Fv,tp,"esm2017")}("Browser");class sp extends wc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Hu(y){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(y){const p=yield Mc()._get(ap(y));return p&&(yield Mc()._remove(ap(y))),p})).apply(this,arguments)}function ju(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Mc(){return ae(tr)}function ap(y){return he("authEvent",y.config.apiKey,y.name)}function yh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function dp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function vh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Fg(y=(0,N.z$)()){return!("file:"!==vh()&&"ionic:"!==vh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){try{const y=self.localStorage,p=Ua();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Ga(y=(0,N.z$)()){return function $v(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Zv(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return va()&&(0,N.hl)()}return!1}function va(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zu(){return(function Yv(){return"http:"===vh()||"https:"===vh()}()||(0,N.ru)()||Fg())&&!function bh(){return(0,N.b$)()||(0,N.UG)()}()&&Jr()&&!va()}function hp(){return Fg()&&"undefined"!=typeof document}function kl(){return(kl=(0,s.Z)(function*(){return!!hp()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const us={LOCAL:"local",NONE:"none",SESSION:"session"},xl=te,pp="persistence";function Ol(y){return mp.apply(this,arguments)}function mp(){return(mp=(0,s.Z)(function*(y){yield y._initializationPromise;const p=Gu(),g=he(pp,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Gu(){var y;try{return(null===(y=function fp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Gv=te;class Yi{constructor(){this.browserResolver=ae(class $a{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Un,this._completeRedirectFn=Es}_openPopup(p,g,b,M){var O=this;return(0,s.Z)(function*(){var G;oe(null===(G=O.eventManagers[p._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ce=Xf(p,g,b,xt(),M);return function mh(y,p,g,b=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),G=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ue=Object.assign(Object.assign({},Lv),{width:b.toString(),height:M.toString(),top:O,left:G}),Xe=(0,N.z$)().toLowerCase();g&&(ce=Gr(Xe)?"_blank":g),Ct(Xe)&&(p=p||"http://localhost",Ue.scrollbars="yes");const St=Object.entries(Ue).reduce((zn,[Ss,Wu])=>`${zn}${Ss}=${Wu},`,"");if(function Wl(y=(0,N.z$)()){var p;return Er(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Xe)&&"_self"!==ce)return function Qf(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ce),new ph(null);const at=window.open(p||"",ce,St);te(at,y,"popup-blocked");try{at.focus()}catch(zn){}return new ph(at)}(p,ce,Ua())})()}_openRedirect(p,g,b,M){var O=this;return(0,s.Z)(function*(){return yield O._originValidation(p),function qf(y){In().location.href=y}(Xf(p,g,b,xt(),M)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(oe(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const b=yield function Ov(y){return Ya.apply(this,arguments)}(p),M=new wc(p);return b.register("authEvent",O=>(te(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Yo,{type:Yo},M=>{var O;const G=null===(O=null==M?void 0:M[0])||void 0===O?void 0:O[Yo];void 0!==G&&g(!!G),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Iv(y){return no.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Hs()||nn()||Er()}}),this.cordovaResolver=ae(class up{constructor(){this._redirectPersistence=Un,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Es}_initialize(p){var g=this;return(0,s.Z)(function*(){const b=p._key();let M=g.eventManagers.get(b);return M||(M=new sp(p),g.eventManagers.set(b,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,M){var O=this;return(0,s.Z)(function*(){!function _h(y){var p,g,b,M,O,G,ce,Ue,Xe,St;const at=$o();te("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(O=null===(M=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(ce=null===(G=null==at?void 0:at.cordova)||void 0===G?void 0:G.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(St=null===(Xe=null==at?void 0:at.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===St?void 0:St.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const G=yield O._initialize(p);yield G.initialized(),G.resetRedirect(),function W(){yc.clear()}(),yield O._originValidation(p);const ce=function op(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ju(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,b,M);yield function ID(y,p){return Mc()._set(ap(y),p)}(p,ce);const Ue=yield function np(y,p,g){return Ec.apply(this,arguments)}(p,ce,g),Xe=yield function Uu(y){const{cordova:p}=$o();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let M=null;b?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function ra(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(M)})})}(Ue);return function Ng(y,p,g){return gh.apply(this,arguments)}(p,G,Xe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rp(y){return cs.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:M,BuildInfo:O}=$o(),G=setTimeout((0,s.Z)(function*(){yield Hu(p),g.onEvent(dp())}),500),ce=function(){var St=(0,s.Z)(function*(at){clearTimeout(G);const zn=yield Hu(p);let Ss=null;zn&&(null==at?void 0:at.url)&&(Ss=function Hv(y,p){var g,b;const M=function Yu(y){const p=yh(y),g=p.link?decodeURIComponent(p.link):void 0,b=yh(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return yh(M).link||M||b||g||y}(p);if(M.includes("/__/auth/callback")){const O=yh(M),G=O.firebaseError?function lp(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ce=null===(b=null===(g=null==G?void 0:G.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=ce?be(ce):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(zn,at.url)),g.onEvent(Ss||dp())});return function(zn){return St.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ue=M,Xe=`${O.packageName.toLowerCase()}://`;$o().handleOpenURL=function(){var St=(0,s.Z)(function*(at){if(at.toLowerCase().startsWith(Xe)&&ce({url:at}),"function"==typeof Ue)try{Ue(at)}catch(zn){console.error(zn)}});return function(at){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Un,this._completeRedirectFn=Es}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,M){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,M)})()}_openRedirect(p,g,b,M){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return hp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function oi(){return kl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Ug(y){return y.unwrap()}function Ll(y){return Hg(y)}function Hg(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return as.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=_l;break;case"facebook.com":b=sa;break;case"github.com":b=jd;break;case"twitter.com":b=ec;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:G,pendingToken:ce,nonce:Ue}=p;return O||G||M||ce?ce?g.startsWith("saml.")?Nt._create(g,ce):$s._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:M,accessToken:O}):new Na(g).credential({idToken:M,accessToken:O,rawNonce:Ue}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Qr(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function Wv(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new zv(y,function pc(y,p){var g;const b=(0,N.m9)(y),M=p;return te(p.customData.operationType,b,"argument-error"),te(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Dl._fromError(b,M)}(y,p));else if(b){const M=Hg(p),O=p;M&&(O.credential=M,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:Ll(g),additionalUserInfo:Kr(g),user:ba.getOrCreate(M)}})}function gp(y,p){return _p.apply(this,arguments)}function _p(){return(_p=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Qr(y,g.confirm(b))}})).apply(this,arguments)}class zv{constructor(p,g){this.resolver=g,this.auth=function qv(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Qr(Ug(this.auth),this.resolver.resolveSignIn(p))}}class ba{constructor(p){this._delegate=p,this.multiFactor=function Qd(y){const p=(0,N.m9)(y);return Ba.has(p)||Ba.set(p,Ws._fromUser(p)),Ba.get(p)}(p)}static getOrCreate(p){return ba.USER_MAP.has(p)||ba.USER_MAP.set(p,new ba(p)),ba.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return Qr(g.auth,ns(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,s.Z)(function*(){return gp(b.auth,function Lu(y,p,g){return pa.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return Qr(g.auth,function to(y,p,g){return Nu.apply(this,arguments)}(g._delegate,p,Yi))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Ol(Ne(g.auth)),function Yt(y,p,g){return function Sl(y,p,g){return ls.apply(this,arguments)}(y,p,g)}(g._delegate,p,Yi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return Qr(g.auth,Mo(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return gp(this.auth,function sh(y,p,g){return Cl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Qr(this.auth,function ah(y,p,g){return eo.apply(this,arguments)}(this._delegate,p,Yi))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Ol(Ne(g.auth)),function Ut(y,p,g){return function Tt(y,p,g){return Et.apply(this,arguments)}(y,p,g)}(g._delegate,p,Yi)})()}sendEmailVerification(p){return function rs(y,p){return bu.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function yl(y,p){return fu.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Cu(y,p){return Tu((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Gd(y,p){return Tu((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Tl(y,p){return Qs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Va(y,p){return Du.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function hc(y,p,g){return fc.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const qu=te;let yp=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;qu(M,"invalid-api-key",{appName:g.name}),qu(M,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Yi:void 0;this._delegate=b.initialize({options:{persistence:Kv(M,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Mn(y,p,g){const b=Ne(y);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!(null==g?void 0:g.disableWarnings),O=Nr(p),{host:G,port:ce}=function vo(y){const p=Nr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const O=M[1];return{host:O,port:or(b.substr(O.length+1))}}{const[O,G]=b.split(":");return{host:O,port:or(G)}}}(p);b.config.emulator={url:`${O}//${G}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:G,port:ce,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function bs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function mu(y,p){return Te.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return jt(this._delegate,g)}confirmPasswordReset(g,b){return function cc(y,p,g){return pu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var M=this;return(0,s.Z)(function*(){return Qr(M._delegate,function Fa(y,p,g){return Ci.apply(this,arguments)}(M._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function dc(y,p){return xo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function vu(y,p){const g=ia.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){qu(Zu(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function ga(y,p){return si.apply(this,arguments)}(g._delegate,Yi);return b?Qr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Pg(y,p){Ne(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,M){const{next:O,error:G,complete:ce}=vp(g,b,M);return this._delegate.onAuthStateChanged(O,G,ce)}onIdTokenChanged(g,b,M){const{next:O,error:G,complete:ce}=vp(g,b,M);return this._delegate.onIdTokenChanged(O,G,ce)}sendSignInLinkToEmail(g,b){return function yu(y,p,g){return Zd.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function ac(y,p,g){return lc.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,s.Z)(function*(){let M;switch(function Vg(y,p){xl(Object.values(us).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?xl(p!==us.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?xl(p===us.NONE,y,"unsupported-persistence-type"):va()?xl(p===us.NONE||p===us.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):xl(p===us.NONE||Jr(),y,"unsupported-persistence-type")}(b._delegate,g),g){case us.SESSION:M=Un;break;case us.LOCAL:M=(yield ae(ss)._isAvailable())?ss:tr;break;case us.NONE:M=Z;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Qr(this._delegate,function nc(y){return Yd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Qr(this._delegate,Xn(this._delegate,g))}signInWithCustomToken(g){return Qr(this._delegate,function Io(y,p){return Ao.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Qr(this._delegate,function _u(y,p,g){return Xn((0,N.m9)(y),hu.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Qr(this._delegate,function uc(y,p,g){return ko.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return gp(this._delegate,function gc(y,p,g){return jn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,s.Z)(function*(){return qu(Zu(),b._delegate,"operation-not-supported-in-this-environment"),Qr(b._delegate,function Uo(y,p,g){return Ho.apply(this,arguments)}(b._delegate,g,Yi))})()}signInWithRedirect(g){var b=this;return(0,s.Z)(function*(){return qu(Zu(),b._delegate,"operation-not-supported-in-this-environment"),yield Ol(b._delegate),function Qe(y,p,g){return function At(y,p,g){return Mt.apply(this,arguments)}(y,p,g)}(b._delegate,g,Yi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Nn(y,p){return Pa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=us,y})();function vp(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const M=b;return{next:G=>M(G&&ba.getOrCreate(G)),error:p,complete:g}}function Kv(y,p){const g=function Bg(y,p){const g=Gu();if(!g)return[];const b=he(pp,y,p);switch(g.getItem(b)){case us.NONE:return[Z];case us.LOCAL:return[ss,Un];case us.SESSION:return[Un];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(ss)&&g.push(ss),"undefined"!=typeof window)for(const b of[tr,Un])g.includes(b)||g.push(b);return g.includes(Z)||g.push(Z),g}class bp{constructor(){this.providerId="phone",this._delegate=new as(Ug(K.Z.auth()))}static credential(p,g){return as.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}bp.PHONE_SIGN_IN_METHOD=as.PHONE_SIGN_IN_METHOD,bp.PROVIDER_ID=as.PROVIDER_ID;const Jv=te;class Qv{constructor(p,g,b=K.Z.app()){var M;Jv(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ig(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yg(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new yp(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hu,FacebookAuthProvider:sa,GithubAuthProvider:jd,GoogleAuthProvider:_l,OAuthProvider:Na,SAMLAuthProvider:Fi,PhoneAuthProvider:bp,PhoneMultiFactorGenerator:Pv,RecaptchaVerifier:Qv,TwitterAuthProvider:ec,Auth:yp,AuthCredential:vn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(st,Ce,L)=>{L.d(Ce,{y:()=>j});var s=L(930),K=L(727),N=L(8822),le=L(4671);var se=L(2416),ie=L(576),ne=L(2806);let j=(()=>{class Ie{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const fe=new Ie;return fe.source=this,fe.operator=Fe,fe}subscribe(Fe,fe,De){const tt=function qe(Ie){return Ie&&Ie instanceof s.Lv||function Q(Ie){return Ie&&(0,ie.m)(Ie.next)&&(0,ie.m)(Ie.error)&&(0,ie.m)(Ie.complete)}(Ie)&&(0,K.Nn)(Ie)}(Fe)?Fe:new s.Hp(Fe,fe,De);return(0,ne.x)(()=>{const{operator:ze,source:Se}=this;tt.add(ze?ze.call(tt,Se):Se?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(fe){Fe.error(fe)}}forEach(Fe,fe){return new(fe=Y(fe))((De,tt)=>{const ze=new s.Hp({next:Se=>{try{Fe(Se)}catch(be){tt(be),ze.unsubscribe()}},error:tt,complete:De});this.subscribe(ze)})}_subscribe(Fe){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return function pe(Ie){return 0===Ie.length?le.y:1===Ie.length?Ie[0]:function(Fe){return Ie.reduce((fe,De)=>De(fe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=Y(Fe))((fe,De)=>{let tt;this.subscribe(ze=>tt=ze,ze=>De(ze),()=>fe(tt))})}}return Ie.create=Le=>new Ie(Le),Ie})();function Y(Ie){var Le;return null!==(Le=null!=Ie?Ie:se.v.Promise)&&void 0!==Le?Le:Promise}},7579:(st,Ce,L)=>{L.d(Ce,{x:()=>se});var s=L(8306),K=L(727);const le=(0,L(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=L(8737),pe=L(2806);let se=(()=>{class ne extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Q=new ie(this,this);return Q.operator=Y,Q}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(Y)}})}error(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Q}=this;for(;Q.length;)Q.shift().error(Y)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Q,isStopped:qe,observers:Ie}=this;return Q||qe?K.Lc:(this.currentObservers=null,Ie.push(Y),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Ie,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Q,thrownError:qe,isStopped:Ie}=this;Q?Y.error(qe):Ie&&Y.complete()}asObservable(){const Y=new s.y;return Y.source=this,Y}}return ne.create=(j,Y)=>new ie(j,Y),ne})();class ie extends se{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Q||Q.call(Y,j)}error(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Q||Q.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,Q;return null!==(Q=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==Q?Q:K.Lc}}},930:(st,Ce,L)=>{L.d(Ce,{Hp:()=>Fe,Lv:()=>Q});var s=L(576),K=L(727),N=L(2416),le=L(7849),X=L(5032);const pe=ne("C",void 0,void 0);function ne(Se,be,we){return{kind:Se,value:be,error:we}}var j=L(3410),Y=L(2806);class Q extends K.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,K.Nn)(be)&&be.add(this)):this.destination=ze}static create(be,we,$e){return new Fe(be,we,$e)}next(be){this.isStopped?tt(function ie(Se){return ne("N",Se,void 0)}(be),this):this._next(be)}error(be){this.isStopped?tt(function se(Se){return ne("E",void 0,Se)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?tt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Ie(Se,be){return qe.call(Se,be)}class Le{constructor(be){this.partialObserver=be}next(be){const{partialObserver:we}=this;if(we.next)try{we.next(be)}catch($e){fe($e)}}error(be){const{partialObserver:we}=this;if(we.error)try{we.error(be)}catch($e){fe($e)}else fe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(we){fe(we)}}}class Fe extends Q{constructor(be,we,$e){let je;if(super(),(0,s.m)(be)||!be)je={next:null!=be?be:void 0,error:null!=we?we:void 0,complete:null!=$e?$e:void 0};else{let te;this&&N.v.useDeprecatedNextContext?(te=Object.create(be),te.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&Ie(be.next,te),error:be.error&&Ie(be.error,te),complete:be.complete&&Ie(be.complete,te)}):je=be}this.destination=new Le(je)}}function fe(Se){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Se):(0,le.h)(Se)}function tt(Se,be){const{onStoppedNotification:we}=N.v;we&&j.z.setTimeout(()=>we(Se,be))}const ze={closed:!0,next:X.Z,error:function De(Se){throw Se},complete:X.Z}},727:(st,Ce,L)=>{L.d(Ce,{Lc:()=>pe,w0:()=>X,Nn:()=>se});var s=L(576);const N=(0,L(3888).d)(ne=>function(Y){ne(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Q,qe)=>`${qe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=L(8737);class X{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ie of Y)Ie.remove(this);else Y.remove(this);const{initialTeardown:Q}=this;if((0,s.m)(Q))try{Q()}catch(Ie){j=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Ie of qe)try{ie(Ie)}catch(Le){j=null!=j?j:[],Le instanceof N?j=[...j,...Le.errors]:j.push(Le)}}if(j)throw new N(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)ie(j);else{if(j instanceof X){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,le.P)(Y,j),j instanceof X&&j._removeParent(this)}}X.EMPTY=(()=>{const ne=new X;return ne.closed=!0,ne})();const pe=X.EMPTY;function se(ne){return ne instanceof X||ne&&"closed"in ne&&(0,s.m)(ne.remove)&&(0,s.m)(ne.add)&&(0,s.m)(ne.unsubscribe)}function ie(ne){(0,s.m)(ne)?ne():ne.unsubscribe()}},2416:(st,Ce,L)=>{L.d(Ce,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,L)=>{L.d(Ce,{E:()=>K});const K=new(L(8306).y)(X=>X.complete())},8996:(st,Ce,L)=>{L.d(Ce,{D:()=>be});var s=L(8421),K=L(5363),N=L(9468),pe=L(8306),ie=L(2202),ne=L(576),j=L(9672);function Q(we,$e){if(!we)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,j.f)(je,$e,()=>{const te=we[Symbol.asyncIterator]();(0,j.f)(je,$e,()=>{te.next().then(z=>{z.done?je.complete():je.next(z.value)})},0,!0)})})}var qe=L(3670),Ie=L(8239),Le=L(1144),Fe=L(6495),fe=L(2206),De=L(4532),tt=L(3260);function be(we,$e){return $e?function Se(we,$e){if(null!=we){if((0,qe.c)(we))return function le(we,$e){return(0,s.Xf)(we).pipe((0,N.R)($e),(0,K.Q)($e))}(we,$e);if((0,Le.z)(we))return function se(we,$e){return new pe.y(je=>{let te=0;return $e.schedule(function(){te===we.length?je.complete():(je.next(we[te++]),je.closed||this.schedule())})})}(we,$e);if((0,Ie.t)(we))return function X(we,$e){return(0,s.Xf)(we).pipe((0,N.R)($e),(0,K.Q)($e))}(we,$e);if((0,fe.D)(we))return Q(we,$e);if((0,Fe.T)(we))return function Y(we,$e){return new pe.y(je=>{let te;return(0,j.f)(je,$e,()=>{te=we[ie.h](),(0,j.f)(je,$e,()=>{let z,oe;try{({value:z,done:oe}=te.next())}catch(ge){return void je.error(ge)}oe?je.complete():je.next(z)},0,!0)}),()=>(0,ne.m)(null==te?void 0:te.return)&&te.return()})}(we,$e);if((0,tt.L)(we))return function ze(we,$e){return Q((0,tt.Q)(we),$e)}(we,$e)}throw(0,De.z)(we)}(we,$e):(0,s.Xf)(we)}},8421:(st,Ce,L)=>{L.d(Ce,{Xf:()=>qe});var s=L(655),K=L(1144),N=L(8239),le=L(8306),X=L(3670),pe=L(2206),se=L(4532),ie=L(6495),ne=L(3260),j=L(576),Y=L(7849),Q=L(8822);function qe(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,X.c)(Se))return function Ie(Se){return new le.y(be=>{const we=Se[Q.L]();if((0,j.m)(we.subscribe))return we.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,K.z)(Se))return function Le(Se){return new le.y(be=>{for(let we=0;we<Se.length&&!be.closed;we++)be.next(Se[we]);be.complete()})}(Se);if((0,N.t)(Se))return function Fe(Se){return new le.y(be=>{Se.then(we=>{be.closed||(be.next(we),be.complete())},we=>be.error(we)).then(null,Y.h)})}(Se);if((0,pe.D)(Se))return De(Se);if((0,ie.T)(Se))return function fe(Se){return new le.y(be=>{for(const we of Se)if(be.next(we),be.closed)return;be.complete()})}(Se);if((0,ne.L)(Se))return function tt(Se){return De((0,ne.Q)(Se))}(Se)}throw(0,se.z)(Se)}function De(Se){return new le.y(be=>{(function ze(Se,be){var we,$e,je,te;return(0,s.mG)(this,void 0,void 0,function*(){try{for(we=(0,s.KL)(Se);!($e=yield we.next()).done;)if(be.next($e.value),be.closed)return}catch(z){je={error:z}}finally{try{$e&&!$e.done&&(te=we.return)&&(yield te.call(we))}finally{if(je)throw je.error}}be.complete()})})(Se,be).catch(we=>be.error(we))})}},6451:(st,Ce,L)=>{L.d(Ce,{T:()=>pe});var s=L(8189),K=L(8421),N=L(515),le=L(3269),X=L(8996);function pe(...se){const ie=(0,le.yG)(se),ne=(0,le._6)(se,1/0),j=se;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,s.J)(ne)((0,X.D)(j,ie)):N.E}},5403:(st,Ce,L)=>{L.d(Ce,{x:()=>K});var s=L(930);function K(le,X,pe,se,ie){return new N(le,X,pe,se,ie)}class N extends s.Lv{constructor(X,pe,se,ie,ne,j){super(X),this.onFinalize=ne,this.shouldUnsubscribe=j,this._next=pe?function(Y){try{pe(Y)}catch(Q){X.error(Q)}}:super._next,this._error=ie?function(Y){try{ie(Y)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(Y){X.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(st,Ce,L)=>{L.d(Ce,{U:()=>N});var s=L(4482),K=L(5403);function N(le,X){return(0,s.e)((pe,se)=>{let ie=0;pe.subscribe((0,K.x)(se,ne=>{se.next(le.call(X,ne,ie++))}))})}},8189:(st,Ce,L)=>{L.d(Ce,{J:()=>N});var s=L(5577),K=L(4671);function N(le=1/0){return(0,s.z)(K.y,le)}},5577:(st,Ce,L)=>{L.d(Ce,{z:()=>ie});var s=L(4004),K=L(8421),N=L(4482),le=L(9672),X=L(5403),se=L(576);function ie(ne,j,Y=1/0){return(0,se.m)(j)?ie((Q,qe)=>(0,s.U)((Ie,Le)=>j(Q,Ie,qe,Le))((0,K.Xf)(ne(Q,qe))),Y):("number"==typeof j&&(Y=j),(0,N.e)((Q,qe)=>function pe(ne,j,Y,Q,qe,Ie,Le,Fe){const fe=[];let De=0,tt=0,ze=!1;const Se=()=>{ze&&!fe.length&&!De&&j.complete()},be=$e=>De<Q?we($e):fe.push($e),we=$e=>{Ie&&j.next($e),De++;let je=!1;(0,K.Xf)(Y($e,tt++)).subscribe((0,X.x)(j,te=>{null==qe||qe(te),Ie?be(te):j.next(te)},()=>{je=!0},void 0,()=>{if(je)try{for(De--;fe.length&&De<Q;){const te=fe.shift();Le?(0,le.f)(j,Le,()=>we(te)):we(te)}Se()}catch(te){j.error(te)}}))};return ne.subscribe((0,X.x)(j,be,()=>{ze=!0,Se()})),()=>{null==Fe||Fe()}}(Q,qe,ne,Y)))}},5363:(st,Ce,L)=>{L.d(Ce,{Q:()=>le});var s=L(9672),K=L(4482),N=L(5403);function le(X,pe=0){return(0,K.e)((se,ie)=>{se.subscribe((0,N.x)(ie,ne=>(0,s.f)(ie,X,()=>ie.next(ne),pe),()=>(0,s.f)(ie,X,()=>ie.complete(),pe),ne=>(0,s.f)(ie,X,()=>ie.error(ne),pe)))})}},3099:(st,Ce,L)=>{L.d(Ce,{B:()=>pe});var s=L(8996),K=L(5698),N=L(7579),le=L(930),X=L(4482);function pe(ie={}){const{connector:ne=(()=>new N.x),resetOnError:j=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Q=!0}=ie;return qe=>{let Ie=null,Le=null,Fe=null,fe=0,De=!1,tt=!1;const ze=()=>{null==Le||Le.unsubscribe(),Le=null},Se=()=>{ze(),Ie=Fe=null,De=tt=!1},be=()=>{const we=Ie;Se(),null==we||we.unsubscribe()};return(0,X.e)((we,$e)=>{fe++,!tt&&!De&&ze();const je=Fe=null!=Fe?Fe:ne();$e.add(()=>{fe--,0===fe&&!tt&&!De&&(Le=se(be,Q))}),je.subscribe($e),Ie||(Ie=new le.Hp({next:te=>je.next(te),error:te=>{tt=!0,ze(),Le=se(Se,j,te),je.error(te)},complete:()=>{De=!0,ze(),Le=se(Se,Y),je.complete()}}),(0,s.D)(we).subscribe(Ie))})(qe)}}function se(ie,ne,...j){return!0===ne?(ie(),null):!1===ne?null:ne(...j).pipe((0,K.q)(1)).subscribe(()=>ie())}},9468:(st,Ce,L)=>{L.d(Ce,{R:()=>K});var s=L(4482);function K(N,le=0){return(0,s.e)((X,pe)=>{pe.add(N.schedule(()=>X.subscribe(pe),le))})}},5698:(st,Ce,L)=>{L.d(Ce,{q:()=>le});var s=L(515),K=L(4482),N=L(5403);function le(X){return X<=0?()=>s.E:(0,K.e)((pe,se)=>{let ie=0;pe.subscribe((0,N.x)(se,ne=>{++ie<=X&&(se.next(ne),X<=ie&&se.complete())}))})}},8505:(st,Ce,L)=>{L.d(Ce,{b:()=>X});var s=L(576),K=L(4482),N=L(5403),le=L(4671);function X(pe,se,ie){const ne=(0,s.m)(pe)||se||ie?{next:pe,error:se,complete:ie}:pe;return ne?(0,K.e)((j,Y)=>{var Q;null===(Q=ne.subscribe)||void 0===Q||Q.call(ne);let qe=!0;j.subscribe((0,N.x)(Y,Ie=>{var Le;null===(Le=ne.next)||void 0===Le||Le.call(ne,Ie),Y.next(Ie)},()=>{var Ie;qe=!1,null===(Ie=ne.complete)||void 0===Ie||Ie.call(ne),Y.complete()},Ie=>{var Le;qe=!1,null===(Le=ne.error)||void 0===Le||Le.call(ne,Ie),Y.error(Ie)},()=>{var Ie,Le;qe&&(null===(Ie=ne.unsubscribe)||void 0===Ie||Ie.call(ne)),null===(Le=ne.finalize)||void 0===Le||Le.call(ne)}))}):le.y}},4408:(st,Ce,L)=>{L.d(Ce,{o:()=>X});var s=L(727);class K extends s.w0{constructor(se,ie){super()}schedule(se,ie=0){return this}}const N={setInterval(pe,se,...ie){const{delegate:ne}=N;return(null==ne?void 0:ne.setInterval)?ne.setInterval(pe,se,...ie):setInterval(pe,se,...ie)},clearInterval(pe){const{delegate:se}=N;return((null==se?void 0:se.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=L(8737);class X extends K{constructor(se,ie){super(se,ie),this.scheduler=se,this.work=ie,this.pending=!1}schedule(se,ie=0){if(this.closed)return this;this.state=se;const ne=this.id,j=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(j,ne,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(j,this.id,ie),this}requestAsyncId(se,ie,ne=0){return N.setInterval(se.flush.bind(se,this),ne)}recycleAsyncId(se,ie,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return ie;N.clearInterval(ie)}execute(se,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(se,ie);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ie){let j,ne=!1;try{this.work(se)}catch(Y){ne=!0,j=Y||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:se,scheduler:ie}=this,{actions:ne}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ne,this),null!=se&&(this.id=this.recycleAsyncId(ie,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,L)=>{L.d(Ce,{v:()=>N});var s=L(6063);class K{constructor(X,pe=K.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,se){return new this.schedulerActionCtor(this,X).schedule(se,pe)}}K.now=s.l.now;class N extends K{constructor(X,pe=K.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let se;this._active=!0;do{if(se=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,se){for(;X=pe.shift();)X.unsubscribe();throw se}}}},4986:(st,Ce,L)=>{L.d(Ce,{z:()=>N,P:()=>le});var s=L(4408);const N=new(L(7565).v)(s.o),le=N},6063:(st,Ce,L)=>{L.d(Ce,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},233:(st,Ce,L)=>{L.d(Ce,{N:()=>X});var s=L(4408),N=L(7565);const X=new class le extends N.v{}(class K extends s.o{constructor(ie,ne){super(ie,ne),this.scheduler=ie,this.work=ne}schedule(ie,ne=0){return ne>0?super.schedule(ie,ne):(this.delay=ne,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ne){return ne>0||this.closed?super.execute(ie,ne):this._execute(ie,ne)}requestAsyncId(ie,ne,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(ie,ne,j):ie.flush(this)}})},3410:(st,Ce,L)=>{L.d(Ce,{z:()=>s});const s={setTimeout(K,N,...le){const{delegate:X}=s;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,N,...le):setTimeout(K,N,...le)},clearTimeout(K){const{delegate:N}=s;return((null==N?void 0:N.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(st,Ce,L)=>{L.d(Ce,{h:()=>K});const K=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,L)=>{L.d(Ce,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,L)=>{L.d(Ce,{jO:()=>le,yG:()=>X,_6:()=>pe});var s=L(576),K=L(3532);function N(se){return se[se.length-1]}function le(se){return(0,s.m)(N(se))?se.pop():void 0}function X(se){return(0,K.K)(N(se))?se.pop():void 0}function pe(se,ie){return"number"==typeof N(se)?se.pop():ie}},8737:(st,Ce,L)=>{function s(K,N){if(K){const le=K.indexOf(N);0<=le&&K.splice(le,1)}}L.d(Ce,{P:()=>s})},3888:(st,Ce,L)=>{function s(K){const le=K(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(Ce,{d:()=>s})},2806:(st,Ce,L)=>{L.d(Ce,{x:()=>N,O:()=>le});var s=L(2416);let K=null;function N(X){if(s.v.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),X(),pe){const{errorThrown:se,error:ie}=K;if(K=null,se)throw ie}}else X()}function le(X){s.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(st,Ce,L)=>{function s(K,N,le,X=0,pe=!1){const se=N.schedule(function(){le(),pe?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(se),!pe)return se}L.d(Ce,{f:()=>s})},4671:(st,Ce,L)=>{function s(K){return K}L.d(Ce,{y:()=>s})},1144:(st,Ce,L)=>{L.d(Ce,{z:()=>s});const s=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(st,Ce,L)=>{L.d(Ce,{D:()=>K});var s=L(576);function K(N){return Symbol.asyncIterator&&(0,s.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(st,Ce,L)=>{function s(K){return"function"==typeof K}L.d(Ce,{m:()=>s})},3670:(st,Ce,L)=>{L.d(Ce,{c:()=>N});var s=L(8822),K=L(576);function N(le){return(0,K.m)(le[s.L])}},6495:(st,Ce,L)=>{L.d(Ce,{T:()=>N});var s=L(2202),K=L(576);function N(le){return(0,K.m)(null==le?void 0:le[s.h])}},8239:(st,Ce,L)=>{L.d(Ce,{t:()=>K});var s=L(576);function K(N){return(0,s.m)(null==N?void 0:N.then)}},3260:(st,Ce,L)=>{L.d(Ce,{Q:()=>N,L:()=>le});var s=L(655),K=L(576);function N(X){return(0,s.FC)(this,arguments,function*(){const se=X.getReader();try{for(;;){const{value:ie,done:ne}=yield(0,s.qq)(se.read());if(ne)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ie)}}finally{se.releaseLock()}})}function le(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(st,Ce,L)=>{L.d(Ce,{K:()=>K});var s=L(576);function K(N){return N&&(0,s.m)(N.schedule)}},4482:(st,Ce,L)=>{L.d(Ce,{A:()=>K,e:()=>N});var s=L(576);function K(le){return(0,s.m)(null==le?void 0:le.lift)}function N(le){return X=>{if(K(X))return X.lift(function(pe){try{return le(pe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,L)=>{function s(){}L.d(Ce,{Z:()=>s})},7849:(st,Ce,L)=>{L.d(Ce,{h:()=>N});var s=L(2416),K=L(3410);function N(le){K.z.setTimeout(()=>{const{onUnhandledError:X}=s.v;if(!X)throw le;X(le)})}},4532:(st,Ce,L)=>{function s(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>s})},655:(st,Ce,L)=>{function le(z,oe){var ge={};for(var ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&oe.indexOf(ae)<0&&(ge[ae]=z[ae]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ae=Object.getOwnPropertySymbols(z);xe<ae.length;xe++)oe.indexOf(ae[xe])<0&&Object.prototype.propertyIsEnumerable.call(z,ae[xe])&&(ge[ae[xe]]=z[ae[xe]])}return ge}function X(z,oe,ge,ae){var xt,xe=arguments.length,ue=xe<3?oe:null===ae?ae=Object.getOwnPropertyDescriptor(oe,ge):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(z,oe,ge,ae);else for(var dn=z.length-1;dn>=0;dn--)(xt=z[dn])&&(ue=(xe<3?xt(ue):xe>3?xt(oe,ge,ue):xt(oe,ge))||ue);return xe>3&&ue&&Object.defineProperty(oe,ge,ue),ue}function se(z,oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,oe)}function ie(z,oe,ge,ae){return new(ge||(ge=Promise))(function(ue,xt){function dn(Dt){try{lt(ae.next(Dt))}catch(Dn){xt(Dn)}}function Jn(Dt){try{lt(ae.throw(Dt))}catch(Dn){xt(Dn)}}function lt(Dt){Dt.done?ue(Dt.value):function xe(ue){return ue instanceof ge?ue:new ge(function(xt){xt(ue)})}(Dt.value).then(dn,Jn)}lt((ae=ae.apply(z,oe||[])).next())})}function fe(z){return this instanceof fe?(this.v=z,this):new fe(z)}function De(z,oe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ae=ge.apply(z,oe||[]),ue=[];return xe={},xt("next"),xt("throw"),xt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function xt(Cn){ae[Cn]&&(xe[Cn]=function(ts){return new Promise(function(yn,Vs){ue.push([Cn,ts,yn,Vs])>1||dn(Cn,ts)})})}function dn(Cn,ts){try{!function Jn(Cn){Cn.value instanceof fe?Promise.resolve(Cn.value.v).then(lt,Dt):Dn(ue[0][2],Cn)}(ae[Cn](ts))}catch(yn){Dn(ue[0][3],yn)}}function lt(Cn){dn("next",Cn)}function Dt(Cn){dn("throw",Cn)}function Dn(Cn,ts){Cn(ts),ue.shift(),ue.length&&dn(ue[0][0],ue[0][1])}}function ze(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,oe=z[Symbol.asyncIterator];return oe?oe.call(z):(z=function Q(z){var oe="function"==typeof Symbol&&Symbol.iterator,ge=oe&&z[oe],ae=0;if(ge)return ge.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ae>=z.length&&(z=void 0),{value:z&&z[ae++],done:!z}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),ge={},ae("next"),ae("throw"),ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ae(ue){ge[ue]=z[ue]&&function(xt){return new Promise(function(dn,Jn){!function xe(ue,xt,dn,Jn){Promise.resolve(Jn).then(function(lt){ue({value:lt,done:dn})},xt)}(dn,Jn,(xt=z[ue](xt)).done,xt.value)})}}}L.d(Ce,{_T:()=>le,gn:()=>X,w6:()=>se,mG:()=>ie,qq:()=>fe,FC:()=>De,KL:()=>ze})},5e3:(st,Ce,L)=>{L.d(Ce,{deG:()=>Eg,tb:()=>wE,AFp:()=>_E,ip1:()=>pi,CZH:()=>sw,hGG:()=>HE,z2F:()=>gw,sBO:()=>yw,Sil:()=>Ly,_Vd:()=>fy,EJc:()=>DE,SBq:()=>Uc,qLn:()=>Qr,vpe:()=>Ma,tBr:()=>jo,XFs:()=>ut,OlP:()=>Wn,zs3:()=>Ka,ZZ4:()=>jy,aQg:()=>Im,soG:()=>xy,YKP:()=>Ob,h0i:()=>Xa,PXZ:()=>ME,R0b:()=>Qo,FiY:()=>bc,Lbi:()=>bE,g9A:()=>vE,Qsj:()=>KT,FYo:()=>py,JOm:()=>ce,tp0:()=>Dc,Rgc:()=>Ko,dDg:()=>hw,q4F:()=>Mb,GfV:()=>Ir,s_b:()=>Yc,ifc:()=>Jt,eFA:()=>mw,G48:()=>LE,Gpc:()=>Y,X6Q:()=>vd,_c5:()=>km,VLi:()=>hI,c2e:()=>yd,zSh:()=>p_,wAp:()=>wt,vHH:()=>Le,cg1:()=>Wp,kL8:()=>OT,dqk:()=>qt,sIi:()=>Fp,CqO:()=>O_,QGY:()=>zo,F4k:()=>nT,RDi:()=>Zs,AaK:()=>ie,qOj:()=>BC,TTD:()=>sa,_Bn:()=>Db,xp6:()=>Tp,uIk:()=>O0,Tol:()=>V_,ekj:()=>Yp,Suo:()=>zb,Xpm:()=>Ht,lG2:()=>nn,Yz7:()=>yn,cJS:()=>hn,oAB:()=>J,Yjl:()=>Gr,Y36:()=>Yh,_UZ:()=>$0,BQk:()=>Z0,ynx:()=>od,qZA:()=>x_,TgZ:()=>k_,EpF:()=>tT,n5z:()=>rh,LFG:()=>Yt,$8M:()=>Ks,$Z:()=>eT,NdJ:()=>rT,CRH:()=>br,kcU:()=>Ev,O4$:()=>Kd,oxw:()=>jp,ALo:()=>fd,lcZ:()=>iE,xi3:()=>wy,Hsn:()=>aT,F$t:()=>oT,Q6J:()=>j0,s9C:()=>lT,DdM:()=>Fb,VKq:()=>vy,iGM:()=>zt,MAs:()=>WC,Jf7:()=>jg,CHM:()=>gu,LSH:()=>Ic,Udp:()=>et,YNc:()=>qC,W1O:()=>on,_uU:()=>Gi,Oqu:()=>Zp,hij:()=>ui,AsE:()=>H_,Gf:()=>pd});var s=L(7579),K=L(727),N=L(8306),le=L(6451),X=L(3099);function pe(o){for(let a in o)if(o[a]===pe)return a;throw Error("Could not find renamed property on target object.")}function se(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ie(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ie).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ne(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const j=pe({__forward_ref__:pe});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return ie(this())},o}function Q(o){return qe(o)?o():o}function qe(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===Y}class Le extends Error{constructor(a,c){super(function Fe(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function fe(o){return"string"==typeof o?o:null==o?"":String(o)}function De(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():fe(o)}function be(o,a){const c=a?` in ${a}`:"";throw new Le(-201,`No provider for ${De(o)} found${c}`)}function lt(o,a){null==o&&function Dt(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function yn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function hn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Kt(o){return xr(o,ys)||xr(o,Bs)}function xr(o,a){return o.hasOwnProperty(a)?o[a]:null}function ti(o){return o&&(o.hasOwnProperty(ni)||o.hasOwnProperty(Us))?o[ni]:null}const ys=pe({\u0275prov:pe}),ni=pe({\u0275inj:pe}),Bs=pe({ngInjectableDef:pe}),Us=pe({ngInjectorDef:pe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let yi;function gr(o){const a=yi;return yi=o,a}function Ri(o,a,c){const d=Kt(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ut.Optional?null:void 0!==a?a:void be(ie(o),"Injector")}function Ln(o){return{toString:o}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Jt=(()=>{return(o=Jt||(Jt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Jt;var o})();const ot="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=ot||"undefined"!=typeof global&&global||It||Or,Lr={},dt=[],Zr=pe({\u0275cmp:pe}),$t=pe({\u0275dir:pe}),Ke=pe({\u0275pipe:pe}),Me=pe({\u0275mod:pe}),Je=pe({\u0275fac:pe}),ht=pe({__NG_ELEMENT_ID__:pe});let Gt=0;function Ht(o){return Ln(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||dt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Jt.Emulated,id:"c",styles:o.styles||dt,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,m=o.features,v=o.pipes;return d.id+=Gt++,d.inputs=Ct(o.inputs,c),d.outputs=Ct(o.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Z):null,d})}function V(o){return Qt(o)||function Zn(o){return o[$t]||null}(o)}function Z(o){return function Ft(o){return o[Ke]||null}(o)}const he={};function J(o){return Ln(()=>{const a={type:o.type,bootstrap:o.bootstrap||dt,declarations:o.declarations||dt,imports:o.imports||dt,exports:o.exports||dt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(he[o.id]=o.type),a})}function Ct(o,a){if(null==o)return Lr;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,a&&(a[h]=m)}return c}const nn=Ht;function Gr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Qt(o){return o[Zr]||null}function Sn(o,a){const c=o[Me]||null;if(!c&&!0===a)throw new Error(`Type ${ie(o)} does not have '\u0275mod' property.`);return c}function vi(o){return Array.isArray(o)&&"object"==typeof o[1]}function ri(o){return Array.isArray(o)&&!0===o[1]}function Pd(o){return 0!=(8&o.flags)}function Do(o){return 2==(2&o.flags)}function Jl(o){return 1==(1&o.flags)}function bi(o){return null!==o.template}function Yf(o){return 0!=(512&o[2])}function wi(o,a){return o.hasOwnProperty(Je)?o[Je]:null}class Na{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function sa(){return _l}function _l(o){return o.type.prototype.ngOnChanges&&(o.setInput=Dg),jd}function jd(){const o=Eo(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Lr)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Dg(o,a,c,d){const h=Eo(o)||function Fi(o,a){return o[Nt]=a}(o,{previous:Lr,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[c],C=v[w];m[w]=new Na(C&&C.currentValue,a,v===Lr),o[d]=a}sa.ngInherit=!0;const Nt="__ngSimpleChanges__";function Eo(o){return o[Nt]||null}let ic;function Zs(o){ic=o}function kn(o){return!!o.listen}const Ra={createRenderer:(o,a)=>function yl(){return void 0!==ic?ic:"undefined"!=typeof document?document:void 0}()};function wn(o){for(;Array.isArray(o);)o=o[0];return o}function aa(o,a){return wn(a[o])}function Wr(o,a){return wn(a[o.index])}function vl(o,a){return o.data[a]}function ns(o,a){return o[a]}function zr(o,a){const c=a[o];return vi(c)?c:c[0]}function Mo(o){return 4==(4&o[2])}function Gs(o){return 128==(128&o[2])}function Di(o,a){return null==a?null:o[a]}function Io(o){o[18]=0}function Ao(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const ft={lFrame:ca(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cc(){return ft.bindingsEnabled}function Te(){return ft.lFrame.lView}function jt(){return ft.lFrame.tView}function gu(o){return ft.lFrame.contextLView=o,o[8]}function Nn(){let o=Pa();for(;null!==o&&64===o.type;)o=o.parent;return o}function Pa(){return ft.lFrame.currentTNode}function Ci(o,a){const c=ft.lFrame;c.currentTNode=o,c.isParent=a}function _u(){return ft.lFrame.isParent}function yu(){ft.lFrame.isParent=!1}function uc(){return ft.isInCheckNoChangesMode}function ko(o){ft.isInCheckNoChangesMode=o}function Pr(){const o=ft.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function xo(){return ft.lFrame.bindingIndex++}function rs(o){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function fc(o,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=o,wl(a)}function wl(o){ft.lFrame.currentDirectiveIndex=o}function Du(){return ft.lFrame.currentQueryIndex}function Cu(o){ft.lFrame.currentQueryIndex=o}function Gd(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Tu(o,a,c){if(c&ut.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||c&ut.Host||(h=Gd(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;a=h,o=m}const d=ft.lFrame=qd();return d.currentTNode=a,d.lView=o,!0}function la(o){const a=qd(),c=o[1];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function qd(){const o=ft.lFrame,a=null===o?null:o.child;return null===a?ca(o):a}function ca(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Wd(){const o=ft.lFrame;return ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const zd=Wd;function ua(){const o=Wd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Kr(){return ft.lFrame.selectedIndex}function Lo(o){ft.lFrame.selectedIndex=o}function Gn(){const o=ft.lFrame;return vl(o.tView,o.selectedIndex)}function Kd(){ft.lFrame.currentNamespace="svg"}function Ev(){!function Su(){ft.lFrame.currentNamespace=null}()}function qs(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:k}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),C&&(o.viewHooks||(o.viewHooks=[])).push(-c,C),I&&((o.viewHooks||(o.viewHooks=[])).push(c,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,I)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function Dl(o,a,c){Jd(o,a,3,c)}function pc(o,a,c,d){(3&o[2])===c&&Jd(o,a,c,d)}function lr(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Jd(o,a,c,d){const m=null!=d?d:-1,v=a.length-1;let w=0;for(let C=void 0!==d?65535&o[18]:0;C<v;C++)if("number"==typeof a[C+1]){if(w=a[C],null!=d&&w>=d)break}else a[C]<0&&(o[18]+=65536),(w<m||-1==m)&&(Cg(o,c,a,C),o[18]=(4294901760&o[18])+C+2),C++}function Cg(o,a,c,d){const h=c[d]<0,m=c[d+1],w=o[h?-c[d]:c[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Ba{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function pt(o,a,c){const d=kn(o);let h=0;for(;h<c.length;){const m=c[h];if("number"==typeof m){if(0!==m)break;h++;const v=c[h++],w=c[h++],C=c[h++];d?o.setAttribute(a,w,C,v):a.setAttributeNS(v,w,C)}else{const v=m,w=c[++h];cr(v)?d&&o.setProperty(a,v,w):d?o.setAttribute(a,v,w):a.setAttribute(v,w),h++}}return h}function Un(o){return 3===o||4===o||6===o}function cr(o){return 64===o.charCodeAt(0)}function Sr(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Ua(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Ua(o,a,c,d,h){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}function eh(o){return-1!==o}function In(o){return 32767&o}function is(o,a){let c=function qf(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let mc=!0;function Bi(o){const a=mc;return mc=o,a}let ku=0;function qn(o,a){const c=fa(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,zs(d.data,o),zs(a,null),zs(d.blueprint,null));const h=Ui(o,a),m=o.injectorIndex;if(eh(h)){const v=In(h),w=is(h,a),C=w[1].data;for(let I=0;I<8;I++)a[m+I]=w[v+I]|C[v+I]}return a[m+8]=h,m}function zs(o,a){o.push(0,0,0,0,0,0,0,0,a)}function fa(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ui(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function No(o,a,c){!function ha(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ht)&&(d=c[ht]),null==d&&(d=c[ht]=ku++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,c)}function Ds(o,a,c){if(c&ut.Optional)return o;be(a,"NodeInjector")}function xu(o,a,c,d){if(c&ut.Optional&&void 0===d&&(d=null),0==(c&(ut.Self|ut.Host))){const h=o[9],m=gr(void 0);try{return h?h.get(a,d,c&ut.Optional):Ri(a,d,c&ut.Optional)}finally{gr(m)}}return Ds(d,a,c)}function Ro(o,a,c,d=ut.Default,h){if(null!==o){const m=function Ha(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ht)?o[ht]:void 0;return"number"==typeof a?a>=0?255&a:Ou:a}(c);if("function"==typeof m){if(!Tu(a,o,d))return d&ut.Host?Ds(h,c,d):xu(a,c,d,h);try{const v=m(d);if(null!=v||d&ut.Optional)return v;be(c)}finally{zd()}}else if("number"==typeof m){let v=null,w=fa(o,a),C=-1,I=d&ut.Host?a[16][6]:null;for((-1===w||d&ut.SkipSelf)&&(C=-1===w?Ui(o,a):a[w+8],-1!==C&&Fr(d,!1)?(v=a[1],w=In(C),a=is(C,a)):w=-1);-1!==w;){const k=a[1];if(ji(m,w,k.data)){const P=nh(w,a,c,v,d,I);if(P!==Cs)return P}C=a[w+8],-1!==C&&Fr(d,a[1].data[w+8]===I)&&ji(m,w,a)?(v=k,w=In(C),a=is(C,a)):w=-1}}}return xu(a,c,d,h)}const Cs={};function Ou(){return new os(Nn(),Te())}function nh(o,a,c,d,h,m){const v=a[1],w=v.data[o+8],k=Po(w,v,c,null==d?Do(w)&&mc:d!=v&&0!=(3&w.type),h&ut.Host&&m===w);return null!==k?ss(a,v,k,w):Cs}function Po(o,a,c,d,h){const m=o.providerIndexes,v=a.data,w=1048575&m,C=o.directiveStart,k=m>>20,U=h?w+k:o.directiveEnd;for(let q=d?w:w+k;q<U;q++){const ve=v[q];if(q<C&&c===ve||q>=C&&ve.type===c)return q}if(h){const q=v[C];if(q&&bi(q)&&q.type===c)return C}return null}function ss(o,a,c,d){let h=o[c];const m=a.data;if(function Qd(o){return o instanceof Ba}(h)){const v=h;v.resolving&&function tt(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Le(-200,`Circular dependency in DI detected for ${o}${c}`)}(De(m[c]));const w=Bi(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?gr(v.injectImpl):null;Tu(o,d,ut.Default);try{h=o[c]=v.factory(void 0,m,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Mu(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(d){const v=_l(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==C&&gr(C),Bi(w),v.resolving=!1,zd()}}return h}function ji(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Fr(o,a){return!(o&ut.Self||o&ut.Host&&a)}class os{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ro(this._tNode,this._lView,a,d,c)}}function rh(o){return Ln(()=>{const a=o.prototype.constructor,c=a[Je]||sn(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[Je]||sn(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function sn(o){return qe(o)?()=>{const a=sn(Q(o));return a&&a()}:wi(o)}function Ks(o){return function Hi(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(Un(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===a)return c[h+1];h+=2}}}return null}(Nn(),o)}const ja="__parameters__";function Hn(o,a,c){return Ln(()=>{const d=function Ts(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(C,I,k){const P=C.hasOwnProperty(ja)?C[ja]:Object.defineProperty(C,ja,{value:[]})[ja];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Wn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=yn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Eg=new Wn("AnalyzeForEntryComponents");function Mr(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Mr(d,a)):a!==o&&a.push(d)}return a}function ii(o,a){o.forEach(c=>Array.isArray(c)?ii(c,a):a(c))}function Tl(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Qs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function as(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function nr(o,a,c){let d=Uo(o,a);return d>=0?o[1|d]=c:(d=~d,function Ag(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function _c(o,a){const c=Uo(o,a);if(c>=0)return o[1|c]}function Uo(o,a){return function ah(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const m=d+(h-d>>1),v=o[m<<c];if(a===v)return m<<c;v>a?h=m:d=m+1}return~(h<<c)}(o,a,1)}const x={},F="__NG_DI_FLAG__",W="ngTempTokenPath",ke=/\n/gm,At="__source",Mt=pe({provide:String,useValue:pe});let Ut;function Tt(o){const a=Ut;return Ut=o,a}function Et(o,a=ut.Default){if(void 0===Ut)throw new Le(203,"");return null===Ut?Ri(o,void 0,a):Ut.get(o,a&ut.Optional?null:void 0,a)}function Yt(o,a=ut.Default){return(function Cr(){return yi}()||Et)(Q(o),a)}const ls=Yt;function ga(o){const a=[];for(let c=0;c<o.length;c++){const d=Q(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Le(900,"");let h,m=ut.Default;for(let v=0;v<d.length;v++){const w=d[v],C=Es(w);"number"==typeof C?-1===C?h=w.token:m|=C:h=w}a.push(Yt(h,m))}else a.push(Yt(d))}return a}function si(o,a){return o[F]=a,o.prototype[F]=a,o}function Es(o){return o[F]}const jo=si(Hn("Inject",o=>({token:o})),-1),bc=si(Hn("Optional"),8),Dc=si(Hn("SkipSelf"),4);class mh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yo(o){return o instanceof mh?o.changingThisBreaksApplicationSecurity:o}const $o=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,np=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function Ic(o){const a=function Ga(){const o=Te();return o&&o[12]}();return a?a.sanitize(pn.URL,o)||"":function $a(o,a){const c=function Tc(o){return o instanceof mh&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}(o,"URL")?Yo(o):function Ec(o){return(o=String(o)).match($o)||o.match(np)?o:"unsafe:"+o}(fe(o))}const hp="__ngContext__";function oi(o,a){o[hp]=a}function fp(o){const a=function kl(o){return o[hp]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Ll(o){return o.ngOriginalError}function Hg(o,...a){o.error(...a)}class Qr{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function Wv(o){return o&&o.ngErrorLogger||Hg}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Ll(a);for(;c&&Ll(c);)c=Ll(c);return c||null}}const Qv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function jg(o){return o.ownerDocument.defaultView}function g(o){return o instanceof Function?o():o}var ce=(()=>((ce=ce||{})[ce.Important=1]="Important",ce[ce.DashCase=2]="DashCase",ce))();function Xe(o,a){return undefined(o,a)}function zn(o){const a=o[3];return ri(a)?a[3]:a}function Ac(o){return wp(o[13])}function kc(o){return wp(o[4])}function wp(o){for(;null!==o&&!ri(o);)o=o[4];return o}function qa(o,a,c,d,h){if(null!=d){let m,v=!1;ri(d)?m=d:vi(d)&&(v=!0,d=d[0]);const w=wn(d);0===o&&null!==c?null==h?r0(a,c,w):ro(a,c,w,h||null,!0):1===o&&null!==c?ro(a,c,w,h||null,!0):2===o?function l0(o,a,c){const d=Vn(o,a);d&&function vS(o,a,c,d){kn(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}(a,w,v):3===o&&a.destroyNode(w),null!=m&&function VD(o,a,c,d,h){const m=c[7];m!==wn(c)&&qa(a,o,d,m,h);for(let w=10;w<c.length;w++){const C=c[w];Wg(C[1],C,o,a,d,m)}}(a,o,m,c,h)}}function Ch(o,a,c){if(kn(o))return o.createElement(a,c);{const d=null!==c?function rc(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function AD(o,a){const c=o[9],d=c.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Ao(h,-1)),c.splice(d,1)}function e0(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const h=d[17];null!==h&&h!==o&&AD(h,d),a>0&&(o[c-1][4]=d[4]);const m=Qs(o,10+a);!function Si(o,a){Wg(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function t0(o,a){if(!(256&a[2])){const c=a[11];kn(c)&&c.destroyNode&&Wg(o,a,c,3,null,null),function Zg(o){let a=o[13];if(!a)return n0(o[1],o);for(;a;){let c=null;if(vi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)vi(a)&&n0(a[1],a),a=a[3];null===a&&(a=o),vi(a)&&n0(a[1],a),c=a&&a[4]}a=c}}(a)}}function n0(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function xD(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ba)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],C=m[v+1];try{C.call(w)}finally{}}else try{m.call(h)}finally{}}}}(o,a),function kD(o,a){const c=o.cleanup,d=a[7];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],w="function"==typeof v?v(a):wn(a[v]),C=d[h=c[m+2]],I=c[m+3];"boolean"==typeof I?w.removeEventListener(c[m],C,I):I>=0?d[h=I]():d[h=-I].unsubscribe(),m+=2}else{const v=d[h=c[m+1]];c[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();a[7]=null}}(o,a),1===a[1].type&&kn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&ri(a[3])){c!==a[3]&&AD(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function Gg(o,a,c){return function yS(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Jt.None||h===Jt.Emulated)return null}return Wr(d,c)}(o,a.parent,c)}function ro(o,a,c,d,h){kn(o)?o.insertBefore(a,c,d,h):a.insertBefore(c,d,h)}function r0(o,a,c){kn(o)?o.appendChild(a,c):a.appendChild(c)}function OD(o,a,c,d,h){null!==d?ro(o,a,c,d,h):r0(o,a,c)}function Vn(o,a){return kn(o)?o.parentNode(a):a.parentNode}function LD(o,a,c){return s0(o,a,c)}let s0=function ND(o,a,c){return 40&o.type?Wr(o,c):null};function qg(o,a,c,d){const h=Gg(o,d,a),m=a[11],w=LD(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)OD(m,h,c[C],w,!1);else OD(m,h,c,w,!1)}function Eh(o,a){if(null!==a){const c=a.type;if(3&c)return Wr(a,o);if(4&c)return a0(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return Eh(o,d);{const h=o[a.index];return ri(h)?a0(-1,h):wn(h)}}if(32&c)return Xe(a,o)()||wn(o[a.index]);{const d=PD(o,a);return null!==d?Array.isArray(d)?d[0]:Eh(zn(o[16]),d):Eh(o,a.next)}}return null}function PD(o,a){return null!==a?o[16][6].projection[a.projection]:null}function a0(o,a){const c=10+o+1;if(c<a.length){const d=a[c],h=d[1].firstChild;if(null!==h)return Eh(d,h)}return a[7]}function c0(o,a,c,d,h,m,v){for(;null!=c;){const w=d[c.index],C=c.type;if(v&&0===a&&(w&&oi(wn(w),d),c.flags|=4),64!=(64&c.flags))if(8&C)c0(o,a,c.child,d,h,m,!1),qa(a,o,h,w,m);else if(32&C){const I=Xe(c,d);let k;for(;k=I();)qa(a,o,h,k,m);qa(a,o,h,w,m)}else 16&C?FD(o,a,d,c,h,m):qa(a,o,h,w,m);c=v?c.projectionNext:c.next}}function Wg(o,a,c,d,h,m){c0(c,d,o.firstChild,a,h,m,!1)}function FD(o,a,c,d,h,m){const v=c[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)qa(a,o,h,C[I],m);else c0(o,a,C,v[3],h,m,!0)}function Ms(o,a,c){kn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function u0(o,a,c){kn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function d0(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}c=h+1}}const BD="ng-template";function wS(o,a,c){let d=0;for(;d<o.length;){let h=o[d++];if(c&&"class"===h){if(h=o[d],-1!==d0(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function Mi(o){return 4===o.type&&o.value!==BD}function xc(o,a,c){return a===(4!==o.type||c?o.value:BD)}function UD(o,a,c){let d=4;const h=o.attrs||[],m=function jD(o){for(let a=0;a<o.length;a++)if(Un(o[a]))return a;return o.length}(h);let v=!1;for(let w=0;w<a.length;w++){const C=a[w];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!xc(o,C,c)||""===C&&1===a.length){if(Rn(d))return!1;v=!0}}else{const I=8&d?C:a[++w];if(8&d&&null!==o.attrs){if(!wS(o.attrs,I,c)){if(Rn(d))return!1;v=!0}continue}const P=Oc(8&d?"class":C,h,Mi(o),c);if(-1===P){if(Rn(d))return!1;v=!0;continue}if(""!==I){let U;U=P>m?"":h[P+1].toLowerCase();const q=8&d?U:null;if(q&&-1!==d0(q,I,0)||2&d&&I!==U){if(Rn(d))return!1;v=!0}}}}else{if(!v&&!Rn(d)&&!Rn(C))return!1;if(v&&Rn(C))continue;v=!1,d=C|1&d}}return Rn(d)||v}function Rn(o){return 0==(1&o)}function Oc(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let m=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function YD(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function HD(o,a,c=!1){for(let d=0;d<a.length;d++)if(UD(o,a[d],c))return!0;return!1}function $D(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function h0(o,a){return o?":not("+a.trim()+")":a}function ZD(o){let a=o[0],c=1,d=2,h="",m=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const w=o[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Rn(v)&&(a+=h0(m,h),h=""),d=v,m=m||!Rn(d);c++}return""!==h&&(a+=h0(m,h)),a}const Pt={};function Tp(o){f0(jt(),Te(),Kr()+o,uc())}function f0(o,a,c,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Dl(a,m,c)}else{const m=o.preOrderHooks;null!==m&&pc(a,m,0,c)}Lo(c)}function Ep(o,a){return o<<17|a<<2}function Zo(o){return o>>17&32767}function Kg(o){return 2|o}function wa(o){return(131068&o)>>2}function Jg(o,a){return-131069&o|a<<2}function Xg(o){return 1|o}function iC(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],m=c[d+1];if(-1!==m){const v=o.data[m];Cu(h),v.contentQueries(2,a[m],m)}}}function Ju(o,a,c,d,h,m,v,w,C,I){const k=a.blueprint.slice();return k[0]=h,k[2]=140|d,Io(k),k[3]=k[15]=o,k[8]=c,k[10]=v||o&&o[10],k[11]=w||o&&o[11],k[12]=C||o&&o[12]||null,k[9]=I||o&&o[9]||null,k[6]=m,k[16]=2==a.type?o[16]:k,k}function Mh(o,a,c,d,h){let m=o.data[a];if(null===m)m=function s_(o,a,c,d,h){const m=Pa(),v=_u(),C=o.data[a]=function w0(o,a,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(o,a,c,d,h),function bu(){return ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const v=function Fa(){const o=ft.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Ci(m,!0),m}function Lc(o,a,c,d){if(0===c)return-1;const h=a.length;for(let m=0;m<c;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Qu(o,a,c){la(a);try{const d=o.viewQuery;null!==d&&h_(1,d,c);const h=o.template;null!==h&&Ih(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&iC(o,a),o.staticViewQueries&&h_(2,o.viewQuery,c);const m=o.components;null!==m&&function bO(o,a){for(let c=0;c<a.length;c++)kS(o,a[c])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,ua()}}function Ap(o,a,c,d){const h=a[2];if(256==(256&h))return;la(a);const m=uc();try{Io(a),function dc(o){return ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Ih(o,a,c,2,d);const v=3==(3&h);if(!m)if(v){const I=o.preOrderCheckHooks;null!==I&&Dl(a,I,null)}else{const I=o.preOrderHooks;null!==I&&pc(a,I,0,null),lr(a,0)}if(function T0(o){for(let a=Ac(o);null!==a;a=kc(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const h=c[d],m=h[3];0==(1024&h[2])&&Ao(m,1),h[2]|=1024}}}(a),function DC(o){for(let a=Ac(o);null!==a;a=kc(a))for(let c=10;c<a.length;c++){const d=a[c],h=d[1];Gs(d)&&Ap(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&iC(o,a),!m)if(v){const I=o.contentCheckHooks;null!==I&&Dl(a,I)}else{const I=o.contentHooks;null!==I&&pc(a,I,1),lr(a,1)}!function vO(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Lo(~h);else{const m=h,v=c[++d],w=c[++d];fc(v,m),w(2,a[m])}}}finally{Lo(-1)}}(o,a);const w=o.components;null!==w&&function sC(o,a){for(let c=0;c<a.length;c++)AS(o,a[c])}(a,w);const C=o.viewQuery;if(null!==C&&h_(2,C,d),!m)if(v){const I=o.viewCheckHooks;null!==I&&Dl(a,I)}else{const I=o.viewHooks;null!==I&&pc(a,I,2),lr(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ao(a[3],-1))}finally{ua()}}function v0(o,a,c,d){const h=a[10],m=!uc(),v=Mo(a);try{m&&!v&&h.begin&&h.begin(),v&&Qu(o,a,d),Ap(o,a,c,d)}finally{m&&!v&&h.end&&h.end()}}function Ih(o,a,c,d,h){const m=Kr(),v=2&d;try{Lo(-1),v&&a.length>20&&f0(o,a,20,uc()),c(d,h)}finally{Lo(m)}}function kp(o,a,c){if(Pd(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Nc(o,a,c){!cc()||(function CO(o,a,c,d){const h=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||qn(c,a),oi(d,a);const v=c.initialInputs;for(let w=h;w<m;w++){const C=o.data[w],I=bi(C);I&&yC(a,c,C);const k=ss(a,o,w,c);oi(k,a),null!==v&&bC(0,w-h,k,C,0,v),I&&(zr(c.index,a)[8]=k)}}(o,a,c,Wr(c,a)),128==(128&c.flags)&&function TO(o,a,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,w=function wu(){return ft.lFrame.currentDirectiveIndex}();try{Lo(v);for(let C=d;C<h;C++){const I=o.data[C],k=a[C];wl(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&hC(I,k)}}finally{Lo(-1),wl(w)}}(o,a,c))}function Xu(o,a,c=Wr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?c(a,o):o[v];o[h++]=w}}}function oC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Ah(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Ah(o,a,c,d,h,m,v,w,C,I){const k=20+d,P=k+h,U=function aC(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:Pt);return c}(k,P),q="function"==typeof I?I():I;return U[1]={type:o,blueprint:U,template:c,queries:null,viewQuery:w,declTNode:a,data:U.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function b0(o,a,c,d){const h=TC(a);null===c?h.push(d):(h.push(c),o.firstCreatePass&&EC(o).push(d,h.length-1))}function lC(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,h):c[d]=[a,h]}return c}function ks(o,a,c,d,h,m,v,w){const C=Wr(a,c);let k,I=a.inputs;!w&&null!=I&&(k=I[d])?(LS(o,c,k,d,h),Do(a)&&function D0(o,a){const c=zr(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function uC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,kn(m)?m.setProperty(C,d,h):cr(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function l_(o,a,c,d){let h=!1;if(cc()){const m=function fC(o,a,c){const d=o.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];HD(c,v.selectors,!1)&&(h||(h=[]),No(qn(c,a),o,v.type),bi(v)?(pC(o,c),h.unshift(v)):h.push(v))}return h}(o,a,c),v=null===d?null:{"":-1};if(null!==m){h=!0,fs(c,o.data.length,m.length);for(let k=0;k<m.length;k++){const P=m[k];P.providersResolver&&P.providersResolver(P)}let w=!1,C=!1,I=Lc(o,a,m.length,null);for(let k=0;k<m.length;k++){const P=m[k];c.mergedAttrs=Sr(c.mergedAttrs,P.hostAttrs),_C(o,c,a,I,P),gC(I,P,v),null!==P.contentQueries&&(c.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=128);const U=P.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),C=!0),I++}!function cC(o,a){const d=a.directiveEnd,h=o.data,m=a.attrs,v=[];let w=null,C=null;for(let I=a.directiveStart;I<d;I++){const k=h[I],P=k.inputs,U=null===m||Mi(a)?null:MS(P,m);v.push(U),w=lC(P,I,w),C=lC(k.outputs,I,C)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=C}(o,c)}v&&function mC(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=c[a[h+1]];if(null==m)throw new Le(-301,!1);d.push(a[h],m)}}}(c,d,v)}return c.mergedAttrs=Sr(c.mergedAttrs,c.attrs),h}function SS(o,a,c,d,h,m){const v=m.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const C=~a.index;(function DO(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=C&&w.push(C),w.push(d,h,v)}}function hC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function pC(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function gC(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;bi(a)&&(c[""]=o)}}function fs(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function _C(o,a,c,d,h){o.data[d]=h;const m=h.factory||(h.factory=wi(h.type)),v=new Ba(m,bi(h),null);o.blueprint[d]=v,c[d]=v,SS(o,a,0,d,Lc(o,c,h.hostVars,Pt),h)}function yC(o,a,c){const d=Wr(a,o),h=oC(c),m=o[10],v=u_(o,Ju(o,h,null,c.onPush?64:16,d,a,m,m.createRenderer(d,c),null,null));o[a.index]=v}function za(o,a,c,d,h,m){const v=Wr(o,a);!function vC(o,a,c,d,h,m,v){if(null==m)kn(o)?o.removeAttribute(a,h,c):a.removeAttribute(h);else{const w=null==v?fe(m):v(m,d||"",h);kn(o)?o.setAttribute(a,h,w,c):c?a.setAttributeNS(c,h,w):a.setAttribute(h,w)}}(a[11],v,m,o.value,c,d,h)}function bC(o,a,c,d,h,m){const v=m[a];if(null!==v){const w=d.setInput;for(let C=0;C<v.length;){const I=v[C++],k=v[C++],P=v[C++];null!==w?d.setInput(c,P,I,k):c[k]=P}}}function MS(o,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return c}function wC(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function AS(o,a){const c=zr(a,o);if(Gs(c)){const d=c[1];80&c[2]?Ap(d,c,d.template,c[8]):c[5]>0&&c_(c)}}function c_(o){for(let d=Ac(o);null!==d;d=kc(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];Ap(v,m,v.template,m[8])}else m[5]>0&&c_(m)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=zr(c[d],o);Gs(h)&&h[5]>0&&c_(h)}}function kS(o,a){const c=zr(a,o),d=c[1];(function $i(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),Qu(d,c,c[8])}function u_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Op(o){for(;o;){o[2]|=64;const a=zn(o);if(Yf(o)&&!a)return o;o=a}return null}function d_(o,a,c){const d=a[10];d.begin&&d.begin();try{Ap(o,a,o.template,c)}catch(h){throw SC(a,h),h}finally{d.end&&d.end()}}function CC(o){!function Lp(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=fp(c),h=d[1];v0(h,d,h.template,c)}}(o[8])}function h_(o,a,c){Cu(0),a(o,c)}const E0=(()=>Promise.resolve(null))();function TC(o){return o[7]||(o[7]=[])}function EC(o){return o.cleanup||(o.cleanup=[])}function SC(o,a){const c=o[9],d=c?c.get(Qr,null):null;d&&d.handleError(a)}function LS(o,a,c,d,h){for(let m=0;m<c.length;){const v=c[m++],w=c[m++],C=a[v],I=o.data[v];null!==I.setInput?I.setInput(C,h,d,w):C[w]=h}}function Da(o,a,c){const d=aa(a,o);!function Dh(o,a,c){kn(o)?o.setValue(a,c):a.textContent=c}(o[11],d,c)}function f_(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?m=w:1==m?h=ne(h,w):2==m&&(d=ne(d,w+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}const Rl=new Wn("INJECTOR",-1);class IC{get(a,c=x){if(c===x){const d=new Error(`NullInjectorError: No provider for ${ie(a)}!`);throw d.name="NullInjectorError",d}return c}}const p_=new Wn("Set Injector scope."),Np={},AC={};let M0;function kC(){return void 0===M0&&(M0=new IC),M0}function m_(o,a=null,c=null,d){const h=I0(o,a,c,d);return h._resolveInjectorDefTypes(),h}function I0(o,a=null,c=null,d){return new PS(o,c,a||kC(),d)}class PS{constructor(a,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&ii(c,w=>this.processProvider(w,a,c)),ii([a],w=>this.processInjectorType(w,[],m)),this.records.set(Rl,ed(void 0,this));const v=this.records.get(p_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:ie(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=x,d=ut.Default){this.assertNotDestroyed();const h=Tt(this),m=gr(void 0);try{if(!(d&ut.SkipSelf)){let w=this.records.get(a);if(void 0===w){const C=function xs(o){return"function"==typeof o||"object"==typeof o&&o instanceof Wn}(a)&&Kt(a);w=C&&this.injectableDefInScope(C)?ed(g_(a),Np):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&ut.Self?kC():this.parent).get(a,c=d&ut.Optional&&c===x?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[W]=v[W]||[]).unshift(ie(a)),h)throw v;return function vc(o,a,c,d){const h=o[W];throw a[At]&&h.unshift(a[At]),o.message=function Ru(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=ie(a);if(Array.isArray(a))h=a.map(ie).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ie(w)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(ke,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[W]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{gr(m),Tt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(ie(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(a,c,d){if(!(a=Q(a)))return!1;let h=ti(a);const m=null==h&&a.ngModule||void 0,v=void 0===m?a:m,w=-1!==d.indexOf(v);if(void 0!==m&&(h=ti(m)),null==h)return!1;if(null!=h.imports&&!w){let k;d.push(v);try{ii(h.imports,P=>{this.processInjectorType(P,c,d)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:U,providers:q}=k[P];ii(q,ve=>this.processProvider(ve,U,q||dt))}}this.injectorDefTypes.add(v);const C=wi(v)||(()=>new v);this.records.set(v,ed(C,Np));const I=h.providers;if(null!=I&&!w){const k=a;ii(I,P=>this.processProvider(P,k,I))}return void 0!==m&&void 0!==a.providers}processProvider(a,c,d){let h=Rp(a=Q(a))?a:Q(a&&a.provide);const m=function xC(o,a,c){return LC(o)?ed(void 0,o.useValue):ed(OC(o),Np)}(a);if(Rp(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ed(void 0,Np,!0),v.factory=()=>ga(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,m)}hydrate(a,c){return c.value===Np&&(c.value=AC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function IO(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function g_(o){const a=Kt(o),c=null!==a?a.factory:wi(o);if(null!==c)return c;if(o instanceof Wn)throw new Le(204,!1);if(o instanceof Function)return function FS(o){const a=o.length;if(a>0)throw as(a,"?"),new Le(204,!1);const c=function Ni(o){const a=o&&(o[ys]||o[Bs]);if(a){const c=function _o(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Le(204,!1)}function OC(o,a,c){let d;if(Rp(o)){const h=Q(o);return wi(h)||g_(h)}if(LC(o))d=()=>Q(o.useValue);else if(function SO(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...ga(o.deps||[]));else if(function NC(o){return!(!o||!o.useExisting)}(o))d=()=>Yt(Q(o.useExisting));else{const h=Q(o&&(o.useClass||o.provide));if(!function VS(o){return!!o.deps}(o))return wi(h)||g_(h);d=()=>new h(...ga(o.deps))}return d}function ed(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function LC(o){return null!==o&&"object"==typeof o&&Mt in o}function Rp(o){return"function"==typeof o}let Ka=(()=>{class o{static create(c,d){var h;if(Array.isArray(c))return m_({name:""},d,c,"");{const m=null!==(h=c.name)&&void 0!==h?h:"";return m_({name:m},c.parent,c.providers,m)}}}return o.THROW_IF_NOT_FOUND=x,o.NULL=new IC,o.\u0275prov=yn({token:o,providedIn:"any",factory:()=>Yt(Rl)}),o.__NG_ELEMENT_ID__=-1,o})();function v_(o,a){qs(fp(o)[1],Nn())}function BC(o){let a=function b_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(bi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Le(903,"");h=a.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=w_(o.inputs),v.declaredInputs=w_(o.declaredInputs),v.outputs=w_(o.outputs);const w=h.hostBindings;w&&JS(o,w);const C=h.viewQuery,I=h.contentQueries;if(C&&KS(o,C),I&&kh(o,I),se(o.inputs,h.inputs),se(o.declaredInputs,h.declaredInputs),se(o.outputs,h.outputs),bi(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(o),w===BC&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Pl(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Sr(h.hostAttrs,c=Sr(c,h.hostAttrs))}}(d)}function w_(o){return o===Lr?{}:o===dt?[]:o}function KS(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function kh(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,m)=>{a(d,h,m),c(d,h,m)}:a}function JS(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}let Pp=null;function xh(){if(!Pp){const o=qt.Symbol;if(o&&o.iterator)Pp=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Pp=d)}}}return Pp}function Fp(o){return!!HC(o)&&(Array.isArray(o)||!(o instanceof Map)&&xh()in o)}function HC(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ca(o,a,c){return o[a]=c}function Zi(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function td(o,a,c,d){const h=Zi(o,a,c);return Zi(o,a+1,d)||h}function O0(o,a,c,d){const h=Te();return Zi(h,xo(),a)&&(jt(),za(Gn(),h,o,a,c,d)),O0}function nd(o,a,c,d){return Zi(o,xo(),c)?a+fe(c)+d:Pt}function rd(o,a,c,d,h,m){const w=td(o,function Vi(){return ft.lFrame.bindingIndex}(),c,h);return rs(2),w?a+fe(c)+d+fe(h)+m:Pt}function qC(o,a,c,d,h,m,v,w){const C=Te(),I=jt(),k=o+20,P=I.firstCreatePass?function eM(o,a,c,d,h,m,v,w,C){const I=a.consts,k=Mh(a,o,4,v||null,Di(I,w));l_(a,c,k,Di(I,C)),qs(a,k);const P=k.tViews=Ah(2,k,d,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,k),P.queries=a.queries.embeddedTView(k)),k}(k,I,C,a,c,d,h,m,v):I.data[k];Ci(P,!1);const U=C[11].createComment("");qg(I,C,U,P),oi(U,C),u_(C,C[k]=wC(U,C,U,P)),Jl(P)&&Nc(I,C,P),null!=v&&Xu(C,P,w)}function WC(o){return ns(function vu(){return ft.lFrame.contextLView}(),20+o)}function Yh(o,a=ut.Default){const c=Te();return null===c?Yt(o,a):Ro(Nn(),c,Q(o),a)}function eT(){throw new Error("invalid")}function j0(o,a,c){const d=Te();return Zi(d,xo(),a)&&ks(jt(),Gn(),d,o,a,d[11],c,!1),j0}function Y0(o,a,c,d,h){const v=h?"class":"style";LS(o,c,a.inputs[v],v,d)}function k_(o,a,c,d){const h=Te(),m=jt(),v=20+o,w=h[11],C=h[v]=Ch(w,a,function Sv(){return ft.lFrame.currentNamespace}()),I=m.firstCreatePass?function pM(o,a,c,d,h,m,v){const w=a.consts,I=Mh(a,o,2,h,Di(w,m));return l_(a,c,I,Di(w,v)),null!==I.attrs&&f_(I,I.attrs,!1),null!==I.mergedAttrs&&f_(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(v,m,h,0,a,c,d):m.data[v];Ci(I,!0);const k=I.mergedAttrs;null!==k&&pt(w,C,k);const P=I.classes;null!==P&&u0(w,C,P);const U=I.styles;return null!==U&&Ms(w,C,U),64!=(64&I.flags)&&qg(m,h,C,I),0===function bl(){return ft.lFrame.elementDepthCount}()&&oi(C,h),function ac(){ft.lFrame.elementDepthCount++}(),Jl(I)&&(Nc(m,h,I),kp(m,I,h)),null!==d&&Xu(h,I),k_}function x_(){let o=Nn();_u()?yu():(o=o.parent,Ci(o,!1));const a=o;!function lc(){ft.lFrame.elementDepthCount--}();const c=jt();return c.firstCreatePass&&(qs(c,o),Pd(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Gf(o){return 0!=(16&o.flags)}(a)&&Y0(c,a,Te(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Tg(o){return 0!=(32&o.flags)}(a)&&Y0(c,a,Te(),a.stylesWithoutHost,!1),x_}function $0(o,a,c,d){return k_(o,a,c,d),x_(),$0}function od(o,a,c){const d=Te(),h=jt(),m=o+20,v=h.firstCreatePass?function Fl(o,a,c,d,h){const m=a.consts,v=Di(m,d),w=Mh(a,o,8,"ng-container",v);return null!==v&&f_(w,v,!0),l_(a,c,w,Di(m,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,h,d,a,c):h.data[m];Ci(v,!0);const w=d[m]=d[11].createComment("");return qg(h,d,w,v),oi(w,d),Jl(v)&&(Nc(h,d,v),kp(h,v,d)),null!=c&&Xu(d,v),od}function Z0(){let o=Nn();const a=jt();return _u()?yu():(o=o.parent,Ci(o,!1)),a.firstCreatePass&&(qs(a,o),Pd(o)&&a.queries.elementEnd(o)),Z0}function tT(){return Te()}function zo(o){return!!o&&"function"==typeof o.then}function nT(o){return!!o&&"function"==typeof o.subscribe}const O_=nT;function rT(o,a,c,d){const h=Te(),m=jt(),v=Nn();return function iT(o,a,c,d,h,m,v,w){const C=Jl(d),k=o.firstCreatePass&&EC(o),P=a[8],U=TC(a);let q=!0;if(3&d.type||w){const He=Wr(d,a),nt=w?w(He):He,Ee=U.length,gt=w?en=>w(wn(en[d.index])):d.index;if(kn(c)){let en=null;if(!w&&C&&(en=function L_(o,a,c,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===d){const w=a[7],C=h[m+2];return w.length>C?w[C]:null}"string"==typeof v&&(m+=2)}return null}(o,a,h,d.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=m,en.__ngLastListenerFn__=m,q=!1;else{m=sT(d,a,P,m,!1);const An=c.listen(nt,h,m);U.push(m,An),k&&k.push(h,gt,Ee,Ee+1)}}else m=sT(d,a,P,m,!0),nt.addEventListener(h,m,v),U.push(m),k&&k.push(h,gt,Ee,v)}else m=sT(d,a,P,m,!1);const ve=d.outputs;let Re;if(q&&null!==ve&&(Re=ve[h])){const He=Re.length;if(He)for(let nt=0;nt<He;nt+=2){const co=a[Re[nt]][Re[nt+1]].subscribe(m),Cd=U.length;U.push(m,co),k&&k.push(h,d.index,Cd,-(Cd+1))}}}(m,h,h[11],v,o,a,!!c,d),rT}function ms(o,a,c,d){try{return!1!==c(d)}catch(h){return SC(o,h),!1}}function sT(o,a,c,d,h){return function m(v){if(v===Function)return d;const w=2&o.flags?zr(o.index,a):a;0==(32&a[2])&&Op(w);let C=ms(a,0,d,v),I=m.__ngNextListenerFn__;for(;I;)C=ms(a,0,I,v)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function jp(o=1){return function Oo(o){return(ft.lFrame.contextLView=function Eu(o,a){for(;o>0;)a=a[15],o--;return a}(o,ft.lFrame.contextLView))[8]}(o)}function q0(o,a){let c=null;const d=function Br(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===d?HD(o,m,!0):$D(d,m))return h}else c=h}return c}function oT(o){const a=Te()[16][6];if(!a.projection){const d=a.projection=as(o?o.length:1,null),h=d.slice();let m=a.child;for(;null!==m;){const v=o?q0(m,o):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function aT(o,a=0,c){const d=Te(),h=jt(),m=Mh(h,20+o,16,null,c||null);null===m.projection&&(m.projection=a),yu(),64!=(64&m.flags)&&function zg(o,a,c){FD(a[11],0,a,c,Gg(o,c,a),LD(c.parent||a[6],c,a))}(h,d,m)}function lT(o,a,c){return cT(o,"",a,"",c),lT}function cT(o,a,c,d,h){const m=Te(),v=nd(m,a,c,d);return v!==Pt&&ks(jt(),Gn(),m,o,v,m[11],h,!1),cT}function mT(o,a,c,d,h){const m=o[c+1],v=null===a;let w=d?Zo(m):wa(m),C=!1;for(;0!==w&&(!1===C||v);){const k=o[w+1];vM(o[w],a)&&(C=!0,o[w+1]=d?Xg(k):Kg(k)),w=d?Zo(k):wa(k)}C&&(o[c+1]=d?Kg(m):Xg(m))}function vM(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Uo(o,a)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ci(o){return o.substring(Xr.key,Xr.keyEnd)}function gT(o,a){const c=Xr.textEnd;return c===a?-1:(a=Xr.keyEnd=function ad(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Xr.key=a,c),ye(o,a,c))}function ye(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function et(o,a,c){return Ea(o,a,c,!1),et}function Yp(o,a){return Ea(o,a,null,!0),Yp}function V_(o){!function so(o,a,c,d){const h=jt(),m=rs(2);h.firstUpdatePass&&bT(h,null,m,d);const v=Te();if(c!==Pt&&Zi(v,m,c)){const w=h.data[Kr()];if(J0(w,d)&&!vT(h,m)){let C=d?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(c=ne(C,c||"")),Y0(h,w,v,c,d)}else!function wT(o,a,c,d,h,m,v,w){h===Pt&&(h=dt);let C=0,I=0,k=0<h.length?h[0]:null,P=0<m.length?m[0]:null;for(;null!==k||null!==P;){const U=C<h.length?h[C+1]:void 0,q=I<m.length?m[I+1]:void 0;let Re,ve=null;k===P?(C+=2,I+=2,U!==q&&(ve=P,Re=q)):null===P||null!==k&&k<P?(C+=2,ve=k):(I+=2,ve=P,Re=q),null!==ve&&DT(o,a,c,d,ve,Re,v,w),k=C<h.length?h[C]:null,P=I<m.length?m[I]:null}}(h,w,v,v[11],v[m+1],v[m+1]=function DM(o,a,c){if(null==c||""===c)return dt;const d=[],h=Yo(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)o(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&o(d,m,h[m]);else"string"==typeof h&&a(d,h);return d}(o,a,c),d,m)}}(nr,Os,o,!0)}function Os(o,a){for(let c=function R_(o){return function _T(o){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=o.length}(o),gT(o,ye(o,0,Xr.textEnd))}(a);c>=0;c=gT(a,c))nr(o,ci(a),!0)}function Ea(o,a,c,d){const h=Te(),m=jt(),v=rs(2);m.firstUpdatePass&&bT(m,o,v,d),a!==Pt&&Zi(h,v,a)&&DT(m,m.data[Kr()],h,h[11],o,h[v+1]=function U_(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ie(Yo(o)))),o}(a,c),d,v)}function vT(o,a){return a>=o.expandoStartIndex}function bT(o,a,c,d){const h=o.data;if(null===h[c+1]){const m=h[Kr()],v=vT(o,c);J0(m,d)&&null===a&&!v&&(a=!1),a=function wM(o,a,c,d){const h=function Va(o){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=$p(c=Qa(null,o,a,c,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(c=Qa(h,o,a,c,d),null===m){let C=function Ii(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==wa(d))return o[Zo(d)]}(o,a,d);void 0!==C&&Array.isArray(C)&&(C=Qa(null,o,a,C[1],d),C=$p(C,a.attrs,d),function B_(o,a,c,d){o[Zo(c?a.classBindings:a.styleBindings)]=d}(o,a,d,C))}else m=function Ai(o,a,c){let d;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)d=$p(d,o[m].hostAttrs,c);return $p(d,a.attrs,c)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(h,m,a,d),function _M(o,a,c,d,h,m){let v=m?a.classBindings:a.styleBindings,w=Zo(v),C=wa(v);o[d]=c;let k,I=!1;if(Array.isArray(c)){const P=c;k=P[1],(null===k||Uo(P,k)>0)&&(I=!0)}else k=c;if(h)if(0!==C){const U=Zo(o[w+1]);o[d+1]=Ep(U,w),0!==U&&(o[U+1]=Jg(o[U+1],d)),o[w+1]=function zD(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Ep(w,0),0!==w&&(o[w+1]=Jg(o[w+1],d)),w=d;else o[d+1]=Ep(C,0),0===w?w=d:o[C+1]=Jg(o[C+1],d),C=d;I&&(o[d+1]=Kg(o[d+1])),mT(o,k,d,!0),mT(o,k,d,!1),function yM(o,a,c,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Uo(m,a)>=0&&(c[d+1]=Xg(c[d+1]))}(a,k,o,d,m),v=Ep(w,C),m?a.classBindings=v:a.styleBindings=v}(h,m,a,c,v,d)}}function Qa(o,a,c,d,h){let m=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(m=a[w],d=$p(d,m.hostAttrs,h),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function $p(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),nr(o,v,!!c||a[++m]))}return void 0===o?null:o}function DT(o,a,c,d,h,m,v,w){if(!(3&a.type))return;const C=o.data,I=C[w+1];Zh(function Qg(o){return 1==(1&o)}(I)?K0(C,a,c,h,wa(I),v):void 0)||(Zh(m)||function WD(o){return 2==(2&o)}(I)&&(m=K0(C,null,c,h,w,v)),function zu(o,a,c,d,h){const m=kn(o);if(a)h?m?o.addClass(c,d):c.classList.add(d):m?o.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ce.DashCase;if(null==h)m?o.removeStyle(c,d,v):c.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=ce.Important),m?o.setStyle(c,d,h,v):c.style.setProperty(d,h,w?"important":"")}}}(d,v,aa(Kr(),c),h,m))}function K0(o,a,c,d,h,m){const v=null===a;let w;for(;h>0;){const C=o[h],I=Array.isArray(C),k=I?C[1]:C,P=null===k;let U=c[h+1];U===Pt&&(U=P?dt:void 0);let q=P?_c(U,d):k===d?U:void 0;if(I&&!Zh(q)&&(q=_c(C,d)),Zh(q)&&(w=q,v))return w;const ve=o[h+1];h=v?Zo(ve):wa(ve)}if(null!==a){let C=m?a.residualClasses:a.residualStyles;null!=C&&(w=_c(C,d))}return w}function Zh(o){return void 0!==o}function J0(o,a){return 0!=(o.flags&(a?16:32))}function Gi(o,a=""){const c=Te(),d=jt(),h=o+20,m=d.firstCreatePass?Mh(d,h,1,a,null):d.data[h],v=c[h]=function wh(o,a){return kn(o)?o.createText(a):o.createTextNode(a)}(c[11],a);qg(d,c,v,m),Ci(m,!1)}function Zp(o){return ui("",o,""),Zp}function ui(o,a,c){const d=Te(),h=nd(d,o,a,c);return h!==Pt&&Da(d,Kr(),h),ui}function H_(o,a,c,d,h){const m=Te(),v=rd(m,o,a,c,d,h);return v!==Pt&&Da(m,Kr(),v),H_}const Pc=void 0;var AM=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xT(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ld={};function Wp(o){const a=function di(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=z_(a);if(c)return c;const d=a.split("-")[0];if(c=z_(d),c)return c;if("en"===d)return AM;throw new Error(`Missing locale data for the locale "${o}".`)}function OT(o){return Wp(o)[wt.PluralCase]}function z_(o){return o in ld||(ld[o]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[o]),ld[o]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const zh="en-US";let Q_=zh;function cy(o,a,c,d,h){if(o=Q(o),Array.isArray(o))for(let m=0;m<o.length;m++)cy(o[m],a,c,d,h);else{const m=jt(),v=Te();let w=Rp(o)?o:Q(o.provide),C=OC(o);const I=Nn(),k=1048575&I.providerIndexes,P=I.directiveStart,U=I.providerIndexes>>20;if(Rp(o)||!o.multi){const q=new Ba(C,h,Yh),ve=Bc(w,a,h?k:k+U,P);-1===ve?(No(qn(I,v),m,w),uy(m,o,a.length),a.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),c.push(q),v.push(q)):(c[ve]=q,v[ve]=q)}else{const q=Bc(w,a,k+U,P),ve=Bc(w,a,k,k+U),Re=q>=0&&c[q],He=ve>=0&&c[ve];if(h&&!He||!h&&!Re){No(qn(I,v),m,w);const nt=function qM(o,a,c,d,h){const m=new Ba(o,c,Yh);return m.multi=[],m.index=a,m.componentProviders=0,wb(m,h,d&&!c),m}(h?GM:ZM,c.length,h,d,C);!h&&He&&(c[ve].providerFactory=nt),uy(m,o,a.length,0),a.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),c.push(nt),v.push(nt)}else uy(m,o,q>-1?q:ve,wb(c[h?ve:q],C,!h&&d));!h&&d&&He&&c[ve].componentProviders++}}}function uy(o,a,c,d){const h=Rp(a),m=function MO(o){return!!o.useClass}(a);if(h||m){const C=(m?Q(a.useClass):a).prototype.ngOnDestroy;if(C){const I=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const k=I.indexOf(c);-1===k?I.push(c,[d,C]):I[k+1].push(d,C)}else I.push(c,C)}}}function wb(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Bc(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function ZM(o,a,c,d){return dy(this.multi,[])}function GM(o,a,c,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ss(c,c[1],this.providerFactory.index,d);m=w.slice(0,v),dy(h,m);for(let C=v;C<w.length;C++)m.push(w[C])}else m=[],dy(h,m);return m}function dy(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Db(o,a=[]){return c=>{c.providersResolver=(d,h)=>function Vc(o,a,c){const d=jt();if(d.firstCreatePass){const h=bi(o);cy(c,d.data,d.blueprint,h,!0),cy(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class hy{}class Eb{resolveComponentFactory(a){throw function Cb(o){const a=Error(`No component factory found for ${ie(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let fy=(()=>{class o{}return o.NULL=new Eb,o})();function zM(){return rf(Nn(),Te())}function rf(o,a){return new Uc(Wr(o,a))}let Uc=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=zM,o})();function dm(o){return o instanceof Uc?o.nativeElement:o}class py{}let KT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function fm(){const o=Te(),c=zr(Nn().index,o);return function hm(o){return o[11]}(vi(c)?c:o)}(),o})(),KM=(()=>{class o{}return o.\u0275prov=yn({token:o,providedIn:"root",factory:()=>null}),o})();class Ir{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Mb=new Ir("13.2.7"),Ib={};function my(o,a,c,d,h=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(wn(m)),ri(m))for(let w=10;w<m.length;w++){const C=m[w],I=C[1].firstChild;null!==I&&my(C[1],C,I,d)}const v=c.type;if(8&v)my(o,a,c.child,d);else if(32&v){const w=Xe(c,a);let C;for(;C=w();)d.push(C)}else if(16&v){const w=PD(a,c);if(Array.isArray(w))d.push(...w);else{const C=zn(a[16]);my(C[1],C,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class pm{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return my(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ri(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(e0(a,d),Qs(c,d))}this._attachedToViewContainer=!1}t0(this._lView[1],this._lView)}onDestroy(a){b0(this._lView[1],this._lView,null,a)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){d_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ps(o,a,c){ko(!0);try{d_(o,a,c)}finally{ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $g(o,a){Wg(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=a}}class JM extends pm{constructor(a){super(a),this._view=a}detectChanges(){CC(this._view)}checkNoChanges(){!function OS(o){ko(!0);try{CC(o)}finally{ko(!1)}}(this._view)}get context(){return null}}class Ab extends fy{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Qt(a);return new _y(c,this.ngModule)}}function kb(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class _y extends hy{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function GD(o){return o.map(ZD).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return kb(this.componentDef.inputs)}get outputs(){return kb(this.componentDef.outputs)}create(a,c,d,h){const m=(h=h||this.ngModule)?function gy(o,a){return{get:(c,d,h)=>{const m=o.get(c,Ib,h);return m!==Ib||d===Ib?m:a.get(c,d,h)}}}(a,h.injector):a,v=m.get(py,Ra),w=m.get(KM,null),C=v.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",k=d?function xp(o,a,c){if(kn(o))return o.selectRootElement(a,c===Jt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(C,d,this.componentDef.encapsulation):Ch(v.createRenderer(null,this.componentDef),I,function JT(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(I)),P=this.componentDef.onPush?576:528,U=function zS(o,a){return{components:[],scheduler:o||Qv,clean:E0,playerHandler:a||null,flags:0}}(),q=Ah(0,null,null,1,0,null,null,null,null,null),ve=Ju(null,q,U,P,null,null,v,C,w,m);let Re,He;la(ve);try{const nt=function qS(o,a,c,d,h,m){const v=c[1];c[20]=o;const C=Mh(v,20,2,"#host",null),I=C.mergedAttrs=a.hostAttrs;null!==I&&(f_(C,I,!0),null!==o&&(pt(h,o,I),null!==C.classes&&u0(h,o,C.classes),null!==C.styles&&Ms(h,o,C.styles)));const k=d.createRenderer(o,a),P=Ju(c,oC(a),null,a.onPush?64:16,c[20],C,d,k,m||null,null);return v.firstCreatePass&&(No(qn(C,c),v,a.type),pC(v,C),fs(C,c.length,1)),u_(c,P),c[20]=P}(k,this.componentDef,ve,v,C);if(k)if(d)pt(C,k,["ng-version",Mb.full]);else{const{attrs:Ee,classes:gt}=function qD(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++d]):8===h&&c.push(m);else{if(!Rn(h))break;h=m}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Ee&&pt(C,k,Ee),gt&&gt.length>0&&u0(C,k,gt.join(" "))}if(He=vl(q,20),void 0!==c){const Ee=He.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const en=c[gt];Ee.push(null!=en?Array.from(en):null)}}Re=function WS(o,a,c,d,h){const m=c[1],v=function C0(o,a,c){const d=Nn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),_C(o,d,a,Lc(o,a,1,null),c));const h=ss(a,o,d.directiveStart,d);oi(h,a);const m=Wr(d,a);return m&&oi(m,a),h}(m,c,a);if(d.components.push(v),o[8]=v,h&&h.forEach(C=>C(v,a)),a.contentQueries){const C=Nn();a.contentQueries(1,v,C.directiveStart)}const w=Nn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Lo(w.index),SS(c[1],w,0,w.directiveStart,w.directiveEnd,a),hC(a,v)),v}(nt,this.componentDef,ve,U,[v_]),Qu(q,ve,null)}finally{ua()}return new XM(this.componentType,Re,rf(He,ve),ve,He)}}class XM extends class zT{}{constructor(a,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new JM(h),this.componentType=a}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Xa{}class Ob{}const Hc=new Map;class sf extends Xa{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ab(this);const d=Sn(a);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=I0(a,c,[{provide:Xa,useValue:this},{provide:fy,useValue:this.componentFactoryResolver}],ie(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Ka.THROW_IF_NOT_FOUND,d=ut.Default){return a===Ka||a===Xa||a===Rl?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class yy extends Ob{constructor(a){super(),this.moduleType=a,null!==Sn(a)&&function Rb(o){const a=new Set;!function c(d){const h=Sn(d,!0),m=h.id;null!==m&&(function Nb(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${ie(a)} vs ${ie(a.name)}`)}(m,Hc.get(m),d),Hc.set(m,d));const v=g(h.imports);for(const w of v)a.has(w)||(a.add(w),c(w))}(o)}(a)}create(a){return new sf(this.moduleType,a)}}function Fb(o,a,c){const d=Pr()+o,h=Te();return h[d]===Pt?Ca(h,d,c?a.call(c):a()):function Vp(o,a){return o[a]}(h,d)}function vy(o,a,c,d){return Bb(Te(),Pr(),o,a,c,d)}function of(o,a){const c=o[a];return c===Pt?void 0:c}function Bb(o,a,c,d,h,m){const v=a+c;return Zi(o,v,h)?Ca(o,v+1,m?d.call(m,h):d(h)):of(o,v+1)}function fd(o,a){const c=jt();let d;const h=o+20;c.firstCreatePass?(d=function tI(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const m=d.factory||(d.factory=wi(d.type)),v=gr(Yh);try{const w=Bi(!1),C=m();return Bi(w),function tM(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Te(),h,C),C}finally{gr(v)}}function iE(o,a,c){const d=o+20,h=Te(),m=ns(h,d);return gm(h,d)?Bb(h,Pr(),a,m.transform,c,m):m.transform(c)}function wy(o,a,c,d){const h=o+20,m=Te(),v=ns(m,h);return gm(m,h)?function mm(o,a,c,d,h,m,v){const w=a+c;return td(o,w,h,m)?Ca(o,w+2,v?d.call(v,h,m):d(h,m)):of(o,w+2)}(m,Pr(),a,v.transform,c,d,v):v.transform(c,d)}function gm(o,a){return o[1].data[a].pure}function jb(o){return a=>{setTimeout(o,void 0,a)}}const Ma=class Dy extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var h,m,v;let w=a,C=c||(()=>null),I=d;if(a&&"object"==typeof a){const P=a;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),I=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=jb(C),w&&(w=jb(w)),I&&(I=jb(I)));const k=super.subscribe({next:w,error:C,complete:I});return a instanceof K.w0&&a.add(k),k}};function xi(){return this._results[xh()]()}class jc{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=xh(),d=jc.prototype;d[c]||(d[c]=xi)}get changes(){return this._changes||(this._changes=new Ma)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=Mr(a);(this._changesDetected=!function Cl(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=a[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ko=(()=>{class o{}return o.__NG_ELEMENT_ID__=Pe,o})();const Yb=Ko,iI=class extends Yb{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=Ju(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Qu(c,d,a),new pm(d)}};function Pe(){return dr(Nn(),Te())}function dr(o,a){return 4&o.type?new iI(a,o,rf(o,a)):null}let Yc=(()=>{class o{}return o.__NG_ELEMENT_ID__=$b,o})();function $b(){return de(Nn(),Te())}const rt=Yc,Lt=class extends rt{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return rf(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ui(this._hostTNode,this._hostLView);if(eh(a)){const c=is(a,this._hostLView),d=In(a);return new os(c[1].data[d+8],c)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=oE(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const h=a.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(a,c,d,h,m){const v=a&&!function pa(o){return"function"==typeof o}(a);let w;if(v)w=c;else{const P=c||{};w=P.index,d=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?a:new _y(Qt(a)),I=d||this.parentInjector;if(!m&&null==C.ngModule){const U=(v?I:this.parentInjector).get(Xa,null);U&&(m=U)}const k=C.create(I,h,void 0,m);return this.insert(k.hostView,w),k}insert(a,c){const d=a._lView,h=d[1];if(function sc(o){return ri(o[3])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const P=d[3],U=new Lt(P,P[6],P[3]);U.detach(U.indexOf(a))}}const m=this._adjustIndex(c),v=this._lContainer;!function ai(o,a,c,d){const h=10+d,m=c.length;d>0&&(c[h-1][4]=a),d<m-10?(a[4]=c[h],Tl(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function Th(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(h,d,v,m);const w=a0(m,v),C=d[11],I=Vn(C,v[7]);return null!==I&&function Cp(o,a,c,d,h,m){d[0]=h,d[6]=a,Wg(o,d,c,1,h,m)}(h,v[6],C,d,I,w),a.attachToViewContainerRef(),Tl(Ze(v),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=oE(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=e0(this._lContainer,c);d&&(Qs(Ze(this._lContainer),c),t0(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=e0(this._lContainer,c);return d&&null!=Qs(Ze(this._lContainer),c)?new pm(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function oE(o){return o[8]}function Ze(o){return o[8]||(o[8]=[])}function de(o,a){let c;const d=a[o.index];if(ri(d))c=d;else{let h;if(8&o.type)h=wn(d);else{const m=a[11];h=m.createComment("");const v=Wr(o,a);ro(m,Vn(m,v),h,function bS(o,a){return kn(o)?o.nextSibling(a):a.nextSibling}(m,v),!1)}a[o.index]=c=wC(d,a,h,o),u_(a,c)}return new Lt(c,o,a)}class Zb{constructor(a){this.queryList=a,this.matches=null}clone(){return new Zb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gb{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Gb(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==af(a,c).matches&&this.queries[c].setDirty()}}class aE{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class qb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new qb(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Wb{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Wb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(a,c,lE(c,m)),this.matchTNodeWithReadOption(a,c,Po(c,a,m,!1,!1))}else d===Ko?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Po(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Uc||h===Yc||h===Ko&&4&c.type)this.addMatch(c.index,-2);else{const m=Po(c,a,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function lE(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function VO(o,a,c,d){return-1===c?function oI(o,a){return 11&o.type?rf(o,a):4&o.type?dr(o,a):null}(a,o):-2===c?function oo(o,a,c){return c===Uc?rf(a,o):c===Ko?dr(a,o):c===Yc?de(a,o):void 0}(o,a,d):ss(o,o[1],c,a)}function cE(o,a,c,d){const h=a[19].queries[d];if(null===h.matches){const m=o.data,v=c.matches,w=[];for(let C=0;C<v.length;C+=2){const I=v[C];w.push(I<0?null:VO(a,m[I],v[C+1],c.metadata.read))}h.matches=w}return h.matches}function Cy(o,a,c,d){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const v=cE(o,a,h,c);for(let w=0;w<m.length;w+=2){const C=m[w];if(C>0)d.push(v[w/2]);else{const I=m[w+1],k=a[-C];for(let P=10;P<k.length;P++){const U=k[P];U[17]===U[3]&&Cy(U[1],U,I,d)}if(null!==k[9]){const P=k[9];for(let U=0;U<P.length;U++){const q=P[U];Cy(q[1],q,I,d)}}}}}return d}function zt(o){const a=Te(),c=jt(),d=Du();Cu(d+1);const h=af(c,d);if(o.dirty&&Mo(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?Cy(c,a,d,[]):cE(c,a,h,d);o.reset(m,dm),o.notifyOnChanges()}return!0}return!1}function pd(o,a,c){const d=jt();d.firstCreatePass&&($c(d,new aE(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Kb(d,Te(),a)}function zb(o,a,c,d){const h=jt();if(h.firstCreatePass){const m=Nn();$c(h,new aE(a,c,d),m.index),function uE(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}Kb(h,Te(),c)}function br(){return function kt(o,a){return o[19].queries[a].queryList}(Te(),Du())}function Kb(o,a,c){const d=new jc(4==(4&c));b0(o,a,d,d.destroy),null===a[19]&&(a[19]=new Gb),a[19].queries.push(new Zb(d))}function $c(o,a,c){null===o.queries&&(o.queries=new qb),o.queries.track(new Wb(a,c))}function af(o,a){return o.queries.getByIndex(a)}function on(o,a){return dr(o,a)}function gd(...o){}const pi=new Wn("Application Initializer");let sw=(()=>{class o{constructor(c){this.appInits=c,this.resolve=gd,this.reject=gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(zo(m))c.push(m);else if(O_(m)){const v=new Promise((w,C)=>{m.subscribe({complete:w,error:C})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Yt(pi,8))},o.\u0275prov=yn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const _E=new Wn("AppId",{providedIn:"root",factory:function yE(){return`${ow()}${ow()}${ow()}`}});function ow(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vE=new Wn("Platform Initializer"),bE=new Wn("Platform ID"),wE=new Wn("appBootstrapListener");let yd=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=yn({token:o,factory:o.\u0275fac}),o})();const xy=new Wn("LocaleId",{providedIn:"root",factory:()=>ls(xy,ut.Optional|ut.SkipSelf)||function uI(){return"undefined"!=typeof $localize&&$localize.locale||zh}()}),DE=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Oy{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let Ly=(()=>{class o{compileModuleSync(c){return new yy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=g(Sn(c).declarations).reduce((v,w)=>{const C=Qt(w);return C&&v.push(new _y(C)),v},[]);return new Oy(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=yn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const lw=(()=>Promise.resolve(0))();function Xc(o){"undefined"==typeof Zone?lw.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Qo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ma(!1),this.onMicrotaskEmpty=new Ma(!1),this.onStable=new Ma(!1),this.onError=new Ma(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Jo(){let o=qt.requestAnimationFrame,a=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function uw(o){const a=()=>{!function cw(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(qt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Ry(o),o.isCheckStableRunning=!0,Ny(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Ry(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,v,w)=>{try{return dw(o),c.invokeTask(h,m,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),TE(o)}},onInvoke:(c,d,h,m,v,w,C)=>{try{return dw(o),c.invoke(h,m,v,w,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),TE(o)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Ry(o),Ny(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,a,Dm,gd,gd);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Dm={};function Ny(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ry(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function dw(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function TE(o){o._nesting--,Ny(o)}class EE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ma,this.onMicrotaskEmpty=new Ma,this.onStable=new Ma,this.onError=new Ma}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}let hw=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qo.assertNotInAngularZone(),Xc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(Yt(Qo))},o.\u0275prov=yn({token:o,factory:o.\u0275fac}),o})(),fw=(()=>{class o{constructor(){this._applications=new Map,pw.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return pw.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=yn({token:o,factory:o.\u0275fac}),o})();class Py{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function hI(o){pw=o}let Xo,pw=new Py;const eu=new Wn("AllowMultipleToken");class ME{constructor(a,c){this.name=a,this.token=c}}function mw(o,a,c=[]){const d=`Platform: ${a}`,h=new Wn(d);return(m=[])=>{let v=AE();if(!v||v.injector.get(eu,!1))if(o)o(c.concat(m).concat({provide:h,useValue:!0}));else{const w=c.concat(m).concat({provide:h,useValue:!0},{provide:p_,useValue:"platform"});!function _f(o){if(Xo&&!Xo.destroyed&&!Xo.injector.get(eu,!1))throw new Le(400,"");Xo=o.get(kE);const a=o.get(vE,null);a&&a.forEach(c=>c())}(Ka.create({providers:w,name:d}))}return function IE(o){const a=AE();if(!a)throw new Le(401,"");return a}()}}function AE(){return Xo&&!Xo.destroyed?Xo:null}let kE=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function Ur(o,a){let c;return c="noop"===o?new EE:("zone.js"===o?void 0:o)||new Qo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Qo,useValue:w}];return w.run(()=>{const I=Ka.create({providers:C,parent:this.injector,name:c.moduleType.name}),k=c.create(I),P=k.injector.get(Qr,null);if(!P)throw new Le(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:q=>{P.handleError(q)}});k.onDestroy(()=>{Tm(this._modules,k),U.unsubscribe()})}),function Vy(o,a,c){try{const d=c();return zo(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(P,w,()=>{const U=k.injector.get(sw);return U.runInitializers(),U.donePromise.then(()=>(function ab(o){lt(o,"Expected localeId to be defined"),"string"==typeof o&&(Q_=o.toLowerCase().replace(/_/g,"-"))}(k.injector.get(xy,zh)||zh),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const h=Cm({},d);return function mf(o,a,c){const d=new yy(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(gw);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Le(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Yt(Ka))},o.\u0275prov=yn({token:o,factory:o.\u0275fac}),o})();function Cm(o,a){return Array.isArray(a)?a.reduce(Cm,o):Object.assign(Object.assign({},o),a)}let gw=(()=>{class o{constructor(c,d,h,m,v){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new N.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new N.y(I=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Qo.assertNotInAngularZone(),Xc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Qo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,C.pipe((0,X.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Le(405,"");let h;h=c instanceof hy?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const m=function SE(o){return o.isBoundToModule}(h)?void 0:this._injector.get(Xa),w=h.create(Ka.NULL,[],d||h.selector,m),C=w.location.nativeElement,I=w.injector.get(hw,null),k=I&&w.injector.get(fw);return I&&k&&k.registerApplication(C,I),w.onDestroy(()=>{this.detachView(w.hostView),Tm(this.components,w),k&&k.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Tm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(wE,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(Yt(Qo),Yt(Ka),Yt(Qr),Yt(fy),Yt(sw))},o.\u0275prov=yn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Tm(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let _w=!0,yf=!1;function vd(){return yf=!0,_w}function LE(){if(yf)throw new Error("Cannot enable prod mode after platform setup.");_w=!1}let yw=(()=>{class o{}return o.__NG_ELEMENT_ID__=mI,o})();function mI(o){return function Hr(o,a,c){if(Do(o)&&!c){const d=zr(o.index,a);return new pm(d,d)}return 47&o.type?new pm(a[16],a):null}(Nn(),Te(),16==(16&o))}class Mm{constructor(){}supports(a){return Fp(a)}create(a){return new PE(a)}}const RE=(o,a)=>a;class PE{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||RE}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<Tw(d,h,m)?c:d,w=Tw(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const I=w-h,k=C-h;if(I!=k){for(let U=0;U<I;U++){const q=U<m.length?m[U]:m[U]=0,ve=q+U;k<=ve&&ve<I&&(m[U]=q+1)}m[v.previousIndex]=k-I}}w!==C&&a(v,w,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Fp(a))throw new Le(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],v=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,w),d=!0),c=c._next}else h=0,function UC(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[xh()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,h)):a=this._addAfter(new FE(c,d),m,h),a}_verifyReinsertion(a,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Cw),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cw),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class FE{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yI{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Cw{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new yI,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tw(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class VE{constructor(){}supports(a){return a instanceof Map||HC(a)}create(){return new vI}}class vI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||HC(a)))throw new Le(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new bI(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class bI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bf(){return new jy([new Mm])}let jy=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||bf()),deps:[[o,new Dc,new bc]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Le(901,"")}}return o.\u0275prov=yn({token:o,providedIn:"root",factory:bf}),o})();function ei(){return new Im([new VE])}let Im=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||ei()),deps:[[o,new Dc,new bc]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Le(901,"")}}return o.\u0275prov=yn({token:o,providedIn:"root",factory:ei}),o})();const km=mw(null,"core",[{provide:bE,useValue:"unknown"},{provide:kE,deps:[Ka]},{provide:fw,deps:[]},{provide:yd,deps:[]}]);let HE=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Yt(gw))},o.\u0275mod=J({type:o}),o.\u0275inj=hn({}),o})()},3942:(st,Ce,L)=>{L.d(Ce,{Z:()=>Le});var s=L(2090),K=L(4859),N=L(9681),le=L(1877);class X{constructor(fe,De){this._delegate=fe,this.firebase=De,(0,N._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,De=N._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(fe);return!ze.isInitialized()&&"EXPLICIT"===(null===(tt=ze.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:De})}_removeServiceInstance(fe,De=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(De)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ne(){const Fe=function ie(Fe){const fe={},De={__esModule:!0,initializeApp:function Se(je,te={}){const z=N.initializeApp(je,te);if((0,s.r3)(fe,z.name))return fe[z.name];const oe=new Fe(z,De);return fe[z.name]=oe,oe},app:ze,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(je){const te=je.name,z=te.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const oe=(ge=ze())=>{if("function"!=typeof ge[z])throw se.create("invalid-app-argument",{appName:te});return ge[z]()};void 0!==je.serviceProps&&(0,s.ZB)(oe,je.serviceProps),De[z]=oe,Fe.prototype[z]=function(...ge){return this._getService.bind(this,te).apply(this,je.multipleInstances?ge:[])}}return"PUBLIC"===je.type?De[z]:null},removeApp:function tt(je){delete fe[je]},useAsService:function $e(je,te){return"serverAuth"===te?null:te},modularAPIs:N}};function ze(je){if(!(0,s.r3)(fe,je=je||N._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:je});return fe[je]}return De.default=De,Object.defineProperty(De,"apps",{get:function be(){return Object.keys(fe).map(je=>fe[je])}}),ze.App=Fe,De}(X);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function fe(De){(0,s.ZB)(Fe,De)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Fe}(),Y=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=j;!function Ie(Fe){(0,N.registerVersion)("@firebase/app-compat","0.1.21",Fe)}()},9681:(st,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>ts,_apps:()=>Dt,_clearComponents:()=>Kt,_components:()=>Dn,_getProvider:()=>Vs,_registerComponent:()=>yn,_removeServiceInstance:()=>hn,deleteApp:()=>Us,getApp:()=>ni,getApps:()=>Bs,initializeApp:()=>ys,onLog:()=>Cr,registerVersion:()=>yi,setLogLevel:()=>gr});var s=L(5861),K=L(4859),N=L(1877),le=L(2090);class X{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function pe(Ke){const Me=Ke.getComponent();return"VERSION"===(null==Me?void 0:Me.type)}(Je)){const ht=Je.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Je=>Je).join(" ")}}const se="@firebase/app",ne=new N.Yd("@firebase/app"),Jn="[DEFAULT]",lt={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Dn=new Map;function Cn(Ke,Me){try{Ke.container.addComponent(Me)}catch(Je){ne.debug(`Component ${Me.name} failed to register with FirebaseApp ${Ke.name}`,Je)}}function ts(Ke,Me){Ke.container.addOrOverwriteComponent(Me)}function yn(Ke){const Me=Ke.name;if(Dn.has(Me))return ne.debug(`There were multiple attempts to register component ${Me}.`),!1;Dn.set(Me,Ke);for(const Je of Dt.values())Cn(Je,Ke);return!0}function Vs(Ke,Me){const Je=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Ke.container.getProvider(Me)}function hn(Ke,Me,Je=Jn){Vs(Ke,Me).clearInstance(Je)}function Kt(){Dn.clear()}const Ni=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class _o{constructor(Me,Je,ht){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const ti="9.6.10";function ys(Ke,Me={}){"object"!=typeof Me&&(Me={name:Me});const Je=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},Me),ht=Je.name;if("string"!=typeof ht||!ht)throw Ni.create("bad-app-name",{appName:String(ht)});const Gt=Dt.get(ht);if(Gt){if((0,le.vZ)(Ke,Gt.options)&&(0,le.vZ)(Je,Gt.config))return Gt;throw Ni.create("duplicate-app",{appName:ht})}const Ht=new K.H0(ht);for(const V of Dn.values())Ht.addComponent(V);const H=new _o(Ke,Je,Ht);return Dt.set(ht,H),H}function ni(Ke=Jn){const Me=Dt.get(Ke);if(!Me)throw Ni.create("no-app",{appName:Ke});return Me}function Bs(){return Array.from(Dt.values())}function Us(Ke){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*(Ke){const Me=Ke.name;Dt.has(Me)&&(Dt.delete(Me),yield Promise.all(Ke.container.getProviders().map(Je=>Je.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function yi(Ke,Me,Je){var ht;let Gt=null!==(ht=lt[Ke])&&void 0!==ht?ht:Ke;Je&&(Gt+=`-${Je}`);const Ht=Gt.match(/\s|\//),H=Me.match(/\s|\//);if(Ht||H){const V=[`Unable to register library "${Gt}" with version "${Me}":`];return Ht&&V.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Ht&&H&&V.push("and"),H&&V.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void ne.warn(V.join(" "))}yn(new K.wA(`${Gt}-version`,()=>({library:Gt,version:Me}),"VERSION"))}function Cr(Ke,Me){if(null!==Ke&&"function"!=typeof Ke)throw Ni.create("invalid-log-argument");(0,N.Am)(Ke,Me)}function gr(Ke){(0,N.Ub)(Ke)}const Ln="firebase-heartbeat-store";let Tr=null;function yo(){return Tr||(Tr=(0,le.X3)("firebase-heartbeat-database",1,(Ke,Me)=>{0===Me&&Ke.createObjectStore(Ln)}).catch(Ke=>{throw Ni.create("storage-open",{originalErrorMessage:Ke.message})})),Tr}function Jt(){return(Jt=(0,s.Z)(function*(Ke){try{return(yield yo()).transaction(Ln).objectStore(Ln).get(Or(Ke))}catch(Me){throw Ni.create("storage-get",{originalErrorMessage:Me.message})}})).apply(this,arguments)}function ot(Ke,Me){return It.apply(this,arguments)}function It(){return(It=(0,s.Z)(function*(Ke,Me){try{const ht=(yield yo()).transaction(Ln,"readwrite");return yield ht.objectStore(Ln).put(Me,Or(Ke)),ht.complete}catch(Je){throw Ni.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function Or(Ke){return`${Ke.name}!${Ke.options.appId}`}class na{constructor(Me){this.container=Me,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new dt(Je),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Me=this;return(0,s.Z)(function*(){const ht=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=$r();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!Me._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Gt))return Me._heartbeatsCache.heartbeats.push({date:Gt,agent:ht}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(Ht=>{const H=new Date(Ht.date).valueOf();return Date.now()-H<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,s.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const Je=$r(),{heartbeatsToSend:ht,unsentEntries:Gt}=function Lr(Ke,Me=1024){const Je=[];let ht=Ke.slice();for(const Gt of Ke){const Ht=Je.find(H=>H.agent===Gt.agent);if(Ht){if(Ht.dates.push(Gt.date),Zr(Je)>Me){Ht.dates.pop();break}}else if(Je.push({agent:Gt.agent,dates:[Gt.date]}),Zr(Je)>Me){Je.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Je,unsentEntries:ht}}(Me._heartbeatsCache.heartbeats),Ht=(0,le.L)(JSON.stringify({version:2,heartbeats:ht}));return Me._heartbeatsCache.lastSentHeartbeatDate=Je,Gt.length>0?(Me._heartbeatsCache.heartbeats=Gt,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),Ht})()}}function $r(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,s.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function fl(Ke){return Jt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var Je=this;return(0,s.Z)(function*(){var ht;if(yield Je._canUseIndexedDBPromise){const Ht=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ht=Me.lastSentHeartbeatDate)&&void 0!==ht?ht:Ht.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var Je=this;return(0,s.Z)(function*(){var ht;if(yield Je._canUseIndexedDBPromise){const Ht=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ht=Me.lastSentHeartbeatDate)&&void 0!==ht?ht:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...Me.heartbeats]})}})()}}function Zr(Ke){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function $t(Ke){yn(new K.wA("platform-logger",Me=>new X(Me),"PRIVATE")),yn(new K.wA("heartbeat",Me=>new na(Me),"PRIVATE")),yi(se,"0.7.20",Ke),yi(se,"0.7.20","esm2017"),yi("fire-js","")}("")},4859:(st,Ce,L)=>{L.d(Ce,{wA:()=>N,H0:()=>ie});var s=L(5861),K=L(2090);class N{constructor(j,Y,Q){this.name=j,this.instanceFactory=Y,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class X{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const Q=new K.BH;if(this.instancesDeferred.set(Y,Q),this.isInitialized(Y)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Y});qe&&Q.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),qe=null!==(Y=null==j?void 0:j.optional)&&void 0!==Y&&Y;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(qe)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function se(ne){return"EAGER"===ne.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Y){}for(const[Y,Q]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Y);try{const Ie=this.getOrInitializeService({instanceIdentifier:qe});Q.resolve(Ie)}catch(Ie){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,s.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...Y.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Q,options:Y});for(const[Ie,Le]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&Le.resolve(qe);return qe}onInit(j,Y){var Q;const qe=this.normalizeInstanceIdentifier(Y),Ie=null!==(Q=this.onInitCallbacks.get(qe))&&void 0!==Q?Q:new Set;Ie.add(j),this.onInitCallbacks.set(qe,Ie);const Le=this.instances.get(qe);return Le&&j(Le,qe),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,Y){const Q=this.onInitCallbacks.get(Y);if(Q)for(const qe of Q)try{qe(j,Y)}catch(Ie){}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=j,ne===le?void 0:ne),options:Y}),this.instances.set(j,Q),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(qe){}var ne;return Q||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new X(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,L)=>{L.d(Ce,{in:()=>K,Yd:()=>se,Ub:()=>ie,Am:()=>ne});const s=[];var K=(()=>{return(j=K||(K={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",K;var j})();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},le=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(j,Y,...Q)=>{if(Y<j.logLevel)return;const qe=(new Date).toISOString(),Ie=X[Y];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ie](`[${qe}]  ${j.name}:`,...Q)};class se{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function ie(j){s.forEach(Y=>{Y.setLogLevel(j)})}function ne(j,Y){for(const Q of s){let qe=null;Y&&Y.level&&(qe=N[Y.level]),Q.userLogHandler=null===j?null:(Ie,Le,...Fe)=>{const fe=Fe.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(tt){return null}}).filter(De=>De).join(" ");Le>=(null!=qe?qe:Ie.logLevel)&&j({level:K[Le].toLowerCase(),message:fe,args:Fe,type:Ie.name})}}}},5861:(st,Ce,L)=>{function s(N,le,X,pe,se,ie,ne){try{var j=N[ie](ne),Y=j.value}catch(Q){return void X(Q)}j.done?le(Y):Promise.resolve(Y).then(pe,se)}function K(N){return function(){var le=this,X=arguments;return new Promise(function(pe,se){var ie=N.apply(le,X);function ne(Y){s(ie,pe,se,ne,j,"next",Y)}function j(Y){s(ie,pe,se,ne,j,"throw",Y)}ne(void 0)})}}L.d(Ce,{Z:()=>K})}},st=>{st(st.s=7229)}]);