"use strict";(self.webpackChunkniedzielny_projekt=self.webpackChunkniedzielny_projekt||[]).push([[179],{2011:(st,Ce,N)=>{N.d(Ce,{hO:()=>qe,xv:()=>ne,Dh:()=>ie,GT:()=>pe,cc:()=>Me,on:()=>j,pX:()=>X});var o=N(5e3),K=N(127),L=N(6351);st=N.hmd(st);const le=["ngOnDestroy"],X=(De,tt,ze,Se={})=>new Proxy(De,{get:(be,we)=>ze.runOutsideAngular(()=>{var $e;if(De[we])return(null===($e=null==Se?void 0:Se.spy)||void 0===$e?void 0:$e.get)&&Se.spy.get(we,De[we]),De[we];if(le.indexOf(we)>-1)return()=>{};const je=tt.toPromise().then(te=>{const z=te&&te[we];return"function"==typeof z?z.bind(te):z&&z.then?z.then(oe=>ze.run(()=>oe)):ze.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>je[z],apply:(te,z,oe)=>je.then(ge=>{var ae;const xe=ge&&ge(...oe);return(null===(ae=null==Se?void 0:Se.spy)||void 0===ae?void 0:ae.apply)&&Se.spy.apply(we,oe,xe),xe})})})}),pe=(De,tt)=>{tt.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Se=>{Object.defineProperty(De.prototype,Se,Object.getOwnPropertyDescriptor(ze.prototype||ze,Se))})})};class se{constructor(tt){return tt}}const ie=new o.OlP("angularfire2.app.options"),ne=new o.OlP("angularfire2.app.name");function j(De,tt,ze){const be="object"==typeof ze&&ze||{};be.name=be.name||"string"==typeof ze&&ze||"[DEFAULT]";const $e=K.Z.apps.filter(je=>je&&je.name===be.name)[0]||tt.runOutsideAngular(()=>K.Z.initializeApp(De,be));try{JSON.stringify(De)!==JSON.stringify($e.options)&&Y("error",`${$e.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new se($e)}const Y=(De,...tt)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)},Q={provide:se,useFactory:j,deps:[ie,o.R0b,[new o.FiY,ne]]};let qe=(()=>{class De{constructor(ze){K.Z.registerVersion("angularfire",L.q4.full,"core"),K.Z.registerVersion("angularfire",L.q4.full,"app-compat"),K.Z.registerVersion("angular",o.q4F.full,ze.toString())}static initializeApp(ze,Se){return{ngModule:De,providers:[{provide:ie,useValue:ze},{provide:ne,useValue:Se}]}}}return De.\u0275fac=function(ze){return new(ze||De)(o.LFG(o.Lbi))},De.\u0275mod=o.oAB({type:De}),De.\u0275inj=o.cJS({providers:[Q]}),De})();function Me(De,tt,ze,Se,be){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===De)||[];if(we)return function Ne(De,tt){try{return De.toString()===tt.toString()}catch(ze){return De===tt}}(be,$e)||(fe("error",`${tt} was already initialized on the ${ze} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:be,was:$e})),we;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([De,je,be]),je}}const Fe=!!st.hot,fe=(De,...tt)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(st,Ce,N)=>{N.d(Ce,{q4:()=>pa,iC:()=>El,HU:()=>Uo,vb:()=>Gt,JM:()=>qf});var o=N(5e3),K=N(5867),L=N(5861),le=N(9681),X=N(2090),pe=N(4859),se=N(1877);const ie="@firebase/installations",Y="w:0.5.7",Q="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(T){return T instanceof X.ZR&&T.code.includes("request-failed")}function ze({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Se(T){return{token:T.token,requestStatus:2,expiresIn:oe(T.expiresIn),creationTime:Date.now()}}function be(T,E){return we.apply(this,arguments)}function we(){return(we=(0,L.Z)(function*(T,E){const F=(yield E.json()).error;return De.create("request-failed",{requestName:T,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function $e({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function je(T,{refreshToken:E}){const x=$e(T);return x.append("Authorization",function ge(T){return`${Q} ${T}`}(E)),x}function te(T){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*(T){const E=yield T();return E.status>=500&&E.status<600?T():E})).apply(this,arguments)}function oe(T){return Number(T.replace("s","000"))}function ae(T,E){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:E},{fid:x}){const F=ze(T),W=$e(T),re=E.getImmediate({optional:!0});if(re){const It=yield re.getHeartbeatsHeader();It&&W.append("x-firebase-client",It)}const Qe={method:"POST",headers:W,body:JSON.stringify({fid:x,authVersion:Q,appId:T.appId,sdkVersion:Y})},At=yield te(()=>fetch(F,Qe));if(At.ok){const It=yield At.json();return{fid:It.fid||x,registrationStatus:2,refreshToken:It.refreshToken,authToken:Se(It.authToken)}}throw yield be("Create Installation",At)})).apply(this,arguments)}function ue(T){return new Promise(E=>{setTimeout(E,T)})}const dn=/^[cdef][\w-]{21}$/;function lt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const x=function wt(T){return function xt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return dn.test(x)?x:""}catch(T){return""}}function Dn(T){return`${T.appName}!${T.appId}`}const Cn=new Map;function es(T,E){const x=Dn(T);hn(x,E),function zt(T,E){const x=function Oi(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=T=>{hn(T.data.key,T.data.fid)}),xr}();x&&x.postMessage({key:T,fid:E}),function _o(){0===Cn.size&&xr&&(xr.close(),xr=null)}()}(x,E)}function hn(T,E){const x=Cn.get(T);if(x)for(const F of x)F(E)}let xr=null;const ni="firebase-installations-store";let Fs=null;function Vs(){return Fs||(Fs=(0,X.X3)("firebase-installations-database",1,(T,E)=>{0===E&&T.createObjectStore(ni)})),Fs}function ut(T,E){return _i.apply(this,arguments)}function _i(){return(_i=(0,L.Z)(function*(T,E){const x=Dn(T),W=(yield Vs()).transaction(ni,"readwrite"),re=W.objectStore(ni),ke=yield re.get(x);return yield re.put(E,x),yield W.complete,(!ke||ke.fid!==E.fid)&&es(T,E.fid),E})).apply(this,arguments)}function Cr(T){return gr.apply(this,arguments)}function gr(){return(gr=(0,L.Z)(function*(T){const E=Dn(T),F=(yield Vs()).transaction(ni,"readwrite");yield F.objectStore(ni).delete(E),yield F.complete})).apply(this,arguments)}function Ni(T,E){return ta.apply(this,arguments)}function ta(){return(ta=(0,L.Z)(function*(T,E){const x=Dn(T),W=(yield Vs()).transaction(ni,"readwrite"),re=W.objectStore(ni),ke=yield re.get(x),Qe=E(ke);return void 0===Qe?yield re.delete(x):yield re.put(Qe,x),yield W.complete,Qe&&(!ke||ke.fid!==Qe.fid)&&es(T,Qe.fid),Qe})).apply(this,arguments)}function Nn(T){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,L.Z)(function*(T){let E;const x=yield Ni(T.appConfig,F=>{const W=yo(F),re=fl(T,W);return E=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield E}:{installationEntry:x,registrationPromise:E}})).apply(this,arguments)}function yo(T){return qt(T||{fid:lt(),registrationStatus:0})}function fl(T,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(De.create("app-offline"))};const x={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},F=function Kt(T,E){return ot.apply(this,arguments)}(T,x);return{installationEntry:x,registrationPromise:F}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Mt(T)}:{installationEntry:E}}function ot(){return(ot=(0,L.Z)(function*(T,E){try{const x=yield ae(T,E);return ut(T.appConfig,x)}catch(x){throw tt(x)&&409===x.customData.serverCode?yield Cr(T.appConfig):yield ut(T.appConfig,{fid:E.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Mt(T){return Or.apply(this,arguments)}function Or(){return(Or=(0,L.Z)(function*(T){let E=yield ms(T.appConfig);for(;1===E.registrationStatus;)yield ue(100),E=yield ms(T.appConfig);if(0===E.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Nn(T);return F||x}return E})).apply(this,arguments)}function ms(T){return Ni(T,E=>{if(!E)throw De.create("installation-not-found");return qt(E)})}function qt(T){return function na(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function $r(T,E){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:E},x){const F=dt(T,x),W=je(T,x),re=E.getImmediate({optional:!0});if(re){const It=yield re.getHeartbeatsHeader();It&&W.append("x-firebase-client",It)}const Qe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Y,appId:T.appId}})},At=yield te(()=>fetch(F,Qe));if(At.ok)return Se(yield At.json());throw yield be("Generate Auth Token",At)})).apply(this,arguments)}function dt(T,{fid:E}){return`${ze(T)}/${E}/authTokens:generate`}function Gr(T){return $t.apply(this,arguments)}function $t(){return($t=(0,L.Z)(function*(T,E=!1){let x;const F=yield Ni(T.appConfig,re=>{if(!Ht(re))throw De.create("not-registered");const ke=re.authToken;if(!E&&H(ke))return re;if(1===ke.requestStatus)return x=Ke(T,E),re;{if(!navigator.onLine)throw De.create("app-offline");const Qe=G(re);return x=ht(T,Qe),Qe}});return x?yield x:F.authToken})).apply(this,arguments)}function Ke(T,E){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(T,E){let x=yield Je(T.appConfig);for(;1===x.authToken.requestStatus;)yield ue(100),x=yield Je(T.appConfig);const F=x.authToken;return 0===F.requestStatus?Gr(T,E):F})).apply(this,arguments)}function Je(T){return Ni(T,E=>{if(!Ht(E))throw De.create("not-registered");return function he(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function ht(T,E){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,L.Z)(function*(T,E){try{const x=yield $r(T,E),F=Object.assign(Object.assign({},E),{authToken:x});return yield ut(T.appConfig,F),x}catch(x){if(!tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield ut(T.appConfig,F)}else yield Cr(T.appConfig);throw x}})).apply(this,arguments)}function Ht(T){return void 0!==T&&2===T.registrationStatus}function H(T){return 2===T.requestStatus&&!function V(T){const E=Date.now();return E<T.creationTime||T.creationTime+T.expiresIn<E+36e5}(T)}function G(T){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:E})}function Be(){return(Be=(0,L.Z)(function*(T){const E=T,{installationEntry:x,registrationPromise:F}=yield Nn(E);return F?F.catch(console.error):Gr(E).catch(console.error),x.fid})).apply(this,arguments)}function nn(){return(nn=(0,L.Z)(function*(T,E=!1){const x=T;return yield Zr(x),(yield Gr(x,E)).token})).apply(this,arguments)}function Zr(T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,L.Z)(function*(T){const{registrationPromise:E}=yield Nn(T);E&&(yield E)})).apply(this,arguments)}function _r(T){return De.create("missing-app-config-values",{valueName:T})}const ml="installations",Le=T=>{const E=T.getProvider("app").getImmediate(),x=function Bs(T){if(!T||!T.options)throw _r("App Configuration");if(!T.name)throw _r("App Name");const E=["projectId","apiKey","appId"];for(const x of E)if(!T.options[x])throw _r(x);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(E);return{app:E,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=T=>{const E=T.getProvider("app").getImmediate(),x=(0,le._getProvider)(E,ml).getImmediate();return{getId:()=>function J(T){return Be.apply(this,arguments)}(x),getToken:W=>function Dt(T){return nn.apply(this,arguments)}(x,W)}};(function In(){(0,le._registerComponent)(new pe.wA(ml,Le,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",Vt,"PRIVATE"))})(),(0,le.registerVersion)(ie,"0.5.7"),(0,le.registerVersion)(ie,"0.5.7","esm2017");const Lr="@firebase/remote-config",Qn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jf{constructor(E,x,F,W){this.client=E,this.storage=x,this.storageCache=F,this.logger=W}isCachedDataFresh(E,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,W=F<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${W}.`),W}fetch(E){var x=this;return(0,L.Z)(function*(){const[F,W]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(W&&x.isCachedDataFresh(E.cacheMaxAgeMillis,F))return W;E.eTag=W&&W.eTag;const re=yield x.client.fetch(E),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(ke),re})()}}function Fd(T=navigator){return T.languages&&T.languages[0]||T.language}class Ql{constructor(E,x,F,W,re,ke){this.firebaseInstallations=E,this.sdkVersion=x,this.namespace=F,this.projectId=W,this.apiKey=re,this.appId=ke}fetch(E){var x=this;return(0,L.Z)(function*(){const[F,W]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},At={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:x.appId,language_code:Fd()},It={method:"POST",headers:Qe,body:JSON.stringify(At)},Ut=fetch(ke,It),Tt=new Promise((si,ws)=>{E.signal.addEventListener(()=>{const vc=new Error("The operation was aborted.");vc.name="AbortError",ws(vc)})});let Et;try{yield Promise.race([Ut,Tt]),Et=yield Ut}catch(si){let ws="fetch-client-network";throw"AbortError"===si.name&&(ws="fetch-timeout"),Qn.create(ws,{originalErrorMessage:si.message})}let Yt=Et.status;const Sl=Et.headers.get("ETag")||void 0;let as,ga;if(200===Et.status){let si;try{si=yield Et.json()}catch(ws){throw Qn.create("fetch-client-parse",{originalErrorMessage:ws.message})}as=si.entries,ga=si.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?Yt=500:"NO_CHANGE"===ga?Yt=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(as={}),304!==Yt&&200!==Yt)throw Qn.create("fetch-status",{httpStatus:Yt});return{status:Yt,eTag:Sl,config:as}})()}}class _g{constructor(E,x){this.client=E,this.storage=x}fetch(E){var x=this;return(0,L.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(E,F)})()}attemptFetch(E,{throttleEndTimeMillis:x,backoffCount:F}){var W=this;return(0,L.Z)(function*(){yield function ar(T,E){return new Promise((x,F)=>{const W=Math.max(E-Date.now(),0),re=setTimeout(x,W);T.addEventListener(()=>{clearTimeout(re),F(Qn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,x);try{const re=yield W.client.fetch(E);return yield W.storage.deleteThrottleMetadata(),re}catch(re){if(!function Vd(T){if(!(T instanceof X.ZR&&T.customData))return!1;const E=Number(T.customData.httpStatus);return 429===E||500===E||503===E||504===E}(re))throw re;const ke={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(ke),W.attemptFetch(E,ke)}})()}}class Vn{constructor(E,x,F,W,re){this.app=E,this._client=x,this._storageCache=F,this._storage=W,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function du(T,E){const x=T.target.error||void 0;return Qn.create(E,{originalErrorMessage:x&&x.message})}const Co="app_namespace_store";class Ud{constructor(E,x,F,W=function bg(){return new Promise((T,E)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{E(du(F,"storage-open"))},x.onsuccess=F=>{T(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Co,{keyPath:"compositeKey"})}}catch(x){E(Qn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=E,this.appName=x,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var x=this;return(0,L.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,re)=>{const Qe=F.transaction([Co],"readonly").objectStore(Co),At=x.createCompositeKey(E);try{const It=Qe.get(At);It.onerror=Ut=>{re(du(Ut,"storage-get"))},It.onsuccess=Ut=>{const Tt=Ut.target.result;W(Tt?Tt.value:void 0)}}catch(It){re(Qn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(E,x){var F=this;return(0,L.Z)(function*(){const W=yield F.openDbPromise;return new Promise((re,ke)=>{const At=W.transaction([Co],"readwrite").objectStore(Co),It=F.createCompositeKey(E);try{const Ut=At.put({compositeKey:It,value:x});Ut.onerror=Tt=>{ke(du(Tt,"storage-set"))},Ut.onsuccess=()=>{re()}}catch(Ut){ke(Qn.create("storage-set",{originalErrorMessage:Ut&&Ut.message}))}})})()}delete(E){var x=this;return(0,L.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,re)=>{const Qe=F.transaction([Co],"readwrite").objectStore(Co),At=x.createCompositeKey(E);try{const It=Qe.delete(At);It.onerror=Ut=>{re(du(Ut,"storage-delete"))},It.onsuccess=()=>{W()}}catch(It){re(Qn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Hd{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,L.Z)(function*(){const x=E.storage.getLastFetchStatus(),F=E.storage.getLastSuccessfulFetchTimestampMillis(),W=E.storage.getActiveConfig(),re=yield x;re&&(E.lastFetchStatus=re);const ke=yield F;ke&&(E.lastSuccessfulFetchTimestampMillis=ke);const Qe=yield W;Qe&&(E.activeConfig=Qe)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function ia(){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,L.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(T){return!1}})).apply(this,arguments)}!function Na(){(0,le._registerComponent)(new pe.wA("remote-config",function T(E,{instanceIdentifier:x}){const F=E.getProvider("app").getImmediate(),W=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Qn.create("registration-window");if(!(0,X.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:re,apiKey:ke,appId:Qe}=F.options;if(!re)throw Qn.create("registration-project-id");if(!ke)throw Qn.create("registration-api-key");if(!Qe)throw Qn.create("registration-app-id");const At=new Ud(Qe,F.name,x=x||"firebase"),It=new Hd(At),Ut=new se.Yd(Lr);Ut.logLevel=se.in.ERROR;const Tt=new Ql(W,le.SDK_VERSION,x,re,ke,Qe),Et=new _g(Tt,At),Yt=new jf(Et,At,It,Ut),Sl=new Vn(F,Yt,It,At,Ut);return function Qt(T){const E=(0,X.m9)(T);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Sl),Sl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Lr,"0.3.6"),(0,le.registerVersion)(Lr,"0.3.6","esm2017")}();const hu="/firebase-messaging-sw.js",To="/firebase-cloud-messaging-push-scope",bi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sa="google.c.a.c_id",_l="google.c.a.c_l",jd="google.c.a.ts",wg="google.c.a.e";var Eo=(()=>{return(T=Eo||(Eo={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Eo;var T})();function Ri(T){const E=new Uint8Array(T);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ec(T){const x=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),W=new Uint8Array(F.length);for(let re=0;re<F.length;++re)W[re]=F.charCodeAt(re);return W}const tc="fcm_token_details_db",Rr="fcm_token_object_Store";function $f(T){return nc.apply(this,arguments)}function nc(){return nc=(0,L.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(tc))return null;let E=null;return(yield(0,X.X3)(tc,5,function(){var F=(0,L.Z)(function*(W,re,ke,Qe){var At;if(re<2||!W.objectStoreNames.contains(Rr))return;const It=Qe.objectStore(Rr),Ut=yield It.index("fcmSenderId").get(T);if(yield It.clear(),Ut)if(2===re){const Tt=Ut;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;E={token:Tt.fcmToken,createTime:null!==(At=Tt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:Ri(Tt.vapidKey)}}}else if(3===re){const Tt=Ut;E={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Ri(Tt.auth),p256dh:Ri(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Ri(Tt.vapidKey)}}}else if(4===re){const Tt=Ut;E={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Ri(Tt.auth),p256dh:Ri(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Ri(Tt.vapidKey)}}}});return function(W,re,ke,Qe){return F.apply(this,arguments)}}())).close(),yield(0,X.Lj)(tc),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Yd(E)?E:null}),nc.apply(this,arguments)}function Yd(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:E}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Ys="firebase-messaging-store";let yl=null;function fu(){return yl||(yl=(0,X.X3)("firebase-messaging-database",1,(T,E)=>{0===E&&T.createObjectStore(Ys)})),yl}function kn(T){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,L.Z)(function*(T){const E=aa(T),F=yield(yield fu()).transaction(Ys).objectStore(Ys).get(E);if(F)return F;{const W=yield $f(T.appConfig.senderId);if(W)return yield So(T,W),W}})).apply(this,arguments)}function So(T,E){return wn.apply(this,arguments)}function wn(){return(wn=(0,L.Z)(function*(T,E){const x=aa(T),W=(yield fu()).transaction(Ys,"readwrite");return yield W.objectStore(Ys).put(E,x),yield W.complete,E})).apply(this,arguments)}function $d(T){return oa.apply(this,arguments)}function oa(){return(oa=(0,L.Z)(function*(T){const E=aa(T),F=(yield fu()).transaction(Ys,"readwrite");yield F.objectStore(Ys).delete(E),yield F.complete})).apply(this,arguments)}function aa({appConfig:T}){return T.appId}const Xn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vl(T,E){return ts.apply(this,arguments)}function ts(){return(ts=(0,L.Z)(function*(T,E){const x=yield Mo(T),F=ft(E),W={method:"POST",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(wi(T.appConfig),W)).json()}catch(ke){throw Xn.create("token-subscribe-failed",{errorInfo:ke})}if(re.error)throw Xn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Xn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function zr(T,E){return Io.apply(this,arguments)}function Io(){return(Io=(0,L.Z)(function*(T,E){const x=yield Mo(T),F=ft(E.subscriptionOptions),W={method:"PATCH",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(`${wi(T.appConfig)}/${E.token}`,W)).json()}catch(ke){throw Xn.create("token-update-failed",{errorInfo:ke})}if(re.error)throw Xn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Xn.create("token-update-no-token");return re.token})).apply(this,arguments)}function $s(T,E){return sc.apply(this,arguments)}function sc(){return(sc=(0,L.Z)(function*(T,E){const F={method:"DELETE",headers:yield Mo(T)};try{const re=yield(yield fetch(`${wi(T.appConfig)}/${E}`,F)).json();if(re.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(W){throw Xn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function wi({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Mo(T){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,L.Z)(function*({appConfig:T,installations:E}){const x=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ft({p256dh:T,auth:E,endpoint:x,vapidKey:F}){const W={web:{endpoint:x,auth:E,p256dh:T}};return F!==bi&&(W.web.applicationPubKey=F),W}const oc=6048e5;function bl(T){return ac.apply(this,arguments)}function ac(){return(ac=(0,L.Z)(function*(T){const E=yield gu(T.swRegistration,T.vapidKey),x={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:E.endpoint,auth:Ri(E.getKey("auth")),p256dh:Ri(E.getKey("p256dh"))},F=yield kn(T.firebaseDependencies);if(F){if(Pa(F.subscriptionOptions,x))return Date.now()>=F.createTime+oc?pu(T,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield $s(T.firebaseDependencies,F.token)}catch(W){console.warn(W)}return Te(T.firebaseDependencies,x)}return Te(T.firebaseDependencies,x)})).apply(this,arguments)}function lc(T){return cc.apply(this,arguments)}function cc(){return(cc=(0,L.Z)(function*(T){const E=yield kn(T.firebaseDependencies);E&&(yield $s(T.firebaseDependencies,E.token),yield $d(T.firebaseDependencies));const x=yield T.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function pu(T,E){return mu.apply(this,arguments)}function mu(){return(mu=(0,L.Z)(function*(T,E){try{const x=yield zr(T.firebaseDependencies,E),F=Object.assign(Object.assign({},E),{token:x,createTime:Date.now()});return yield So(T.firebaseDependencies,F),x}catch(x){throw yield lc(T),x}})).apply(this,arguments)}function Te(T,E){return jt.apply(this,arguments)}function jt(){return(jt=(0,L.Z)(function*(T,E){const F={token:yield vl(T,E),createTime:Date.now(),subscriptionOptions:E};return yield So(T,F),F.token})).apply(this,arguments)}function gu(T,E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,L.Z)(function*(T,E){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ec(E)})})).apply(this,arguments)}function Pa(T,E){return E.vapidKey===T.vapidKey&&E.endpoint===T.endpoint&&E.auth===T.auth&&E.p256dh===T.p256dh}function Fa(T){const E={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Di(T,E){if(!E.notification)return;T.notification={};const x=E.notification.title;x&&(T.notification.title=x);const F=E.notification.body;F&&(T.notification.body=F);const W=E.notification.image;W&&(T.notification.image=W)}(E,T),function _u(T,E){!E.data||(T.data=E.data)}(E,T),function yu(T,E){if(!E.fcmOptions)return;T.fcmOptions={};const x=E.fcmOptions.link;x&&(T.fcmOptions.link=x);const F=E.fcmOptions.analytics_label;F&&(T.fcmOptions.analyticsLabel=F)}(E,T),E}function Gd(T){return"object"==typeof T&&!!T&&sa in T}function vu(T,E){const x=[];for(let F=0;F<T.length;F++)x.push(T.charAt(F)),F<E.length&&x.push(E.charAt(F));return x.join("")}function ko(T){return Xn.create("missing-app-config-values",{valueName:T})}vu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pr{constructor(E,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function uc(T){if(!T||!T.options)throw ko("App Configuration Object");if(!T.name)throw ko("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:x}=T;for(const F of E)if(!x[F])throw ko(F);return{appName:T.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:W,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Pi(T){return dc.apply(this,arguments)}function dc(){return(dc=(0,L.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(hu,{scope:To}),T.swRegistration.update().catch(()=>{})}catch(E){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function xo(T,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,L.Z)(function*(T,E){if(!E&&!T.swRegistration&&(yield Pi(T)),E||!T.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");T.swRegistration=E}})).apply(this,arguments)}function bu(T,E){return hc.apply(this,arguments)}function hc(){return(hc=(0,L.Z)(function*(T,E){E?T.vapidKey=E:T.vapidKey||(T.vapidKey=bi)})).apply(this,arguments)}function wu(){return(wu=(0,L.Z)(function*(T,E){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield bu(T,null==E?void 0:E.vapidKey),yield xo(T,null==E?void 0:E.serviceWorkerRegistration),bl(T)})).apply(this,arguments)}function wl(T,E,x){return Va.apply(this,arguments)}function Va(){return(Va=(0,L.Z)(function*(T,E,x){const F=Du(E);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[sa],message_name:x[_l],message_time:x[jd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Du(T){switch(T){case Eo.NOTIFICATION_CLICKED:return"notification_open";case Eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Zd(){return(Zd=(0,L.Z)(function*(T,E){const x=E.data;if(!x.isFirebaseMessaging)return;T.onMessageHandler&&x.messageType===Eo.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Fa(x)):T.onMessageHandler.next(Fa(x)));const F=x.data;Gd(F)&&"1"===F[wg]&&(yield wl(T,x.messageType,F))})).apply(this,arguments)}const Tu="@firebase/messaging",qd=T=>{const E=new Pr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Cu(T,E){return Zd.apply(this,arguments)}(E,x)),E},ca=T=>{const E=T.getProvider("messaging").getImmediate();return{getToken:F=>function fc(T,E){return wu.apply(this,arguments)}(E,F)}};function zd(){return ua.apply(this,arguments)}function ua(){return(ua=(0,L.Z)(function*(){try{yield(0,X.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wd(){(0,le._registerComponent)(new pe.wA("messaging",qd,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",ca,"PRIVATE")),(0,le.registerVersion)(Tu,"0.9.11"),(0,le.registerVersion)(Tu,"0.9.11","esm2017")}();const Su="analytics",Sv="firebase_id",Dl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pc="https://www.googletagmanager.com/gtag/js",lr=new se.Yd("@firebase/analytics");function Jd(T){return Promise.all(T.map(E=>E.catch(x=>x)))}function Dg(T,E){const x=document.createElement("script");x.src=`${pc}?l=${T}&id=${E}`,x.async=!0,document.head.appendChild(x)}function Ba(T,E,x,F,W,re){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,L.Z)(function*(T,E,x,F,W,re){const ke=F[W];try{if(ke)yield E[ke];else{const At=(yield Jd(x)).find(It=>It.measurementId===W);At&&(yield E[At.appId])}}catch(Qe){lr.error(Qe)}T("config",W,re)})).apply(this,arguments)}function Mu(T,E,x,F,W){return da.apply(this,arguments)}function da(){return(da=(0,L.Z)(function*(T,E,x,F,W){try{let re=[];if(W&&W.send_to){let ke=W.send_to;Array.isArray(ke)||(ke=[ke]);const Qe=yield Jd(x);for(const At of ke){const It=Qe.find(Tt=>Tt.measurementId===At),Ut=It&&E[It.appId];if(!Ut){re=[];break}re.push(Ut)}}0===re.length&&(re=Object.values(E)),yield Promise.all(re),T("event",F,W||{})}catch(re){lr.error(re)}})).apply(this,arguments)}function Cg(){const T=window.document.getElementsByTagName("script");for(const E of Object.values(T))if(E.src&&E.src.includes(pc))return E;return null}const tr=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Sr=new class cr{constructor(E={},x=1e3){this.throttleMetadata=E,this.intervalMillis=x}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,x){this.throttleMetadata[E]=x}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Ua(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function eh(T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(T){var E;const{appId:x,apiKey:F}=T,W={method:"GET",headers:Ua(F)},re=Dl.replace("{app-id}",x),ke=yield fetch(re,W);if(200!==ke.status&&304!==ke.status){let Qe="";try{const At=yield ke.json();(null===(E=At.error)||void 0===E?void 0:E.message)&&(Qe=At.error.message)}catch(At){}throw tr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Qe})}return ke.json()})).apply(this,arguments)}function Zf(T){return rs.apply(this,arguments)}function rs(){return(rs=(0,L.Z)(function*(T,E=Sr,x){const{appId:F,apiKey:W,measurementId:re}=T.options;if(!F)throw tr.create("no-app-id");if(!W){if(re)return{measurementId:re,appId:F};throw tr.create("no-api-key")}const ke=E.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Au;return setTimeout((0,L.Z)(function*(){Qe.abort()}),void 0!==x?x:6e4),mc({appId:F,apiKey:W,measurementId:re},ke,Qe,E)})).apply(this,arguments)}function mc(T,E,x){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*(T,{throttleEndTimeMillis:E,backoffCount:x},F,W=Sr){const{appId:re,measurementId:ke}=T;try{yield Ct(F,E)}catch(Qe){if(ke)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:ke};throw Qe}try{const Qe=yield eh(T);return W.deleteThrottleMetadata(re),Qe}catch(Qe){if(!th(Qe)){if(W.deleteThrottleMetadata(re),ke)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:ke};throw Qe}const At=503===Number(Qe.customData.httpStatus)?(0,X.$s)(x,W.intervalMillis,30):(0,X.$s)(x,W.intervalMillis),It={throttleEndTimeMillis:Date.now()+At,backoffCount:x+1};return W.setThrottleMetadata(re,It),lr.debug(`Calling attemptFetch again in ${At} millis`),mc(T,It,F,W)}})).apply(this,arguments)}function Ct(T,E){return new Promise((x,F)=>{const W=Math.max(E-Date.now(),0),re=setTimeout(x,W);T.addEventListener(()=>{clearTimeout(re),F(tr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function th(T){if(!(T instanceof X.ZR&&T.customData))return!1;const E=Number(T.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Au{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function ku(){return ha.apply(this,arguments)}function ha(){return(ha=(0,L.Z)(function*(){if(!(0,X.hl)())return lr.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(T){return lr.warn(tr.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(T,E,x,F,W,re,ke){var Qe;const At=Zf(T);At.then(Yt=>{x[Yt.measurementId]=Yt.appId,T.options.measurementId&&Yt.measurementId!==T.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>lr.error(Yt)),E.push(At);const It=ku().then(Yt=>{if(Yt)return F.getId()}),[Ut,Tt]=yield Promise.all([At,It]);Cg()||Dg(re,Ut.measurementId),W("js",new Date);const Et=null!==(Qe=null==ke?void 0:ke.config)&&void 0!==Qe?Qe:{};return Et.origin="firebase",Et.update=!0,null!=Tt&&(Et[Sv]=Tt),W("config",Ut.measurementId,Et),Ut.measurementId})).apply(this,arguments)}class fa{constructor(E){this.app=E}_delete(){return delete Vi[this.app.options.appId],Promise.resolve()}}let Vi={},Lo=[];const Bi={};let Ro,vs,ys="dataLayer",Ou=!1;function is(T,E,x){!function Po(){const T=[];if((0,X.ru)()&&T.push("This is a browser extension environment."),(0,X.zI)()||T.push("Cookies are not available."),T.length>0){const E=T.map((F,W)=>`(${W+1}) ${F}`).join(" "),x=tr.create("invalid-analytics-context",{errorInfo:E});lr.warn(x.message)}}();const F=T.options.appId;if(!F)throw tr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw tr.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vi[F])throw tr.create("already-exists",{id:F});if(!Ou){!function Zs(T){let E=[];Array.isArray(window[T])?E=window[T]:window[T]=E}(ys);const{wrappedGtag:re,gtagCore:ke}=function Gf(T,E,x,F,W){let re=function(...ke){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(re=window[W]),window[W]=function Xd(T,E,x,F){function re(){return(re=(0,L.Z)(function*(ke,Qe,At){try{"event"===ke?yield Mu(T,E,x,Qe,At):"config"===ke?yield Ba(T,E,x,F,Qe,At):T("set",Qe)}catch(It){lr.error(It)}})).apply(this,arguments)}return function W(ke,Qe,At){return re.apply(this,arguments)}}(re,T,E,x),{gtagCore:re,wrappedGtag:window[W]}}(Vi,Lo,Bi,ys,"gtag");vs=re,Ro=ke,Ou=!0}return Vi[F]=function Zn(T,E,x,F,W,re,ke){return qs.apply(this,arguments)}(T,Lo,Bi,E,Ro,ys,x),new fa(T)}function Ui(){return(Ui=(0,L.Z)(function*(T,E,x,F,W){if(W&&W.global)T("event",x,F);else{const re=yield E;T("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Un(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,L.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(T){return!1}})).apply(this,arguments)}const Vo="@firebase/analytics";!function Ig(){(0,le._registerComponent)(new pe.wA(Su,(E,{options:x})=>is(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function T(E){try{const x=E.getProvider(Su).getImmediate();return{logEvent:(F,W,re)=>function Sg(T,E,x,F){T=(0,X.m9)(T),function Ha(T,E,x,F,W){return Ui.apply(this,arguments)}(vs,Vi[T.app.options.appId],E,x,F).catch(W=>lr.error(W))}(x,F,W,re)}}catch(x){throw tr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(Vo,"0.7.7"),(0,le.registerVersion)(Vo,"0.7.7","esm2017")}();var Bo=N(233),zs=N(4986),gc=N(8505),Hn=N(9468),Nu=N(5363);const pa=new o.GfV("7.3.0"),sh="__angularfire_symbol__analyticsIsSupportedValue",Cl="__angularfire_symbol__analyticsIsSupported",Ir="__angularfire_symbol__remoteConfigIsSupportedValue",ii="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",Ks="__angularfire_symbol__messagingIsSupported";function qf(T,E,x){if(E){if(1===E.length)return E[0];const re=E.filter(ke=>ke.app===x);if(1===re.length)return re[0]}return x.container.getProvider(T).getImmediate({optional:!0})}globalThis[Cl]||(globalThis[Cl]=Un().then(T=>globalThis[sh]=T).catch(()=>globalThis[sh]=!1)),globalThis[Ks]||(globalThis[Ks]=zd().then(T=>globalThis[Tl]=T).catch(()=>globalThis[Tl]=!1)),globalThis[ii]||(globalThis[ii]=ia().then(T=>globalThis[Ir]=T).catch(()=>globalThis[Ir]=!1));const Gt=(T,E)=>{const x=E?[E]:(0,K.C6)(),F=[];return x.forEach(W=>{W.container.getProvider(T).instances.forEach(ke=>{F.includes(ke)||F.push(ke)})}),F};function Js(){}class nr{constructor(E,x=Bo.N){this.zone=E,this.delegate=x}now(){return this.delegate.now()}schedule(E,x,F){const W=this.zone;return this.delegate.schedule(function(ke){W.runGuarded(()=>{E.apply(this,[ke])})},x,F)}}class _c{constructor(E){this.zone=E,this.task=null}call(E,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),x.pipe((0,gc.b)({next:F,complete:F,error:F})).subscribe(E).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uo=(()=>{class T{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new nr(Zone.current)),this.insideAngular=x.run(()=>new nr(Zone.current,zs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(x){return new(x||T)(o.LFG(o.R0b))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ho(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function El(T){return Ho(),function lh(T){return function(x){return(x=x.lift(new _c(T.ngZone))).pipe((0,Hn.R)(T.outsideAngular),(0,Nu.Q)(T.insideAngular))}}(Ho())(T)}},2090:(st,Ce,N)=>{N.d(Ce,{BH:()=>Me,LL:()=>xt,ZR:()=>ue,zI:()=>ge,US:()=>se,tV:()=>j,L:()=>ne,$s:()=>na,r3:()=>hn,Sg:()=>Ne,ne:()=>ut,vZ:()=>_o,ZB:()=>Q,Lj:()=>Zt,pd:()=>Fs,m9:()=>dt,z$:()=>Fe,jU:()=>tt,ru:()=>ze,d:()=>be,xb:()=>xr,w1:()=>we,hl:()=>z,uI:()=>fe,UG:()=>De,b$:()=>Se,G6:()=>te,Mn:()=>$e,X3:()=>ht,xO:()=>ps,zd:()=>ni,eu:()=>oe});var o=N(5861);const X=function(H){const V=[];let G=0;for(let he=0;he<H.length;he++){let J=H.charCodeAt(he);J<128?V[G++]=J:J<2048?(V[G++]=J>>6|192,V[G++]=63&J|128):55296==(64512&J)&&he+1<H.length&&56320==(64512&H.charCodeAt(he+1))?(J=65536+((1023&J)<<10)+(1023&H.charCodeAt(++he)),V[G++]=J>>18|240,V[G++]=J>>12&63|128,V[G++]=J>>6&63|128,V[G++]=63&J|128):(V[G++]=J>>12|224,V[G++]=J>>6&63|128,V[G++]=63&J|128)}return V},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let J=0;J<H.length;J+=3){const Be=H[J],Dt=J+1<H.length,nn=Dt?H[J+1]:0,Zr=J+2<H.length,Jt=Zr?H[J+2]:0;let Sn=(15&nn)<<2|Jt>>6,Er=63&Jt;Zr||(Er=64,Dt||(Sn=64)),he.push(G[Be>>2],G[(3&Be)<<4|nn>>4],G[Sn],G[Er])}return he.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(X(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let G=0,he=0;for(;G<H.length;){const J=H[G++];if(J<128)V[he++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=H[G++];V[he++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const Zr=((7&J)<<18|(63&H[G++])<<12|(63&H[G++])<<6|63&H[G++])-65536;V[he++]=String.fromCharCode(55296+(Zr>>10)),V[he++]=String.fromCharCode(56320+(1023&Zr))}else{const Be=H[G++],Dt=H[G++];V[he++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&Dt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let J=0;J<H.length;){const Be=G[H.charAt(J++)],nn=J<H.length?G[H.charAt(J)]:0;++J;const Jt=J<H.length?G[H.charAt(J)]:64;++J;const Pt=J<H.length?G[H.charAt(J)]:64;if(++J,null==Be||null==nn||null==Jt||null==Pt)throw Error();he.push(Be<<2|nn>>4),64!==Jt&&(he.push(nn<<4&240|Jt>>2),64!==Pt&&he.push(Jt<<6&192|Pt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ne=function(H){return function(H){const V=X(H);return se.encodeByteArray(V,!0)}(H).replace(/\./g,"")},j=function(H){try{return se.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!qe(G)||(H[G]=Q(H[G],V[G]));return H}function qe(H){return"__proto__"!==H}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,he)=>{G?this.reject(G):this.resolve(he),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,he))}}}function Ne(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=V||"demo-project",J=H.iat||0,Be=H.sub||H.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(Dt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function tt(){return"object"==typeof self&&self.self===self}function ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return Fe().indexOf("Electron/")>=0}function we(){const H=Fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function $e(){return Fe().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function oe(){return new Promise((H,V)=>{try{let G=!0;const he="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(he);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(he),H(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var Be;V((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch(G){V(G)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(V,G,he){super(G),this.code=V,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(V,G,he){this.service=V,this.serviceName=G,this.errors=he}create(V,...G){const he=G[0]||{},J=`${this.service}/${V}`,Be=this.errors[V],Dt=Be?function dn(H,V){return H.replace(Jn,(G,he)=>{const J=V[he];return null!=J?String(J):`<${he}?>`})}(Be,he):"Error";return new ue(J,`${this.serviceName}: ${Dt} (${J}).`,he)}}const Jn=/\{\$([^}]+)}/g;function hn(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function xr(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function _o(H,V){if(H===V)return!0;const G=Object.keys(H),he=Object.keys(V);for(const J of G){if(!he.includes(J))return!1;const Be=H[J],Dt=V[J];if(ti(Be)&&ti(Dt)){if(!_o(Be,Dt))return!1}else if(Be!==Dt)return!1}for(const J of he)if(!G.includes(J))return!1;return!0}function ti(H){return null!==H&&"object"==typeof H}function ps(H){const V=[];for(const[G,he]of Object.entries(H))Array.isArray(he)?he.forEach(J=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(he));return V.length?"&"+V.join("&"):""}function ni(H){const V={};return H.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[J,Be]=he.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Be)}}),V}function Fs(H){const V=H.indexOf("?");if(!V)return"";const G=H.indexOf("#",V);return H.substring(V,G>0?G:void 0)}function ut(H,V){const G=new _i(H,V);return G.subscribe.bind(G)}class _i{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(he=>{this.error(he)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,he){let J;if(void 0===V&&void 0===G&&void 0===he)throw new Error("Missing Observer.");J=function gr(H,V){if("object"!=typeof H||null===H)return!1;for(const G of V)if(G in H&&"function"==typeof H[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:he},void 0===J.next&&(J.next=Ni),void 0===J.error&&(J.error=Ni),void 0===J.complete&&(J.complete=Ni);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(Dt){}}),this.observers.push(J),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ni(){}function na(H,V=1e3,G=2){const he=V*Math.pow(G,H),J=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+J)}function dt(H){return H&&H._delegate?H._delegate:H}function Gr(H,V){return new Promise((G,he)=>{H.onsuccess=J=>{G(J.target.result)},H.onerror=J=>{var Be;he(`${V}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class $t{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,G){return new Ke(this._db.transaction.call(this._db,V,G))}createObjectStore(V,G){return new Ie(this._db.createObjectStore(V,G))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise((G,he)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new Je(this._store.index(V))}createIndex(V,G,he){return new Je(this._store.createIndex(V,G,he))}get(V){return Gr(this._store.get(V),"Error reading from IndexedDB")}put(V,G){return Gr(this._store.put(V,G),"Error writing to IndexedDB")}delete(V){return Gr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Gr(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(V){this._index=V}get(V){return Gr(this._index.get(V),"Error reading from IndexedDB")}}function ht(H,V,G){return new Promise((he,J)=>{try{const Be=indexedDB.open(H,V);Be.onsuccess=Dt=>{he(new $t(Dt.target.result))},Be.onerror=Dt=>{var nn;J(`Error opening indexedDB: ${null===(nn=Dt.target.error)||void 0===nn?void 0:nn.message}`)},Be.onupgradeneeded=Dt=>{G(new $t(Be.result),Dt.oldVersion,Dt.newVersion,new Ke(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function Zt(H){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,o.Z)(function*(H){return new Promise((V,G)=>{try{const he=indexedDB.deleteDatabase(H);he.onsuccess=()=>{V()},he.onerror=J=>{var Be;G(`Error deleting indexedDB database "${H}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(he){G(`Error deleting indexedDB database "${H}": ${he.message}`)}})})).apply(this,arguments)}},6769:(st,Ce,N)=>{var o=N(5e3);let K=null;function L(){return K}const se=new o.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ne(){return(0,o.LFG)(Y)}()},providedIn:"platform"}),n})();const j=new o.OlP("Location Initialized");let Y=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function qe(){return new Y((0,o.LFG)(se))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function De(n){const e=(0,o.LFG)(se).location;return new ze((0,o.LFG)(ie),e&&e.origin||"")}()},providedIn:"root"}),n})();const tt=new o.OlP("appBaseHref");let ze=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const u=this.prepareExternalUrl(i+Fe(l));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){const u=this.prepareExternalUrl(i+Fe(l));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ie),o.LFG(tt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let u=this.prepareExternalUrl(i+Fe(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){let u=this.prepareExternalUrl(i+Fe(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ie),o.LFG(tt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(je(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Me,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(o.LFG(fe),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function we(){return new be((0,o.LFG)(fe),(0,o.LFG)(ie))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function yn(n,e){return Cr((0,o.cg1)(n)[o.wAp.DateFormat],e)}function Ps(n,e){return Cr((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function hn(n,e){return Cr((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function zt(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(void 0===r){if(e===ue.CurrencyDecimal)return t[o.wAp.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[o.wAp.NumberSymbols][ue.Group]}return r}function Fs(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function gr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Tr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yo={},fl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.ShortGMT=1]="ShortGMT",Kt[Kt.Long=2]="Long",Kt[Kt.Extended=3]="Extended",Kt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Mt=(()=>((Mt=Mt||{})[Mt.DayPeriods=0]="DayPeriods",Mt[Mt.Days=1]="Days",Mt[Mt.Months=2]="Months",Mt[Mt.Eras=3]="Eras",Mt))();function Or(n,e,t,r){let i=function nn(n){if(Jt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,u=1]=n.split("-").map(f=>+f);return ms(i,l-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Tr))return function Zr(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,u,f,_,D),e}(r)}const e=new Date(n);if(!Jt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=qt(t,e)||e;let f,u=[];for(;e;){if(f=fl.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const S=u.pop();if(!S)break;e=S}}let _=i.getTimezoneOffset();r&&(_=J(r,_),i=function Dt(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(J(e,i)-i))}(i,r,!0));let D="";return u.forEach(S=>{const A=function he(n){if(G[n])return G[n];let e;switch(n){case"G":case"GG":case"GGG":e=$t(Mt.Eras,ae.Abbreviated);break;case"GGGG":e=$t(Mt.Eras,ae.Wide);break;case"GGGGG":e=$t(Mt.Eras,ae.Narrow);break;case"y":e=dt(ot.FullYear,1,0,!1,!0);break;case"yy":e=dt(ot.FullYear,2,0,!0,!0);break;case"yyy":e=dt(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=dt(ot.Month,1,1);break;case"MM":case"LL":e=dt(ot.Month,2,1);break;case"MMM":e=$t(Mt.Months,ae.Abbreviated);break;case"MMMM":e=$t(Mt.Months,ae.Wide);break;case"MMMMM":e=$t(Mt.Months,ae.Narrow);break;case"LLL":e=$t(Mt.Months,ae.Abbreviated,ge.Standalone);break;case"LLLL":e=$t(Mt.Months,ae.Wide,ge.Standalone);break;case"LLLLL":e=$t(Mt.Months,ae.Narrow,ge.Standalone);break;case"w":e=H(1);break;case"ww":e=H(2);break;case"W":e=H(1,!0);break;case"d":e=dt(ot.Date,1);break;case"dd":e=dt(ot.Date,2);break;case"c":case"cc":e=dt(ot.Day,1);break;case"ccc":e=$t(Mt.Days,ae.Abbreviated,ge.Standalone);break;case"cccc":e=$t(Mt.Days,ae.Wide,ge.Standalone);break;case"ccccc":e=$t(Mt.Days,ae.Narrow,ge.Standalone);break;case"cccccc":e=$t(Mt.Days,ae.Short,ge.Standalone);break;case"E":case"EE":case"EEE":e=$t(Mt.Days,ae.Abbreviated);break;case"EEEE":e=$t(Mt.Days,ae.Wide);break;case"EEEEE":e=$t(Mt.Days,ae.Narrow);break;case"EEEEEE":e=$t(Mt.Days,ae.Short);break;case"a":case"aa":case"aaa":e=$t(Mt.DayPeriods,ae.Abbreviated);break;case"aaaa":e=$t(Mt.DayPeriods,ae.Wide);break;case"aaaaa":e=$t(Mt.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=$t(Mt.DayPeriods,ae.Abbreviated,ge.Standalone,!0);break;case"bbbb":e=$t(Mt.DayPeriods,ae.Wide,ge.Standalone,!0);break;case"bbbbb":e=$t(Mt.DayPeriods,ae.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=$t(Mt.DayPeriods,ae.Abbreviated,ge.Format,!0);break;case"BBBB":e=$t(Mt.DayPeriods,ae.Wide,ge.Format,!0);break;case"BBBBB":e=$t(Mt.DayPeriods,ae.Narrow,ge.Format,!0);break;case"h":e=dt(ot.Hours,1,-12);break;case"hh":e=dt(ot.Hours,2,-12);break;case"H":e=dt(ot.Hours,1);break;case"HH":e=dt(ot.Hours,2);break;case"m":e=dt(ot.Minutes,1);break;case"mm":e=dt(ot.Minutes,2);break;case"s":e=dt(ot.Seconds,1);break;case"ss":e=dt(ot.Seconds,2);break;case"S":e=dt(ot.FractionalSeconds,1);break;case"SS":e=dt(ot.FractionalSeconds,2);break;case"SSS":e=dt(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ie(Kt.Short);break;case"ZZZZZ":e=Ie(Kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ie(Kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ie(Kt.Long);break;default:return null}return G[n]=e,e}(S);D+=A?A(i,t,_):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function ms(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qt(n,e){const t=function dn(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(yo[t]=yo[t]||{},yo[t][e])return yo[t][e];let r="";switch(e){case"shortDate":r=yn(n,xe.Short);break;case"mediumDate":r=yn(n,xe.Medium);break;case"longDate":r=yn(n,xe.Long);break;case"fullDate":r=yn(n,xe.Full);break;case"shortTime":r=Ps(n,xe.Short);break;case"mediumTime":r=Ps(n,xe.Medium);break;case"longTime":r=Ps(n,xe.Long);break;case"fullTime":r=Ps(n,xe.Full);break;case"short":const i=qt(n,"shortTime"),l=qt(n,"shortDate");r=na(hn(n,xe.Short),[i,l]);break;case"medium":const u=qt(n,"mediumTime"),f=qt(n,"mediumDate");r=na(hn(n,xe.Medium),[u,f]);break;case"long":const _=qt(n,"longTime"),D=qt(n,"longDate");r=na(hn(n,xe.Long),[_,D]);break;case"full":const S=qt(n,"fullTime"),A=qt(n,"fullDate");r=na(hn(n,xe.Full),[S,A])}return r&&(yo[t][e]=r),r}function na(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function $r(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let u=String(n);for(;u.length<e;)u="0"+u;return r&&(u=u.substr(u.length-e)),l+u}function dt(n,e,t=0,r=!1,i=!1){return function(l,u){let f=function Gr(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===ot.Hours)0===f&&-12===t&&(f=12);else if(n===ot.FractionalSeconds)return function Nr(n,e){return $r(n,3).substr(0,e)}(f,e);const _=zt(u,ue.MinusSign);return $r(f,e,_,r,i)}}function $t(n,e,t=ge.Format,r=!1){return function(i,l){return function Ke(n,e,t,r,i,l){switch(t){case Mt.Months:return function wt(n,e,t){const r=(0,o.cg1)(n),l=Cr([r[o.wAp.MonthsFormat],r[o.wAp.MonthsStandalone]],e);return Cr(l,t)}(e,i,r)[n.getMonth()];case Mt.Days:return function lt(n,e,t){const r=(0,o.cg1)(n),l=Cr([r[o.wAp.DaysFormat],r[o.wAp.DaysStandalone]],e);return Cr(l,t)}(e,i,r)[n.getDay()];case Mt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(l){const D=function Vs(n){const e=(0,o.cg1)(n);return Fs(e),(e[o.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?gr(r):[gr(r[0]),gr(r[1])])}(e),S=function ut(n,e,t){const r=(0,o.cg1)(n);Fs(r);const l=Cr([r[o.wAp.ExtraData][0],r[o.wAp.ExtraData][1]],e)||[];return Cr(l,t)||[]}(e,i,r),A=D.findIndex(R=>{if(Array.isArray(R)){const[B,$]=R,ee=u>=B.hours&&f>=B.minutes,_e=u<$.hours||u===$.hours&&f<$.minutes;if(B.hours<$.hours){if(ee&&_e)return!0}else if(ee||_e)return!0}else if(R.hours===u&&R.minutes===f)return!0;return!1});if(-1!==A)return S[A]}return function Jn(n,e,t){const r=(0,o.cg1)(n),l=Cr([r[o.wAp.DayPeriodsFormat],r[o.wAp.DayPeriodsStandalone]],e);return Cr(l,t)}(e,i,r)[u<12?0:1];case Mt.Eras:return function Dn(n,e){return Cr((0,o.cg1)(n)[o.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Ie(n){return function(e,t,r){const i=-1*r,l=zt(t,ue.MinusSign),u=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Kt.Short:return(i>=0?"+":"")+$r(u,2,l)+$r(Math.abs(i%60),2,l);case Kt.ShortGMT:return"GMT"+(i>=0?"+":"")+$r(u,1,l);case Kt.Long:return"GMT"+(i>=0?"+":"")+$r(u,2,l)+":"+$r(Math.abs(i%60),2,l);case Kt.Extended:return 0===r?"Z":(i>=0?"+":"")+$r(u,2,l)+":"+$r(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ht(n){return ms(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function H(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();i=1+Math.floor((u+l)/7)}else{const l=Ht(t),u=function Zt(n){const e=ms(n,0,1).getDay();return ms(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),f=l.getTime()-u.getTime();i=1+Math.round(f/6048e5)}return $r(i,n,zt(r,ue.MinusSign))}}function V(n,e=!1){return function(t,r){return $r(Ht(t).getFullYear(),n,zt(r,ue.MinusSign),e)}}const G={};function J(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Jt(n){return n instanceof Date&&!isNaN(n.valueOf())}let _s=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class wo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wo(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,u),Us(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Us(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Us(n,e){n.context.$implicit=e.item}let Qt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function zl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class Kl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let yi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ri=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Kl(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(yi,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function ar(n,e){return new o.vHH(2100,"")}class Vd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class _g{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const js=new _g,yg=new Vd;let Vn=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,o.QGY)(t))return js;if((0,o.F4k)(t))return yg;throw ar()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})();const bg=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ud=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,l){var u;if(null==t||""===t||t!=t)return null;try{return Or(t,r,l||this.locale,null!==(u=null!=i?i:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(f){throw ar()}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.soG,16),o.Y36(bg,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Bt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Eo="browser";function qr(n){return n===Eo}function Rr(n){return"server"===n}let rc=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new ic((0,o.LFG)(se),window)}),n})();class ic{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ys(this.window.history)||Ys(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ys(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class So extends class Ra extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new So)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $d(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function aa(n){oa=oa||document.createElement("a"),oa.setAttribute("href",n);const e=oa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Oa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let oa,wn=null;const Wr=new o.OlP("TRANSITION_ID"),vl=[{provide:o.ip1,useFactory:function Xn(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Wr,se,o.zs3],multi:!0}];class ts{static init(){(0,o.VLi)(new ts)}addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let l=i.length,u=!1;const f=function(_){u=u||_,l--,0==l&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=new o.OlP("EventManagerPlugins");let $s=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const u=i[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Io),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class sc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Mo=(()=>{class n extends wi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ao),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ao))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ao(n){L().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oc=/%COMP%/g;function Te(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Te(n,i,t):(i=i.replace(oc,n),t.push(i))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ln=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Pa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case o.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _u(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case o.ifc.ShadowDom:return new yu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Te(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG($s),o.LFG(Mo),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Pa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ft[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ft[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(r)):this.eventManager.addEventListener(e,t,jt(r))}}class _u extends Pa{constructor(e,t,r,i){super(e),this.component=r;const l=Te(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function pu(n){return"_ngcontent-%COMP%".replace(oc,n)}(i+"-"+r.id),this.hostAttr=function mu(n){return"_nghost-%COMP%".replace(oc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yu extends Pa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Te(i.id,i.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gd=(()=>{class n extends sc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const vu=["alt","control","meta","shift"],ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dc=(()=>{class n extends sc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),u=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let u="";if(vu.forEach(_=>{const D=r.indexOf(_);D>-1&&(r.splice(D,1),u+=_+".")}),u+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function xo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Pr.hasOwnProperty(e)&&(e=Pr[e]))}return ko[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vu.forEach(l=>{l!=i&&Pi[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wu=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Eo},{provide:o.g9A,useValue:function ns(){So.makeCurrent(),ts.init()},multi:!0},{provide:se,useFactory:function hc(){return(0,o.RDi)(document),document},deps:[]}]),wl=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function bu(){return new o.qLn},deps:[]},{provide:Io,useClass:Gd,multi:!0,deps:[se,o.R0b,o.Lbi]},{provide:Io,useClass:dc,multi:!0,deps:[se]},{provide:Ln,useClass:Ln,deps:[$s,Mo,o.AFp]},{provide:o.FYo,useExisting:Ln},{provide:wi,useExisting:Mo},{provide:Mo,useClass:Mo,deps:[se]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:$s,useClass:$s,deps:[Io,o.R0b]},{provide:class kn{},useClass:zr,deps:[]}];let Va=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Wr,useExisting:o.AFp},vl]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:wl,imports:[Bt,o.hGG]}),n})();"undefined"!=typeof window&&window;var er=N(8996),tr=N(3269);function pt(...n){const e=(0,tr.yG)(n);return(0,er.D)(n,e)}var Bn=N(7579);class cr extends Bn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Sr=N(8306);const{isArray:Ua}=Array,{getPrototypeOf:eh,prototype:Mn,keys:Zf}=Object;function rs(n){if(1===n.length){const e=n[0];if(Ua(e))return{args:e,keys:null};if(function mc(n){return n&&"object"==typeof n&&eh(n)===Mn}(e)){const t=Zf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Fi=N(4671),Ct=N(4004);const{isArray:th}=Array;function ku(n){return(0,Ct.U)(e=>function Au(n,e){return th(e)?n(...e):n(e)}(n,e))}function ha(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Zn=N(5403),qs=N(9672);function fa(...n){const e=(0,tr.yG)(n),t=(0,tr.jO)(n),{args:r,keys:i}=rs(n);if(0===r.length)return(0,er.D)([],e);const l=new Sr.y(function Vi(n,e,t=Fi.y){return r=>{Lo(e,()=>{const{length:i}=n,l=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)Lo(e,()=>{const D=(0,er.D)(n[_],e);let S=!1;D.subscribe((0,Zn.x)(r,A=>{l[_]=A,S||(S=!0,f--),f||r.next(t(l.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>ha(i,u):Fi.y));return t?l.pipe(ku(t)):l}function Lo(n,e,t){n?(0,qs.f)(t,n,e):e()}var Bi=N(576);function ys(n,e){const t=(0,Bi.m)(n)?n:()=>n,r=i=>i.error(t());return new Sr.y(e?i=>e.schedule(r,0,i):r)}const Ro=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vs=N(8189);function nh(...n){return function Ou(){return(0,vs.J)(1)}()((0,er.D)(n,(0,tr.yG)(n)))}var Po=N(8421);function is(n){return new Sr.y(e=>{(0,Po.Xf)(n()).subscribe(e)})}var Ha=N(515),Ui=N(727),Fr=N(4482);function ss(){return(0,Fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rh extends Sr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ui.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ui.w0.EMPTY)}return e}refCount(){return ss()(this)}}function sn(n,e){return(0,Fr.e)((t,r)=>{let i=null,l=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,Zn.x)(r,_=>{null==i||i.unsubscribe();let D=0;const S=l++;(0,Po.Xf)(n(_,S)).subscribe(i=(0,Zn.x)(r,A=>r.next(e?e(_,A,S,D++):A),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var Ws=N(5698);function Ci(...n){const e=(0,tr.yG)(n);return(0,Fr.e)((t,r)=>{(e?nh(n,t,e):nh(n,t)).subscribe(r)})}function ja(n,e,t,r,i){return(l,u)=>{let f=t,_=e,D=0;l.subscribe((0,Zn.x)(u,S=>{const A=D++;_=f?n(_,S,A):(f=!0,S),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}function Vr(n,e){return(0,Fr.e)(ja(n,e,arguments.length>=2,!0))}function xn(n,e){return(0,Fr.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function bs(n){return(0,Fr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Zn.x)(t,void 0,void 0,u=>{l=(0,Po.Xf)(n(u,bs(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Un=N(5577);function Fo(n,e){return(0,Bi.m)(e)?(0,Un.z)(n,e,1):(0,Un.z)(n,1)}function ih(n){return n<=0?()=>Ha.E:(0,Fr.e)((e,t)=>{let r=[];e.subscribe((0,Zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qn(n=Tg){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Tg(){return new Ro}function Eg(n){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,l)=>n(i,l,r)):Fi.y,(0,Ws.q)(1),t?Eg(e):qn(()=>new Ro))}var Ti=N(8505);class Bo{constructor(e,t){this.id=e,this.url=t}}class zs extends Bo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends Bo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hn extends Bo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nu extends Bo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pa extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sh extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cl extends Bo{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends Bo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ma{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oh{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mg{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class Js{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nr(n){return new Js(n)}const _c="ngNavigationCancelingError";function Uo(n){const e=Error("NavigationCancelingError: "+n);return e[_c]=!0,e}function ah(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const u=r[l],f=n[l];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Lu(n[i],e[i]))return!1;return!0}function Lu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function El(n){return Array.prototype.concat.apply([],n)}function lh(n){return n.length>0?n[n.length-1]:null}function yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function T(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,er.D)(Promise.resolve(n)):pt(n)}const x={exact:function ke(n,e,t){if(!as(n.segments,e.segments)||!Ut(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ke(n.children[r],e.children[r],t))return!1;return!0},subset:At},F={exact:function re(n,e){return Xs(n,e)},subset:function Qe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lu(n[t],e[t]))},ignored:()=>!0};function W(n,e,t){return x[t.paths](n.root,e.root,t.matrixParams)&&F[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function At(n,e,t){return It(n,e,e.segments,t)}function It(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!as(i,t)||e.hasChildren()||!Ut(i,t,r))}if(n.segments.length===t.length){if(!as(n.segments,t)||!Ut(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!At(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(as(n.segments,i)&&Ut(n.segments,i,r)&&n.children[Gt])&&It(n.children[Gt],e,l,r)}}function Ut(n,e,t){return e.every((r,i)=>F[t](n[i].parameters,r.parameters))}class Tt{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return vc.serialize(this)}}class Et{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ru(this)}}class Yt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return Il(this)}}function as(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class si{}class ws{parse(e){const t=new uh(e);return new Tt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jo(e.root,!0)}`,r=function Iv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wc(t)}=${wc(i)}`).join("&"):`${wc(t)}=${wc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Dc(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vc=new ws;function Ru(n){return n.segments.map(e=>Il(e)).join("/")}function jo(n,e){if(!n.hasChildren())return Ru(n);if(e){const t=n.children[Gt]?jo(n.children[Gt],!1):"",r=[];return yr(n.children,(i,l)=>{l!==Gt&&r.push(`${l}:${jo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ga(n,e){let t=[];return yr(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),yr(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[jo(n.children[Gt],!1)]:[`${i}:${jo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Ru(n)}/${t[0]}`:`${Ru(n)}/(${t.join("//")})`}}function bc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(n){return bc(n).replace(/%3B/gi,";")}function ch(n){return bc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(n){return decodeURIComponent(n)}function Fu(n){return Pu(n.replace(/\+/g,"%20"))}function Il(n){return`${ch(n.path)}${function Ag(n){return Object.keys(n).map(e=>`;${ch(e)}=${ch(n[e])}`).join("")}(n.parameters)}`}const Mv=/^[^\/()?;=#]+/;function eo(n){const e=n.match(Mv);return e?e[0]:""}const Vu=/^[^=?&#]+/,kv=/^[^&#]+/;class uh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new Et(e,t)),r}parseSegment(){const e=eo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yt(Pu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eo(this.remaining);i&&(r=i,this.capture(r))}e[Pu(t)]=Pu(r)}parseQueryParam(e){const t=function Av(n){const e=n.match(Vu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function kg(n){const e=n.match(kv);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Fu(t),l=Fu(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Gt);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[Gt]:new Et([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=zf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zf(e,this._root).map(t=>t.value)}}function Wf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wf(n,t);if(r)return r}return null}function zf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=zf(n,t);if(r.length)return r.unshift(e),r}return[]}class _a{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dh extends xv{constructor(e,t){super(e),this.snapshot=t,fh(this,e)}toString(){return this.snapshot.toString()}}function Ml(n,e){const t=function Ov(n,e){const u=new Cc([],{},{},"",{},Gt,e,null,n.root,-1,{});return new Kf("",new _a(u,[]))}(n,e),r=new cr([new Yt("",{})]),i=new cr({}),l=new cr({}),u=new cr({}),f=new cr(""),_=new Ya(r,i,u,f,l,Gt,e,t.root);return _.snapshot=t.root,new dh(new _a(_,[]),t)}class Ya{constructor(e,t,r,i,l,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>nr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>nr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function hh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cc{constructor(e,t,r,i,l,u,f,_,D,S,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=S,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kf extends xv{constructor(e,t){super(t),this.url=e,fh(this,t)}toString(){return ph(this._root)}}function fh(n,e){e.value._routerState=n,e.children.forEach(t=>fh(n,t))}function ph(n){const e=n.children.length>0?` { ${n.children.map(ph).join(", ")} } `:"";return`${n.value}${e}`}function mh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xs(e.params,t.params)||n.params.next(t.params),function Qs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jf(n,e){const t=Xs(n.params,e.params)&&function Sl(n,e){return as(n,e)&&n.every((t,r)=>Xs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Jf(n.parent,e.parent))}function Bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Qf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bu(n,r,i);return Bu(n,r)})}(n,e,t);return new _a(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Bu(n,f)),u}}const r=function Rv(n){return new Ya(new cr(n.url),new cr(n.params),new cr(n.queryParams),new cr(n.fragment),new cr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Bu(n,l));return new _a(r,i)}}function $a(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tc(n){return"object"==typeof n&&null!=n&&n.outlets}function xg(n,e,t,r,i){let l={};if(r&&yr(r,(f,_)=>{l[_]=Array.isArray(f)?f.map(D=>`${D}`):`${f}`}),n===e)return new Tt(t,l,i);const u=Xf(n,e,t);return new Tt(u,l,i)}function Xf(n,e,t){const r={};return yr(n.children,(i,l)=>{r[l]=i===e?t:Xf(i,e,t)}),new Et(n.segments,r)}class Pv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$a(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Tc);if(i&&i!==lh(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ep{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uv(n,e,t){if(n||(n=new Et([],{})),0===n.segments.length&&n.hasChildren())return $o(n,e,t);const r=function ED(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const u=n.segments[i],f=t[r];if(Tc(f))break;const _=`${f}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!ls(_,D,u))return l;r+=2}else{if(!ls(_,{},u))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Et(n.segments.slice(0,r.pathIndex),{});return l.children[Gt]=new Et(n.segments.slice(r.pathIndex),n.children),$o(l,0,i)}return r.match&&0===i.length?new Et(n.segments,{}):r.match&&!n.hasChildren()?tp(n,e,t):r.match?$o(n,0,i):tp(n,e,t)}function $o(n,e,t){if(0===t.length)return new Et(n.segments,{});{const r=function Bv(n){return Tc(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return yr(r,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Uv(n.children[u],e,l))}),yr(n.children,(l,u)=>{void 0===r[u]&&(i[u]=l)}),new Et(n.segments,i)}}function tp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Tc(l)){const _=Ec(l.outlets);return new Et(r,_)}if(0===i&&$a(t[0])){r.push(new Yt(n.segments[e].path,np(t[0]))),i++;continue}const u=Tc(l)?l.outlets[Gt]:`${l}`,f=i<t.length-1?t[i+1]:null;u&&f&&$a(f)?(r.push(new Yt(u,np(f))),i+=2):(r.push(new Yt(u,{})),i++)}return new Et(r,{})}function Ec(n){const e={};return yr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=tp(new Et([],{}),0,t))}),e}function np(n){const e={};return yr(n,(t,r)=>e[r]=`${t}`),e}function ls(n,e,t){return n==t.path&&Xs(e,t.parameters)}class Ng{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,i[u],r),delete i[u]}),yr(i,(l,u)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=ya(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=ya(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Mg(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ma(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(mh(i),i===l)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),mh(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function gh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=_,u.outlet&&u.outlet.activateWith(i,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class _h{constructor(e,t){this.routes=e,this.module=t}}function Al(n){return"function"==typeof n}function Sc(n){return n instanceof Tt}const Hu=Symbol("INITIAL_VALUE");function Ga(){return sn(n=>fa(n.map(e=>e.pipe((0,Ws.q)(1),Ci(Hu)))).pipe(Vr((e,t)=>{let r=!1;return t.reduce((i,l,u)=>i!==Hu?i:(l===Hu&&(r=!0),r||!1!==l&&u!==t.length-1&&!Sc(l)?i:l),e)},Hu),xn(e=>e!==Hu),(0,Ct.U)(e=>Sc(e)?e:!0===e),(0,Ws.q)(1)))}class Hv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ju,this.attachRef=null}}class ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ic=(()=>{class n{constructor(t,r,i,l,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=l||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new op(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ju),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class op{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ya?this.route:e===ju?this.childContexts:this.parent.get(e,t)}}let ap=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"router-outlet")},directives:[Ic],encapsulation:2}),n})();function Yu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];yh(r,lp(e,r))}}function yh(n,e){n.children&&Yu(n.children,e)}function lp(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cp(n){const e=n.children&&n.children.map(cp),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=ap),t}function pn(n){return n.outlet||Gt}function up(n,e){const t=n.filter(r=>pn(r)===e);return t.push(...n.filter(r=>pn(r)!==e)),t}const Rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mc(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Rg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||ah)(t,n,e);if(!l)return Object.assign({},Rg);const u={};yr(l.posParams,(_,D)=>{u[D]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function $u(n,e,t,r,i="corrected"){if(t.length>0&&function Yv(n,e,t){return t.some(r=>bh(n,e,r)&&pn(r)!==Gt)}(n,t,r)){const u=new Et(e,function vh(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&pn(l)!==Gt){const u=new Et([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[pn(l)]=u}return i}(n,e,r,new Et(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Pg(n,e,t){return t.some(r=>bh(n,e,r))}(n,t,r)){const u=new Et(n.segments,function jv(n,e,t,r,i,l){const u={};for(const f of r)if(bh(n,t,f)&&!i[pn(f)]){const _=new Et([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,u[pn(f)]=_}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const l=new Et(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function bh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $v(n,e,t,r){return!!(pn(n)===r||r!==Gt&&bh(e,t,n))&&("**"===n.path||Mc(e,n,t).matched)}function Gv(n,e,t){return 0===e.length&&!n.children[t]}class Za{constructor(e){this.segmentGroup=e||null}}class Jr{constructor(e){this.urlTree=e}}function va(n){return ys(new Za(n))}function Gu(n){return ys(new Jr(n))}class hp{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(o.h0i)}apply(){const e=$u(this.urlTree.root,[],[],this.config).segmentGroup,t=new Et(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,Ct.U)(l=>this.createUrlTree(xl(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bs(l=>{if(l instanceof Jr)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Za?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,Ct.U)(i=>this.createUrlTree(xl(i),e.queryParams,e.fragment))).pipe(bs(i=>{throw i instanceof Za?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Et([],{[Gt]:e}):e;return new Tt(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(l=>new Et([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,er.D)(i).pipe(Fo(l=>{const u=r.children[l],f=up(t,l);return this.expandSegmentGroup(e,f,u,l).pipe((0,Ct.U)(_=>({segment:_,outlet:l})))}),Vr((l,u)=>(l[u.outlet]=u.segment,l),{}),function Sg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,l)=>n(i,l,r)):Fi.y,ih(1),t?Eg(e):qn(()=>new Ro))}())}expandSegment(e,t,r,i,l,u){return(0,er.D)(r).pipe(Fo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,u).pipe(bs(D=>{if(D instanceof Za)return pt(null);throw D}))),Vo(f=>!!f),bs((f,_)=>{if(f instanceof Ro||"EmptyError"===f.name)return Gv(t,i,l)?pt(new Et([],{})):va(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,u,f){return $v(i,t,l,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u):va(t):va(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Gu(l):this.lineralizeSegments(r,l).pipe((0,Un.z)(u=>{const f=new Et(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){const{matched:f,consumedSegments:_,remainingSegments:D,positionalParamSegments:S}=Mc(t,i,l);if(!f)return va(t);const A=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?Gu(A):this.lineralizeSegments(i,A).pipe((0,Un.z)(R=>this.expandSegment(e,t,r,R.concat(D),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ct.U)(A=>(r._loadedConfig=A,new Et(i,{})))):pt(new Et(i,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=Mc(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,Un.z)(S=>{const A=S.module,R=S.routes,{segmentGroup:B,slicedSegments:$}=$u(t,f,_,R),ee=new Et(B.segments,B.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(A,R,ee).pipe((0,Ct.U)(We=>new Et(f,We)));if(0===R.length&&0===$.length)return pt(new Et(f,{}));const _e=pn(r)===l;return this.expandSegment(A,ee,R,$,_e?Gt:l,!0).pipe((0,Ct.U)(Oe=>new Et(f.concat(Oe.segments),Oe.children)))})):va(t)}getChildConfig(e,t,r){return t.children?pt(new _h(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Un.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ct.U)(l=>(t._loadedConfig=l,l))):function oi(n){return ys(Uo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):pt(new _h([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?pt(i.map(u=>{const f=e.get(u);let _;if(function rp(n){return n&&Al(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Al(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return T(_)})).pipe(Ga(),(0,Ti.b)(u=>{if(!Sc(u))return;const f=Uo(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,Ct.U)(u=>!0===u)):pt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pt(r);if(i.numberOfChildren>1||!i.children[Gt])return ys(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Tt(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let u={};return yr(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new Et(l,u)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function xl(n){const e={};for(const r of Object.keys(n.children)){const l=xl(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function cs(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new Et(n.segments.concat(e.segments),e.children)}return n}(new Et(n.segments,e))}class Fg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ol{constructor(e,t){this.component=e,this.route=t}}function pp(n,e,t){const r=n._root;return Hi(r,e?e._root:null,t,[r.value])}function Zu(n,e,t){const r=function Zv(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Hi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=ya(e);return n.children.forEach(u=>{(function Bg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const _=function qv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!as(n.url,e.url);case"pathParamsOrQueryParamsChange":return!as(n.url,e.url)||!Xs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jf(n,e)||!Xs(n.queryParams,e.queryParams);default:return!Jf(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Fg(r)):(l.data=u.data,l._resolvedData=u._resolvedData),Hi(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ol(f.outlet.component,u))}else u&&Nl(e,f,i),i.canActivateChecks.push(new Fg(r)),Hi(n,null,l.component?f?f.children:null:t,r,i)})(u,l[u.value.outlet],t,r.concat([u.value]),i),delete l[u.value.outlet]}),yr(l,(u,f)=>Nl(u,t.getContext(f),i)),i}function Nl(n,e,t){const r=ya(n),i=n.value;yr(r,(l,u)=>{Nl(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ol(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class _p{}function yp(n){return new Sr.y(e=>e.error(n))}class vp{constructor(e,t,r,i,l,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const e=$u(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const r=new Cc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _a(r,t),l=new Kf(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Nv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const u=t.children[l],f=up(e,l),_=this.processSegmentGroup(f,u,l);if(null===_)return null;r.push(..._)}const i=jg(r);return function Jv(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const u=this.processSegmentAgainstRoute(l,t,r,i);if(null!==u)return u}return Gv(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!$v(e,t,r,i))return null;let l,u=[],f=[];if("**"===e.path){const B=r.length>0?lh(r).parameters:{};l=new Cc(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),pn(e),e.component,e,p(t),g(t)+r.length,I(e))}else{const B=Mc(t,e,r);if(!B.matched)return null;u=B.consumedSegments,f=B.remainingSegments,l=new Cc(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),pn(e),e.component,e,p(t),g(t)+u.length,I(e))}const _=function Qv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:S}=$u(t,u,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&D.hasChildren()){const B=this.processChildren(_,D);return null===B?null:[new _a(l,B)]}if(0===_.length&&0===S.length)return[new _a(l,[])];const A=pn(e)===i,R=this.processSegment(_,D,S,A?Gt:i);return null===R?null:[new _a(l,R)]}}function Hg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jg(n){const e=[],t=new Set;for(const r of n){if(!Hg(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jg(r.children);e.push(new _a(r.value,i))}return e.filter(r=>!t.has(r))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function I(n){return n.resolve||{}}function Xe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return sn(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,Ct.U)(()=>e)):pt(e)})}class Wu extends class Ds{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ac=new o.OlP("ROUTES");class kc{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ct.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=l.create(e);return new _h(El(u.injector.get(Ac,void 0,o.XFs.Self|o.XFs.Optional)).map(cp),u)}),bs(l=>{throw t._loader$=void 0,l}));return t._loader$=new rh(i,()=>new Bn.x).pipe(ss()),t._loader$}loadModuleFactory(e){return T(e()).pipe((0,Un.z)(t=>t instanceof o.YKP?pt(t):(0,er.D)(this.compiler.compileModuleAsync(t))))}}class Xv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function qa(n){throw n}function wh(n,e,t){return e.parse("/")}function Dh(n,e){return pt(null)}const wp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ch={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class n{constructor(t,r,i,l,u,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bn.x,this.errorHandler=qa,this.malformedUriErrorHandler=wh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dh,afterPreactivation:Dh},this.urlHandlingStrategy=new Xv,this.routeReuseStrategy=new Wu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(o.h0i),this.console=u.get(o.c2e);const A=u.get(o.R0b);this.isNgZoneEnabled=A instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function E(){return new Tt(new Et([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kc(u,f,R=>this.triggerEvent(new Tl(R)),R=>this.triggerEvent(new Ks(R))),this.routerState=Ml(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xn(i=>0!==i.id),(0,Ct.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sn(i=>{let l=!1,u=!1;return pt(i).pipe((0,Ti.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sn(f=>{const _=this.browserUrlTree.toString(),D=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Yg(f.source)&&(this.browserUrlTree=f.extractedUrl),pt(f).pipe(sn(A=>{const R=this.transitions.getValue();return r.next(new zs(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),R!==this.transitions.getValue()?Ha.E:Promise.resolve(A)}),function fp(n,e,t,r){return sn(i=>function kl(n,e,t,r,i){return new hp(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ct.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ti.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function O(n,e,t,r,i){return(0,Un.z)(l=>function Kv(n,e,t,r,i="emptyOnly",l="legacy"){try{const u=new vp(n,e,t,r,i,l).recognize();return null===u?yp(new _p):pt(u)}catch(u){return yp(u)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Ct.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ti.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const R=new pa(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(R)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:B,source:$,restoredState:ee,extras:_e}=f,Ve=new zs(R,this.serializeUrl(B),$,ee);r.next(Ve);const Oe=Ml(B,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},f),{targetSnapshot:Oe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ha.E}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!B})}),(0,Ti.b)(f=>{const _=new sh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Ct.U)(f=>Object.assign(Object.assign({},f),{guards:pp(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Wv(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?pt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ug(n,e,t,r){return(0,er.D)(n).pipe((0,Un.z)(i=>function qu(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?pt(l.map(f=>{const _=Zu(f,e,i);let D;if(function SD(n){return n&&Al(n.canDeactivate)}(_))D=T(_.canDeactivate(n,e,t,r));else{if(!Al(_))throw new Error("Invalid CanDeactivate guard");D=T(_(n,e,t,r))}return D.pipe(Vo())})).pipe(Ga()):pt(!0)}(i.component,i.route,t,e,r)),Vo(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Un.z)(f=>f&&function Lg(n){return"boolean"==typeof n}(f)?function Qr(n,e,t,r){return(0,er.D)(e).pipe(Fo(i=>nh(function gp(n,e){return null!==n&&e&&e(new os(n)),pt(!0)}(i.route.parent,r),function mp(n,e){return null!==n&&e&&e(new oh(n)),pt(!0)}(i.route,r),function ba(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function Vg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>is(()=>pt(u.guards.map(_=>{const D=Zu(_,u.node,t);let S;if(function sp(n){return n&&Al(n.canActivateChild)}(D))S=T(D.canActivateChild(r,n));else{if(!Al(D))throw new Error("Invalid CanActivateChild guard");S=T(D(r,n))}return S.pipe(Vo())})).pipe(Ga())));return pt(l).pipe(Ga())}(n,i.path,t),function zv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const i=r.map(l=>is(()=>{const u=Zu(l,e,t);let f;if(function ip(n){return n&&Al(n.canActivate)}(u))f=T(u.canActivate(e,n));else{if(!Al(u))throw new Error("Invalid CanActivate guard");f=T(u(e,n))}return f.pipe(Vo())}));return pt(i).pipe(Ga())}(n,i.route,t))),Vo(i=>!0!==i,!0))}(r,l,n,e):pt(f)),(0,Ct.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ti.b)(f=>{if(Sc(f.guardsResult)){const D=Uo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw D.url=f.guardsResult,D}const _=new Cl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),at(f=>{if(f.guards.canActivateChecks.length)return pt(f).pipe((0,Ti.b)(_=>{const D=new Ir(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),sn(_=>{let D=!1;return pt(_).pipe(function Z(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pt(t);let l=0;return(0,er.D)(i).pipe(Fo(u=>function ce(n,e,t,r){return function Ue(n,e,t,r){const i=Xe(n);if(0===i.length)return pt({});const l={};return(0,er.D)(i).pipe((0,Un.z)(u=>function St(n,e,t,r){const i=Zu(n,e,r);return T(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,Ti.b)(f=>{l[u]=f}))),ih(1),(0,Un.z)(()=>Xe(l).length===i.length?pt(l):Ha.E))}(n._resolve,n,e,r).pipe((0,Ct.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Nv(n,t).resolve),null)))}(u.route,r,n,e)),(0,Ti.b)(()=>l++),ih(1),(0,Un.z)(u=>l===i.length?pt(t):Ha.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ti.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Ti.b)(_=>{const D=new ii(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!B})}),(0,Ct.U)(f=>{const _=function Lv(n,e,t){const r=Bu(n,e._root,t?t._root:void 0);return new dh(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Ti.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new Ng(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ti.b)({next(){l=!0},complete(){l=!0}}),function Ig(n){return(0,Fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),bs(f=>{if(u=!0,function Ho(n){return n&&n[_c]}(f)){const _=Sc(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const D=new Hn(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(D),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yg(i.source)};this.scheduleNavigation(S,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Nu(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return Ha.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Yu(t),this.config=t.map(cp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,D=i||this.routerState.root,S=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function Yo(n,e,t,r,i){if(0===t.length)return xg(e.root,e.root,e.root,r,i);const l=function Fv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return yr(l.outlets,(_,D)=>{f[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===u?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new Pv(t,e,r)}(t);if(l.toRoot())return xg(e.root,e.root,new Et([],{}),r,i);const u=function Og(n,e,t){if(n.isAbsolute)return new ep(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new ep(l,l===e.root,0)}const r=$a(n.commands[0])?0:1;return function Vv(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ep(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=u.processChildren?$o(u.segmentGroup,u.index,l.commands):Uv(u.segmentGroup,u.index,l.commands);return xg(e.root,u.segmentGroup,f,r,i)}(D,this.currentUrlTree,t,A,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Sc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Dp(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},wp):!1===r?Object.assign({},Ch):r,Sc(t))return W(this.currentUrlTree,t,i);const l=this.parseUrl(t);return W(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,u){var f,_;if(this.disposed)return Promise.resolve(!1);let D,S,A;u?(D=u.resolve,S=u.reject,A=u.promise):A=new Promise(($,ee)=>{D=$,S=ee});const R=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:R,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:D,reject:S,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Hn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Yg(n){return"imperative"!==n}let $g=(()=>{class n{constructor(t,r,i,l,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=u,this.commands=null,this.onChanges=new Bn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Th(this.skipLocationChange),replaceUrl:Th(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Th(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ji),o.Y36(Ya),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),Ei=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Bn.x,this.subscription=t.events.subscribe(l=>{l instanceof gc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,u){if(0!==t||r||i||l||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Th(this.skipLocationChange),replaceUrl:Th(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Th(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ji),o.Y36(Ya),o.Y36(fe))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&o.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&o.uIk("target",r.target)("href",r.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function Th(n){return""===n||!!n}class t0{}class MD{preload(e,t){return pt(null)}}let AD=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new kc(i,r,_=>t.triggerEvent(new Tl(_)),_=>t.triggerEvent(new Ks(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(xn(t=>t instanceof gc),Fo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(o.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,er.D)(i).pipe((0,vs.J)(),(0,Ct.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Un.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ji),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(t0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Gg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new qf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const to=new o.OlP("ROUTER_CONFIGURATION"),r0=new o.OlP("ROUTER_FORROOT_GUARD"),kD=[be,{provide:si,useClass:ws},{provide:ji,useFactory:function o0(n,e,t,r,i,l,u={},f,_){const D=new ji(null,n,e,t,r,i,El(l));return f&&(D.urlHandlingStrategy=f),_&&(D.routeReuseStrategy=_),function ND(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,D),u.enableTracing&&D.events.subscribe(S=>{var A,R;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(R=console.groupEnd)||void 0===R||R.call(console)}),D},deps:[si,ju,be,o.zs3,o.Sil,Ac,to,[class bp{},new o.FiY],[class Wn{},new o.FiY]]},ju,{provide:Ya,useFactory:function Zg(n){return n.routerState.root},deps:[ji]},AD,MD,class n0{preload(e,t){return t().pipe(bs(()=>pt(null)))}},{provide:to,useValue:{enableTracing:!1}}];function yS(){return new o.PXZ("Router",ji)}let jn=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[kD,s0(t),{provide:r0,useFactory:OD,deps:[[ji,new o.FiY,new o.tp0]]},{provide:to,useValue:r||{}},{provide:fe,useFactory:xD,deps:[ie,[new o.tBr(tt),new o.FiY],to]},{provide:Gg,useFactory:vS,deps:[ji,rc,to]},{provide:t0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:MD},{provide:o.PXZ,multi:!0,useFactory:yS},[Eh,{provide:o.ip1,multi:!0,useFactory:LD,deps:[Eh]},{provide:l0,useFactory:a0,deps:[Eh]},{provide:o.tb,multi:!0,useExisting:l0}]]}}static forChild(t){return{ngModule:n,providers:[s0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(r0,8),o.LFG(ji,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function vS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Gg(n,e,t)}function xD(n,e,t={}){return t.useHash?new Se(n,e):new ze(n,e)}function OD(n){return"guarded"}function s0(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:Ac,multi:!0,useValue:n}]}let Eh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(ji),u=this.injector.get(to);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(to),i=this.injector.get(AD),l=this.injector.get(Gg),u=this.injector.get(ji),f=this.injector.get(o.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function LD(n){return n.appInitializer.bind(n)}function a0(n){return n.bootstrapListener.bind(n)}const l0=new o.OlP("Router Initializer"),Wg=new o.OlP("GETS_ALL_EVENT_DTO");let PD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),zu=(()=>{class n extends PD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Cs=new o.OlP("NgValueAccessor"),lO={provide:Cs,useExisting:(0,o.Gpc)(()=>Yi),multi:!0},bS=new o.OlP("CompositionEventMode");let Yi=(()=>{class n extends PD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function FD(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(bS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&o.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[o._Bn([lO]),o.qOj]}),n})();function xc(n){return null==n||0===n.length}function VD(n){return null!=n&&"number"==typeof n.length}const Rn=new o.OlP("NgValidators"),Oc=new o.OlP("NgAsyncValidators"),BD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Br{static min(e){return function UD(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function HD(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function jD(n){return xc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function h0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function YD(n){return xc(n.value)||BD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function $D(n){return e=>xc(e.value)||!VD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function GD(n){return e=>VD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Rt(n){if(!n)return Cp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return zg(e)}static composeAsync(e){return Kg(e)}}function Cp(n){return null}function f0(n){return null!=n}function p0(n){const e=(0,o.QGY)(n)?(0,er.D)(n):n;return(0,o.CqO)(e),e}function Tp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Go(n,e){return e.map(t=>t(n))}function qD(n){return n.map(e=>function ZD(n){return!n.validate}(e)?e:t=>e.validate(t))}function zg(n){if(!n)return null;const e=n.filter(f0);return 0==e.length?null:function(t){return Tp(Go(t,e))}}function wa(n){return null!=n?zg(qD(n)):null}function Kg(n){if(!n)return null;const e=n.filter(f0);return 0==e.length?null:function(t){return function RD(...n){const e=(0,tr.jO)(n),{args:t,keys:r}=rs(n),i=new Sr.y(l=>{const{length:u}=t;if(!u)return void l.complete();const f=new Array(u);let _=u,D=u;for(let S=0;S<u;S++){let A=!1;(0,Po.Xf)(t[S]).subscribe((0,Zn.x)(l,R=>{A||(A=!0,D--),f[S]=R},()=>_--,void 0,()=>{(!_||!A)&&(D||l.next(r?ha(r,f):f),l.complete())}))}});return e?i.pipe(ku(e)):i}(Go(t,e).map(p0)).pipe((0,Ct.U)(Tp))}}function Jg(n){return null!=n?Kg(qD(n)):null}function Qg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wS(n){return n._rawValidators}function m0(n){return n._rawAsyncValidators}function WD(n){return n?Array.isArray(n)?n:[n]:[]}function Ku(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ep(n,e){const t=WD(e);return WD(n).forEach(i=>{Ku(t,i)||t.push(i)}),t}function Xg(n,e){return WD(e).filter(t=>!Ku(n,t))}class e_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wa extends e_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ts extends e_{get formDirective(){return null}get path(){return null}}class zD{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let no=(()=>{class n extends zD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Wa,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[o.qOj]}),n})(),Es=(()=>{class n extends zD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Ts,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[o.qOj]}),n})();function Zo(n,e){Sp(n,e),e.valueAccessor.writeValue(n.value),function _0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ll(n,e)})}(n,e),function eC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function CS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ll(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function XD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ip(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function r_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sp(n,e){const t=wS(n);null!==e.validator?n.setValidators(Qg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=m0(n);null!==e.asyncValidator?n.setAsyncValidators(Qg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();r_(e._rawValidators,i),r_(e._rawAsyncValidators,i)}function Ip(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=wS(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=m0(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return r_(e._rawValidators,r),r_(e._rawAsyncValidators,r),t}function Ll(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Mh="VALID",Ap="INVALID",Lc="PENDING",Xu="DISABLED";function Ah(n){return(kp(n)?n.validators:n)||null}function sC(n){return Array.isArray(n)?wa(n):n||null}function s_(n,e){return(kp(e)?e.asyncValidators:n)||null}function TS(n){return Array.isArray(n)?Jg(n):n||null}function kp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const b0=n=>n instanceof zn,w0=n=>n instanceof Is;function aC(n){return b0(n)?n.value:n.getRawValue()}function lC(n,e){const t=w0(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[e])throw new o.vHH(1001,"")}function Ss(n,e){w0(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new o.vHH(1002,"")})}class D0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sC(this._rawValidators),this._composedAsyncValidatorFn=TS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mh}get invalid(){return this.status===Ap}get pending(){return this.status==Lc}get disabled(){return this.status===Xu}get enabled(){return this.status!==Xu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=TS(e)}addValidators(e){this.setValidators(Ep(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ep(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xg(e,this._rawAsyncValidators))}hasValidator(e){return Ku(this._rawValidators,e)}hasAsyncValidator(e){return Ku(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===Lc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xu:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lc,this._hasOwnPendingAsyncValidator=!0;const t=p0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function iC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=w0(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof vO)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Xu:this.errors?Ap:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lc)?Lc:this._anyControlsHaveStatus(Ap)?Ap:Mh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zn extends D0{constructor(e=null,t,r){super(Ah(t),s_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Is extends D0{constructor(e,t,r){super(Ah(t),s_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ss(this,e),Object.keys(e).forEach(r=>{lC(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=aC(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vO extends D0{constructor(e,t,r){super(Ah(t),s_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ss(this,e),e.forEach((r,i)=>{lC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>aC(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Ms=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),yC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const T0=new o.OlP("NgModelWithFormControlWarning"),AS={provide:Ts,useExisting:(0,o.Gpc)(()=>us)};let us=(()=>{class n extends Ts{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ip(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Zo(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Sh(t.control||null,t,!1),Qu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function i_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Sh(r||null,t),b0(i)&&(Zo(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function tC(n,e){Sp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function y0(n,e){return Ip(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sp(this.form,this),this._oldForm&&Ip(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rn,10),o.Y36(Oc,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([AS]),o.qOj,o.TTD]}),n})();const wC={provide:Wa,useExisting:(0,o.Gpc)(()=>As)};let As=(()=>{class n extends Wa{constructor(t,r,i,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Nc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Yi?t=l:function Ih(n){return Object.getPrototypeOf(n.constructor)===zu}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ju(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function g0(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(Ts,13),o.Y36(Rn,10),o.Y36(Oc,10),o.Y36(Cs,10),o.Y36(T0,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([wC]),o.qOj,o.TTD]}),n})(),FS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[yC]]}),n})(),ro=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:T0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[FS]}),n})();var g_=N(4986);function A0(n,e=g_.z){return(0,Fr.e)((t,r)=>{let i=null,l=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const D=l;l=null,r.next(D)}};function _(){const D=u+n,S=e.now();if(S<D)return i=this.schedule(void 0,D-S),void r.add(i);f()}t.subscribe((0,Zn.x)(r,D=>{l=D,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{l=i=null}))})}const __=new o.OlP("SEARCH_DTO_STORAGE");let BS=(()=>{class n{constructor(t){this._searchDtoStorage=t,this.searchedEvent=new Is({title:new zn("")}),this.subscription=new Ui.w0,this.subscription=this.searchedEvent.valueChanges.pipe(Ci({title:""}),A0(400)).subscribe(r=>this._searchDtoStorage.next({title:r.title}))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(__))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-search-event"]],decls:3,vars:1,consts:[[1,"mt-4","w-50"],[1,"d-flex","align-items-center",3,"formGroup"],["type","text","formControlName","title","placeholder","Search event",1,"me-3","ps-3","py-2","rounded","border-0","w-75"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"form",1),o._UZ(2,"input",2),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("formGroup",r.searchedEvent))},directives:[Ms,Es,us,Yi,no,As],encapsulation:2,changeDetection:0}),n})();const k0=new o.OlP("REMOVES_EVENT_DTO"),ai=new o.OlP("CONTEXT_DTO_STORAGE");class US{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const LC={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function RC(n,e=LC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(l=>l.split(":")).map(l=>{const u=e[l[0]]||l;return new US(u[0],u[1])}),i=r.filter(l=>l.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const ur="undefined"!=typeof window&&window||{};var y_=(()=>{return(n=y_||(y_={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",y_;var n})();let qo;function v_(){if(void 0===ur.document)return"bs4";const n=ur.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),ur.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=ur.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(ur.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(ur.document.head.removeChild(n),"bs4"):(ur.document.head.removeChild(n),"bs5")}function Pl(){return void 0===ur||(void 0===ur.__theme?(qo||(qo=v_()),"bs3"===qo):"bs3"===ur.__theme)}function b_(){return!Pl()&&(qo||(qo=v_()),"bs4"===qo)}function kh(){return{isBs3:Pl(),isBs4:b_(),isBs5:!Pl()&&!b_()&&(qo||(qo=v_()),"bs5"===qo)}}function JS(){const n="Change";return function(t,r){const i=` __${r}Value`;Object.defineProperty(t,r,{get(){return this[i]},set(l){const u=this[i];this[i]=l,u!==l&&this[r+n]&&this[r+n].emit(l)}})}}const Rp={},xh="undefined"==typeof console||!("warn"in console);function io(n){!(0,o.X6Q)()||xh||n in Rp||(Rp[n]=!0,console.warn(n))}let x0,Pp=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{x0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){x0=!1}let VC=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?qr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ca=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function $i(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Fp(n){try{return n.frameElement}catch(e){return null}}(function Rh(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===rd(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),l=rd(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Nh(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==l:"video"===i?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Lh(n){return!function w_(n){return function O0(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function td(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Wo(n){return function Oh(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nd(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(VC))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nd(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function rd(n){if(!nd(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function id(n){return null!=n&&"false"!=`${n}`}class Ph{constructor(e,t,r,i,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ws.q)(1)).subscribe(e)}}let Fh=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ph(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ca),o.LFG(o.R0b),o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UC=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=id(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=id(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Fh),o.Y36(se))},n.\u0275dir=o.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[o.TTD]}),n})(),N0=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Pp,VC,Ca]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Bt]]}),n})();var L0=N(6451),HC=N(1144);const jC=["addListener","removeListener"],YC=["addEventListener","removeEventListener"],$C=["on","off"];function Vp(n,e,t,r){if((0,Bi.m)(t)&&(r=t,t=void 0),r)return Vp(n,e,t).pipe(ku(r));const[i,l]=function eI(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?YC.map(u=>f=>n[u](e,f,t)):function XS(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?jC.map(R0(n,e)):function GC(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?$C.map(R0(n,e)):[];if(!i&&(0,HC.z)(n))return(0,Un.z)(u=>Vp(u,e,t))((0,Po.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Sr.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function R0(n,e){return t=>r=>n[t](e,r)}var ZC=N(4408);const Vh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Vh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new Ui.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Vh;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vh;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var nI=N(7565);const rI=new class qC extends nI.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class tI extends ZC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Vh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Vh.cancelAnimationFrame(t),e._scheduled=void 0)}});var D_=(()=>{return(n=D_||(D_={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",D_;var n})(),Bh=(()=>{return(n=Bh||(Bh={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",Bh;var n})();function Uh(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function P0(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===Uh(t,"position")?P0(t):t:r?r.ownerDocument.documentElement:document.documentElement}function Bp(n){return null!==n.parentNode?Bp(n.parentNode):n}function C_(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,l=document.createRange();l.setStart(r,0),l.setEnd(i,0);const u=l.commonAncestorContainer;if(n!==u&&e!==u||r.contains(i))return function F0(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||P0(n.firstElementChild)===n)}(u)?u:P0(u);const f=Bp(n);return f.host?C_(f.host,e):C_(n,Bp(e).host)}function sI(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===Uh(e,"transform");)e=e.parentElement;return e||document.documentElement}function oI(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function aI(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function WC(n){const e=n.body,t=n.documentElement;return{height:aI("Height",e,t),width:aI("Width",e,t)}}function Hh(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function rr(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function sd(n){const e=n.getBoundingClientRect();if(!(e&&rr(e.top)&&rr(e.left)&&rr(e.bottom)&&rr(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?WC(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||rr(e.right)&&rr(t.left)&&e.right-t.left||0,l=(null==r?void 0:r.height)||n.clientHeight||rr(e.bottom)&&rr(t.top)&&e.bottom-t.top||0;let u=n.offsetWidth-i,f=n.offsetHeight-l;if(u||f){const _=Uh(n);u-=oI(_,"x"),f-=oI(_,"y"),t.width-=u,t.height-=f}return Hh(t)}function V0(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function T_(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=Uh(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:T_(V0(n))}function B0(n,e,t=!1){var r,i,l,u,f,_;const D="HTML"===e.nodeName,S=sd(n),A=sd(e),B=(T_(n),Uh(e)),$=parseFloat(B.borderTopWidth),ee=parseFloat(B.borderLeftWidth);t&&D&&(A.top=Math.max(null!==(r=A.top)&&void 0!==r?r:0,0),A.left=Math.max(null!==(i=A.left)&&void 0!==i?i:0,0));const _e=Hh({top:(null!==(l=S.top)&&void 0!==l?l:0)-(null!==(u=A.top)&&void 0!==u?u:0)-$,left:(null!==(f=S.left)&&void 0!==f?f:0)-(null!==(_=A.left)&&void 0!==_?_:0)-ee,width:S.width,height:S.height});if(_e.marginTop=0,_e.marginLeft=0,D){const Ve=parseFloat(B.marginTop),Oe=parseFloat(B.marginLeft);rr(_e.top)&&(_e.top-=$-Ve),rr(_e.bottom)&&(_e.bottom-=$-Ve),rr(_e.left)&&(_e.left-=ee-Oe),rr(_e.right)&&(_e.right-=ee-Oe),_e.marginTop=Ve,_e.marginLeft=Oe}return _e}function U0(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function zC(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===Uh(n,"position")||zC(V0(n)))}function S_(n,e,t=0,r,i=!1){let l={top:0,left:0};const u=i?sI(n):C_(n,e);if("viewport"===r)l=function E_(n,e=!1){const t=n.ownerDocument.documentElement,r=B0(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),l=Math.max(t.clientHeight,window.innerHeight||0),u=e?0:U0(t),f=e?0:U0(t,"left");return Hh({top:u-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:l})}(u,i);else{let f;"scrollParent"===r?(f=T_(V0(e)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const _=B0(f,u,i);if(_&&"HTML"===f.nodeName&&!zC(u)){const{height:D,width:S}=WC(n.ownerDocument);rr(l.top)&&rr(_.top)&&rr(_.marginTop)&&(l.top+=_.top-_.marginTop),rr(l.top)&&(l.bottom=Number(D)+Number(_.top)),rr(l.left)&&rr(_.left)&&rr(_.marginLeft)&&(l.left+=_.left-_.marginLeft),rr(l.top)&&(l.right=Number(S)+Number(_.left))}else _&&(l=_)}return rr(l.left)&&(l.left+=t),rr(l.top)&&(l.top+=t),rr(l.right)&&(l.right-=t),rr(l.bottom)&&(l.bottom-=t),l}function lI({width:n,height:e}){return n*e}function KC(n,e,t,r,i=["top","bottom","right","left"],l="viewport",u=0){var f,_,D,S,A,R,B,$,ee,_e,Ve,Oe;if(-1===n.indexOf("auto"))return n;const We=S_(t,r,u,l),Ze={top:{width:null!==(f=null==We?void 0:We.width)&&void 0!==f?f:0,height:(null!==(_=null==e?void 0:e.top)&&void 0!==_?_:0)-(null!==(D=null==We?void 0:We.top)&&void 0!==D?D:0)},right:{width:(null!==(S=null==We?void 0:We.right)&&void 0!==S?S:0)-(null!==(A=null==e?void 0:e.right)&&void 0!==A?A:0),height:null!==(R=null==We?void 0:We.height)&&void 0!==R?R:0},bottom:{width:null!==(B=null==We?void 0:We.width)&&void 0!==B?B:0,height:(null!==($=null==We?void 0:We.bottom)&&void 0!==$?$:0)-(null!==(ee=null==e?void 0:e.bottom)&&void 0!==ee?ee:0)},left:{width:(null!==(_e=e.left)&&void 0!==_e?_e:0)-(null!==(Ve=null==We?void 0:We.left)&&void 0!==Ve?Ve:0),height:null!==(Oe=null==We?void 0:We.height)&&void 0!==Oe?Oe:0}},yt=Object.keys(Ze).map(On=>Object.assign(Object.assign({position:On},Ze[On]),{area:lI(Ze[On])})).sort((On,tn)=>tn.area-On.area);let ct=yt.filter(({width:On,height:tn})=>On>=t.clientWidth&&tn>=t.clientHeight);ct=ct.filter(({position:On})=>i.some(tn=>tn===On));const un=ct.length>0?ct[0].position:yt[0].position,Pn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${kh().isBs5?Bh[un]:un}`),un+(Pn?`-${Pn}`:"")}const Up=(n,e=0)=>n?parseFloat(n):e;function JC(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=Up(null==t?void 0:t.marginTop)+Up(null==t?void 0:t.marginBottom),i=Up(null==t?void 0:t.marginLeft)+Up(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function H0(n,e,t){return B0(e,t?sI(n):C_(n,e),t)}function I_(n,e,t){var r,i,l;const u=t.split(" ")[0],f=JC(n),_={width:f.width,height:f.height},D=-1!==["right","left"].indexOf(u),S=D?"top":"left",A=D?"left":"top",R=D?"height":"width",B=D?"width":"height";return _[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[R]/2-f[R]/2,_[A]=u===A?(null!==(i=e[A])&&void 0!==i?i:0)-f[B]:null!==(l=e[function uI(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(A)])&&void 0!==l?l:0,_}function M_(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const xO={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function jh(n,e){return!!kh().isBs5&&xO[e].includes(n)}function Yh(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function kO(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function QC(n){var e,t,r,i,l,u;let f=n.offsets.target;const _=n.instance.target.querySelector(".arrow");if(!_)return n;const D=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=D?"height":"width",A=D?"Top":"Left",R=A.toLowerCase(),B=D?"left":"top",$=D?"bottom":"right",ee=JC(_)[S],_e=n.placement.split(" ")[1];(null!==(e=n.offsets.host[$])&&void 0!==e?e:0)-ee<(null!==(t=f[R])&&void 0!==t?t:0)&&(f[R]-=(null!==(r=f[R])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[$])&&void 0!==i?i:0)-ee)),Number(n.offsets.host[R])+Number(ee)>(null!==(l=f[$])&&void 0!==l?l:0)&&(f[R]+=Number(n.offsets.host[R])+Number(ee)-Number(f[$])),f=Hh(f);const Ve=Uh(n.instance.target),Oe=parseFloat(Ve[`margin${A}`])||0,We=parseFloat(Ve[`border${A}Width`])||0;let Ze;if(_e){const ct=parseFloat(Ve.borderRadius)||0,un=Number(Oe+We+ct);Ze=R===_e?Number(n.offsets.host[R])+un:Number(n.offsets.host[R])+Number(n.offsets.host[S]-un)}else Ze=Number(n.offsets.host[R])+Number(n.offsets.host[S]/2-ee/2);let yt=Ze-(null!==(u=f[R])&&void 0!==u?u:0)-Oe-We;return yt=Math.max(Math.min(f[S]-(ee+5),yt),0),n.offsets.arrow={[R]:Math.round(yt),[B]:""},n.instance.arrow=_,n}function j0(n){if(n.offsets.target=Hh(n.offsets.target),!M_(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),I_(n.instance.target,n.offsets.host,n.placement)),n;const e=S_(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=KC("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),_=[t,f];return _.forEach((D,S)=>{var A,R,B,$,ee,_e,Ve,Oe,We,Ze,yt,ct,un,Pn,On,tn;if(t!==D||_.length===S+1)return;t=n.placement.split(" ")[0];const Fn="left"===t&&Math.floor(null!==(A=n.offsets.target.right)&&void 0!==A?A:0)>Math.floor(null!==(R=n.offsets.host.left)&&void 0!==R?R:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==($=n.offsets.host.right)&&void 0!==$?$:0)||"top"===t&&Math.floor(null!==(ee=n.offsets.target.bottom)&&void 0!==ee?ee:0)>Math.floor(null!==(_e=n.offsets.host.top)&&void 0!==_e?_e:0)||"bottom"===t&&Math.floor(null!==(Ve=n.offsets.target.top)&&void 0!==Ve?Ve:0)<Math.floor(null!==(Oe=n.offsets.host.bottom)&&void 0!==Oe?Oe:0),mo=Math.floor(null!==(We=n.offsets.target.left)&&void 0!==We?We:0)<Math.floor(null!==(Ze=e.left)&&void 0!==Ze?Ze:0),cu=Math.floor(null!==(yt=n.offsets.target.right)&&void 0!==yt?yt:0)>Math.floor(null!==(ct=e.right)&&void 0!==ct?ct:0),DD=Math.floor(null!==(un=n.offsets.target.top)&&void 0!==un?un:0)<Math.floor(null!==(Pn=e.top)&&void 0!==Pn?Pn:0),CD=Math.floor(null!==(On=n.offsets.target.bottom)&&void 0!==On?On:0)>Math.floor(null!==(tn=e.bottom)&&void 0!==tn?tn:0),it="left"===t&&mo||"right"===t&&cu||"top"===t&&DD||"bottom"===t&&CD,mt=-1!==["top","bottom"].indexOf(t),Ot=mt&&"left"===r&&mo||mt&&"right"===r&&cu||!mt&&"left"===r&&DD||!mt&&"right"===r&&CD;(Fn||it||Ot)&&((Fn||it)&&(t=_[S+1]),Ot&&(r=function dI(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),I_(n.instance.target,n.offsets.host,n.placement)))}),n}function fI(n){var e;if(!M_(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:l,[t]:u}=r;r.top="",r.left="",r[t]="";const f=S_(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=l,r[t]=u;const D={primary(S){var A,R,B,$;let ee=n.offsets.target[S];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)<(null!==(R=f[S])&&void 0!==R?R:0)&&(ee=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==($=f[S])&&void 0!==$?$:0)),{[S]:ee}},secondary(S){var A,R,B,$;const ee="right"===S,_e=ee?"left":"top";let Oe=n.offsets.target[_e];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)>(null!==(R=f[S])&&void 0!==R?R:0)&&(Oe=Math.min(null!==(B=n.offsets.target[_e])&&void 0!==B?B:0,(null!==($=f[S])&&void 0!==$?$:0)-n.offsets.target[ee?"width":"height"])),{[_e]:Oe}}};return["left","right","top","bottom"].forEach(S=>{const A=-1!==["left","top","start"].indexOf(S)?D.primary:D.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),A(S))}),n}function A_(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:l,target:u}=n.offsets,f=-1!==["bottom","top"].indexOf(r),_=f?"left":"top",D=f?"width":"height",S={start:{[_]:l[_]},end:{[_]:(null!==(e=l[_])&&void 0!==e?e:0)+l[D]-u[D]}};n.offsets.target=Object.assign(Object.assign({},u),{[_]:_===i?S.start[_]:S.end[_]})}return n}const $0=new class k_{position(e,t){return this.offset(e,t)}offset(e,t){return H0(t,e)}positionElements(e,t,r,i,l){const u=[j0,A_,fI,QC],_=function Y0(n,e,t,r){if(!n||!e)return;const i=H0(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const l=!!t.match(/auto/g);let u=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const f=u.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(u=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(u)&&(u="auto"),u=KC(u,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:I_(n,i,u),host:i,arrow:void 0},positionFixed:!1,placement:u,placementAuto:l}}(t,e,D_[r],l);if(_)return u.reduce((D,S)=>S(D),_)}};function NO(n,e,t,r,i,l){const u=$0.positionElements(n,e,t,r,i);if(!u)return;const f=function cI(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(u);Yh(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},l),u.instance.arrow&&Yh(u.instance.arrow,u.offsets.arrow,l),function OO(n,e){const t=n.instance.target;let r=t.className;const i=kh().isBs5?Bh[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function hI(n){return kh().isBs5?jh(n,"end")?"ms-2":jh(n,"start")?"me-2":jh(n,"top")?"mb-2":jh(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(u,l)}let Fl=(()=>{class n{constructor(t,r,i){this.update$$=new Bn.x,this.positionElements=new Map,this.isDisabled=!1,qr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,L0.T)(Vp(window,"scroll",{passive:!0}),Vp(window,"resize",{passive:!0}),pt(0,rI),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(l=>{NO(od(l.target),od(l.element),l.attachment,l.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(od(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(od(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(o.FYo),o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function od(n){return"string"==typeof n?document.querySelector(n):n instanceof o.SBq?n.nativeElement:null!=n?n:null}class $h{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class XC{constructor(e,t,r,i,l,u,f,_){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=l,this._ngZone=u,this._applicationRef=f,this._posService=_,this.onBeforeShow=new o.vpe,this.onShown=new o.vpe,this.onBeforeHide=new o.vpe,this.onHidden=new o.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=o.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof o.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,l,u,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const _=this._componentRef.location.nativeElement;return null===(t=_.parentNode)||void 0===t||t.removeChild(_),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(l=this._contentRef)||void 0===l?void 0:l.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=u=>{e.show?e.show(u):this.show(u),u()};return this._renderer&&(this._unregisterListenersFn=function jS(n,e){const t=RC(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],l=[],u=()=>{l.forEach(f=>i.push(f())),l.length=0};return t.forEach(f=>{const _=f.open===f.close,D=_?e.toggle:e.show;if(!_&&f.close&&e.hide){const S=n.listen(r,f.close,e.hide);l.push(()=>S)}D&&i.push(n.listen(r,f.open,()=>D(u)))}),()=>{i.forEach(f=>f())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:u=>{this.isShown?r():i(u)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function YS(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function IO(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new $h([]);if(e instanceof o.Rgc){if(this._viewContainerRef){const u=this._viewContainerRef.createEmbeddedView(e,t);return u.markForCheck(),new $h([u.rootNodes],u)}const l=e.createEmbeddedView({});return this._applicationRef.attachView(l),new $h([l.rootNodes],l)}if("function"==typeof e){const l=this._componentFactoryResolver.resolveComponentFactory(e),u=o.zs3.create({providers:this._providers,parent:this._injector}),f=l.create(u);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new $h([[f.location.nativeElement]],f.hostView,f)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new $h([i])}}let zo=(()=>{class n{constructor(t,r,i,l,u){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=l,this._applicationRef=u}createLoader(t,r,i){return new XC(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o._Vd),o.LFG(o.R0b),o.LFG(o.zs3),o.LFG(Fl),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eT=["*"];let x_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Z0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const O_={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},nT=new o.OlP("override-default-config");let iT=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Pl()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Pl()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Z0),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&o.NdJ("mousedown",function(l){return r.onClickStarted(l)})("click",function(l){return r.onClickStop(l)})("popstate",function(){return r.onPopState()},!1,o.Jf7)("keydown.esc",function(l){return r.onEsc(l)},!1,o.Jf7),2&t&&o.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:eT,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA()()),2&t&&o.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[UC],encapsulation:2}),n})(),sT=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Pl()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class QS{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=ur),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function KS(){const n=kh(),e=Object.keys(n).find(t=>n[t]);return y_[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),lT=1,N_=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new o.vpe,this.onShown=new o.vpe,this.onHide=new o.vpe,this.onHidden=new o.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},O_,i):O_}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||lT++;return this.config=this.modalDefaultOption?Object.assign({},O_,this.modalDefaultOption,r):Object.assign({},O_,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(sT).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const f of this.config.providers)i.provide(f);const l=new x_,u=i.provide({provide:Z0,useValue:this.config}).provide({provide:x_,useValue:l}).attach(iT).to("body");return l.hide=()=>{var f;return null===(f=u.instance)||void 0===f?void 0:f.hide()},l.setClass=f=>{u.instance&&(u.instance.config.class=f)},l.onHidden=new o.vpe,l.onHide=new o.vpe,this.copyEvent(i.onBeforeHide,l.onHide),this.copyEvent(i.onHidden,l.onHidden),u.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),u.instance&&(u.instance.level=this.getModalsCount(),l.content=i.getInnerComponent(),l.id=null===(r=u.instance.config)||void 0===r?void 0:r.id),l}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(l=>{var u;return(null===(u=l.instance)||void 0===u?void 0:u.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var l;return(null===(l=i.instance)||void 0===l?void 0:l.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,l)=>{i.instance&&(i.instance.level=l+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(zo),o.LFG(nT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();N0.forRoot();let cT=(()=>{class n{static forRoot(){return{ngModule:n,providers:[N_,zo,Fl]}}static forChild(){return{ngModule:n,providers:[N_,zo,Fl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[N0]]}),n})();function uT(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){const l=o.CHM(t).ngIf;return o.oxw().onConfirmDeleteTaskButtonClicked(l.eventId)}),o._uU(1," Yes, I am sure "),o.qZA()}}let dT=(()=>{class n{constructor(t,r,i){this._contextDtoStoragePort=t,this._removesEventDto=r,this.modalRef=i,this.event$=this._contextDtoStoragePort.asObservable()}onCancelButtonClicked(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}onConfirmDeleteTaskButtonClicked(t){var r;this._removesEventDto.remove(t),null===(r=this.modalRef)||void 0===r||r.hide()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ai),o.Y36(k0),o.Y36(x_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-confirm-delete-event-modal"]],decls:9,vars:3,consts:[[1,"bg-white","d-flex","justify-content-center","align-items-center","flex-column","py-4","mt-5"],[1,"my-5"],[1,"my-3","w-50"],["type","button","class","btn btn-danger w-100",3,"click",4,"ngIf"],[1,"mb-5","w-50"],["type","button",1,"btn","bg-gray-400","w-100",3,"click"],["type","button",1,"btn","btn-danger","w-100",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Are you sure you want to delete your event?"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,uT,2,0,"button",3),o.ALo(5,"async"),o.qZA(),o.TgZ(6,"div",4)(7,"button",5),o.NdJ("click",function(){return r.onCancelButtonClicked()}),o._uU(8," Cancel "),o.qZA()()()),2&t&&(o.xp6(4),o.Q6J("ngIf",o.lcZ(5,1,r.event$)))},directives:[Qt],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();function hT(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"tr",5)(1,"td",6),o.O4$(),o.TgZ(2,"svg",7),o._UZ(3,"path",8)(4,"path",9)(5,"path",10),o.qZA(),o.kcU(),o.TgZ(6,"p",11),o._uU(7),o.qZA()(),o.TgZ(8,"td")(9,"a",12),o._uU(10,"Go to Event"),o.qZA()(),o.TgZ(11,"td")(12,"p",11),o._uU(13),o.ALo(14,"date"),o.ALo(15,"date"),o.qZA()(),o.TgZ(16,"td")(17,"button",13)(18,"a",14),o._uU(19,"Edit"),o.qZA()()(),o.TgZ(20,"td")(21,"button",15),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw(2).onDeleteButtonClicked(l.id)}),o.O4$(),o.TgZ(22,"svg",16),o._UZ(23,"path",17)(24,"path",18),o.qZA()()()()}if(2&n){const t=e.$implicit;o.xp6(7),o.Oqu(t.title),o.xp6(2),o.Q6J("routerLink","/event/"+t.id),o.xp6(4),o.AsE(" ",o.xi3(14,5,t.fromDate,"dd.MM.YYYY")," - ",o.xi3(15,8,t.toDate,"dd.MM.YYYY")," "),o.xp6(5),o.Q6J("routerLink","/event/"+t.id+"/edit-event")}}function LO(n,e){if(1&n&&(o.TgZ(0,"table",2)(1,"thead",3)(2,"tr")(3,"th"),o._uU(4,"Event Title"),o.qZA(),o.TgZ(5,"th"),o._uU(6,"Link"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Date"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Manage"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"Delete"),o.qZA()()(),o.TgZ(13,"tbody"),o.YNc(14,hT,25,11,"tr",4),o.ALo(15,"async"),o.qZA()()),2&n){const t=o.oxw();o.xp6(14),o.Q6J("ngForOf",o.lcZ(15,1,t.events$))}}let gI=(()=>{class n{constructor(t,r,i,l,u){this._getsAllEventDto=t,this._removesEventDto=r,this._searchDtoStorage=i,this._contextDtoStoragePort=l,this.modalService=u,this.events$=this._searchDtoStorage.asObservable().pipe(sn(f=>this._getsAllEventDto.getAll(f&&f.title&&f.title.length?{title:f.title}:{})))}onDeleteButtonClicked(t){this._contextDtoStoragePort.next({eventId:t}),this.modalRef=this.modalService.show(dT)}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Wg),o.Y36(k0),o.Y36(__),o.Y36(ai),o.Y36(N_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-events-list"]],decls:3,vars:3,consts:[[1,"container-fluid","bg-white","mx-auto","py-4","px-5","mt-5"],["class","table table-borderless text-center",4,"ngIf"],[1,"table","table-borderless","text-center"],[1,"bg-gray-400"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar2-minus","me-2"],["d","M5.5 10.5A.5.5 0 0 1 6 10h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"],["d","M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"],[1,"m-0","text-dark"],[1,"text-decoration-none",3,"routerLink"],["type","button",1,"btn","bg-gray-400","border-0"],[1,"text-decoration-none","text-dark",3,"routerLink"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-dark","g-col-2"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,LO,16,3,"table",1),o.ALo(2,"async"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,r.events$)))},directives:[Qt,rn,Ei],pipes:[Vn,Ud],encapsulation:2,changeDetection:0}),n})();function _I(n,e){1&n&&(o.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p",6),o._uU(4,"Events"),o.qZA(),o.TgZ(5,"p",7),o._uU(6,"Users"),o.qZA()(),o.TgZ(7,"div",8)(8,"a",9)(9,"button",10),o._uU(10," Create new event "),o.qZA()()()(),o._UZ(11,"lib-search-event")(12,"lib-events-list"),o.qZA())}function fT(n,e){1&n&&(o.TgZ(0,"div",11)(1,"h1"),o._uU(2,"Start building your dashboard"),o.qZA(),o.TgZ(3,"p"),o._uU(4,"Create your first event"),o.qZA(),o.TgZ(5,"a",12),o._uU(6,"Create event"),o.qZA()())}let yI=(()=>{class n{constructor(t){this._getsAllEventDto=t,this.hasEvents$=this._getsAllEventDto.getAll().pipe((0,Ct.U)(r=>r.length>0))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Wg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home-page"]],decls:5,vars:4,consts:[[1,"h-100"],["class","container-fluid w-75 mx-auto",4,"ngIf","ngIfElse"],["template",""],[1,"container-fluid","w-75","mx-auto"],[1,"container","d-flex","align-items-center","justify-content-between","border-bottom","mx-auto","pt-3"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fs-3","fw-bold","me-5"],[1,"fs-3","fw-bold"],[1,"py-3"],["routerLink","/event-form"],["type","button",1,"btn","btn-success"],[1,"container-fluid","w-75","mx-auto","d-flex","justify-content-center","align-items-center","flex-column","my-auto","h-75"],["routerLink","/event-form","role","button",1,"btn","bg-success","text-white"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0),o.YNc(1,_I,13,0,"div",1),o.ALo(2,"async"),o.qZA(),o.YNc(3,fT,7,0,"ng-template",null,2,o.W1O)),2&t){const i=o.MAs(4);o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.hasEvents$))("ngIfElse",i)}},directives:[Qt,Ei,BS,gI],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn,ro,cT.forRoot()]]}),n})();var li=N(6351);function W0(){return(0,Fr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Zn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function L_(n,e=Fi.y){return n=null!=n?n:pT,(0,Fr.e)((t,r)=>{let i,l=!0;t.subscribe((0,Zn.x)(r,u=>{const f=e(u);(l||!n(i,f))&&(l=!1,i=f,r.next(u))}))})}function pT(n,e){return n===e}var et,Ta=N(2011),mT=(N(4087),N(3942)),ye=N(5861),ad=N(9681),R_=N(4859),Vl=N(1877),Xt=N(2090),gT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rc={},jp=jp||{},vt=gT||self;function P_(){}function F_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ks(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var so="closure_uid_"+(1e9*Math.random()>>>0),_T=0;function yT(n,e,t){return n.call.apply(n.bind,arguments)}function bI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yT:bI).apply(null,arguments)}function V_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ii(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Qa(){this.s=this.s,this.o=this.o}var wI={};Qa.prototype.s=!1,Qa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ea(n){return Object.prototype.hasOwnProperty.call(n,so)&&n[so]||(n[so]=++_T)}(this);delete wI[n]}},Qa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},vT=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function K0(n){return Array.prototype.concat.apply([],arguments)}function Gh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function B_(n){return/^[\s\xa0]*$/.test(n)}var ci,J0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gi(n,e){return-1!=n.indexOf(e)}function $p(n,e){return n<e?-1:n>e?1:0}e:{var U_=vt.navigator;if(U_){var Q0=U_.userAgent;if(Q0){ci=Q0;break e}}ci=""}function H_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function X0(n){const e={};for(const t in n)e[t]=n[t];return e}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<eb.length;l++)t=eb[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function j_(n){return j_[" "](n),n}j_[" "]=P_;var Y_,n,DI=Gi(ci,"Opera"),Zh=Gi(ci,"Trident")||Gi(ci,"MSIE"),DT=Gi(ci,"Edge"),nb=DT||Zh,CT=Gi(ci,"Gecko")&&!(Gi(ci.toLowerCase(),"webkit")&&!Gi(ci,"Edge"))&&!(Gi(ci,"Trident")||Gi(ci,"MSIE"))&&!Gi(ci,"Edge"),CI=Gi(ci.toLowerCase(),"webkit")&&!Gi(ci,"Edge");function TT(){var n=vt.document;return n?n.documentMode:void 0}e:{var rb="",ib=(n=ci,CT?/rv:([^\);]+)(\)|;)/.exec(n):DT?/Edge\/([\d\.]+)/.exec(n):Zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CI?/WebKit\/(\S+)/.exec(n):DI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ib&&(rb=ib?ib[1]:""),Zh){var sb=TT();if(null!=sb&&sb>parseFloat(rb)){Y_=String(sb);break e}}Y_=rb}var TI={};var SI=vt.document&&Zh&&(TT()||parseInt(Y_,10))||void 0,II=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",P_,e),vt.removeEventListener("test",P_,e)}catch(t){}return n}();function Zi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function qh(n,e){if(Zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CT){e:{try{j_(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ST[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qh.Z.h.call(this)}}Zi.prototype.h=function(){this.defaultPrevented=!0},Ii(qh,Zi);var ST={2:"touch",3:"pen",4:"mouse"};qh.prototype.h=function(){qh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wh="closure_listenable_"+(1e6*Math.random()|0),IT=0;function MT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++IT,this.ca=this.fa=!1}function Gp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Zp(n){this.src=n,this.g={},this.h=0}function $_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=z0(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Gp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G_(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Zp.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=G_(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new MT(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Z_="closure_lm_"+(1e6*Math.random()|0),q_={};function Pc(n,e,t,r,i){if(r&&r.once)return ld(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Pc(n,e[l],t,r,i);return null}return t=bt(t),n&&n[Wh]?n.N(e,t,ks(r)?!!r.capture:!!r,i):AT(n,e,t,!1,r,i)}function AT(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var u=ks(i)?!!i.capture:!!i,f=W_(n);if(f||(n[Z_]=f=new Zp(n)),(t=f.add(e,t,r,u,l)).proxy)return t;if(r=function MI(){var e=kT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)II||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(kI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ld(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ld(n,e[l],t,r,i);return null}return t=bt(t),n&&n[Wh]?n.O(e,t,ks(r)?!!r.capture:!!r,i):AT(n,e,t,!0,r,i)}function AI(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)AI(n,e[l],t,r,i);else r=ks(r)?!!r.capture:!!r,t=bt(t),n&&n[Wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G_(l=n.g[e],t,r,i))&&(Gp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=W_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G_(e,t,r,i)),(t=-1<n?e[n]:null)&&qp(t))}function qp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wh])$_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=W_(e))?($_(t,n),0==t.h&&(t.src=null,e[Z_]=null)):Gp(n)}}}function kI(n){return n in q_?q_[n]:q_[n]="on"+n}function kT(n,e){if(n.ca)n=!0;else{e=new qh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&qp(n),n=t.call(r,e)}return n}function W_(n){return(n=n[Z_])instanceof Zp?n:null}var xT="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(n){return"function"==typeof n?n:(n[xT]||(n[xT]=function(e){return n.handleEvent(e)}),n[xT])}function ui(){Qa.call(this),this.i=new Zp(this),this.P=this,this.I=null}function Mi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Zi(e,n);else if(e instanceof Zi)e.target=e.target||n;else{var i=e;tb(e=new Zi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];i=z_(u,r,!0,e)&&i}if(i=z_(u=e.g=n,r,!0,e)&&i,i=z_(u,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=z_(u=e.g=t[l],r,!1,e)&&i}function z_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&$_(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ii(ui,Qa),ui.prototype[Wh]=!0,ui.prototype.removeEventListener=function(n,e,t,r){AI(this,n,e,t,r)},ui.prototype.M=function(){if(ui.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gp(t[r]);delete n.g[e],n.h--}}this.I=null},ui.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ui.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zh=vt.JSON.stringify;function xI(){var n=lb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ab,Wp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vr,n=>n.reset());class vr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function RO(n){vt.setTimeout(()=>{throw n},0)}function J_(n,e){ab||function OI(){var n=vt.Promise.resolve(void 0);ab=function(){n.then(OT)}}(),Q_||(ab(),Q_=!0),lb.add(n,e)}var Q_=!1,lb=new class K_{constructor(){this.h=this.g=null}add(e,t){const r=Wp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function OT(){for(var n;n=xI();){try{n.h.call(n.g)}catch(t){RO(t)}var e=Wp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Q_=!1}function zp(n,e){ui.call(this),this.h=n||1,this.g=e||vt,this.j=Si(this.kb,this),this.l=Date.now()}function cb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ub(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function NT(n){n.g=ub(()=>{n.g=null,n.i&&(n.i=!1,NT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ii(zp,ui),(et=zp.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mi(this,"tick"),this.da&&(cb(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){zp.Z.M.call(this),cb(this),delete this.g};class Kp extends Qa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NT(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jp(n){Qa.call(this),this.h=n,this.g={}}Ii(Jp,Qa);var LT=[];function RT(n,e,t,r){Array.isArray(t)||(t&&(LT[0]=t.toString()),t=LT);for(var i=0;i<t.length;i++){var l=Pc(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Qp(n){H_(n.g,function(e,t){this.g.hasOwnProperty(t)&&qp(e)},n),n.g={}}function Xp(){this.g=!0}function Kh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tm(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<i.length;u++)i[u]=""}}}return zh(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Jp.prototype.M=function(){Jp.Z.M.call(this),Qp(this)},Jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xp.prototype.Aa=function(){this.g=!1},Xp.prototype.info=function(){};var cd={},VT=null;function X_(){return VT=VT||new ui}function db(n){Zi.call(this,cd.Ma,n)}function Jh(n){const e=X_();Mi(e,new db(e,n))}function hb(n,e){Zi.call(this,cd.STAT_EVENT,n),this.stat=e}function hs(n){const e=X_();Mi(e,new hb(e,n))}function fb(n,e){Zi.call(this,cd.Na,n),this.size=e}function nm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}cd.Ma="serverreachability",Ii(db,Zi),cd.STAT_EVENT="statevent",Ii(hb,Zi),cd.Na="timingevent",Ii(fb,Zi);var ey={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function BT(){}function RI(){}BT.prototype.h=null;var mb,Qh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xh(){Zi.call(this,"d")}function pb(){Zi.call(this,"c")}function rm(){}function Bl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Jp(this),this.P=PI,this.W=new zp(n=nb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new UT}function UT(){this.i=null,this.g="",this.h=!1}Ii(Xh,Zi),Ii(pb,Zi),Ii(rm,BT),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},mb=new rm;var PI=45e3,gb={},ty={};function _b(n,e,t){n.K=1,n.v=ay(Sa(e)),n.s=t,n.U=!0,yb(n,null)}function yb(n,e){n.F=Date.now(),im(n),n.A=Sa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),wb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new UT,n.g=of(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Kp(Si(n.Ia,n,n.g),n.O)),RT(n.V,n.g,"readystatechange",n.gb),e=n.H?X0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jh(1),function PT(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),_=0;_<f.length;_++){var D=f[_].split("=");if(1<D.length){var S=D[0];D=D[1];var A=S.split("_");u=2<=A.length&&"type"==A[1]?u+(S+"=")+D+"&":u+(S+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function HT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jT(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ef(n,t),i==ty){4==e&&(n.o=4,hs(14),r=!1),Kh(n.j,n.m,null,"[Incomplete Response]");break}if(i==gb){n.o=4,hs(15),Kh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kh(n.j,n.m,i,null),ry(n,i)}HT(n)&&i!=ty&&i!=gb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vb(e),e.L=!0,hs(11))):(Kh(n.j,n.m,t,"[Invalid Chunked Response]"),ud(n),tf(n))}function ef(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ty:(t=Number(e.substring(t,r)),isNaN(t)?gb:(r+=1)+t>e.length?ty:(e=e.substr(r,t),n.C=r+t,e))}function im(n){n.Y=Date.now()+n.P,vb(n,n.P)}function vb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nm(Si(n.eb,n),e)}function ny(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function tf(n){0==n.l.G||n.I||QT(n.l,n)}function ud(n){ny(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cb(n.W),Qp(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ry(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||dy(t.i,n)))if(t.I=n.N,!n.J&&dy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=nm(Si(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;vy(t),Nb(t)}yy(t),hs(18)}if(1>=qT(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else hd(t,11)}else if((n.J||t.g==n)&&vy(t),!B_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const A=D[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const R=D[5];null!=R&&"number"==typeof R&&0<R&&(t.K=r=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var l=r.i;!l.g&&(Gi($,"spdy")||Gi($,"quic")||Gi($,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Cb(l,l.h),l.h=null))}if(r.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,ir(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=tE(r,r.H?r.la:null,r.W),u.J){Tb(r.i,u);var f=u,_=r.K;_&&f.setTimeout(_),f.B&&(ny(f),im(f)),r.g=u}else Fb(r);0<t.l.length&&Pb(t)}else"stop"!=D[0]&&"close"!=D[0]||hd(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?hd(t,7):Hc(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}Jh(4)}catch(D){}}function sm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(F_(n)||"string"==typeof n)vT(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(F_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function FI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(F_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function nf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof nf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function iy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Fc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Fc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Fc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=Bl.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Ul(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const S=Ul(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>S)&&(3!=S||nb||this.g&&(this.h.h||this.g.ga()||JI(this.g)))){this.I||4!=S||7==e||Jh(8==e||0>=A?3:2),ny(this);var t=this.g.ba();this.N=t;t:if(HT(this)){var r=JI(this.g);n="";var i=r.length,l=4==Ul(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ud(this),tf(this);var u="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function FT(n,e,t,r,i,l,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B_(f)){var D=f;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,hs(12),ud(this),tf(this);break e}Kh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ry(this,t)}this.U?(jT(this,S,u),nb&&this.i&&3==S&&(RT(this.V,this.W,"tick",this.fb),this.W.start())):(Kh(this.j,this.m,u,null),ry(this,u)),4==S&&ud(this),this.i&&!this.I&&(4==S?QT(this.l,this):(this.i=!1,im(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,hs(12)):(this.o=0,hs(13)),ud(this),tf(this)}}}catch(S){}},et.fb=function(){if(this.g){var n=Ul(this.g),e=this.g.ga();this.C<e.length&&(ny(this),jT(this,n,e),this.i&&4!=n&&im(this))}},et.cancel=function(){this.I=!0,ud(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function em(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jh(3),hs(17)),ud(this),this.o=2,tf(this)):vb(this,this.Y-n)},(et=nf.prototype).R=function(){iy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return iy(this),this.g.concat()},et.get=function(n,e){return Fc(this.h,n)?this.h[n]:e},et.set=function(n,e){Fc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var YT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof dd){this.g=void 0!==e?e:n.g,sy(this,n.j),this.s=n.s,om(this,n.i),oy(this,n.m),this.l=n.l,e=n.h;var t=new cm;t.i=e.i,e.g&&(t.g=new nf(e.g),t.h=e.h),$T(this,t),this.o=n.o}else n&&(t=String(n).match(YT))?(this.g=!!e,sy(this,t[1]||"",!0),this.s=am(t[2]||""),om(this,t[3]||"",!0),oy(this,t[4]),this.l=am(t[5]||"",!0),$T(this,t[6]||"",!0),this.o=am(t[7]||"")):(this.g=!!e,this.h=new cm(null,this.g))}function Sa(n){return new dd(n)}function sy(n,e,t){n.j=t?am(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function om(n,e,t){n.i=t?am(e,!0):e}function oy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $T(n,e,t){e instanceof cm?(n.h=e,function $I(n,e){e&&!n.j&&(Vc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ly(this,r),wb(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=lm(e,ZT)),n.h=new cm(e,n.g))}function ir(n,e,t){n.h.set(e,t)}function ay(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function am(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lm(e,bb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lm(e,bb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(lm(t,"/"==t.charAt(0)?jI:HI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lm(t,YI)),n.join("")};var bb=/[#\/\?@]/g,HI=/[#\?:]/g,jI=/[#\?]/g,ZT=/[#\?@]/g,YI=/#/g;function cm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vc(n){n.g||(n.g=new nf,n.h=0,n.i&&function VI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ly(n,e){Vc(n),e=Bc(n,e),Fc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Fc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&iy(n)))}function cy(n,e){return Vc(n),e=Bc(n,e),Fc(n.g.h,e)}function wb(n,e,t){ly(n,e),0<t.length&&(n.i=null,n.g.set(Bc(n,e),Gh(t)),n.h+=t.length)}function Bc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function uy(n){this.l=n||ZI,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=cm.prototype).add=function(n,e){Vc(this),this.i=null,n=Bc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){Vc(this),this.g.forEach(function(t,r){vT(t,function(i){n.call(e,i,r,this)},this)},this)},et.T=function(){Vc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},et.R=function(n){Vc(this);var e=[];if("string"==typeof n)cy(this,n)&&(e=K0(e,this.g.get(Bc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=K0(e,n[t])}return e},et.set=function(n,e){return Vc(this),this.i=null,cy(this,n=Bc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var u=i;""!==r[l]&&(u+="="+encodeURIComponent(String(r[l]))),n.push(u)}}return this.i=n.join("&")};var ZI=10;function Db(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qT(n){return n.h?1:n.g?n.g.size:0}function dy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cb(n,e){n.g?n.g.add(e):n.h=e}function Tb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Gh(n.i)}function Eb(){}function hy(){this.g=new Eb}function WI(n,e,t){const r=t||"";try{sm(n,function(i,l){let u=i;ks(i)&&(u=zh(i)),e.push(r+l+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function um(n){this.l=n.$b||null,this.j=n.ib||!1}function Sb(n,e){ui.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uy.prototype.cancel=function(){if(this.i=qI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Eb.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},Eb.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Ii(um,BT),um.prototype.g=function(){return new Sb(this.l,this.j)},um.prototype.i=function(n){return function(){return n}}({}),Ii(Sb,ui);var fy=0;function WT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function dm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hm(n)}function hm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Sb.prototype).open=function(n,e){if(this.readyState!=fy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hm(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dm(this)),this.readyState=fy},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hm(this)),this.g&&(this.readyState=3,hm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dm(this):hm(this),3==this.readyState&&WT(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,dm(this))},et.Ta=function(n){this.g&&(this.response=n,dm(this))},et.ha=function(){this.g&&dm(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zI=vt.JSON.parse;function Mr(n){ui.call(this),this.headers=new nf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ib,this.K=this.L=!1}Ii(Mr,ui);var Ib="",Mb=/^https?$/i,py=["POST","PUT"];function KI(n){return"content-type"==n.toLowerCase()}function Ab(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kb(n),my(n)}function kb(n){n.D||(n.D=!0,Mi(n,"complete"),Mi(n,"error"))}function zT(n){if(n.h&&void 0!==jp&&(!n.C[1]||4!=Ul(n)||2!=n.ba()))if(n.v&&4==Ul(n))ub(n.Fa,0,n);else if(Mi(n,"readystatechange"),4==Ul(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(YT)[1]||null;if(!i&&vt.self&&vt.self.location){var l=vt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Mb.test(i?i.toLowerCase():"")}t=r}if(t)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var u=2<Ul(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",kb(n)}}finally{my(n)}}}function my(n,e){if(n.g){gy(n);const t=n.g,r=n.C[0]?P_:null;n.g=null,n.C=null,e||Mi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function gy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function Ul(n){return n.g?n.g.readyState:0}function JI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ib:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function xb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function QI(n){let e="";return H_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function Xa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ob(n){this.za=0,this.l=[],this.h=new Xp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xa("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xa("baseRetryDelayMs",5e3,n),this.$a=Xa("retryDelaySeedMs",1e4,n),this.Ya=Xa("forwardChannelMaxRetries",2,n),this.ra=Xa("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new uy(n&&n.concurrentRequestLimit),this.Ca=new hy,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Hc(n){if(Lb(n),3==n.G){var e=n.V++,t=Sa(n.F);ir(t,"SID",n.J),ir(t,"RID",e),ir(t,"TYPE","terminate"),sf(n,t),(e=new Bl(n,n.h,e,void 0)).K=2,e.v=ay(Sa(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=of(e.l,null),e.g.ea(e.v)),e.F=Date.now(),im(e)}eE(n)}function Nb(n){n.g&&(Vb(n),n.g.cancel(),n.g=null)}function Lb(n){Nb(n),n.u&&(vt.clearTimeout(n.u),n.u=null),vy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function Rb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Pb(n)}function Pb(n){Db(n.i)||n.m||(n.m=!0,J_(n.Ha,n),n.C=0)}function XI(n,e){var t;t=e?e.m:n.V++;const r=Sa(n.F);ir(r,"SID",n.J),ir(r,"RID",t),ir(r,"AID",n.U),sf(n,r),n.o&&n.s&&xb(r,n.o,n.s),t=new Bl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=_y(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Cb(n.i,t),_b(t,r,e)}function sf(n,e){n.j&&sm({},function(t,r){ir(e,r,t)})}function _y(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Si(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=i[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let D=i[_].h;const S=i[_].g;if(D-=l,0>D)l=Math.max(0,i[_].h-100),f=!1;else try{WI(S,u,"req"+D+"_")}catch(A){r&&r(S)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Fb(n){n.g||n.u||(n.Y=1,J_(n.Ga,n),n.A=0)}function yy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=nm(Si(n.Ga,n),XT(n,n.A)),n.A++,0))}function Vb(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function JT(n){n.g=new Bl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Sa(n.oa);ir(e,"RID","rpc"),ir(e,"SID",n.J),ir(e,"CI",n.N?"0":"1"),ir(e,"AID",n.U),sf(n,e),ir(e,"TYPE","xmlhttp"),n.o&&n.s&&xb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ay(Sa(e)),t.s=null,t.U=!0,yb(t,n)}function vy(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function QT(n,e){var t=null;if(n.g==e){vy(n),Vb(n),n.g=null;var r=2}else{if(!dy(n.i,e))return;t=e.D,Tb(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Mi(r=X_(),new fb(r,t,e,i)),Pb(n)}else Fb(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function KT(n,e){return!(qT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=nm(Si(n.Ha,n,e),XT(n,n.C)),n.C++,0)))}(n,e)||2==r&&yy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:hd(n,5);break;case 4:hd(n,10);break;case 3:hd(n,6);break;default:hd(n,2)}}function XT(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function hd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Si(n.jb,n);t||(t=new dd("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||sy(t,"https"),ay(t)),function rf(n,e){const t=new Xp;if(vt.Image){const r=new Image;r.onload=V_(Uc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=V_(Uc,t,r,"TestLoadImage: error",!1,e),r.onabort=V_(Uc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=V_(Uc,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hs(2);n.G=0,n.j&&n.j.va(e),eE(n),Lb(n)}function eE(n){n.G=0,n.I=-1,n.j&&((0!=qI(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Gh(n.l),n.l.length=0),n.j.ua())}function tE(n,e,t){let r=function BI(n){return n instanceof dd?Sa(n):new dd(n,void 0)}(t);if(""!=r.i)e&&om(r,e+"."+r.i),oy(r,r.m);else{const i=vt.location;r=function UI(n,e,t,r){var i=new dd(null,void 0);return n&&sy(i,n),e&&om(i,e),t&&oy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&H_(n.aa,function(i,l){ir(r,l,i)}),t=n.sa,(e=n.D)&&t&&ir(r,e,t),ir(r,"VER",n.ma),sf(n,r),r}function of(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mr(t&&n.Ba&&!n.qa?new um({ib:!0}):n.qa)).L=n.H,e}function Bb(){}function pm(){if(Zh&&!(10<=Number(SI)))throw Error("Environmental error: no available transport.")}function xs(n,e){ui.call(this),this.g=new Ob(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!B_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!B_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fd(this)}function Ub(n){Xh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Hb(){pb.call(this),this.status=1}function fd(n){this.g=n}(et=Mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mb.g(),this.C=function LI(n){return n.h||(n.h=n.i())}(this.u?this.u:mb),this.g.onreadystatechange=Si(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Ab(this,l)}n=t||"";const i=new nf(this.headers);r&&sm(r,function(l,u){i.set(u,l)}),r=function bT(n){e:{var e=KI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=vt.FormData&&n instanceof vt.FormData,!(0<=z0(py,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gy(this),0<this.B&&((this.K=function fm(n){return Zh&&function EI(){return function wT(n){var e=TI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=J0(String(Y_)).split("."),t=J0("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",l=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=$p(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||$p(0==i[2].length,0==l[2].length)||$p(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.pa,this)):this.A=ub(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Ab(this,l)}},et.pa=function(){void 0!==jp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),my(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),my(this,!0)),Mr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?zT(this):this.cb())},et.cb=function(){zT(this)},et.ba=function(){try{return 2<Ul(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zI(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=Ob.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=X0(l),tb(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_y(this,i,e),ir(t=Sa(this.F),"RID",n),ir(t,"CVER",22),this.D&&ir(t,"X-HTTP-Session-Id",this.D),sf(this,t),this.o&&l&&xb(t,this.o,l),Cb(this.i,i),this.Ra&&ir(t,"TYPE","init"),this.ja?(ir(t,"$req",e),ir(t,"SID","null"),i.$=!0,_b(i,t,null)):_b(i,t,e),this.G=2}}else 3==this.G&&(n?XI(this,n):0==this.l.length||Db(this.i)||XI(this))},et.Ga=function(){if(this.u=null,JT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=nm(Si(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hs(10),Nb(this),JT(this))},et.ab=function(){null!=this.v&&(this.v=null,Nb(this),yy(this),hs(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),hs(2)):(this.h.info("Failed to ping google.com"),hs(1))},(et=Bb.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},pm.prototype.g=function(n,e){return new xs(n,e)},Ii(xs,ui),xs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),J_(Si(n.hb,n,e))),hs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=tE(n,null,n.W),Pb(n)},xs.prototype.close=function(){Hc(this.g)},xs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Rb(this.g,e)}else this.v?((e={}).__data__=zh(n),Rb(this.g,e)):Rb(this.g,n)},xs.prototype.M=function(){this.g.j=null,delete this.j,Hc(this.g),delete this.g,xs.Z.M.call(this)},Ii(Ub,Xh),Ii(Hb,pb),Ii(fd,Bb),fd.prototype.xa=function(){Mi(this.g,"a")},fd.prototype.wa=function(n){Mi(this.g,new Ub(n))},fd.prototype.va=function(n){Mi(this.g,new Hb(n))},fd.prototype.ua=function(){Mi(this.g,"b")},pm.prototype.createWebChannel=pm.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,ey.NO_ERROR=0,ey.TIMEOUT=8,ey.HTTP_ERROR=6,NI.COMPLETE="complete",RI.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",ui.prototype.listen=ui.prototype.N,Mr.prototype.listenOnce=Mr.prototype.O,Mr.prototype.getLastError=Mr.prototype.La,Mr.prototype.getLastErrorCode=Mr.prototype.Da,Mr.prototype.getStatus=Mr.prototype.ba,Mr.prototype.getResponseJson=Mr.prototype.Qa,Mr.prototype.getResponseText=Mr.prototype.ga,Mr.prototype.send=Mr.prototype.ea;var eM=Rc.createWebChannelTransport=function(){return new pm},nE=Rc.getStatEventTarget=function(){return X_()},by=Rc.ErrorCode=ey,tM=Rc.EventType=NI,nM=Rc.Event=cd,rE=Rc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mm=Rc.FetchXmlHttpFactory=um,wy=Rc.WebChannel=RI,jb=Rc.XhrIo=Mr;const Ia="@firebase/firestore";class Ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");let jc="9.6.10";const Ko=new Vl.Yd("@firebase/firestore");function Yb(){return Ko.logLevel}function Pe(n,...e){if(Ko.logLevel<=Vl.in.DEBUG){const t=e.map($b);Ko.debug(`Firestore (${jc}): ${n}`,...t)}}function dr(n,...e){if(Ko.logLevel<=Vl.in.ERROR){const t=e.map($b);Ko.error(`Firestore (${jc}): ${n}`,...t)}}function Yc(n,...e){if(Ko.logLevel<=Vl.in.WARN){const t=e.map($b);Ko.warn(`Firestore (${jc}): ${n}`,...t)}}function $b(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function Nt(n,e){n||rt()}function Ge(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ai.UNAUTHENTICATED))}shutdown(){}}class Zb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sE{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let u=new di;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new di,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const D=u;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},_=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new di)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new iM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Ai(e)}}class qb{constructor(e,t,r){this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Wb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new qb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sM{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new oE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class oo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function aE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}oo.A=-1;class Dy{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aE(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function pd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function zb(n){return n+"\0"}class br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new br(0,0))}static max(){return new kt(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Kb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $c(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class af{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===af.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof af?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),u=t.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends af{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new on(t)}static emptyPath(){return new on([])}}const fs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends af{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return fs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(l(),i++)}if(l(),u)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class lf{constructor(e){this.fields=e,e.sort(hr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const gm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gc(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=gm.exec(n);if(Nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function md(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function Cy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cE(n){const e=n.mapValue.fields.__previous_value__;return Cy(e)?cE(e):e}function _m(n){const e=Gc(n.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class Jb{constructor(e,t,r,i,l,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}function Zc(n){return null==n}function qc(n){return 0===n&&1/n==-1/0}function Ty(n){return"number"==typeof n&&Number.isInteger(n)&&!qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(on.fromString(e))}static fromName(e){return new Ye(on.fromString(e).popFirst(5))}static empty(){return new Ye(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new on(e.slice()))}}const Qb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uE={nullValue:"NULL_VALUE"};function Wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cy(n)?4:fE(n)?9:10:rt()}function ao(n,e){if(n===e)return!0;const t=Wc(n);if(t!==Wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _m(n).isEqual(_m(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Gc(r.timestampValue),u=Gc(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,md(n.bytesValue).isEqual(md(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return sr(r.geoPointValue.latitude)===sr(i.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return sr(r.integerValue)===sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=sr(r.doubleValue),u=sr(i.doubleValue);return l===u?qc(l)===qc(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(r,i){const l=r.mapValue.fields||{},u=i.mapValue.fields||{};if(Kb(l)!==Kb(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!ao(l[f],u[f])))return!1;return!0}(n,e);default:return rt()}var i}function cf(n,e){return void 0!==(n.values||[]).find(t=>ao(t,e))}function zc(n,e){if(n===e)return 0;const t=Wc(n),r=Wc(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const u=sr(i.integerValue||i.doubleValue),f=sr(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Ey(n.timestampValue,e.timestampValue);case 4:return Ey(_m(n),_m(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,l){const u=md(i),f=md(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const u=i.split("/"),f=l.split("/");for(let _=0;_<u.length&&_<f.length;_++){const D=Wt(u[_],f[_]);if(0!==D)return D}return Wt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const u=Wt(sr(i.latitude),sr(l.latitude));return 0!==u?u:Wt(sr(i.longitude),sr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const u=i.values||[],f=l.values||[];for(let _=0;_<u.length&&_<f.length;++_){const D=zc(u[_],f[_]);if(D)return D}return Wt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const u=i.fields||{},f=Object.keys(u),_=l.fields||{},D=Object.keys(_);f.sort(),D.sort();for(let S=0;S<f.length&&S<D.length;++S){const A=Wt(f[S],D[S]);if(0!==A)return A;const R=zc(u[f[S]],_[D[S]]);if(0!==R)return R}return Wt(f.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Ey(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Gc(n),r=Gc(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function Kc(n){return dE(n)}function dE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Gc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?md(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const u of r.values||[])l?l=!1:i+=",",i+=dE(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${dE(r.fields[f])}`;return l+"}"}(n.mapValue):rt();var e}function uf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xb(n){return!!n&&"integerValue"in n}function df(n){return!!n&&"arrayValue"in n}function ew(n){return!!n&&"nullValue"in n}function hE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ym(n){return!!n&&"mapValue"in n}function hf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $c(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function pE(n,e){return void 0===n?e:void 0===e||zc(n,e)>0?n:e}function tw(n,e){return void 0===n?e:void 0===e||zc(n,e)<0?n:e}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ym(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(t)}setAll(e){let t=hr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=hf(u):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());ym(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$c(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new qi(hf(this.value))}}function nw(n){const e=[];return $c(n.fields,(t,r)=>{const i=new hr([t]);if(ym(r)){const l=nw(r.mapValue).fields;if(0===l.length)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)}),new lf(e)}class Yn{constructor(e,t,r,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Yn(e,0,kt.min(),kt.min(),qi.empty(),0)}static newFoundDocument(e,t,r){return new Yn(e,1,t,kt.min(),r,0)}static newNoDocument(e,t){return new Yn(e,2,t,kt.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,kt.min(),qi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Sy(n){return n.fields.find(e=>2===e.kind)}function ff(n){return n.fields.filter(e=>2!==e.kind)}vm.UNKNOWN_ID=-1;class Iy{constructor(e,t){this.fieldPath=e,this.kind=t}}class My{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new My(0,Jc.min())}}function rw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(1e9===r?new br(t+1,0):new br(t,r));return new Jc(i,Ye.empty(),e)}function FO(n){return new Jc(n.readTime,n.key,-1)}class Jc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jc(kt.min(),Ye.empty(),-1)}static max(){return new Jc(kt.max(),Ye.empty(),-1)}}function VO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}class BO{constructor(e,t=null,r=[],i=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=f,this.P=null}}function aM(n,e=null,t=[],r=[],i=null,l=null,u=null){return new BO(n,e,t,r,i,l,u)}function pf(n){const e=Ge(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Kc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),e.P=t}return e.P}function Ay(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!cM(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ao(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bE(n.startAt,e.startAt)&&bE(n.endAt,e.endAt)}function gd(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function iw(n,e){return n.filters.filter(t=>t instanceof fi&&t.field.isEqual(e))}class fi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new sw(e,t,r):"array-contains"===t?new ow(e,r):"in"===t?new _E(e,r):"not-in"===t?new yE(e,r):"array-contains-any"===t?new vE(e,r):new fi(e,t,r)}static V(e,t,r){return"in"===t?new mE(e,r):new gE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zc(t,this.value)):null!==t&&Wc(this.value)===Wc(t)&&this.v(zc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sw extends fi{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class mE extends fi{constructor(e,t){super(e,"in",t),this.keys=lM(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gE extends fi{constructor(e,t){super(e,"not-in",t),this.keys=lM(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lM(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class ow extends fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return df(t)&&cf(t.arrayValue,this.value)}}class _E extends fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cf(this.value.arrayValue,t)}}class yE extends fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cf(this.value.arrayValue,t)}}class vE extends fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!df(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cf(this.value.arrayValue,r))}}class _d{constructor(e,t){this.position=e,this.inclusive=t}}class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function cM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ky(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],u=n.position[i];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(u.referenceValue),t.key):zc(u,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function bE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ao(n.position[t],e.position[t]))return!1;return!0}class Qc{constructor(e,t=null,r=[],i=[],l=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function uM(n,e,t,r,i,l,u,f){return new Qc(n,e,t,r,i,l,u,f)}function bm(n){return new Qc(n)}function xy(n){return!Zc(n.limit)&&"F"===n.limitType}function Oy(n){return!Zc(n.limit)&&"L"===n.limitType}function aw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wE(n){for(const e of n.filters)if(e.S())return e.field;return null}function lw(n){return null!==n.collectionGroup}function Xc(n){const e=Ge(n);if(null===e.D){e.D=[];const t=wE(e),r=aw(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yd(t)),e.D.push(new yd(hr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yd(hr.keyField(),l))}}}return e.D}function Jo(n){const e=Ge(n);if(!e.C)if("F"===e.limitType)e.C=aM(e.path,e.collectionGroup,Xc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xc(e))t.push(new yd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new _d(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new _d(e.startAt.position,!e.startAt.inclusive):null;e.C=aM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Qo(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wm(n,e){return Ay(Jo(n),Jo(e))&&n.limitType===e.limitType}function Ny(n){return`${pf(Jo(n))}|lt:${n.limitType}`}function cw(n){return`Query(target=${function UO(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Kc(r.value)}`;var r}).join(", ")}]`),Zc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Kc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Kc(t)).join(",")),`Target(${e})`}(Jo(n))}; limitType=${n.limitType})`}function uw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,u){const f=ky(i,l,u);return i.inclusive?f<=0:f<0}(t.startAt,Xc(t),r)||t.endAt&&!function(i,l,u){const f=ky(i,l,u);return i.inclusive?f>=0:f>0}(t.endAt,Xc(t),r)));var t,r}function Ly(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dw(n){return(e,t)=>{let r=!1;for(const i of Xc(n)){const l=DE(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function DE(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,l,u){const f=l.data.field(i),_=u.data.field(i);return null!==f&&null!==_?zc(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function CE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function hw(n){return{integerValue:""+n}}function fw(n,e){return Ty(e)?hw(e):CE(n,e)}class Ry{constructor(){this._=void 0}}function dM(n,e,t){return n instanceof mf?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof gf?TE(n,e):n instanceof eu?EE(n,e):function(r,i){const l=Xo(r,i),u=mw(l)+mw(r.k);return Xb(l)&&Xb(r.k)?hw(u):CE(r.M,u)}(n,e)}function pw(n,e,t){return n instanceof gf?TE(n,e):n instanceof eu?EE(n,e):t}function Xo(n,e){return n instanceof _f?Xb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mf extends Ry{}class gf extends Ry{constructor(e){super(),this.elements=e}}function TE(n,e){const t=SE(e);for(const r of n.elements)t.some(i=>ao(i,r))||t.push(r);return{arrayValue:{values:t}}}class eu extends Ry{constructor(e){super(),this.elements=e}}function EE(n,e){let t=SE(e);for(const r of n.elements)t=t.filter(i=>!ao(i,r));return{arrayValue:{values:t}}}class _f extends Ry{constructor(e,t){super(),this.M=e,this.k=t}}function mw(n){return sr(n.integerValue||n.doubleValue)}function SE(n){return df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Py{constructor(e,t){this.field=e,this.transform=t}}class ME{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dm{}function gw(n,e,t){n instanceof yf?function(r,i,l){const u=r.value.clone(),f=hM(r.fieldTransforms,i,l.transformResults);u.setAll(f),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof vd?function(r,i,l){if(!Fy(r.precondition,i))return void i.convertToUnknownDocument(l.version);const u=hM(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(xE(r)),f.setAll(u),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Cm(n,e,t){var i;n instanceof yf?function(r,i,l){if(!Fy(r.precondition,i))return;const u=r.value.clone(),f=fM(r.fieldTransforms,l,i);u.setAll(f),i.convertToFoundDocument(_w(i),u).setHasLocalMutations()}(n,e,t):n instanceof vd?function(r,i,l){if(!Fy(r.precondition,i))return;const u=fM(r.fieldTransforms,l,i),f=i.data;f.setAll(xE(r)),f.setAll(u),i.convertToFoundDocument(_w(i),f).setHasLocalMutations()}(n,e,t):Fy(n.precondition,i=e)&&i.convertToNoDocument(kt.min())}function AE(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Xo(r.transform,i||null);null!=l&&(null==t&&(t=qi.empty()),t.set(r.field,l))}return t||null}function kE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&pd(t,r,(i,l)=>function IE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof gf&&r instanceof gf||t instanceof eu&&r instanceof eu?pd(t.elements,r.elements,ao):t instanceof _f&&r instanceof _f?ao(t.k,r.k):t instanceof mf&&r instanceof mf);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function _w(n){return n.isFoundDocument()?n.version:kt.min()}class yf extends Dm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class vd extends Dm{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function xE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hM(n,e,t){const r=new Map;Nt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],u=l.transform,f=e.data.field(l.field);r.set(l.field,pw(u,f,t[i]))}return r}function fM(n,e,t){const r=new Map;for(const i of n){const l=i.transform,u=t.data.field(i.field);r.set(i.field,dM(l,u,e))}return r}class vf extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class yw extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class pM{constructor(e){this.count=e}}var Hr,mn;function mM(n){switch(n){default:return rt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function gM(n){if(void 0===n)return dr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Hr.OK:return de.OK;case Hr.CANCELLED:return de.CANCELLED;case Hr.UNKNOWN:return de.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return de.INTERNAL;case Hr.UNAVAILABLE:return de.UNAVAILABLE;case Hr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Hr.NOT_FOUND:return de.NOT_FOUND;case Hr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Hr.ABORTED:return de.ABORTED;case Hr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Hr.DATA_LOSS:return de.DATA_LOSS;default:return rt()}}(mn=Hr||(Hr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class bd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}class jr{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vy(this.root,e,this.comparator,!0)}}class Vy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Yr.RED,this.left=null!=i?i:Yr.EMPTY,this.right=null!=l?l:Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Yr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kn(this.comparator);return t.data=e,t}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wd(n){return n.hasNext()?n.getNext():void 0}const Dd=new jr(Ye.comparator);function lo(){return Dd}const vw=new jr(Ye.comparator);function Tm(){return vw}function Em(){return new bd(n=>n.toString(),(n,e)=>n.isEqual(e))}const bw=new jr(Ye.comparator),ww=new Kn(Ye.comparator);function gn(...n){let e=ww;for(const t of n)e=e.add(t);return e}const HO=new Kn(Wt);function Dw(){return HO}class By{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Uy.createSynthesizedTargetChangeForCurrentChange(e,t)),new By(kt.min(),r,Dw(),lo(),gn())}}class Uy{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Uy(hi.EMPTY_BYTE_STRING,t,gn(),gn(),gn())}}class Sm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class NE{constructor(e,t){this.targetId=e,this.$=t}}class LE{constructor(e,t,r=hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RE{constructor(){this.B=0,this.L=Tw(),this.U=hi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=gn(),t=gn(),r=gn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Uy(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=Tw()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class _M{constructor(e){this.nt=e,this.st=new Map,this.it=lo(),this.rt=Cw(),this.ot=new Kn(Wt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(gd(l))if(0===r){const u=new Ye(l.path);this.ct(t,u,Yn.newNoDocument(u,kt.min()))}else Nt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,u)=>{const f=this.wt(u);if(f){if(l.current&&gd(f.target)){const _=new Ye(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Yn.newNoDocument(_,e))}l.j&&(t.set(u,l.H()),l.J())}});let r=gn();this.rt.forEach((l,u)=>{let f=!0;u.forEachWhile(_=>{const D=this.wt(_);return!D||2===D.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.it.forEach((l,u)=>u.setReadTime(e));const i=new By(e,t,this.ot,this.it,r);return this.it=lo(),this.rt=Cw(),this.ot=new Kn(Wt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new RE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Kn(Wt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new RE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Cw(){return new jr(Ye.comparator)}function Tw(){return new jr(Ye.comparator)}const PE={asc:"ASCENDING",desc:"DESCENDING"},yM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vM{constructor(e,t){this.databaseId=e,this.N=t}}function bf(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hy(n,e){return n.N?e.toBase64():e.toUint8Array()}function jO(n,e){return bf(n,e.toTimestamp())}function ei(n){return Nt(!!n),kt.fromTimestamp(function(e){const t=Gc(e);return new br(t.seconds,t.nanos)}(n))}function Im(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function FE(n){const e=on.fromString(n);return Nt(M(e)),e}function Mm(n,e){return Im(n.databaseId,e.path)}function Hl(n,e){const t=FE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(BE(t))}function VE(n,e){return Im(n.databaseId,e)}function bM(n){const e=FE(n);return 4===e.length?on.emptyPath():BE(e)}function Am(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BE(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wM(n,e,t){return{name:Mm(n,e),fields:t.value.mapValue.fields}}function DM(n,e,t){const r=Hl(n,e.name),i=ei(e.updateTime),l=new qi({mapValue:{fields:e.fields}}),u=Yn.newFoundDocument(r,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function jy(n,e){let t;if(e instanceof yf)t={update:wM(n,e.key,e.value)};else if(e instanceof vf)t={delete:Mm(n,e.key)};else if(e instanceof vd)t={update:wM(n,e.key,e.data),updateMask:C(e.fieldMask)};else{if(!(e instanceof yw))return rt();t={verify:Mm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const u=l.transform;if(u instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof eu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _f)return{fieldPath:l.field.canonicalString(),increment:u.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:jO(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function Ew(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ur.updateTime(ei(i.updateTime)):void 0!==i.exists?Ur.exists(i.exists):Ur.none():Ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let f=null;"setToServerValue"in u?(Nt("REQUEST_TIME"===u.setToServerValue),f=new mf):"appendMissingElements"in u?f=new gf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new eu(u.removeAllFromArray.values||[]):"increment"in u?f=new _f(l,u.increment):rt();const _=hr.fromServerFormat(u.fieldPath);return new Py(_,f)}(n,i)):[];var i;if(e.update){const i=Hl(n,e.update.name),l=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new lf((e.updateMask.fieldPaths||[]).map(D=>hr.fromServerFormat(D)));return new vd(i,l,u,t,r)}return new yf(i,l,t,r)}if(e.delete){const i=Hl(n,e.delete);return new vf(i,t)}if(e.verify){const i=Hl(n,e.verify);return new yw(i,t)}return rt()}function CM(n,e){return{documents:[VE(n,e.path)]}}function TM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=VE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const D=_.map(S=>function(A){if("=="===A.op){if(hE(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NAN"}};if(ew(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(hE(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NOT_NAN"}};if(ew(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:h(A.field),op:d(A.op),value:A.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(D=>{return{field:h((S=D).field),direction:c(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(D=e.limit,n.N||Zc(D)?D:{value:D});var D,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function EM(n){let e=bM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Nt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=a(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new yd(m((A=S).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(S){let A;return A="object"==typeof S?S.value:S,Zc(A)?null:A}(t.limit));let _=null;var S;t.startAt&&(_=new _d((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new _d(S.values||[],!S.before)}(t.endAt)),uM(e,i,u,l,f,"F",_,D)}function a(n){return n?void 0!==n.unaryFilter?[w(n)]:void 0!==n.fieldFilter?[v(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>a(e)).reduce((e,t)=>e.concat(t)):rt():[]}function c(n){return PE[n]}function d(n){return yM[n]}function h(n){return{fieldPath:n.canonicalString()}}function m(n){return hr.fromServerFormat(n.fieldPath)}function v(n){return fi.create(m(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function w(n){switch(n.unaryFilter.op){case"IS_NAN":const e=m(n.unaryFilter.field);return fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=m(n.unaryFilter.field);return fi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=m(n.unaryFilter.field);return fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=m(n.unaryFilter.field);return fi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function C(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function M(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function k(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U(e)),e=P(n.get(t),e);return U(e)}function P(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function U(n){return n+"\x01\x01"}function q(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&rt(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,u),i+="\0";break;case"\x11":i+=n.substring(l,u+1);break;default:rt()}l=u+2}return new on(r)}const ve=["userId","batchId"];function Re(n,e){return[n,k(e)]}function He(n,e,t){return[n,k(e),t]}const nt={},Ee=["prefixPath","collectionGroup","readTime","documentId"],gt=["prefixPath","collectionGroup","documentId"],en=["collectionGroup","readTime","prefixPath","documentId"],An=["canonicalId","targetId"],co=["targetId","path"],Cd=["path","targetId"],Sw=["collectionId","parent"],Iw=["indexId","uid"],Mw=["uid","sequenceNumber"],Aw=["indexId","uid","arrayValue","directionalValue","documentKey"],kw=["indexId","uid","documentKey"],xw=["userId","collectionPath","documentId"],Ow=["userId","collectionPath","largestBatchId"],Nw=["userId","collectionGroup","largestBatchId"],Yy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rV=[...Yy,"documentOverlays"],ZO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iV=[...ZO,"indexConfiguration","indexState","indexEntries"],qO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,l=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++l,u&&l===i&&t()},_=>r(_))}),u=!0,l===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class UE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new di,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Lw(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=SM(r.target.error);this.At.reject(new Lw(e,i))}}static open(e,t,r,i){try{return new UE(t,e.transaction(i,r))}catch(l){throw new Lw(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oV(t)}}class jl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===jl.Vt((0,Xt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),xm(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Xt.hl)())return!1;if(jl.St())return!0;const e=(0,Xt.z$)(),t=jl.Vt(e),r=0<t&&t<10,i=jl.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{r(u.target.result)},l.onblocked=()=>{i(new Lw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Ae(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ae(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Lw(e,f))},l.onupgradeneeded=u=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=UE.open(l.db,e,u?"readonly":"readwrite",r),D=i(_).next(S=>(_.bt(),S)).catch(S=>(_.abort(S),me.reject(S))).toPromise();return D.catch(()=>{}),yield _.Rt,D}catch(_){const D="FirebaseError"!==_.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),l.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sV{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return xm(this.Ft.delete())}}class Lw extends Ae{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function km(n){return"IndexedDbTransactionError"===n.name}class oV{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xm(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),xm(this.store.add(e))}get(e){return xm(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),xm(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),xm(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Gt(i,(u,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new me((l,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(l,u,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=l=>{const u=SM(l.target.error);i(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}Gt(e,t){const r=[];return new me((i,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new sV(f),D=t(f.primaryKey,f.value,_);if(D instanceof me){const S=D.catch(A=>(_.done(),me.reject(A)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xm(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=SM(r.target.error);t(i)}})}let zO=!1;function SM(n){const e=jl.Vt((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zO||(zO=!0,setTimeout(()=>{throw r},0)),r}}return n}class KO extends WO{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Wi(n,e){const t=Ge(n);return jl.xt(t.Ht,e)}class IM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&gw(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Cm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Cm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gn())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,r)=>kE(t,r))&&pd(this.baseMutations,e.baseMutations,(t,r)=>kE(t,r))}}class MM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Nt(e.mutations.length===r.length);let i=bw;const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,r[u].version);return new MM(e,t,r,i)}}class AM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wf{constructor(e,t,r,i,l=kt.min(),u=kt.min(),f=hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new wf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class JO{constructor(e){this.Jt=e}}function QO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:HE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mm(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:bf(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Om(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Om(e.version)}}var i,l;return r}function HE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Om(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nm(n){const e=new br(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function $y(n,e){const t=(e.baseMutations||[]).map(l=>Ew(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(u.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Ew(n.Jt,l)),i=br.fromMillis(e.localWriteTimeMs);return new IM(e.batchId,i,t,r)}function Rw(n){const e=Nm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nm(n.lastLimboFreeSnapshotVersion):kt.min();let r;var i;return void 0!==n.query.documents?(Nt(1===(i=n.query).documents.length),r=Jo(bm(bM(i.documents[0])))):r=Jo(EM(n.query)),new wf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,hi.fromBase64String(n.resumeToken))}function XO(n,e){const t=Om(e.snapshotVersion),r=Om(e.lastLimboFreeSnapshotVersion);let i;i=gd(e.target)?CM(n.Jt,e.target):TM(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kM(n){const e=EM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qo(e,e.limit,"L"):e}function xM(n,e){return new AM(e.largestBatchId,Ew(n.Jt,e.overlayMutation))}function eN(n,e){const t=e.path.lastSegment();return[n,k(e.path.popLast()),t]}class lV{getBundleMetadata(e,t){return tN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Nm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return tN(e).put({bundleId:(r=t).id,createTime:Om(ei(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:kM(i.bundledQuery),readTime:Nm(i.readTime)};var i})}saveNamedQuery(e,t){return nN(e).put({name:(r=t).name,readTime:Om(ei(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tN(n){return Wi(n,"bundles")}function nN(n){return Wi(n,"namedQueries")}class OM{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new OM(e,t.uid||"")}getOverlay(e,t){return Pw(e).get(eN(this.userId,t)).next(r=>r?xM(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,u)=>{const f=new AM(t,u);i.push(this.Xt(e,f))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(k(u.getCollectionPath())));const l=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(Pw(e).Qt("collectionPathOverlayIndex",f))}),me.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Em(),l=k(t),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Pw(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const D=xM(this.M,_);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Em();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pw(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,D,S)=>{const A=xM(this.M,D);l.size()<i||A.largestBatchId===u?(l.set(A.getKey(),A),u=A.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return Pw(e).put(function(r,i,l){const[u,f,_]=eN(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:jy(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Pw(n){return Wi(n,"documentOverlays")}class Gy{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),qc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(md(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?fE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function cV(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=cV(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Gy.fe=new Gy;class uV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=rN(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=rN(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class dV{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class hV{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class jE{constructor(){this.De=new uV,this.Ce=new dV(this.De),this.xe=new hV(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Df{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Df(this.indexId,this.documentKey,this.arrayValue,r)}}function Lm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iN(n.arrayValue,e.arrayValue),0!==t?t:(t=iN(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function iN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Sy(e);if(void 0!==t&&!this.Be(t))return!1;const r=ff(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[l++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class pV{constructor(){this.qe=new NM}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class NM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kn(on.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(on.comparator)).toArray()}}const YE=new Uint8Array(0);class mV{constructor(e){this.user=e,this.Ge=new NM,this.Ke=new bd(t=>pf(t),(t,r)=>Ay(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:k(i)};return sN(e).put(l)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[zb(t),""],!1,!0);return sN(e).qt(i).next(l=>{for(const u of l){if(u.collectionId!==t)break;r.push(q(u.parent))}return r})}addFieldIndex(e,t){const r=$E(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=$E(e),i=GE(e),l=Fw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Fw(e);let i=!0;const l=new Map;return me.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{i&&(i=!!f),l.set(u,f)})).next(()=>{if(i){let u=gn();return me.forEach(l,(f,_)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=f,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${pf(t)}`);const S=function(Oe,We){const Ze=Sy(We);if(void 0===Ze)return null;for(const yt of iw(Oe,Ze.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(_,f),A=function(Oe,We){const Ze=new Map;for(const yt of ff(We))for(const ct of iw(Oe,yt.fieldPath))switch(ct.op){case"==":case"in":Ze.set(yt.fieldPath.canonicalString(),ct.value);break;case"not-in":case"!=":return Ze.set(yt.fieldPath.canonicalString(),ct.value),Array.from(Ze.values())}return null}(_,f),R=function(Oe,We){const Ze=[];let yt=!0;for(const un of ff(We)){let Pn,On=!0;for(const tn of iw(Oe,un.fieldPath)){let Fn,mo=!0;switch(tn.op){case"<":case"<=":Fn="nullValue"in(ct=tn.value)?uE:"booleanValue"in ct?{booleanValue:!1}:"integerValue"in ct||"doubleValue"in ct?{doubleValue:NaN}:"timestampValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ct?{stringValue:""}:"bytesValue"in ct?{bytesValue:""}:"referenceValue"in ct?uf(el.empty(),Ye.empty()):"geoPointValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ct?{arrayValue:{}}:"mapValue"in ct?{mapValue:{}}:rt();break;case"==":case"in":case">=":Fn=tn.value;break;case">":Fn=tn.value,mo=!1;break;case"!=":case"not-in":Fn=uE}pE(Pn,Fn)===Fn&&(Pn=Fn,On=mo)}if(null!==Oe.startAt)for(let tn=0;tn<Oe.orderBy.length;++tn)if(Oe.orderBy[tn].field.isEqual(un.fieldPath)){const Fn=Oe.startAt.position[tn];pE(Pn,Fn)===Fn&&(Pn=Fn,On=Oe.startAt.inclusive);break}if(void 0===Pn)return null;Ze.push(Pn),yt&&(yt=On)}var ct;return new _d(Ze,yt)}(_,f),B=function(Oe,We){const Ze=[];let yt=!0;for(const un of ff(We)){let Pn,On=!0;for(const tn of iw(Oe,un.fieldPath)){let Fn,mo=!0;switch(tn.op){case">=":case">":Fn="nullValue"in(ct=tn.value)?{booleanValue:!1}:"booleanValue"in ct?{doubleValue:NaN}:"integerValue"in ct||"doubleValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ct?{stringValue:""}:"stringValue"in ct?{bytesValue:""}:"bytesValue"in ct?uf(el.empty(),Ye.empty()):"referenceValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ct?{arrayValue:{}}:"arrayValue"in ct?{mapValue:{}}:"mapValue"in ct?Qb:rt(),mo=!1;break;case"==":case"in":case"<=":Fn=tn.value;break;case"<":Fn=tn.value,mo=!1;break;case"!=":case"not-in":Fn=Qb}tw(Pn,Fn)===Fn&&(Pn=Fn,On=mo)}if(null!==Oe.endAt)for(let tn=0;tn<Oe.orderBy.length;++tn)if(Oe.orderBy[tn].field.isEqual(un.fieldPath)){const Fn=Oe.endAt.position[tn];tw(Pn,Fn)===Fn&&(Pn=Fn,On=Oe.endAt.inclusive);break}if(void 0===Pn)return null;Ze.push(Pn),yt&&(yt=On)}var ct;return new _d(Ze,yt)}(_,f),$=this.je(f,_,R),ee=this.je(f,_,B),_e=this.We(f,_,A),Ve=this.ze(f.indexId,S,$,!!R&&R.inclusive,ee,!!B&&B.inclusive,_e);return me.forEach(Ve,Oe=>r.Kt(Oe,t.limit).next(We=>{We.forEach(Ze=>{u=u.add(new Ye(q(Ze.documentKey)))})}))}).next(()=>u)}return me.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,l,u,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),D=_/(null!=t?t.length:1),S=[];for(let A=0;A<_;++A){const R=t?this.He(t[A/D]):YE,B=r?this.Je(e,R,r[A%D],i):this.Ye(e),$=l?this.Xe(e,R,l[A%D],u):this.Ye(e+1);S.push(...this.createRange(B,$,f.map(ee=>this.Je(e,R,ee,!0))))}return S}Je(e,t,r,i){const l=new Df(e,Ye.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Df(e,Ye.empty(),t,r);return i?l.ke():l}Ye(e){return new Df(e,Ye.empty(),YE,YE)}getFieldIndex(e,t){const r=new fV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const u=l.filter(f=>r.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const r=new jE;for(const i of ff(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const u=r.Ne(i.kind);Gy.fe.Zt(l,u)}return r.Se()}He(e){const t=new jE;return Gy.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new jE);let l=0;for(const u of ff(e)){const f=r[l++];for(const _ of i)if(this.tn(t,u.fieldPath)&&df(f))i=this.en(i,u,f);else{const D=_.Ne(u.kind);Gy.fe.Zt(f,D)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],l=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new jE;_.seed(f.Se()),Gy.fe.Zt(u,_.Ne(t.kind)),l.push(_)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof fi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=$E(e),i=GE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const u=[];return me.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(D,S){const A=S?new My(S.sequenceNumber,new Jc(Nm(S.readTime),new Ye(q(S.documentKey)),S.largestBatchId)):My.empty(),R=D.fields.map(([B,$])=>new Iy(hr.fromServerFormat(B),$));return new vm(D.indexId,D.collectionGroup,R,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=$E(e),l=GE(e);return this.sn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>me.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Om((R=r).readTime),documentKey:k(R.documentKey.path),largestBatchId:R.largestBatchId});var R})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,l)=>{const u=r.get(i.collectionGroup);return(u?me.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),me.forEach(f,_=>this.rn(e,i,_).next(D=>{const S=this.on(l,_);return D.isEqual(S)?me.resolve():this.un(e,l,D,S)}))))})}an(e,t,r){return Fw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:k(t.key.path)})}cn(e,t,r){return Fw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,k(t.key.path)])}rn(e,t,r){const i=Fw(e);let l=new Kn(Lm);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,k(t.path)])},(u,f)=>{l=l.add(new Df(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}on(e,t){let r=new Kn(Lm);const i=this.Ze(t,e);if(null==i)return r;const l=Sy(t);if(null!=l){const u=e.data.field(l.fieldPath);if(df(u))for(const f of u.arrayValue.values||[])r=r.add(new Df(t.indexId,e.key,this.He(f),i))}else r=r.add(new Df(t.indexId,e.key,YE,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(u,f,_,D,S){const A=u.getIterator(),R=f.getIterator();let B=wd(A),$=wd(R);for(;B||$;){let ee=!1,_e=!1;if(B&&$){const Ve=_(B,$);Ve<0?_e=!0:Ve>0&&(ee=!0)}else null!=B?_e=!0:ee=!0;ee?(D($),$=wd(R)):_e?(S(B),B=wd(A)):(B=wd(A),$=wd(R))}}(r,i,Lm,u=>{l.push(this.an(e,t,u))},u=>{l.push(this.cn(e,t,u))}),me.waitFor(l)}sn(e){let t=1;return GE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Lm(u,f)).filter((u,f,_)=>!f||0!==Lm(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=Lm(u,e),_=Lm(u,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(u),i.push(u.ke());else if(_>0)break}i.push(t);const l=[];for(let u=0;u<i.length;u+=2)l.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,""],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,""]));return l}}function sN(n){return Wi(n,"collectionParents")}function Fw(n){return Wi(n,"indexEntries")}function $E(n){return Wi(n,"indexConfiguration")}function GE(n){return Wi(n,"indexState")}const oN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ea{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:u},(S,A,R)=>(f++,R.delete()));l.push(_.next(()=>{Nt(1===f)}));const D=[];for(const S of t.mutations){const A=He(e,S.key.path,t.batchId);l.push(i.delete(A)),D.push(S.key)}return me.waitFor(l).next(()=>D)}function ZE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class LM{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Nt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new LM(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cf(e).Wt({index:"userMutationsIndex",range:r},(i,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Zy(e),u=Cf(e);return u.add({}).next(f=>{Nt("number"==typeof f);const _=new IM(f,t,r,i),D=function(R,B,$){const ee=$.baseMutations.map(Ve=>jy(R.Jt,Ve)),_e=$.mutations.map(Ve=>jy(R.Jt,Ve));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:_e}}(this.M,this.userId,_),S=[];let A=new Kn((R,B)=>Wt(R.canonicalString(),B.canonicalString()));for(const R of i){const B=He(this.userId,R.key.path,f);A=A.add(R.key.path.popLast()),S.push(u.put(D)),S.push(l.put(B,nt))}return A.forEach(R=>{S.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),me.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Cf(e).get(t).next(r=>r?(Nt(r.userId===this.userId),$y(this.M,r)):null)}ln(e,t){return this.hn[t]?me.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Cf(e).Wt({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(Nt(f.batchId>=r),l=$y(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,u)=>{r=l.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>$y(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Re(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Zy(e).Wt({range:i},(u,f,_)=>{const[D,S,A]=u,R=q(S);if(D===this.userId&&t.path.isEqual(R))return Cf(e).get(A).next(B=>{if(!B)throw rt();Nt(B.userId===this.userId),l.push($y(this.M,B))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(Wt);const i=[];return t.forEach(l=>{const u=Re(this.userId,l.path),f=IDBKeyRange.lowerBound(u),_=Zy(e).Wt({range:f},(D,S,A)=>{const[R,B,$]=D,ee=q(B);R===this.userId&&l.path.isEqual(ee)?r=r.add($):A.done()});i.push(_)}),me.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Re(this.userId,r),u=IDBKeyRange.lowerBound(l);let f=new Kn(Wt);return Zy(e).Wt({range:u},(_,D,S)=>{const[A,R,B]=_,$=q(R);A===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(B)):S.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Cf(e).get(l).next(u=>{if(null===u)throw rt();Nt(u.userId===this.userId),r.push($y(this.M,u))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return aN(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Zy(e).Wt({range:r},(l,u,f)=>{if(l[0]===this.userId){const _=q(l[1]);i.push(_)}else f.done()}).next(()=>{Nt(0===i.length)})})}containsKey(e,t){return lN(e,this.userId,t)}_n(e){return cN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lN(n,e,t){const r=Re(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return Zy(n).Wt({range:l,jt:!0},(f,_,D)=>{const[S,A,R]=f;S===e&&A===i&&(u=!0),D.done()}).next(()=>u)}function Cf(n){return Wi(n,"mutations")}function Zy(n){return Wi(n,"documentMutations")}function cN(n){return Wi(n,"mutationQueues")}class Rm{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Rm(0)}static gn(){return new Rm(-1)}}class gV{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Rm(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>kt.fromTimestamp(new br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qy(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return qy(e).Wt((u,f)=>{const _=Rw(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>me.waitFor(l)).next(()=>i)}forEachTarget(e,t){return qy(e).Wt((r,i)=>{const l=Rw(i);t(l)})}yn(e){return uN(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}pn(e,t){return uN(e).put("targetGlobalKey",t)}In(e,t){return qy(e).put(XO(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=pf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return qy(e).Wt({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const D=Rw(f);Ay(t,D.target)&&(l=D,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Tf(e);return t.forEach(u=>{const f=k(u.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Tf(e);return me.forEach(t,l=>{const u=k(l.path);return me.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Tf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Tf(e);let l=gn();return i.Wt({range:r,jt:!0},(u,f,_)=>{const D=q(u[1]),S=new Ye(D);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=k(t.path),i=IDBKeyRange.bound([r],[zb(r)],!1,!0);let l=0;return Tf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,f],_,D)=>{0!==u&&(l++,D.done())}).next(()=>l>0)}Et(e,t){return qy(e).get(t).next(r=>r?Rw(r):null)}}function qy(n){return Wi(n,"targets")}function uN(n){return Wi(n,"targetGlobal")}function Tf(n){return Wi(n,"targetDocuments")}function Pm(n){return RM.apply(this,arguments)}function RM(){return RM=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==qO)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),RM.apply(this,arguments)}function dN([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class _V{constructor(e){this.En=e,this.buffer=new Kn(dN),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yV{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){km(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pm(i)}yield t.vn(e)}))}}class vV{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(oo.A);const r=new _V(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(oN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oN):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,l,u,f,_,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(D=Date.now(),Yb()<=Vl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-S}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class bV{constructor(e,t){this.db=e,this.garbageCollector=new vV(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return qE(e,r)}removeReference(e,t,r){return qE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return qE(e,t)}Mn(e,t){return function(r,i){let l=!1;return cN(r).zt(u=>lN(r,u,i).next(f=>(f&&(l=!0),me.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.kn(e,(u,f)=>{if(f<=t){const _=this.Mn(e,u).next(D=>{if(!D)return l++,r.getEntry(e,u).next(()=>(r.removeEntry(u,kt.min()),Tf(e).delete([0,k(u.path)])))});i.push(_)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return qE(e,t)}kn(e,t){const r=Tf(e);let i,l=oo.A;return r.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:D})=>{0===u?(l!==oo.A&&t(new Ye(q(i)),l),l=D,i=_):l=oo.A}).next(()=>{l!==oo.A&&t(new Ye(q(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qE(n,e){return Tf(n).put((r=n.currentSequenceNumber,{targetId:0,path:k(e.path),sequenceNumber:r}));var r}class hN{constructor(){this.changes=new bd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wV{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Fm(e).put(r)}removeEntry(e,t,r){return Fm(e).delete(function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],HE(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Yn.newInvalidDocument(t);return Fm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Yn.newInvalidDocument(t)};return Fm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,l)=>{r={document:this.Fn(t,l),size:ZE(l)}}).next(()=>r)}getEntries(e,t){let r=lo();return this.Bn(e,t,(i,l)=>{const u=this.Fn(i,l);r=r.insert(i,u)}).next(()=>r)}Ln(e,t){let r=lo(),i=new jr(Ye.comparator);return this.Bn(e,t,(l,u)=>{const f=this.Fn(l,u);r=r.insert(l,f),i=i.insert(l,ZE(u))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return me.resolve();let i=new Kn(mN);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(Vw(i.first()),Vw(i.last())),u=i.getIterator();let f=u.getNext();return Fm(e).Wt({index:"documentKeyIndex",range:l},(_,D,S)=>{const A=Ye.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;f&&mN(f,A)<0;)r(f,null),f=u.getNext();f&&f.isEqual(A)&&(r(f,D),f=u.hasNext()?u.getNext():null),f?S.Ut(Vw(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),HE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fm(e).qt(IDBKeyRange.bound(i,l,!0)).next(u=>{let f=lo();for(const _ of u){const D=this.Fn(Ye.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(D.key,D)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=lo();const u=pN(t,r),f=pN(t,Jc.max());return Fm(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,D,S)=>{const A=this.Fn(Ye.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(A.key,A),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new DV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fN(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}On(e,t){return fN(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function aV(n,e){let t;if(e.document)t=DM(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=Nm(e.noDocument.readTime);t=Yn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=Ye.fromSegments(e.unknownDocument.path),i=Nm(e.unknownDocument.version);t=Yn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new br(r[0],r[1]);return kt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return Yn.newInvalidDocument(e)}}class DV extends hN{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new bd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Kn((l,u)=>Wt(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,f.readTime)),u.isValidDocument()){const _=QO(this.qn.M,u);i=i.add(l.path.popLast()),r+=ZE(_)-f.size,t.push(this.qn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=QO(this.qn.M,u.convertToNoDocument(kt.min()));t.push(this.qn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((l,u)=>{this.Gn.set(l,{size:u,readTime:r.get(l).readTime})}),r))}}function fN(n){return Wi(n,"remoteDocumentGlobal")}function Fm(n){return Wi(n,"remoteDocumentsV14")}function Vw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pN(n,e){const t=e.documentKey.path.toArray();return[n,HE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mN(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ye.comparator(n,e)}class CV{constructor(e){this.M=e}kt(e,t,r,i){const l=new UE("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ve,{unique:!0}),f.createObjectStore("documentMutations"),gN(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=me.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),gN(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",D)}(l))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(D=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ve,{unique:!0});const S=_.store("mutations"),A=D.map(R=>S.put(R));return me.waitFor(A)})}(e,l))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Kn(l))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&i>=7&&(u=u.next(()=>this.jn(l))),r<8&&i>=8&&(u=u.next(()=>this.Wn(e,l))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.zn(l))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:xw});_.createIndex("collectionPathOverlayIndex",Ow,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Nw,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Ee});_.createIndex("documentKeyIndex",gt),_.createIndex("collectionGroupIndex",en)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Iw}).createIndex("sequenceNumberIndex",Mw,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Aw}).createIndex("documentKeyIndex",kw,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=ZE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>me.forEach(i,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(f=>me.forEach(f,_=>{Nt(_.userId===l.userId);const D=$y(this.M,_);return aN(e,l.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((u,f)=>{const _=new on(u),D=[0,k(_)];l.push(t.get(D).next(S=>S?me.resolve():t.put({targetId:0,path:k(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Sw});const r=t.store("collectionParents"),i=new NM,l=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:k(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new on(u);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,_],D)=>{const S=q(f);return l(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Rw(i),u=XO(this.M,l);return t.put(u)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,u)=>{const f=t.store("remoteDocumentsV14"),_=(D=u,D.document?new Ye(on.fromString(D.document.name).popFirst(5)):D.noDocument?Ye.fromSegments(D.noDocument.path):D.unknownDocument?Ye.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(S))}).next(()=>me.waitFor(i))}}function gN(n){n.createObjectStore("targetDocuments",{keyPath:co}).createIndex("documentTargetsIndex",Cd,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",An,{unique:!0}),n.createObjectStore("targetGlobal")}const PM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FM{constructor(e,t,r,i,l,u,f,_,D,S,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=u,this.document=f,this.Yn=D,this.Xn=S,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=R=>Promise.resolve(),!FM.vt())throw new Ae(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bV(this,i),this.cs=t+"main",this.M=new JO(_),this.hs=new jl(this.cs,this.Zn,new CV(this.M)),this.ls=new gV(this.referenceDelegate,this.M),this.fs=new wV(this.M),this.ds=new lV,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,PM);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new oo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>WE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(km(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Bw(e).get("owner").next(t=>me.resolve(this.bs(t)))}Ps(e){return WE(e).delete(this.clientId)}Vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wi(r,"clientMetadata");return i.qt().next(l=>{const u=e.Ss(l,18e5),f=l.filter(_=>-1===u.indexOf(_));return me.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?me.resolve(!0):Bw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,PM);return!1}}return!(!this.networkEnabled||!this.inForeground)||WE(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new KO(t,oo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>WE(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return LM.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new mV(e)}getDocumentOverlayCache(e){return OM.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(u=this.Zn)?iV:13===u?ZO:12===u?rV:11===u?Yy:void rt();var u;let f;return this.hs.runTransaction(e,i,l,_=>(f=new KO(_,this.ts?this.ts.next():oo.A),"readwrite-primary"===t?this.Ts(f).next(D=>!!D||this.Es(f)).next(D=>{if(!D)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(de.FAILED_PRECONDITION,qO);return r(f)}).next(D=>this.Rs(f).next(()=>D)):this.Fs(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return Bw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(de.FAILED_PRECONDITION,PM)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bw(e).put("owner",t)}static vt(){return jl.vt()}As(e){const t=Bw(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bw(n){return Wi(n,"owner")}function WE(n){return Wi(n,"clientMetadata")}function VM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TV{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):lw(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new Ye(t)).next(r=>{let i=Tm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let l=Tm();return this.indexManager.getCollectionParents(e,i).next(u=>me.forEach(u,f=>{const _=(D=t,S=f.child(i),new Qc(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Ws(e,_,r).next(D=>{D.forEach((S,A)=>{l=l.insert(S,A)})})}).next(()=>l))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const u of l)for(const f of u.mutations){const _=f.key;let D=i.get(_);null==D&&(D=Yn.newInvalidDocument(_),i=i.insert(_,D)),Cm(f,D,u.localWriteTime),D.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((l,u)=>{uw(t,u)||(i=i.remove(l))}),i))}}class BM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=gn(),i=gn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new BM(e,t.fromCache,r,i)}}class _N{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(kt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(l=>{const u=this.ti(t,l);return(xy(t)||Oy(t))&&this.ei(t.limitType,u,i,r)?this.Zs(e,t):(Yb()<=Vl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cw(t)),this.Xs.Ks(e,t,rw(r,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ti(e,t){let r=new Kn(dw(e));return t.forEach((i,l)=>{uw(e,l)&&(r=r.add(l))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Zs(e,t){return Yb()<=Vl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",cw(t)),this.Xs.Ks(e,t,Jc.min())}}class EV{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new jr(Wt),this.ii=new bd(l=>pf(l),Ay),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new TV(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function yN(n,e,t,r){return new EV(n,e,t,r)}function vN(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,ye.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(l=>(i=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const u=[],f=[];let _=gn();for(const D of i){u.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}for(const D of l){f.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}return t.ai.qs(r,_).next(D=>({ci:D,removedBatchIds:u,addedBatchIds:f}))})})}),UM.apply(this,arguments)}function SV(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,D){const S=_.batch,A=S.keys();let R=me.resolve();return A.forEach(B=>{R=R.next(()=>D.getEntry(f,B)).next($=>{const ee=_.docVersions.get(B);Nt(null!==ee),$.version.compareTo(ee)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),D.addEntry($)))})}),R.next(()=>u.$s.removeMutationBatch(f,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function bN(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function IV(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((D,S)=>{const A=i.get(S);if(!A)return;f.push(t.ls.removeMatchingKeys(l,D.removedDocuments,S).next(()=>t.ls.addMatchingKeys(l,D.addedDocuments,S)));let R=A.withSequenceNumber(l.currentSequenceNumber);var B,$,ee;e.targetMismatches.has(S)?R=R.withResumeToken(hi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):D.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(D.resumeToken,r)),i=i.insert(S,R),$=R,ee=D,(0===(B=A).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(l,R))});let _=lo();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),f.push(wN(l,u,e.documentUpdates).next(D=>{_=D})),!r.isEqual(kt.min())){const D=t.ls.getLastRemoteSnapshotVersion(l).next(S=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(D)}return me.waitFor(f).next(()=>u.apply(l)).next(()=>t.ai.Gs(l,_)).next(()=>_)}).then(l=>(t.si=i,l))}function wN(n,e,t){let r=gn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=lo();return t.forEach((u,f)=>{const _=i.get(u);f.isNoDocument()&&f.version.isEqual(kt.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Pe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),l})}function MV(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Wy(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(l=>l?(i=l,me.resolve(i)):t.ls.allocateTargetId(r).next(u=>(i=new wf(e,u,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function zy(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,ye.Z)(function*(n,e,t){const r=Ge(n),i=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!km(u))throw u;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),HM.apply(this,arguments)}function zE(n,e,t){const r=Ge(n);let i=kt.min(),l=gn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,D){const S=Ge(f),A=S.ii.get(D);return void 0!==A?me.resolve(S.si.get(A)):S.ls.getTargetData(_,D)}(r,u,Jo(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(u,f.targetId).next(_=>{l=_})}).next(()=>r.ni.Ks(u,e,t?i:kt.min(),t?l:gn())).next(f=>(TN(r,Ly(e),f),{documents:f,hi:l})))}function DN(n,e){const t=Ge(n),r=Ge(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(u=>u?u.target:null))}function CN(n,e){const t=Ge(n),r=t.ri.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,rw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TN(t,e,i),i))}function TN(n,e,t){let r=kt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function jM(){return jM=(0,ye.Z)(function*(n,e,t,r){const i=Ge(n);let l=gn(),u=lo();for(const D of t){const S=e.li(D.metadata.name);D.document&&(l=l.add(S));const A=e.fi(D);A.setReadTime(e.di(D.metadata.readTime)),u=u.insert(S,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),_=yield Wy(i,(D=r,Jo(bm(on.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>wN(D,f,u).next(S=>(f.apply(D),S)).next(S=>i.ls.removeMatchingKeysForTargetId(D,_.targetId).next(()=>i.ls.addMatchingKeys(D,l,_.targetId)).next(()=>i.ai.Gs(D,S)).next(()=>S)))}),jM.apply(this,arguments)}function kV(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,ye.Z)(function*(n,e,t=gn()){const r=yield Wy(n,Jo(kM(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const u=ei(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.ds.saveNamedQuery(l,e);const f=r.withResumeToken(hi.EMPTY_BYTE_STRING,u);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(l,f).next(()=>i.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.ls.addMatchingKeys(l,t,r.targetId)).next(()=>i.ds.saveNamedQuery(l,e))})}),YM.apply(this,arguments)}class xV{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return me.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:ei(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:kM(r.bundledQuery),readTime:ei(r.readTime)}),me.resolve();var r}}class OV{constructor(){this.overlays=new jr(Ye.comparator),this.mi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=Em(),l=t.length+1,u=new Ye(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new jr((D,S)=>D-S);const u=this.overlays.getIterator();for(;u.hasNext();){const D=u.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=l.get(D.largestBatchId);null===S&&(S=Em(),l=l.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const f=Em(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,S)=>f.set(D,S)),!(f.size()>=i)););return me.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new AM(t,r));let l=this.mi.get(t);void 0===l&&(l=gn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class $M{constructor(){this.gi=new Kn(zi.yi),this.pi=new Kn(zi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new zi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new zi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ye(new on([])),r=new zi(t,e),i=new zi(t,e+1),l=[];return this.pi.forEachInRange([r,i],u=>{this.Ei(u),l.push(u.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ye(new on([])),r=new zi(t,e),i=new zi(t,e+1);let l=gn();return this.pi.forEachInRange([r,i],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new zi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ye.comparator(e.key,t.key)||Wt(e.Vi,t.Vi)}static Ii(e,t){return Wt(e.Vi,t.Vi)||Ye.comparator(e.key,t.key)}}class NV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Kn(zi.yi)}checkEmpty(e){return me.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const l=this.vi;this.vi++;const u=new IM(l,t,r,i);this.$s.push(u);for(const f of i)this.Si=this.Si.add(new zi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),l=i<0?0:i;return me.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return me.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zi(t,0),i=new zi(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,i],u=>{const f=this.Di(u.Vi);l.push(f)}),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(Wt);return t.forEach(i=>{const l=new zi(i,0),u=new zi(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,u],f=>{r=r.add(f.Vi)})}),me.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const u=new zi(new Ye(l),0);let f=new Kn(Wt);return this.Si.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(f=f.add(_.Vi)),!0)},u),me.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Nt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return me.forEach(t.mutations,i=>{const l=new zi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new zi(t,0),i=this.Si.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class LV{constructor(e){this.ki=e,this.docs=new jr(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,u=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Yn.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=lo();const l=new Ye(t.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||VO(FO(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}Mi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RV(this)}getSize(e){return me.resolve(this.size)}}class RV extends hN{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class PV{constructor(e){this.persistence=e,this.Oi=new bd(t=>pf(t),Ay),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new $M,this.targetCount=0,this.Bi=Rm.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),me.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Rm(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.In(t),me.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),me.waitFor(l).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(u=>{l.push(i.markPotentiallyOrphaned(e,u))}),me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.$i.containsKey(t))}}class FV{constructor(e,t){this.Li={},this.overlays={},this.ts=new oo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new PV(this),this.indexManager=new pV,this.fs=new LV(r=>this.referenceDelegate.Ui(r)),this.M=new JO(t),this.ds=new xV(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new NV(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new VV(this.ts.next());return this.referenceDelegate.qi(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ki(e,t){return me.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class VV extends WO{constructor(e){super(),this.currentSequenceNumber=e}}class GM{constructor(e){this.persistence=e,this.Qi=new $M,this.ji=null}static Wi(e){return new GM(e)}get zi(){if(this.ji)return this.ji;throw rt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.zi,r=>{const i=Ye.fromPath(r);return this.Hi(e,i).next(l=>{l||t.removeEntry(i,kt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return me.or([()=>me.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function EN(n,e){return`firestore_clients_${n}_${e}`}function SN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ZM(n,e){return`firestore_targets_${n}_${e}`}class KE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(l=new Ae(i.error.code,i.error.message))),u?new KE(e,t,i.state,l):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ae(r.error.code,r.error.message))),l?new Uw(e,r.state,i):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class JE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Dw();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=Ty(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return i?new JE(e,l):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qM{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qM(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WM{constructor(){this.activeTargetIds=Dw()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zM{constructor(e,t,r,i,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new jr(Wt),this.started=!1,this.ir=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=EN(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new WM),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const l=e.getItem(EN(e.persistenceKey,i));if(l){const u=JE.Ji(i,l);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ZM(this.persistenceKey,e));if(r){const i=Uw.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let u=oo.A;if(null!=l)try{const f=JSON.parse(l);Nt("number"==typeof f),u=f}catch(f){dr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==oo.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new KE(this.currentUser,e,t,r),l=SN(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=SN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=ZM(this.persistenceKey,e),l=new Uw(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return JE.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return KE.Ji(new Ai(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Uw.Ji(i,t)}wr(e){return qM.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),u=[],f=[];return l.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Or(u,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Dw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class IN{constructor(){this.Fr=new WM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new WM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BV{Br(e){}shutdown(){}}class MN{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const UV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class HV{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class jV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const u=this.oo(e,t);Pe("RestConnection","Sending: ",u,r);const f={};return this.uo(f,i,l),this.ao(e,u,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Yc("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}co(e,t,r,i,l){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${UV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((l,u)=>{const f=new jb;f.listenOnce(tM.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case by.NO_ERROR:const D=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),l(D);break;case by.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),u(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case by.HTTP_ERROR:const S=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const R=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN}(A.status);u(new Ae(R,A.message))}else u(new Ae(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=eM(),u=nE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new mm({})),this.uo(f.initMessageHeaders,t,r),(0,Xt.uI)()||(0,Xt.b$)()||(0,Xt.d)()||(0,Xt.w1)()||(0,Xt.Mn)()||(0,Xt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const D=l.createWebChannel(_,f);let S=!1,A=!1;const R=new HV({jr:$=>{A?Pe("Connection","Not sending because WebChannel is closed:",$):(S||(Pe("Connection","Opening WebChannel transport."),D.open(),S=!0),Pe("Connection","WebChannel sending:",$),D.send($))},Wr:()=>D.close()}),B=($,ee,_e)=>{$.listen(ee,Ve=>{try{_e(Ve)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return B(D,wy.EventType.OPEN,()=>{A||Pe("Connection","WebChannel transport opened.")}),B(D,wy.EventType.CLOSE,()=>{A||(A=!0,Pe("Connection","WebChannel transport closed"),R.eo())}),B(D,wy.EventType.ERROR,$=>{A||(A=!0,Yc("Connection","WebChannel transport errored:",$),R.eo(new Ae(de.UNAVAILABLE,"The operation could not be completed")))}),B(D,wy.EventType.MESSAGE,$=>{var ee;if(!A){const _e=$.data[0];Nt(!!_e);const Ve=_e,Oe=Ve.error||(null===(ee=Ve[0])||void 0===ee?void 0:ee.error);if(Oe){Pe("Connection","WebChannel received error:",Oe);const We=Oe.status;let Ze=function(ct){const un=Hr[ct];if(void 0!==un)return gM(un)}(We),yt=Oe.message;void 0===Ze&&(Ze=de.INTERNAL,yt="Unknown error status: "+We+" with message "+Oe.message),A=!0,R.eo(new Ae(Ze,yt)),D.close()}else Pe("Connection","WebChannel received:",_e),R.no(_e)}}),B(u,nM.STAT_EVENT,$=>{$.stat===rE.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===rE.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.Zr()},0),R}}function AN(){return"undefined"!=typeof window?window:null}function QE(){return"undefined"!=typeof document?document:null}function Hw(n){return new vM(n,!0)}class KM{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class kN{constructor(e,t,r,i,l,u,f,_){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new KM(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YV extends kN{constructor(e,t,r,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function $O(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),i=e.targetChange.targetIds||[],l=function(_,D){return _.N?(Nt(void 0===D||"string"==typeof D),hi.fromBase64String(D||"")):(Nt(void 0===D||D instanceof Uint8Array),hi.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const D=void 0===_.code?de.UNKNOWN:gM(_.code);return new Ae(D,_.message||"")}(u);t=new LE(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Hl(n,r.document.name),l=ei(r.document.updateTime),u=new qi({mapValue:{fields:r.document.fields}}),f=Yn.newFoundDocument(i,l,u);t=new Sm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Hl(n,r.document),l=r.readTime?ei(r.readTime):kt.min(),u=Yn.newNoDocument(i,l);t=new Sm([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Hl(n,r.document);t=new Sm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new pM(r.count||0);t=new NE(r.targetId,l)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return kt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?ei(l.readTime):kt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Am(this.M),t.addTarget=function(i,l){let u;const f=l.target;return u=gd(f)?{documents:CM(i,f)}:{query:TM(i,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=Hy(i,l.resumeToken):l.snapshotVersion.compareTo(kt.min())>0&&(u.readTime=bf(i,l.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function s(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Am(this.M),t.removeTarget=e,this.Oo(t)}}class $V extends kN{constructor(e,t,r,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function GO(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,i){let l=ei(r.updateTime?r.updateTime:i);return l.isEqual(kt.min())&&(l=ei(i)),new ME(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.Jo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Am(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jy(this.M,r))};this.Oo(t)}}class GV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class ZV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(dr(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class qV{constructor(e,t,r,i,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{r.enqueueAndForget((0,ye.Z)(function*(){var _;Ef(u)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(D){const S=Ge(D);S.lu.add(4),yield Ky(S),S._u.set("Unknown"),S.lu.delete(4),yield jw(S)}),function(D){return _.apply(this,arguments)})(u))}))}),this._u=new ZV(r,i)}}function jw(n){return JM.apply(this,arguments)}function JM(){return JM=(0,ye.Z)(function*(n){if(Ef(n))for(const e of n.fu)yield e(!0)}),JM.apply(this,arguments)}function Ky(n){return QM.apply(this,arguments)}function QM(){return QM=(0,ye.Z)(function*(n){for(const e of n.fu)yield e(!1)}),QM.apply(this,arguments)}function XE(n,e){const t=Ge(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),tA(t)?eA(t):Qy(t).Co()&&XM(t,e))}function Yw(n,e){const t=Ge(n),r=Qy(t);t.hu.delete(e),r.Co()&&xN(t,e),0===t.hu.size&&(r.Co()?r.ko():Ef(t)&&t._u.set("Unknown"))}function XM(n,e){n.wu.Z(e.targetId),Qy(n).Qo(e)}function xN(n,e){n.wu.Z(e),Qy(n).jo(e)}function eA(n){n.wu=new _M({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Qy(n).start(),n._u.iu()}function tA(n){return Ef(n)&&!Qy(n).Do()&&n.hu.size>0}function Ef(n){return 0===Ge(n).lu.size}function ON(n){n.wu=void 0}function WV(n){return nA.apply(this,arguments)}function nA(){return nA=(0,ye.Z)(function*(n){n.hu.forEach((e,t)=>{XM(n,e)})}),nA.apply(this,arguments)}function zV(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,ye.Z)(function*(n,e){ON(n),tA(n)?(n._u.uu(e),eA(n)):n._u.set("Unknown")}),rA.apply(this,arguments)}function KV(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof LE&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const u=l.cause;for(const f of l.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield e1(n,r)}else if(e instanceof Sm?n.wu.ut(e):e instanceof NE?n.wu._t(e):n.wu.ht(e),!t.isEqual(kt.min()))try{const r=yield bN(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const u=i.wu.yt(l);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const D=i.hu.get(_);D&&i.hu.set(_,D.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(hi.EMPTY_BYTE_STRING,_.snapshotVersion)),xN(i,f);const D=new wf(_.target,f,1,_.sequenceNumber);XM(i,D)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield e1(n,r)}var r}),iA.apply(this,arguments)}function e1(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n,e,t){if(!km(e))throw e;n.lu.add(1),yield Ky(n),n._u.set("Offline"),t||(t=()=>bN(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield jw(n)}))}),sA.apply(this,arguments)}function NN(n,e){return e().catch(t=>e1(n,t,e))}function Jy(n){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n){const e=Ge(n),t=Sf(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;JV(e);)try{const i=yield MV(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,QV(e,i)}catch(i){yield e1(e,i)}LN(e)&&RN(e)}),oA.apply(this,arguments)}function JV(n){return Ef(n)&&n.cu.length<10}function QV(n,e){n.cu.push(e);const t=Sf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function LN(n){return Ef(n)&&!Sf(n).Do()&&n.cu.length>0}function RN(n){Sf(n).start()}function XV(n){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n){Sf(n).Xo()}),aA.apply(this,arguments)}function eB(n){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n){const e=Sf(n);for(const t of n.cu)e.Ho(t.mutations)}),lA.apply(this,arguments)}function tB(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,ye.Z)(function*(n,e,t){const r=n.cu.shift(),i=MM.from(r,e,t);yield NN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jy(n)}),cA.apply(this,arguments)}function nB(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ye.Z)(function*(n,e){var t;e&&Sf(n).zo&&(yield(t=(0,ye.Z)(function*(r,i){if(mM(l=i.code)&&l!==de.ABORTED){const u=r.cu.shift();Sf(r).No(),yield NN(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Jy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),LN(n)&&RN(n)}),uA.apply(this,arguments)}function PN(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,ye.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Ef(t);t.lu.add(3),yield Ky(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield jw(t)}),dA.apply(this,arguments)}function hA(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,ye.Z)(function*(n,e){const t=Ge(n);e?(t.lu.delete(2),yield jw(t)):e||(t.lu.add(2),yield Ky(t),t._u.set("Unknown"))}),fA.apply(this,arguments)}function Qy(n){return n.mu||(n.mu=function(e,t,r){const i=Ge(e);return i.tu(),new YV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:WV.bind(null,n),Jr:zV.bind(null,n),Ko:KV.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.mu.No(),tA(n)?eA(n):n._u.set("Unknown")):(yield n.mu.stop(),ON(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Sf(n){return n.gu||(n.gu=function(e,t,r){const i=Ge(e);return i.tu(),new $V(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:XV.bind(null,n),Jr:nB.bind(null,n),Yo:eB.bind(null,n),Jo:tB.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.No(),yield Jy(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class pA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,l){const u=Date.now()+r,f=new pA(e,t,u,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(n,e){if(dr("AsyncQueue",`${e}: ${n}`),km(n))return new Ae(de.UNAVAILABLE,`${e}: ${n}`);throw n}class ev{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Tm(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new ev(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ev)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ev;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class FN{constructor(){this.yu=new jr(Ye.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class tv{constructor(e,t,r,i,l,u,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new tv(e,t,ev.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class rB{constructor(){this.Iu=void 0,this.listeners=[]}}class iB{constructor(){this.queries=new bd(e=>Ny(e),wm),this.onlineState="Unknown",this.Tu=new Set}}function mA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new rB),i)try{l.Iu=yield t.onListen(r)}catch(u){const f=Xy(u,`Initialization of query '${cw(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&vA(t)}),gA.apply(this,arguments)}function _A(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yA.apply(this,arguments)}function sB(n,e){const t=Ge(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Au(i)&&(r=!0);u.Iu=i}}r&&vA(t)}function oB(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function vA(n){n.Tu.forEach(e=>{e.next()})}class bA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new tv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=tv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class aB{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class VN{constructor(e){this.M=e}li(e){return Hl(this.M,e)}fi(e){return e.metadata.exists?DM(this.M,e.document,!1):Yn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ei(e)}}class lB{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BN(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=on.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new VN(this.M);for(const i of e)if(i.metadata.queries){const l=r.li(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||gn()).add(l);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function AV(n,e,t,r){return jM.apply(this,arguments)}(e.localStore,new VN(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield kV(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function BN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UN{constructor(e){this.key=e}}class HN{constructor(e){this.key=e}}class jN{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=gn(),this.mutatedKeys=gn(),this.Lu=dw(e),this.Uu=new ev(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new FN,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _=xy(this.query)&&i.size===this.query.limit?i.last():null,D=Oy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,A)=>{const R=i.get(S),B=uw(this.query,A)?A:null,$=!!R&&this.mutatedKeys.has(R.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;R&&B?R.data.isEqual(B.data)?$!==ee&&(r.track({type:3,doc:B}),_e=!0):this.Qu(R,B)||(r.track({type:2,doc:B}),_e=!0,(_&&this.Lu(B,_)>0||D&&this.Lu(B,D)<0)&&(f=!0)):!R&&B?(r.track({type:0,doc:B}),_e=!0):R&&!B&&(r.track({type:1,doc:R}),_e=!0,(_||D)&&(f=!0)),_e&&(B?(u=u.add(B),l=ee?l.add(S):l.delete(S)):(u=u.delete(S),l=l.delete(S)))}),xy(this.query)||Oy(this.query))for(;u.size>this.query.limit;){const S=xy(this.query)?u.last():u.first();u=u.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:u,Ku:r,ei:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((D,S)=>function(A,R){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(A)-B(R)}(D.type,S.type)||this.Lu(D.doc,S.doc)),this.ju(r);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==l.length||_?{snapshot:new tv(this.query,e.Uu,i,l,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new FN,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=gn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new HN(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new UN(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=gn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return tv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class cB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uB{constructor(e){this.key=e,this.Xu=!1}}class dB{constructor(e,t,r,i,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new bd(f=>Ny(f),wm),this.ea=new Map,this.na=new Set,this.sa=new jr(Ye.comparator),this.ia=new Map,this.ra=new $M,this.oa={},this.ua=new Map,this.aa=Rm.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function hB(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,ye.Z)(function*(n,e){const t=$A(n);let r,i;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const u=yield Wy(t.localStore,Jo(e));t.isPrimaryClient&&XE(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield DA(t,e,r,"current"===f)}return i}),wA.apply(this,arguments)}function DA(n,e,t,r){return CA.apply(this,arguments)}function CA(){return CA=(0,ye.Z)(function*(n,e,t,r){n.ha=(S,A,R)=>{return(B=(0,ye.Z)(function*($,ee,_e,Ve){let Oe=ee.view.Gu(_e);Oe.ei&&(Oe=yield zE($.localStore,ee.query,!1).then(({documents:yt})=>ee.view.Gu(yt,Oe)));const We=Ve&&Ve.targetChanges.get(ee.targetId),Ze=ee.view.applyChanges(Oe,$.isPrimaryClient,We);return NA($,ee.targetId,Ze.zu),Ze.snapshot}),function($,ee,_e,Ve){return B.apply(this,arguments)})(n,S,A,R);var B};const i=yield zE(n.localStore,e,!0),l=new jN(e,i.hi),u=l.Gu(i.documents),f=Uy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(u,n.isPrimaryClient,f);NA(n,t,_.zu);const D=new cB(e,t,l);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),CA.apply(this,arguments)}function fB(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(l=>!wm(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Yw(t.remoteStore,r.targetId),nv(t,r.targetId)}).catch(Pm))):(nv(t,r.targetId),yield zy(t.localStore,r.targetId,!0))}),TA.apply(this,arguments)}function EA(){return EA=(0,ye.Z)(function*(n,e,t){const r=GA(n);try{const i=yield function(l,u){const f=Ge(l),_=br.now(),D=u.reduce((A,R)=>A.add(R.key),gn());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,D).next(R=>{S=R;const B=[];for(const $ of u){const ee=AE($,S.get($.key));null!=ee&&B.push(new vd($.key,ee,nw(ee.value.mapValue),Ur.exists(!0)))}return f.$s.addMutationBatch(A,_,B,u)})).then(A=>(A.applyToLocalDocumentSet(S),{batchId:A.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let _=l.oa[l.currentUser.toKey()];_||(_=new jr(Wt)),_=_.insert(u,f),l.oa[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Td(r,i.changes),yield Jy(r.remoteStore)}catch(i){const l=Xy(i,"Failed to persist write");t.reject(l)}}),EA.apply(this,arguments)}function YN(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,ye.Z)(function*(n,e){const t=Ge(n);try{const r=yield IV(t.localStore,e);e.targetChanges.forEach((i,l)=>{const u=t.ia.get(l);u&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Xu=!0:i.modifiedDocuments.size>0?Nt(u.Xu):i.removedDocuments.size>0&&(Nt(u.Xu),u.Xu=!1))}),yield Td(t,r,e)}catch(r){yield Pm(r)}}),SA.apply(this,arguments)}function $N(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((l,u)=>{const f=u.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(l,u){const f=Ge(l);f.onlineState=u;let _=!1;f.queries.forEach((D,S)=>{for(const A of S.listeners)A.Eu(u)&&(_=!0)}),_&&vA(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mB(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,ye.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),l=i&&i.key;if(l){let u=new jr(Ye.comparator);u=u.insert(l,Yn.newNoDocument(l,kt.min()));const f=gn().add(l),_=new By(kt.min(),new Map,new Kn(Wt),u,f);yield YN(r,_),r.sa=r.sa.remove(l),r.ia.delete(e),LA(r)}else yield zy(r.localStore,e,!1).then(()=>nv(r,e,t)).catch(Pm)}),IA.apply(this,arguments)}function gB(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield SV(t.localStore,e);OA(t,r,null),xA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Td(t,i)}catch(i){yield Pm(i)}}),MA.apply(this,arguments)}function _B(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,ye.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(l,u){const f=Ge(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return f.$s.lookupMutationBatch(_,u).next(S=>(Nt(null!==S),D=S.keys(),f.$s.removeMutationBatch(_,S))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,D))})}(r.localStore,e);OA(r,e,t),xA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Td(r,i)}catch(i){yield Pm(i)}}),AA.apply(this,arguments)}function kA(){return kA=(0,ye.Z)(function*(n,e){const t=Ge(n);Ef(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const u=Ge(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Xy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),kA.apply(this,arguments)}function xA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function OA(n,e,t){const r=Ge(n);let i=r.oa[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function nv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||GN(n,r)})}function GN(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Yw(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),LA(n))}function NA(n,e,t){for(const r of t)r instanceof UN?(n.ra.addReference(r.key,e),vB(n,r)):r instanceof HN?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||GN(n,r.key)):rt()}function vB(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),LA(n))}function LA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ye(on.fromString(e)),r=n.aa.next();n.ia.set(r,new uB(t)),n.sa=n.sa.insert(t,r),XE(n.remoteStore,new wf(Jo(bm(t.path)),r,2,oo.A))}}function Td(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,ye.Z)(function*(n,e,t){const r=Ge(n),i=[],l=[],u=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,_)=>{u.push(r.ha(_,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),i.push(D);const S=BM.Js(_.targetId,D);l.push(S)}}))}),yield Promise.all(u),r.Zu.Ko(i),yield(f=(0,ye.Z)(function*(_,D){const S=Ge(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>me.forEach(D,R=>me.forEach(R.zs,B=>S.persistence.referenceDelegate.addReference(A,R.targetId,B)).next(()=>me.forEach(R.Hs,B=>S.persistence.referenceDelegate.removeReference(A,R.targetId,B)))))}catch(A){if(!km(A))throw A;Pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const R=A.targetId;if(!A.fromCache){const B=S.si.get(R),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(R,ee)}}}),function(_,D){return f.apply(this,arguments)})(r.localStore,l))}),RA.apply(this,arguments)}function bB(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,ye.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield vN(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(u=>{u.forEach(f=>{f.reject(new Ae(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Td(t,r.ci)}var i}),PA.apply(this,arguments)}function wB(n,e){const t=Ge(n),r=t.ia.get(e);if(r&&r.Xu)return gn().add(r.key);{let i=gn();const l=t.ea.get(e);if(!l)return i;for(const u of l){const f=t.ta.get(u);i=i.unionWith(f.view.qu)}return i}}function DB(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=yield zE(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&NA(t,e.targetId,i.zu),i}),FA.apply(this,arguments)}function CB(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,ye.Z)(function*(n,e){const t=Ge(n);return CN(t.localStore,e).then(r=>Td(t,r))}),VA.apply(this,arguments)}function TB(n,e,t,r){return BA.apply(this,arguments)}function BA(){return BA=(0,ye.Z)(function*(n,e,t,r){const i=Ge(n),l=yield function(u,f){const _=Ge(u),D=Ge(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.ln(S,f).next(A=>A?_.ai.qs(S,A):me.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Jy(i.remoteStore):"acknowledged"===t||"rejected"===t?(OA(i,e,r||null),xA(i,e),f=e,Ge(Ge(i.localStore).$s).dn(f)):rt(),yield Td(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),BA.apply(this,arguments)}function UA(){return UA=(0,ye.Z)(function*(n,e){const t=Ge(n);if($A(t),GA(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ZN(t,r.toArray());t.ca=!0,yield hA(t.remoteStore,!0);for(const l of i)XE(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(nv(t,u),zy(t.localStore,u,!0))),Yw(t.remoteStore,u)}),yield i,yield ZN(t,r),function(l){const u=Ge(l);u.ia.forEach((f,_)=>{Yw(u.remoteStore,_)}),u.ra.bi(),u.ia=new Map,u.sa=new jr(Ye.comparator)}(t),t.ca=!1,yield hA(t.remoteStore,!1)}}),UA.apply(this,arguments)}function ZN(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,ye.Z)(function*(n,e,t){const r=Ge(n),i=[],l=[];for(const u of e){let f;const _=r.ea.get(u);if(_&&0!==_.length){f=yield Wy(r.localStore,Jo(_[0]));for(const D of _){const S=r.ta.get(D),A=yield DB(r,S);A.snapshot&&l.push(A.snapshot)}}else{const D=yield DN(r.localStore,u);f=yield Wy(r.localStore,D),yield DA(r,qN(D),u,!1)}i.push(f)}return r.Zu.Ko(l),i}),HA.apply(this,arguments)}function qN(n){return uM(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function SB(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Os()}function IB(n,e,t,r){return jA.apply(this,arguments)}function jA(){return jA=(0,ye.Z)(function*(n,e,t,r){const i=Ge(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=yield CN(i.localStore,Ly(l[0])),f=By.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Td(i,u,f);break}case"rejected":yield zy(i.localStore,e,!0),nv(i,e,r);break;default:rt()}}),jA.apply(this,arguments)}function MB(n,e,t){return YA.apply(this,arguments)}function YA(){return YA=(0,ye.Z)(function*(n,e,t){const r=$A(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield DN(r.localStore,i),u=yield Wy(r.localStore,l);yield DA(r,qN(l),u.targetId,!1),XE(r.remoteStore,u)}for(const i of t)r.ea.has(i)&&(yield zy(r.localStore,i,!1).then(()=>{Yw(r.remoteStore,i),nv(r,i)}).catch(Pm))}}),YA.apply(this,arguments)}function $A(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mB.bind(null,e),e.Zu.Ko=sB.bind(null,e.eventManager),e.Zu.la=oB.bind(null,e.eventManager),e}function GA(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_B.bind(null,e),e}class WN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Hw(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return yN(this.persistence,new _N,e.initialUser,this.M)}_a(e){return new FV(GM.Wi,this.M)}da(e){return new IN}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zN extends WN{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield GA(r.ga.syncEngine),yield Jy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return yN(this.persistence,new _N,e.initialUser,this.M)}wa(e){return new yV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=VM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new FM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AN(),QE(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new IN}}class kB extends zN{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof zM&&(r.sharedClientState.syncEngine={kr:TB.bind(null,i),Mr:IB.bind(null,i),Or:MB.bind(null,i),Os:SB.bind(null,i),Nr:CB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ye.Z)(function*(u){yield function EB(n,e){return UA.apply(this,arguments)}(r.ga.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}da(e){const t=AN();if(!zM.vt(t))throw new Ae(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=VM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ZA{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$N(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bB.bind(null,r.syncEngine),yield hA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iB}createDatastore(e){const t=Hw(e.databaseInfo.databaseId),r=new jV(e.databaseInfo);return new GV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>$N(this.syncEngine,f,0),u=MN.vt()?new MN:new BV,new qV(t,r,i,l,u);var t,r,i,l,u}createSyncEngine(e,t){return function(r,i,l,u,f,_,D){const S=new dB(r,i,l,u,f,_);return D&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ge(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Ky(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KN(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class t1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xB{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new di,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new aB(JSON.parse(l),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ye.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class OB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,u){const f=Ge(l),_=Am(f.M)+"/documents",D={documents:u.map(B=>Mm(f.M,B))},S=yield f.co("BatchGetDocuments",_,D),A=new Map;S.forEach(B=>{const $=function YO(n,e){return"found"in e?function(t,r){Nt(!!r.found);const i=Hl(t,r.found.name),l=ei(r.found.updateTime),u=new qi({mapValue:{fields:r.found.fields}});return Yn.newFoundDocument(i,l,u)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const i=Hl(t,r.missing),l=ei(r.readTime);return Yn.newNoDocument(i,l)}(n,e):rt()}(f.M,B);A.set($.key.toString(),$)});const R=[];return u.forEach(B=>{const $=A.get(B.toString());Nt(!!$),R.push($)}),R}),function(l,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Ye.fromPath(i);e.mutations.push(new yw(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const u=Ge(i),f=Am(u.M)+"/documents",_={writes:l.map(D=>jy(u.M,D))};yield u.ro("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Ae(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class NB{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new KM(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ye.Z)(function*(){const t=new OB(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ca(l)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Zc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!mM(t)}return!1}}class LB{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ai.UNAUTHENTICATED,this.clientId=Dy.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ye.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Pe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Xy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JN(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield vN(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),qA.apply(this,arguments)}function QN(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>PN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>PN(e.remoteStore,l)),n.onlineComponents=e}),WA.apply(this,arguments)}function zA(n){return KA.apply(this,arguments)}function KA(){return KA=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield JN(n,new WN)),n.offlineComponents}),KA.apply(this,arguments)}function n1(n){return JA.apply(this,arguments)}function JA(){return JA=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield QN(n,new ZA)),n.onlineComponents}),JA.apply(this,arguments)}function XN(n){return zA(n).then(e=>e.persistence)}function QA(n){return zA(n).then(e=>e.localStore)}function eL(n){return n1(n).then(e=>e.remoteStore)}function XA(n){return n1(n).then(e=>e.syncEngine)}function rv(n){return ek.apply(this,arguments)}function ek(){return ek=(0,ye.Z)(function*(n){const e=yield n1(n),t=e.eventManager;return t.onListen=hB.bind(null,e.syncEngine),t.onUnlisten=fB.bind(null,e.syncEngine),t}),ek.apply(this,arguments)}function tL(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,u,f,_){const D=new t1({next:A=>{l.enqueueAndForget(()=>_A(i,S));const R=A.docs.has(u);!R&&A.fromCache?_.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&f&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new bA(bm(u.path),D,{includeMetadataChanges:!0,Du:!0});return mA(i,S)}(yield rv(n),n.asyncQueue,e,t,r)})),r.promise}function nL(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,u,f,_){const D=new t1({next:A=>{l.enqueueAndForget(()=>_A(i,S)),A.fromCache&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new bA(u,D,{includeMetadataChanges:!0,Du:!0});return mA(i,S)}(yield rv(n),n.asyncQueue,e,t,r)})),r.promise}const rL=new Map;function tk(n,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iL(n,e,t,r){if(!0===e&&!0===r)throw new Ae(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sL(n){if(!Ye.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oL(n){if(Ye.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=r1(n);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aL(n,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,iL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $w{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lL({}),this._settingsFrozen=!1,e instanceof el?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gb;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Wb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rL.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),rL.delete(e),t.terminate())}(this),Promise.resolve()}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class Os{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class tu extends Os{constructor(e,t,r){super(e,t,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ye(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function cL(n,e,...t){if(n=(0,Xt.m9)(n),tk("collection","path",e),n instanceof $w){const r=on.fromString(e,...t);return oL(r),new tu(n,null,r)}{if(!(n instanceof fr||n instanceof tu))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return oL(r),new tu(n.firestore,null,r)}}function s1(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=Dy.R()),tk("doc","path",e),n instanceof $w){const r=on.fromString(e,...t);return sL(r),new fr(n,null,new Ye(r))}{if(!(n instanceof fr||n instanceof tu))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return sL(r),new fr(n.firestore,n instanceof tu?n.converter:null,new Ye(r))}}function uL(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof fr||n instanceof tu)&&(e instanceof fr||e instanceof tu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dL(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Os&&e instanceof Os&&n.firestore===e.firestore&&wm(n._query,e._query)&&n.converter===e.converter}class GB{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new KM(this,"async_queue_retry"),this.Ua=()=>{const t=QE();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=QE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=QE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new di;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ye.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!km(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,dr("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=pA.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(i),i}qa(){this.Fa&&rt()}verifyOperationInProgress(){}ja(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function nk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ZB{constructor(){this._progressObserver={},this._taskCompletionResolver=new di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends $w{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new GB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hL(this),this._firestoreClient.terminate()}}function pi(n){return n._firestoreClient||hL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hL(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Jb(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new LB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function fL(n,e,t){const r=new di;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield JN(n,t),yield QN(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function pL(n){if(n._initialized||n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ed{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(hi.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nu(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vm{constructor(e){this._methodName=e}}class o1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const n3=/^__.*__$/;class r3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vd(e,this.data,this.fieldMask,t,this.fieldTransforms):new yf(e,this.data,t,this.fieldTransforms)}}class mL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class a1{constructor(e,t,r,i,l,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new a1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return u1(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(gL(this.Ya)&&n3.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class i3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Hw(e)}uc(e,t,r,i=!1){return new a1({Ya:e,methodName:t,oc:r,path:hr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bm(n){const e=n._freezeSettings(),t=Hw(n._databaseId);return new i3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function l1(n,e,t,r,i,l={}){const u=n.uc(l.merge||l.mergeFields?2:0,e,t,i);ok("Data must be an object, but it was:",u,r);const f=vL(r,u);let _,D;if(l.merge)_=new lf(u.fieldMask),D=u.fieldTransforms;else if(l.mergeFields){const S=[];for(const A of l.mergeFields){const R=ak(e,A,t);if(!u.contains(R))throw new Ae(de.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);wL(S,R)||S.push(R)}_=new lf(S),D=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=u.fieldTransforms;return new r3(new qi(f),_,D)}class Gw extends Vm{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gw}}function _L(n,e,t){return new a1({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class rk extends Vm{_toFieldTransform(e){return new Py(e.path,new mf)}isEqual(e){return e instanceof rk}}class s3 extends Vm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=_L(this,e,!0),r=this.ac.map(l=>Um(l,t)),i=new gf(r);return new Py(e.path,i)}isEqual(e){return this===e}}class o3 extends Vm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=_L(this,e,!0),r=this.ac.map(l=>Um(l,t)),i=new eu(r);return new Py(e.path,i)}isEqual(e){return this===e}}class a3 extends Vm{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new _f(e.M,fw(e.M,this.cc));return new Py(e.path,t)}isEqual(e){return this===e}}function ik(n,e,t,r){const i=n.uc(1,e,t);ok("Data must be an object, but it was:",i,r);const l=[],u=qi.empty();$c(r,(_,D)=>{const S=c1(e,_,t);D=(0,Xt.m9)(D);const A=i.nc(S);if(D instanceof Gw)l.push(S);else{const R=Um(D,A);null!=R&&(l.push(S),u.set(S,R))}});const f=new lf(l);return new mL(u,f,i.fieldTransforms)}function sk(n,e,t,r,i,l){const u=n.uc(1,e,t),f=[ak(e,r,t)],_=[i];if(l.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(ak(e,l[R])),_.push(l[R+1]);const D=[],S=qi.empty();for(let R=f.length-1;R>=0;--R)if(!wL(D,f[R])){const B=f[R];let $=_[R];$=(0,Xt.m9)($);const ee=u.nc(B);if($ instanceof Gw)D.push(B);else{const _e=Um($,ee);null!=_e&&(D.push(B),S.set(B,_e))}}const A=new lf(D);return new mL(S,A,u.fieldTransforms)}function yL(n,e,t,r=!1){return Um(t,n.uc(r?4:3,e))}function Um(n,e){if(bL(n=(0,Xt.m9)(n)))return ok("Unsupported field value:",e,n),vL(n,e);if(n instanceof Vm)return function(t,r){if(!gL(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const u of t){let f=Um(u,r.sc(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=br.fromDate(t);return{timestampValue:bf(r.M,i)}}if(t instanceof br){const i=new br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bf(r.M,i)}}if(t instanceof o1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nu)return{bytesValue:Hy(r.M,t._byteString)};if(t instanceof fr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Im(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${r1(t)}`)}(n,e)}function vL(n,e){const t={};return lE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(n,(r,i)=>{const l=Um(i,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function bL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof br||n instanceof o1||n instanceof nu||n instanceof fr||n instanceof Vm)}function ok(n,e,t){if(!bL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=r1(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function ak(n,e,t){if((e=(0,Xt.m9)(e))instanceof Ed)return e._internalPath;if("string"==typeof e)return c1(n,e);throw u1("Field path arguments must be of type string or ",n,!1,void 0,t)}const l3=new RegExp("[~\\*/\\[\\]]");function c1(n,e,t){if(e.search(l3)>=0)throw u1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch(r){throw u1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function u1(n,e,t,r,i){const l=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||u)&&(_+=" (found",l&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Ae(de.INVALID_ARGUMENT,f+n+_)}function wL(n,e){return n.some(t=>t.isEqual(e))}class Zw{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new c3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(d1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class c3 extends Zw{data(){return super.data()}}function d1(n,e){return"string"==typeof e?c1(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}class Hm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends Zw{constructor(e,t,r,i,l,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(d1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qw extends Sd{data(e={}){return super.data(e)}}class If{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qw(this._firestore,this._userDataWriter,r.key,r,new Hm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new qw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Hm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new qw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Hm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==u.type&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),D=l.indexOf(u.doc.key)),{type:u3(u.type),doc:f,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function u3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function DL(n,e){return n instanceof Sd&&e instanceof Sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof If&&e instanceof If&&n._firestore===e._firestore&&dL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function CL(n){if(Oy(n)&&0===n.explicitOrderBy.length)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}function Mf(n,...e){for(const t of e)n=t._apply(n);return n}class d3 extends Ww{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Bm(e.firestore),r=function(i,l,u,f,_,D,S){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){AL(S,D);const B=[];for(const $ of S)B.push(ML(f,i,$));A={arrayValue:{values:B}}}else A=ML(f,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||AL(S,D),A=yL(u,"where",S,"in"===D||"not-in"===D);const R=fi.create(_,D,A);return function(B,$){if($.S()){const _e=wE(B);if(null!==_e&&!_e.isEqual($.field))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${$.field.toString()}'`);const Ve=aw(B);null!==Ve&&kL(0,$.field,Ve)}const ee=function(_e,Ve){for(const Oe of _e.filters)if(Ve.indexOf(Oe.op)>=0)return Oe.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ee)throw new Ae(de.INVALID_ARGUMENT,ee===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,R),R}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Os(e.firestore,e.converter,function(i,l){const u=i.filters.concat([l]);return new Qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class f3 extends Ww{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new yd(i,l);return function(f,_){if(null===aw(f)){const D=wE(f);null!==D&&kL(0,D,_.field)}}(r,u),u}(e._query,this.hc,this.dc);return new Os(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Qc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class TL extends Ww{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Os(e.firestore,e.converter,Qo(e._query,this._c,this.wc))}}class EL extends Ww{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=IL(e,this.type,this.mc,this.gc);return new Os(e.firestore,e.converter,(i=t,new Qc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class SL extends Ww{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=IL(e,this.type,this.mc,this.gc);return new Os(e.firestore,e.converter,(i=t,new Qc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function IL(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof Zw)return function(i,l,u,f,_){if(!f)throw new Ae(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const D=[];for(const S of Xc(i))if(S.field.isKeyField())D.push(uf(l,f.key));else{const A=f.data.field(S.field);if(Cy(A))throw new Ae(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const R=S.field.canonicalString();throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}D.push(A)}return new _d(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Bm(n.firestore);return function(l,u,f,_,D,S){const A=l.explicitOrderBy;if(D.length>A.length)throw new Ae(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let B=0;B<D.length;B++){const $=D[B];if(A[B].field.isKeyField()){if("string"!=typeof $)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!lw(l)&&-1!==$.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ee=l.path.child(on.fromString($));if(!Ye.isDocumentKey(ee))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const _e=new Ye(ee);R.push(uf(u,_e))}else{const ee=yL(f,_,$);R.push(ee)}}return new _d(R,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ML(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&-1!==t.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ye.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uf(n,new Ye(r))}if(t instanceof fr)return uf(n,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r1(t)}.`)}function AL(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kL(n,e,t){if(!t.isEqual(e))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lk{convertValue(e,t="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return $c(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new o1(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_m(e));default:return null}}convertTimestamp(e){const t=Gc(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);Nt(M(r));const i=new el(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return i.isEqual(t)||dr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function h1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class w3 extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}class xL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bm(e)}set(e,t,r){this._verifyNotCommitted();const i=Af(e,this._firestore),l=h1(i.converter,t,r),u=l1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Af(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Ed?sk(this._dataReader,"WriteBatch.update",l._key,t,r,i):ik(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Af(e,this._firestore);return this._mutations=this._mutations.concat(new vf(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class jm extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function OL(n,e,t){n=_n(n,fr);const r=_n(n.firestore,wr),i=h1(n.converter,e,t);return iv(r,[l1(Bm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ur.none())])}function NL(n,e,t,...r){n=_n(n,fr);const i=_n(n.firestore,wr),l=Bm(i);let u;return u="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Ed?sk(l,"updateDoc",n._key,e,t,r):ik(l,"updateDoc",n._key,e),iv(i,[u.toMutation(n._key,Ur.exists(!0))])}function LL(n,...e){var t,r,i;n=(0,Xt.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||nk(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(nk(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,D,S;if(n instanceof fr)D=_n(n.firestore,wr),S=bm(n._key.path),_={next:A=>{e[u]&&e[u](ck(D,n,A))},error:e[u+1],complete:e[u+2]};else{const A=_n(n,Os);D=_n(A.firestore,wr),S=A._query;const R=new jm(D);_={next:B=>{e[u]&&e[u](new If(D,R,A,B))},error:e[u+1],complete:e[u+2]},CL(n._query)}return function(A,R,B,$){const ee=new t1($),_e=new bA(R,ee,B);return A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return mA(yield rv(A),_e)})),()=>{ee.pa(),A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return _A(yield rv(A),_e)}))}}(pi(D),S,f,_)}function iv(n,e){return function(t,r){const i=new di;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function pB(n,e,t){return EA.apply(this,arguments)}(yield XA(t),r,i)})),i.promise}(pi(n),e)}function ck(n,e,t){const r=t.docs.get(e._key),i=new jm(n);return new Sd(n,i,e._key,r,new Hm(t.hasPendingWrites,t.fromCache),e.converter)}class x3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bm(e)}get(e){const t=Af(e,this._firestore),r=new w3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const l=i[0];if(l.isFoundDocument())return new Zw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Zw(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const i=Af(e,this._firestore),l=h1(i.converter,t,r),u=l1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const l=Af(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Ed?sk(this._dataReader,"Transaction.update",l._key,t,r,i):ik(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=Af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Af(e,this._firestore),r=new jm(this._firestore);return super.get(e).then(i=>new Sd(this._firestore,r,t._key,i._document,new Hm(!1,!1),t.converter))}}function uk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function PL(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function FL(){if(!function oM(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){jc=ad.SDK_VERSION,(0,ad._registerComponent)(new R_.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new wr(i,new sE(t.getProvider("auth-internal")),new sM(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ad.registerVersion)(Ia,"3.4.7",n),(0,ad.registerVersion)(Ia,"3.4.7","esm2017")}();class zw{constructor(e){this._delegate=e}static fromBase64String(e){return FL(),new zw(nu.fromBase64String(e))}static fromUint8Array(e){return PL(),new zw(nu.fromUint8Array(e))}toBase64(){return FL(),this._delegate.toBase64()}toUint8Array(){return PL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dk(n){return function U3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class H3{enableIndexedDbPersistence(e,t){return function WB(n,e){pL(n=_n(n,wr));const t=pi(n),r=n._freezeSettings(),i=new ZA;return fL(t,i,new zN(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function zB(n){pL(n=_n(n,wr));const e=pi(n),t=n._freezeSettings(),r=new ZA;return fL(e,r,new kB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function KB(n){if(n._initialized&&!n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!jl.vt())return Promise.resolve();const i=r+"main";yield jl.delete(i)}),function(r){return t.apply(this,arguments)})(VM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof el||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function YB(n,e,t,r={}){var i;const l=(n=_n(n,$w))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Yc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Ai.MOCK_USER;else{u=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ai(_)}n._authCredentials=new Zb(new iM(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function QB(n){return function RB(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield XN(n),t=yield eL(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i.lu.delete(0),jw(i)}(t)}))}(pi(n=_n(n,wr)))}(this._delegate)}disableNetwork(){return function XB(n){return function PB(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield XN(n),t=yield eL(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=Ge(i);l.lu.add(0),yield Ky(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(pi(n=_n(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function JB(n){return function(e){const t=new di;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function yB(n,e){return kA.apply(this,arguments)}(yield XA(e),t)})),t.promise}(pi(n=_n(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function k3(n,e){return function BB(n,e){const t=new t1(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield rv(n),i=t,Ge(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield rv(n),i=t,void Ge(r).Tu.delete(i);var r,i}))}}(pi(n=_n(n,wr)),nk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sv(this,cL(this._delegate,e))}catch(t){throw uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new tl(this,s1(this._delegate,e))}catch(t){throw uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ho(this,function $B(n,e){if(n=_n(n,$w),tk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Os(n,null,(t=e,new Qc(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function O3(n,e){return function UB(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,n1(i).then(l=>l.datastore));var i;new NB(n.asyncQueue,r,e,t).run()})),t.promise}(pi(n=_n(n,wr)),t=>e(new x3(n,t)))}(this._delegate,t=>e(new BL(this,t)))}batch(){return pi(this._delegate),new UL(new xL(this._delegate,e=>iv(this._delegate,e)))}loadBundle(e){return function e3(n,e){const t=pi(n=_n(n,wr)),r=new ZB;return function HB(n,e,t,r){const i=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,D){if(_ instanceof Uint8Array)return KN(_,D);if(_ instanceof ArrayBuffer)return KN(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new xB(_,u);var _}(t,Hw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function AB(n,e,t){const r=Ge(n);var i;(i=(0,ye.Z)(function*(l,u,f){try{const _=yield u.getMetadata();if(yield function(R,B){const $=Ge(R),ee=ei(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",_e=>$.ds.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ee)>=0)}(l.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(R=_).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);f._updateProgress(BN(_));const D=new lB(_,l.localStore,u.M);let S=yield u.fa();for(;S;){const R=yield D.Nu(S);R&&f._updateProgress(R),S=yield u.fa()}const A=yield D.complete();return yield Td(l,A.Ou,void 0),yield function(R,B){const $=Ge(R);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.ds.saveBundleMetadata(ee,B))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(_){return Yc("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var R}),function(l,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield XA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function t3(n,e){return function jB(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.ds.getNamedQuery(l,r))}(yield QA(n),e)}))}(pi(n=_n(n,wr)),e).then(t=>t?new Os(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ho(this,t):null)}}class f1 extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new zw(new nu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tl.forKey(t,this.firestore,null)}}class BL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new f1(e)}get(e){const t=$m(e);return this._delegate.get(t).then(r=>new Kw(this._firestore,new Sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=$m(e);return r?(uk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=$m(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=$m(e);return this._delegate.delete(t),this}}class UL{constructor(e){this._delegate=e}set(e,t,r){const i=$m(e);return r?(uk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=$m(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=$m(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ym{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new qw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ym.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Ym(e,new f1(e),t),i.set(t,l)),l}}Ym.INSTANCES=new WeakMap;class tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tl(t,new fr(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new tl(t,new fr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sv(this.firestore,cL(this._delegate,e))}catch(t){throw uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof fr&&uL(this._delegate,e)}set(e,t){t=uk("DocumentReference.set",t);try{return t?OL(this._delegate,e,t):OL(this._delegate,e)}catch(r){throw uo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?NL(this._delegate,e):NL(this._delegate,e,t,...r)}catch(i){throw uo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function M3(n){return iv(_n(n.firestore,wr),[new vf(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=HL(e),r=jL(e,i=>new Kw(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return LL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function C3(n){n=_n(n,fr);const e=_n(n.firestore,wr),t=pi(e),r=new jm(e);return function FB(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,u){try{const f=yield function(_,D){const S=Ge(_);return S.persistence.runTransaction("read document","readonly",A=>S.ai.Bs(A,D))}(i,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ae(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Xy(f,`Failed to get document '${l} from cache`);u.reject(_)}}),function(i,l,u){return r.apply(this,arguments)})(yield QA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Sd(e,r,n._key,i,new Hm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function T3(n){n=_n(n,fr);const e=_n(n.firestore,wr);return tL(pi(e),n._key,{source:"server"}).then(t=>ck(e,n,t))}(this._delegate):function D3(n){n=_n(n,fr);const e=_n(n.firestore,wr);return tL(pi(e),n._key).then(t=>ck(e,n,t))}(this._delegate),t.then(r=>new Kw(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tl(this.firestore,this._delegate.withConverter(e?Ym.getInstance(this.firestore,e):null))}}function uo(n,e,t){return n.message=n.message.replace(e,t),n}function HL(n){for(const e of n)if("object"==typeof e&&!dk(e))return e;return{}}function jL(n,e){var t,r;let i;return i=dk(n[0])?n[0]:dk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Kw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DL(this._delegate,e._delegate)}}class Jw extends Kw{data(e){const t=this._delegate.data(e);return function iE(n,e){n||rt()}(void 0!==t),t}}class ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f1(e)}where(e,t,r){try{return new ho(this.firestore,Mf(this._delegate,function h3(n,e,t){const r=e,i=d1("where",n);return new d3(i,r,t)}(e,t,r)))}catch(i){throw uo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ho(this.firestore,Mf(this._delegate,function p3(n,e="asc"){const t=e,r=d1("orderBy",n);return new f3(r,t)}(e,t)))}catch(r){throw uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ho(this.firestore,Mf(this._delegate,function m3(n){return aL("limit",n),new TL("limit",n,"F")}(e)))}catch(t){throw uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ho(this.firestore,Mf(this._delegate,function g3(n){return aL("limitToLast",n),new TL("limitToLast",n,"L")}(e)))}catch(t){throw uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ho(this.firestore,Mf(this._delegate,function _3(...n){return new EL("startAt",n,!0)}(...e)))}catch(t){throw uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ho(this.firestore,Mf(this._delegate,function y3(...n){return new EL("startAfter",n,!1)}(...e)))}catch(t){throw uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ho(this.firestore,Mf(this._delegate,function v3(...n){return new SL("endBefore",n,!1)}(...e)))}catch(t){throw uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ho(this.firestore,Mf(this._delegate,function b3(...n){return new SL("endAt",n,!0)}(...e)))}catch(t){throw uo(t,"endAt()","Query.endAt()")}}isEqual(e){return dL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function S3(n){n=_n(n,Os);const e=_n(n.firestore,wr),t=pi(e),r=new jm(e);return function VB(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,u){try{const f=yield zE(i,l,!0),_=new jN(l,f.hi),D=_.Gu(f.documents),S=_.applyChanges(D,!1);u.resolve(S.snapshot)}catch(f){const _=Xy(f,`Failed to execute query '${l} against cache`);u.reject(_)}}),function(i,l,u){return r.apply(this,arguments)})(yield QA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new If(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function I3(n){n=_n(n,Os);const e=_n(n.firestore,wr),t=pi(e),r=new jm(e);return nL(t,n._query,{source:"server"}).then(i=>new If(e,r,n,i))}(this._delegate):function E3(n){n=_n(n,Os);const e=_n(n.firestore,wr),t=pi(e),r=new jm(e);return CL(n._query),nL(t,n._query).then(i=>new If(e,r,n,i))}(this._delegate),t.then(r=>new hk(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HL(e),r=jL(e,i=>new hk(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return LL(this._delegate,t,r)}withConverter(e){return new ho(this.firestore,this._delegate.withConverter(e?Ym.getInstance(this.firestore,e):null))}}class Y3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Jw(this._firestore,r))})}isEqual(e){return DL(this._delegate,e._delegate)}}class sv extends ho{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tl(this.firestore,e):null}doc(e){try{return new tl(this.firestore,void 0===e?s1(this._delegate):s1(this._delegate,e))}catch(t){throw uo(t,"doc()","CollectionReference.doc()")}}add(e){return function A3(n,e){const t=_n(n.firestore,wr),r=s1(n),i=h1(n.converter,e);return iv(t,[l1(Bm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new tl(this.firestore,t))}isEqual(e){return uL(this._delegate,e._delegate)}withConverter(e){return new sv(this.firestore,this._delegate.withConverter(e?Ym.getInstance(this.firestore,e):null))}}function $m(n){return _n(n,fr)}class fk{constructor(...e){this._delegate=new Ed(...e)}static documentId(){return new fk(hr.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Ed&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function L3(){return new rk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gm(e)}static delete(){const e=function N3(){return new Gw("deleteField")}();return e._methodName="FieldValue.delete",new Gm(e)}static arrayUnion(...e){const t=function R3(...n){return new s3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gm(t)}static arrayRemove(...e){const t=function P3(...n){return new o3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gm(t)}static increment(e){const t=function F3(n){return new a3("increment",n)}(e);return t._methodName="FieldValue.increment",new Gm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $3={Firestore:VL,GeoPoint:o1,Timestamp:br,Blob:zw,Transaction:BL,WriteBatch:UL,DocumentReference:tl,DocumentSnapshot:Kw,Query:ho,QueryDocumentSnapshot:Jw,QuerySnapshot:hk,CollectionReference:sv,FieldPath:fk,FieldValue:Gm,setLogLevel:function j3(n){!function rM(n){Ko.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Z3(n){(function G3(n,e){n.INTERNAL.registerComponent(new R_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},$3)))})(n,(e,t)=>new VL(e,t,new H3)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(mT.Z);var Qw=N(5363),q3=N(6063);class kf extends Bn.x{constructor(e=1/0,t=1/0,r=q3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:u}=this;t||(r.push(e),!i&&r.push(l.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let u=0;u<l.length&&!e.closed;u+=r?1:2)e.next(l[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var W3=N(3099);function YL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,W3.B)({connector:()=>new kf(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function $L(n,e){return(0,Bi.m)(e)?sn(()=>n,e):sn(()=>n)}var pk=N(9468);N(5867);const ZL=new Map,X3={activated:!1,tokenObservers:[]},eU={initialized:!1,enabled:!1};function Ki(n){return ZL.get(n)||X3}function Yl(n,e){ZL.set(n,e)}function m1(){return eU}class sU{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function oU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fo=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WL(n){if(!Ki(n).activated)throw fo.create("use-before-activation",{appName:n.name})}function yk(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,l)}catch(A){throw fo.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw fo.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw fo.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw fo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const D=1e3*Number(_[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),vk.apply(this,arguments)}function dU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Xw="firebase-app-check-store";let y1=null;function KL(){return y1||(y1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xw,{keyPath:"compositeKey"})}}catch(t){e(fo.create("storage-open",{originalErrorMessage:t.message}))}}),y1)}function bk(){return bk=(0,ye.Z)(function*(n,e){const r=(yield KL()).transaction(Xw,"readwrite"),l=r.objectStore(Xw).put({compositeKey:n,value:e});return new Promise((u,f)=>{l.onsuccess=_=>{u()},r.onerror=_=>{var D;f(fo.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})}),bk.apply(this,arguments)}const eD=new Vl.Yd("@firebase/app-check");function eR(n,e){return(0,Xt.hl)()?function mU(n,e){return function JL(n,e){return bk.apply(this,arguments)}(function XL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{eD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function tR(){return m1().enabled}function nR(){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,ye.Z)(function*(){const n=m1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Tk.apply(this,arguments)}const wU={error:"UNKNOWN_ERROR"};function DU(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function v1(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,ye.Z)(function*(n,e=!1){const t=n.app;WL(t);const r=Ki(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&b1(_)&&(i=_)}if(!e&&i&&b1(i))return{token:i.token};let f,u=!1;if(tR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yk(dU(t,yield nR()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),u=!0);const _=yield r.exchangeTokenPromise;return yield eR(t,_),Yl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?eD.warn(_.message):eD.error(_),l=_}return i?(f={token:i.token},Yl(t,Object.assign(Object.assign({},r),{token:i})),yield eR(t,i)):f=TU(l),u&&iR(t,f),f}),Ek.apply(this,arguments)}function Ik(n,e){const t=Ki(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function rR(n){const{app:e}=n,t=Ki(e);let r=t.tokenRefresher;r||(r=function CU(n){const{app:e}=n;return new sU((0,ye.Z)(function*(){let r;if(r=Ki(e).token?yield v1(n,!0):yield v1(n),r.error)throw r.error}),()=>!0,()=>{const t=Ki(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Yl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iR(n,e){const t=Ki(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function b1(n){return n.expireTimeMillis-Date.now()>0}function TU(n){return{token:DU(wU),error:n}}class EU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ki(this.app);for(const t of e)Ik(this.app,t.next);return Promise.resolve()}}const hR="app-check-internal";!function BU(){(0,ad._registerComponent)(new R_.wA("app-check",n=>function SU(n,e){return new EU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hR).initialize()})),(0,ad._registerComponent)(new R_.wA(hR,n=>function IU(n){return{getToken:e=>v1(n,e),addTokenListener:e=>function Sk(n,e,t,r){const{app:i}=n,l=Ki(i),u={next:t,error:r,type:e};if(Yl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&b1(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),rR(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>rR(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ik(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ad.registerVersion)("@firebase/app-check","0.5.5")}();class xk{constructor(){return(0,li.vb)("app-check")}}"undefined"!=typeof window&&window;var $U=N(127);const pR=new o.OlP("angularfire2.auth.use-emulator"),mR=new o.OlP("angularfire2.auth.settings"),gR=new o.OlP("angularfire2.auth.tenant-id"),_R=new o.OlP("angularfire2.auth.langugage-code"),yR=new o.OlP("angularfire2.auth.use-device-language"),vR=new o.OlP("angularfire.auth.persistence"),bR=(n,e,t,r,i,l,u,f)=>(0,Ta.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),u)for(const[D,S]of Object.entries(u))_.settings[D]=S;return f&&_.setPersistence(f),_},[t,r,i,l,u,f]);let wR=(()=>{class n{constructor(t,r,i,l,u,f,_,D,S,A,R,B){const $=new Bn.x,ee=pt(void 0).pipe((0,Qw.Q)(u.outsideAngular),sn(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4087)))),(0,Ct.U)(()=>(0,Ta.on)(t,l,r)),(0,Ct.U)(_e=>bR(_e,l,f,D,S,A,_,R)),YL({bufferSize:1,refCount:!1}));if(Rr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{ee.pipe(Vo()).subscribe();const Ve=ee.pipe(sn(Ze=>Ze.getRedirectResult().then(yt=>yt,()=>null)),li.iC,YL({bufferSize:1,refCount:!1})),Oe=ee.pipe(sn(Ze=>new Sr.y(yt=>({unsubscribe:l.runOutsideAngular(()=>Ze.onAuthStateChanged(ct=>yt.next(ct),ct=>yt.error(ct),()=>yt.complete()))})))),We=ee.pipe(sn(Ze=>new Sr.y(yt=>({unsubscribe:l.runOutsideAngular(()=>Ze.onIdTokenChanged(ct=>yt.next(ct),ct=>yt.error(ct),()=>yt.complete()))}))));this.authState=Ve.pipe($L(Oe),(0,pk.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular)),this.user=Ve.pipe($L(We),(0,pk.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular)),this.idToken=this.user.pipe(sn(Ze=>Ze?(0,er.D)(Ze.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(sn(Ze=>Ze?(0,er.D)(Ze.getIdTokenResult()):pt(null))),this.credential=(0,L0.T)(Ve,$,this.authState.pipe(xn(Ze=>!Ze))).pipe((0,Ct.U)(Ze=>(null==Ze?void 0:Ze.user)?Ze:null),(0,pk.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular))}return(0,Ta.pX)(this,ee,l,{spy:{apply:(_e,Ve,Oe)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Oe.then(We=>$.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ta.Dh),o.LFG(Ta.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(li.HU),o.LFG(pR,8),o.LFG(mR,8),o.LFG(gR,8),o.LFG(_R,8),o.LFG(yR,8),o.LFG(vR,8),o.LFG(xk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function DR(n,e){return function ZU(n,e=g_.z){return new Sr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Nk(n,e){return DR(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function D1(n,e){return Nk(n,e).pipe(Ci(void 0),W0(),(0,Ct.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(S=>S.doc.ref.isEqual(u.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function CR(n,e,t){return D1(n,t).pipe(Vr((r,i)=>function WU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Lk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),L_(),(0,Ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Lk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function TR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ER{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=D1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ci(void 0),W0(),xn(([r,i])=>i.length>0||!r),(0,Ct.U)(([r,i])=>i),li.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TR(e);return CR(this.query,t,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(e={}){return Nk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),li.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(li.iC)}add(e){return this.ref.add(e)}doc(e){return new SR(this.ref.doc(e),this.afs)}}class SR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=AR(r,t);return new ER(i,l,this.afs)}snapshotChanges(){return function qU(n,e){return DR(n,e).pipe(Ci(void 0),W0(),(0,Ct.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(li.iC)}}class KU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?D1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xn(t=>t.length>0),li.iC):D1(this.query,this.afs.schedulers.outsideAngular).pipe(li.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TR(e);return CR(this.query,t,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(e={}){return Nk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),li.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(li.iC)}}const IR=new o.OlP("angularfire2.enableFirestorePersistence"),MR=new o.OlP("angularfire2.firestore.persistenceSettings"),JU=new o.OlP("angularfire2.firestore.settings"),QU=new o.OlP("angularfire2.firestore.use-emulator");function AR(n,e=(t=>t)){return{query:e(n),ref:n}}let Zm=(()=>{class n{constructor(t,r,i,l,u,f,_,D,S,A,R,B,$,ee,_e,Ve,Oe){this.schedulers=_;const We=(0,Ta.on)(t,f,r),Ze=S;A&&bR(We,f,R,$,ee,_e,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,Ta.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const yt=f.runOutsideAngular(()=>We.firestore());if(l&&yt.settings(l),Ze&&yt.useEmulator(...Ze),i&&!Rr(u)){const ct=()=>{try{return(0,er.D)(yt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(un){return"undefined"!=typeof console&&console.warn(un),pt(!1)}};return[yt,f.runOutsideAngular(ct)]}return[yt,pt(!1)]},[l,Ze,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=AR(i,r),f=this.schedulers.ngZone.run(()=>l);return new ER(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),l=this.firestore.collectionGroup(t);return new KU(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new SR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ta.Dh),o.LFG(Ta.xv,8),o.LFG(IR,8),o.LFG(JU,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(li.HU),o.LFG(MR,8),o.LFG(QU,8),o.LFG(wR,8),o.LFG(pR,8),o.LFG(mR,8),o.LFG(gR,8),o.LFG(_R,8),o.LFG(yR,8),o.LFG(vR,8),o.LFG(xk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ov=(()=>{class n{constructor(){$U.Z.registerVersion("angularfire",li.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:IR,useValue:!0},{provide:MR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Zm]}),n})();const kR=n=>{var e,t;return Object.assign(Object.assign({},n),{fromDate:null===(e=n.fromDate)||void 0===e?void 0:e.toDate(),toDate:null===(t=n.toDate)||void 0===t?void 0:t.toDate()})};let av=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("events").add(t)}getAll(t){return this._client.collection("events").valueChanges({idField:"id"}).pipe((0,Ct.U)(r=>t?r.filter(i=>{}):r),(0,Ct.U)(r=>r.map(kR)))}getOne(t){return this._client.doc("events/"+t).valueChanges({idField:"id"}).pipe((0,Ct.U)(kR))}remove(t){this._client.doc("events/"+t).delete()}set(t){this._client.doc("events/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const xR=new o.OlP("ADDS_EVENT_DTO"),C1=new o.OlP("GETS_ONE_EVENT_DTO"),OR=new o.OlP("SETS_EVENT_DTO");let T1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[av,{provide:xR,useExisting:av},{provide:Wg,useExisting:av},{provide:C1,useExisting:av},{provide:k0,useExisting:av},{provide:OR,useExisting:av}],imports:[[ov]]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),NR=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),eH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[NR,{provide:__,useExisting:NR}],imports:[[]]}),n})(),tH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn.forChild([{path:"",component:yI}]),Xr,T1,XU,eH]]}),n})();var nH=N(5032);function LR(n){return(0,Fr.e)((e,t)=>{(0,Po.Xf)(n).subscribe((0,Zn.x)(t,()=>t.complete(),nH.Z)),!t.closed&&e.subscribe(t)})}function qm(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function po(n){return"string"==typeof n}function E1(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function xf(n){return n&&n.getTime&&!isNaN(n.getTime())}function Wm(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function zm(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Dr(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Ns(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Km(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function RR(n){return void 0===n}function an(n){const e=+n;let t=0;return 0!==e&&isFinite(e)&&(t=qm(e)),t}const tD={},PR={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Ls(n,e){const t=n.toLowerCase();let r=n;t in PR&&(r=PR[t]),tD[t]=tD[`${t}s`]=tD[e]=r}function FR(n){return po(n)?tD[n]||tD[n.toLowerCase()]:void 0}function Ad(n,e,t){const r=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}const Rk={},lv={},VR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Ft(n,e,t,r){n&&(lv[n]=r),e&&(lv[e[0]]=function(){return Ad(r.apply(null,arguments),e[1],e[2])}),t&&(lv[t]=function(i,l){return l.locale.ordinal(r.apply(null,arguments),n)})}function cH(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function S1(n,e,t){const r=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(r.getUTCFullYear())&&r.setUTCFullYear(n),r}function I1(n,e=0,t=1,r=0,i=0,l=0,u=0){const f=new Date(n,e,t,r,i,l,u);return n<100&&n>=0&&isFinite(f.getFullYear())&&f.setFullYear(n),f}function ln(n,e=!1){return e?n.getUTCHours():n.getHours()}function cv(n,e=!1){return e?n.getUTCMinutes():n.getMinutes()}function Pk(n,e=!1){return e?n.getUTCSeconds():n.getSeconds()}function kd(n,e=!1){return e?n.getUTCMilliseconds():n.getMilliseconds()}function iu(n,e=!1){return e?n.getUTCDay():n.getDay()}function Qm(n,e=!1){return e?n.getUTCDate():n.getDate()}function cn(n,e=!1){return e?n.getUTCMonth():n.getMonth()}function Ar(n,e=!1){return e?n.getUTCFullYear():n.getFullYear()}function uv(n,e){return!(!n||!e)&&dv(n,e)&&cn(n)===cn(e)}function dv(n,e){return!(!n||!e)&&Ar(n)===Ar(e)}function Of(n,e){return!(!n||!e)&&dv(n,e)&&uv(n,e)&&Qm(n)===Qm(e)}const BR=/\d/,Ma=/\d\d/,UR=/\d{3}/,Fk=/\d{4}/,M1=/[+-]?\d{6}/,pr=/\d\d?/,HR=/\d\d\d\d?/,jR=/\d\d\d\d\d\d?/,A1=/\d{1,3}/,Vk=/\d{1,4}/,k1=/[+-]?\d{1,6}/,mH=/\d+/,x1=/[+-]?\d+/,O1=/Z|[+-]\d\d(?::?\d\d)?/gi,_H=/[+-]?\d+(\.\d{1,3})?/,nD=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,N1={};function _t(n,e,t){N1[n]=Wm(e)?e:function(r,i){return r&&t?t:e}}function yH(n,e){return Ns(N1,n)?N1[n](!1,e):new RegExp(function vH(n){return Xm(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,r,i,l)=>t||r||i||l))}(n))}function Xm(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Bk={};function mr(n,e){const t=po(n)?[n]:n;let r=e;if(zm(e)&&(r=function(i,l,u){return l[e]=an(i),u}),Dr(t)&&Wm(r)){let i;for(i=0;i<t.length;i++)Bk[t[i]]=r}}function rD(n,e){mr(n,function(t,r,i,l){return i._w=i._w||{},e(t,i._w,i,l)})}function bH(n,e,t){return null!=e&&Ns(Bk,n)&&Bk[n](e,t._a,t,n),t}const wH={};function Rs(n,e){wH[n]=e}function Tn(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function Uk(n,e){return e.locale.getFullYear?e.locale.getFullYear(n,e.isUTC).toString():Ar(n,e.isUTC).toString()}function Hk(n){return an(n)+(an(n)>68?1900:2e3)}function iD(n){return jk(n)?366:365}function jk(n){return n%4==0&&n%100!=0||n%400==0}function L1(n,e){if(isNaN(n)||isNaN(e))return NaN;const t=function rH(n,e){return(n%e+e)%e}(e,12);return 1===t?jk(n+(e-t)/12)?29:28:31-t%7%2}const SH={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Ji(n,e){const t=Object.assign({},SH,e),r=n.getFullYear()+(t.year||0),i=n.getMonth()+(t.month||0);let l=n.getDate()+(t.day||0);return t.month&&!t.day&&(l=Math.min(l,L1(r,i))),I1(r,i,l,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function hv(n,e){return zm(e)?e:n}function eg(n,e,t){const r=Math.min(Qm(n),L1(Ar(n),e));return t?n.setUTCMonth(e,r):n.setMonth(e,r),n}function Yk(n,e,t){return t?n.setUTCDate(e):n.setDate(e),n}function xd(n){return new Date(n.getTime())}function Od(n,e,t){const r=xd(n);switch(e){case"year":eg(r,0,t);case"quarter":case"month":Yk(r,1,t);case"week":case"isoWeek":case"day":case"date":!function AH(n,e,t){t?n.setUTCHours(e):n.setHours(e)}(r,0,t);case"hours":!function kH(n,e,t){t?n.setUTCMinutes(e):n.setMinutes(e)}(r,0,t);case"minutes":!function xH(n,e,t){t?n.setUTCSeconds(e):n.setSeconds(e)}(r,0,t);case"seconds":!function OH(n,e,t){t?n.setUTCMilliseconds(e):n.setMilliseconds(e)}(r,0,t)}return"week"===e&&function Gj(n,e,t={}){au(n,e-nx(n,t.locale,t.isUTC),"day")}(r,0,{isUTC:t}),"isoWeek"===e&&function Zj(n,e,t={}){const r=function $j(n,e=xi()){return po(n)?e.weekdaysParse(n)%7||7:zm(n)&&isNaN(n)?null:n}(e,t.locale);cD(n,function mi(n,e){return iu(n,e)}(n)%7?r:r-7)}(r,1),"quarter"===e&&eg(r,3*Math.floor(cn(r,t)/3),t),r}function R1(n,e,t){let r=e;return"date"===r&&(r="day"),function Hj(n,e,t,r){return mP(n,tx(e,t),-1,r)}(au(Od(n,r,t),1,"isoWeek"===r?"week":r,t),1,"milliseconds",t)}function $k(n,e){const t=+Od(n,"day",e),r=+Od(n,"year",e);return Math.round((t-r)/864e5)+1}function P1(n,e,t){const r=e-t+7;return-(S1(n,0,r).getUTCDay()-e+7)%7+r-1}function fv(n,e,t,r){const i=P1(Ar(n,r),e,t),l=Math.floor(($k(n,r)-i-1)/7)+1;let u,f;return l<1?(f=Ar(n,r)-1,u=l+tg(f,e,t)):l>tg(Ar(n,r),e,t)?(u=l-tg(Ar(n,r),e,t),f=Ar(n,r)+1):(f=Ar(n,r),u=l),{week:u,year:f}}function tg(n,e,t){const r=P1(n,e,t),i=P1(n+1,e,t);return(iD(n)-r+i)/7}const $R=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,RH="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),GR="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),PH="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ZR="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),FH="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qR={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},UH=nD,HH=nD;class WR{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];this[Wm(r)?t:`_${t}`]=r}this._config=e}calendar(e,t,r){const i=this._calendar[e]||this._calendar.sameElse;return Wm(i)?i.call(null,t,r):i}longDateFormat(e){const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(i){return i.slice(1)}),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return Ar(e,t)}postformat(e){return e}relativeTime(e,t,r,i){const l=this._relativeTime[r];return Wm(l)?l(e,t,r,i):l.replace(/%d/i,e.toString(10))}pastFuture(e,t){const r=this._relativeTime[e>0?"future":"past"];return Wm(r)?r(t):r.replace(/%s/i,t)}months(e,t,r=!1){if(!e)return Dr(this._months)?this._months:this._months.standalone;if(Dr(this._months))return this._months[cn(e,r)];const i=(this._months.isFormat||$R).test(t)?"format":"standalone";return this._months[i][cn(e,r)]}monthsShort(e,t,r=!1){if(!e)return Dr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(Dr(this._monthsShort))return this._monthsShort[cn(e,r)];const i=$R.test(t)?"format":"standalone";return this._monthsShort[i][cn(e,r)]}monthsParse(e,t,r){let i,l,u;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++){if(i=new Date(Date.UTC(2e3,u)),r&&!this._longMonthsParse[u]){const f=this.months(i,"",!0).replace(".",""),_=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[u]=new RegExp(`^${f}$`,"i"),this._shortMonthsParse[u]=new RegExp(`^${_}$`,"i")}if(!r&&!this._monthsParse[u]&&(l=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[u]=new RegExp(l.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[u].test(e)||r&&"MMM"===t&&this._shortMonthsParse[u].test(e)||!r&&this._monthsParse[u].test(e))return u}}monthsRegex(e){return this._monthsParseExact?(Ns(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(Ns(this,"_monthsRegex")||(this._monthsRegex=HH),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(Ns(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ns(this,"_monthsShortRegex")||(this._monthsShortRegex=UH),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return fv(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,r){if(!e)return Dr(this._weekdays)?this._weekdays:this._weekdays.standalone;if(Dr(this._weekdays))return this._weekdays[iu(e,r)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][iu(e,r)]}weekdaysMin(e,t,r){return e?this._weekdaysMin[iu(e,r)]:this._weekdaysMin}weekdaysShort(e,t,r){return e?this._weekdaysShort[iu(e,r)]:this._weekdaysShort}weekdaysParse(e,t,r){let i,l;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const u=cD(new Date(Date.UTC(2e3,1)),i,null,!0);if(r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(u,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(u,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(u,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(l=`^${this.weekdays(u,"",!0)}|^${this.weekdaysShort(u,"",!0)}|^${this.weekdaysMin(u,"",!0)}`,this._weekdaysParse[i]=new RegExp(l.replace(".",""),"i")),!(Dr(this._fullWeekdaysParse)&&Dr(this._shortWeekdaysParse)&&Dr(this._minWeekdaysParse)&&Dr(this._weekdaysParse)))return;if(r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(Ns(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ns(this,"_weekdaysRegex")||(this._weekdaysRegex=nD),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(Ns(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ns(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=nD),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(Ns(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ns(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nD),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:qR;const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,i=>i.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,r){const i=e.toLocaleLowerCase();let l,u,f;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)f=new Date(2e3,l),this._shortMonthsParse[l]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(f,"").toLocaleLowerCase();return r?"MMM"===t?(u=this._shortMonthsParse.indexOf(i),-1!==u?u:null):(u=this._longMonthsParse.indexOf(i),-1!==u?u:null):"MMM"===t?(u=this._shortMonthsParse.indexOf(i),-1!==u?u:(u=this._longMonthsParse.indexOf(i),-1!==u?u:null)):(u=this._longMonthsParse.indexOf(i),-1!==u?u:(u=this._shortMonthsParse.indexOf(i),-1!==u?u:null))}handleWeekStrictParse(e,t,r){let i;const l=e.toLocaleLowerCase();if(!this._weekdaysParse){let u;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],u=0;u<7;++u){const f=cD(new Date(Date.UTC(2e3,1)),u,null,!0);this._minWeekdaysParse[u]=this.weekdaysMin(f).toLocaleLowerCase(),this._shortWeekdaysParse[u]=this.weekdaysShort(f).toLocaleLowerCase(),this._weekdaysParse[u]=this.weekdays(f,"").toLocaleLowerCase()}}if(Dr(this._weekdaysParse)&&Dr(this._shortWeekdaysParse)&&Dr(this._minWeekdaysParse))return r?"dddd"===t?(i=this._weekdaysParse.indexOf(l),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(l),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(l),-1!==i||(i=this._shortWeekdaysParse.indexOf(l),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null)):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(l),-1!==i||(i=this._weekdaysParse.indexOf(l),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null)):(i=this._minWeekdaysParse.indexOf(l),-1!==i||(i=this._weekdaysParse.indexOf(l),-1!==i)?i:(i=this._shortWeekdaysParse.indexOf(l),-1!==i?i:null))}computeMonthsParse(){const e=[],t=[],r=[];let i,l;for(l=0;l<12;l++)i=new Date(2e3,l),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(ng),t.sort(ng),r.sort(ng),l=0;l<12;l++)e[l]=Xm(e[l]),t[l]=Xm(t[l]);for(l=0;l<24;l++)r[l]=Xm(r[l]);this._monthsRegex=new RegExp(`^(${r.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],r=[],i=[];let l;for(l=0;l<7;l++){const u=cD(new Date(Date.UTC(2e3,1)),l,null,!0),f=this.weekdaysMin(u),_=this.weekdaysShort(u),D=this.weekdays(u);e.push(f),t.push(_),r.push(D),i.push(f),i.push(_),i.push(D)}for(e.sort(ng),t.sort(ng),r.sort(ng),i.sort(ng),l=0;l<7;l++)t[l]=Xm(t[l]),r[l]=Xm(r[l]),i[l]=Xm(i[l]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function ng(n,e){return e.length-n.length}const zR={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:qR,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:RH,monthsShort:GR,week:{dow:0,doy:6},weekdays:PH,weekdaysMin:FH,weekdaysShort:ZR,meridiemParse:/[ap]\.?m?\.?/i};function jH(n,e,t){const r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length);let u,l=0;for(u=0;u<r;u++)(t&&n[u]!==e[u]||!t&&an(n[u])!==an(e[u]))&&l++;return l+i}function F1(n,e){Ft(null,[n,n.length,!1],null,e)}function KR(n,e){return Zk(n,e.locale).toString()}function JR(n){return QR(n).toString()}function Zk(n,e=xi(),t){return fv(n,e.firstDayOfWeek(),e.firstDayOfYear(),t).year}function QR(n,e){return fv(n,1,4,e).year}function eP(n,e){Ft(n,null,null,function(t,r){let i=function ig(n,e={}){return e._isUTC?e._offset||0:function tP(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:r.isUTC,_offset:r.offset}),l="+";return i<0&&(i=-i,l="-"),l+Ad(~~(i/60),2)+e+Ad(~~i%60,2)})}const QH=/([\+\-]|\d\d)/gi;const Qi={},sD={};let oD;function nP(n){return n&&n.toLowerCase().replace("_","-")}function iP(n){return Qi[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),Qi[n]}function Wk(n,e){let t;return n&&(RR(e)?t=xi(n):po(n)&&(t=sP(n,e)),t&&(oD=t)),oD&&oD._abbr}function sP(n,e){if(null===e)return delete Qi[n],oD=xi("en"),null;if(!e)return;let t=zR;if(e.abbr=n,null!=e.parentLocale){if(null==Qi[e.parentLocale])return sD[e.parentLocale]||(sD[e.parentLocale]=[]),sD[e.parentLocale].push({name:n,config:e}),null;t=Qi[e.parentLocale]._config}return Qi[n]=new WR(function rP(n,e){const t=Object.assign({},n);for(const r in e)!Ns(e,r)||(Km(n[r])&&Km(e[r])?(t[r]={},Object.assign(t[r],n[r]),Object.assign(t[r],e[r])):null!=e[r]?t[r]=e[r]:delete t[r]);for(const r in n)Ns(n,r)&&!Ns(e,r)&&Km(n[r])&&(t[r]=Object.assign({},t[r]));return t}(t,e)),sD[n]&&sD[n].forEach(function(r){sP(r.name,r.config)}),Wk(n),Qi[n]}function xi(n){return function ij(){Qi.en||(Wk("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const e=n%10;return n+(1===an(n%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function YH(){Ft("w",["ww",2,!1],"wo",function(n,e){return function rg(n,e=xi(),t){return e.week(n,t)}(n,e.locale).toString(10)}),Ft("W",["WW",2,!1],"Wo",function(n){return function Gk(n,e){return fv(n,1,4,e).week}(n).toString(10)}),Ls("week","w"),Ls("isoWeek","W"),Rs("week",5),Rs("isoWeek",5),_t("w",pr),_t("ww",pr,Ma),_t("W",pr),_t("WW",pr,Ma),rD(["w","ww","W","WW"],function(n,e,t,r){return e[r.substr(0,1)]=an(n),t})}(),function $H(){Ft(null,["gg",2,!1],null,function(n,e){return(Zk(n,e.locale)%100).toString()}),Ft(null,["GG",2,!1],null,function(n){return(QR(n)%100).toString()}),F1("gggg",KR),F1("ggggg",KR),F1("GGGG",JR),F1("GGGGG",JR),Ls("weekYear","gg"),Ls("isoWeekYear","GG"),Rs("weekYear",1),Rs("isoWeekYear",1),_t("G",x1),_t("g",x1),_t("GG",pr,Ma),_t("gg",pr,Ma),_t("GGGG",Vk,Fk),_t("gggg",Vk,Fk),_t("GGGGG",k1,M1),_t("ggggg",k1,M1),rD(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){return e[r.substr(0,2)]=an(n),t}),rD(["gg","GG"],function(n,e,t,r){return e[r]=Hk(n),t})}(),function TH(){Ft("Y",null,null,function(n,e){const t=Ar(n,e.isUTC);return t<=9999?t.toString(10):`+${t}`}),Ft(null,["YY",2,!1],null,function(n,e){return(Ar(n,e.isUTC)%100).toString(10)}),Ft(null,["YYYY",4,!1],null,Uk),Ft(null,["YYYYY",5,!1],null,Uk),Ft(null,["YYYYYY",6,!0],null,Uk),Ls("year","y"),Rs("year",1),_t("Y",x1),_t("YY",pr,Ma),_t("YYYY",Vk,Fk),_t("YYYYY",k1,M1),_t("YYYYYY",k1,M1),mr(["YYYYY","YYYYYY"],0),mr("YYYY",function(n,e,t){return e[0]=2===n.length?Hk(n):an(n),t}),mr("YY",function(n,e,t){return e[0]=Hk(n),t}),mr("Y",function(n,e,t){return e[0]=parseInt(n,10),t})}(),function ZH(){Ft("z",null,null,function(n,e){return e.isUTC?"UTC":""}),Ft("zz",null,null,function(n,e){return e.isUTC?"Coordinated Universal Time":""})}(),function qH(){Ft("X",null,null,function(n){return function dH(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Ft("x",null,null,function(n){return n.valueOf().toString(10)}),_t("x",x1),_t("X",_H),mr("X",function(n,e,t){return t._d=new Date(1e3*parseFloat(n)),t}),mr("x",function(n,e,t){return t._d=new Date(an(n)),t})}(),function WH(){Ft("s",["ss",2,!1],null,function(n,e){return Pk(n,e.isUTC).toString(10)}),Ls("second","s"),Rs("second",15),_t("s",pr),_t("ss",pr,Ma),mr(["s","ss"],5)}(),function zH(){Ft("Q",null,"Qo",function(n,e){return function KH(n,e=!1){return Math.ceil((cn(n,e)+1)/3)}(n,e.isUTC).toString(10)}),Ls("quarter","Q"),Rs("quarter",7),_t("Q",BR),mr("Q",function(n,e,t){return e[1]=3*(an(n)-1),t})}(),function JH(){eP("Z",":"),eP("ZZ",""),_t("Z",O1),_t("ZZ",O1),mr(["Z","ZZ"],function(n,e,t){return t._useUTC=!0,t._tzm=function qk(n,e){const t=(e||"").match(n);if(null===t)return null;const i=t[t.length-1].match(QH)||["-","0","0"],l=60*parseInt(i[1],10)+an(i[2]);return 0===l?0:"+"===i[0]?l:-l}(O1,n),t})}(),function EH(){Ft("M",["MM",2,!1],"Mo",function(n,e){return(cn(n,e.isUTC)+1).toString(10)}),Ft("MMM",null,null,function(n,e){return e.locale.monthsShort(n,e.format,e.isUTC)}),Ft("MMMM",null,null,function(n,e){return e.locale.months(n,e.format,e.isUTC)}),Ls("month","M"),Rs("month",8),_t("M",pr),_t("MM",pr,Ma),_t("MMM",function(n,e){return e.monthsShortRegex(n)}),_t("MMMM",function(n,e){return e.monthsRegex(n)}),mr(["M","MM"],function(n,e,t){return e[1]=an(n)-1,t}),mr(["MMM","MMMM"],function(n,e,t,r){const i=t._locale.monthsParse(n,r,t._strict);return null!=i?e[1]=i:Tn(t).invalidMonth=!!n,t})}(),function ej(){Ft("m",["mm",2,!1],null,function(n,e){return cv(n,e.isUTC).toString(10)}),Ls("minute","m"),Rs("minute",14),_t("m",pr),_t("mm",pr,Ma),mr(["m","mm"],4)}(),function tj(){let n;for(Ft("S",null,null,function(t,r){return(~~(kd(t,r.isUTC)/100)).toString(10)}),Ft(null,["SS",2,!1],null,function(t,r){return(~~(kd(t,r.isUTC)/10)).toString(10)}),Ft(null,["SSS",3,!1],null,function(t,r){return kd(t,r.isUTC).toString(10)}),Ft(null,["SSSS",4,!1],null,function(t,r){return(10*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSS",5,!1],null,function(t,r){return(100*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSS",6,!1],null,function(t,r){return(1e3*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSS",7,!1],null,function(t,r){return(1e4*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSSS",8,!1],null,function(t,r){return(1e5*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSSSS",9,!1],null,function(t,r){return(1e6*kd(t,r.isUTC)).toString(10)}),Ls("millisecond","ms"),Rs("millisecond",16),_t("S",A1,BR),_t("SS",A1,Ma),_t("SSS",A1,UR),n="SSSS";n.length<=9;n+="S")_t(n,mH);function e(t,r,i){return r[6]=an(1e3*parseFloat(`0.${t}`)),i}for(n="S";n.length<=9;n+="S")mr(n,e)}(),function nj(){function n(i,l){return ln(i,l)%12||12}function t(i,l){Ft(i,null,null,function(u,f){return f.locale.meridiem(ln(u,f.isUTC),cv(u,f.isUTC),l)})}function r(i,l){return l._meridiemParse}Ft("H",["HH",2,!1],null,function(i,l){return ln(i,l.isUTC).toString(10)}),Ft("h",["hh",2,!1],null,function(i,l){return n(i,l.isUTC).toString(10)}),Ft("k",["kk",2,!1],null,function(i,l){return function e(i,l){return ln(i,l)||24}(i,l.isUTC).toString(10)}),Ft("hmm",null,null,function(i,l){return`${n(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}`}),Ft("hmmss",null,null,function(i,l){return`${n(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}${Ad(Pk(i,l.isUTC),2)}`}),Ft("Hmm",null,null,function(i,l){return`${ln(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}`}),Ft("Hmmss",null,null,function(i,l){return`${ln(i,l.isUTC)}${Ad(cv(i,l.isUTC),2)}${Ad(Pk(i,l.isUTC),2)}`}),t("a",!0),t("A",!1),Ls("hour","h"),Rs("hour",13),_t("a",r),_t("A",r),_t("H",pr),_t("h",pr),_t("k",pr),_t("HH",pr,Ma),_t("hh",pr,Ma),_t("kk",pr,Ma),_t("hmm",HR),_t("hmmss",jR),_t("Hmm",HR),_t("Hmmss",jR),mr(["H","HH"],3),mr(["k","kk"],function(i,l,u){const f=an(i);return l[3]=24===f?0:f,u}),mr(["a","A"],function(i,l,u){return u._isPm=u._locale.isPM(i),u._meridiem=i,u}),mr(["h","hh"],function(i,l,u){return l[3]=an(i),Tn(u).bigHour=!0,u}),mr("hmm",function(i,l,u){const f=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f)),Tn(u).bigHour=!0,u}),mr("hmmss",function(i,l,u){const f=i.length-4,_=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f,2)),l[5]=an(i.substr(_)),Tn(u).bigHour=!0,u}),mr("Hmm",function(i,l,u){const f=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f)),u}),mr("Hmmss",function(i,l,u){const f=i.length-4,_=i.length-2;return l[3]=an(i.substr(0,f)),l[4]=an(i.substr(f,2)),l[5]=an(i.substr(_)),u})}(),function LH(){Ft("DDD",["DDDD",3,!1],"DDDo",function(n){return $k(n).toString(10)}),Ls("dayOfYear","DDD"),Rs("dayOfYear",4),_t("DDD",A1),_t("DDDD",UR),mr(["DDD","DDDD"],function(n,e,t){return t._dayOfYear=an(n),t})}(),function jj(){Ft("d",null,"do",function(n,e){return iu(n,e.isUTC).toString(10)}),Ft("dd",null,null,function(n,e){return e.locale.weekdaysMin(n,e.format,e.isUTC)}),Ft("ddd",null,null,function(n,e){return e.locale.weekdaysShort(n,e.format,e.isUTC)}),Ft("dddd",null,null,function(n,e){return e.locale.weekdays(n,e.format,e.isUTC)}),Ft("e",null,null,function(n,e){return nx(n,e.locale,e.isUTC).toString(10)}),Ft("E",null,null,function(n,e){return function gP(n,e){return iu(n,e)||7}(n,e.isUTC).toString(10)}),Ls("day","d"),Ls("weekday","e"),Ls("isoWeekday","E"),Rs("day",11),Rs("weekday",11),Rs("isoWeekday",11),_t("d",pr),_t("e",pr),_t("E",pr),_t("dd",function(n,e){return e.weekdaysMinRegex(n)}),_t("ddd",function(n,e){return e.weekdaysShortRegex(n)}),_t("dddd",function(n,e){return e.weekdaysRegex(n)}),rD(["dd","ddd","dddd"],function(n,e,t,r){const i=t._locale.weekdaysParse(n,r,t._strict);return null!=i?e.d=i:Tn(t).invalidWeekday=!!n,t}),rD(["d","e","E"],function(n,e,t,r){return e[r]=an(n),t})}(),function DH(){Ft("D",["DD",2,!1],"Do",function(n,e){return Qm(n,e.isUTC).toString(10)}),Ls("date","D"),Rs("date",9),_t("D",pr),_t("DD",pr,Ma),_t("Do",function(n,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),mr(["D","DD"],2),mr("Do",function(n,e,t){return e[2]=an(n.match(pr)[0]),t})}())}(),n?function rj(n){let e,t,r=0;for(;r<n.length;){const i=nP(n[r]).split("-");let l=i.length;for(e=nP(n[r+1]),e=e?e.split("-"):null;l>0;){if(t=iP(i.slice(0,l).join("-")),t)return t;if(e&&e.length>=l&&jH(i,e,!0)>=l-1)break;l--}r++}return null}(Dr(n)?n:[n]):oD}const aD=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],sj=aD.reduce((n,e)=>(n[e]=!0,n),{});function oP(n){return n<0?Math.floor(n):Math.ceil(n)}function aP(n){return 4800*n/146097}function zk(n){return 146097*n/4800}let Nf=Math.round;const su_ss=44,su_s=45,su_m=45,su_h=22,su_d=26,su_M=11;function lj(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}class lP{constructor(e,t={}){this._data={},this._locale=xi(),this._locale=t&&t._locale||xi();const i=e.year||0,l=e.quarter||0,u=e.month||0,f=e.week||0,_=e.day||0,D=e.hours||0,S=e.minutes||0,A=e.seconds||0,R=e.milliseconds||0;return this._isValid=function oj(n){if(Object.keys(n).some(r=>r in sj&&null===n[r]||isNaN(n[r])))return!1;let t=!1;for(let r=0;r<aD.length;++r)if(n[aD[r]]){if(t)return!1;n[aD[r]]!==an(n[aD[r]])&&(t=!0)}return!0}(e),this._milliseconds=+R+1e3*A+60*S*1e3+1e3*D*60*60,this._days=+_+7*f,this._months=+u+3*l+12*i,function aj(n){let e=n._milliseconds,t=n._days,r=n._months;const i=n._data;e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=864e5*oP(zk(r)+t),t=0,r=0),i.milliseconds=e%1e3;const l=qm(e/1e3);i.seconds=l%60;const u=qm(l/60);i.minutes=u%60;const f=qm(u/60);i.hours=f%24,t+=qm(f/24);const _=qm(aP(t));r+=_,t-=oP(zk(_));const D=qm(r/12);return r%=12,i.day=t,i.month=r,i.year=D,n}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let r=function cj(n,e,t){const r=tx(n).abs(),i=Nf(r.as("s")),l=Nf(r.as("m")),u=Nf(r.as("h")),f=Nf(r.as("d")),_=Nf(r.as("M")),D=Nf(r.as("y")),S=i<=su_ss&&["s",i]||i<su_s&&["ss",i]||l<=1&&["m"]||l<su_m&&["mm",l]||u<=1&&["h"]||u<su_h&&["hh",u]||f<=1&&["d"]||f<su_d&&["dd",f]||_<=1&&["M"]||_<su_M&&["MM",_]||D<=1&&["y"]||["yy",D];return lj.apply(null,[S[0],S[1],e,+n>0,t])}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}localeData(){return this._locale}locale(e){return e?(this._locale=xi(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,r;const i=this._milliseconds,l=FR(e);if("month"===l||"year"===l)return t=this._days+i/864e5,r=this._months+aP(t),"month"===l?r:r/12;switch(t=this._days+Math.round(zk(this._months)),l){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${l}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*an(this._months/12):NaN}}function Kk(n){if(null==n._isValid){const e=Tn(n),t=Array.prototype.some.call(e.parsedDateParts,function(i){return null!=i});let r=!isNaN(n._d&&n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return r;n._isValid=r}return n._isValid}function B1(n,e){return n._d=new Date(NaN),Object.assign(Tn(n),e||{userInvalidated:!0}),n}const hj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pj=/Z|[+-]\d\d(?::?\d\d)?/,U1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],Jk=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mj=/^\/?Date\((\-?\d+)/i,gj={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},_j=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function cP(n){if(!po(n._i))return n;const e=n._i,t=hj.exec(e)||fj.exec(e);let r,i,l,u,f,_;if(!t)return n._isValid=!1,n;for(f=0,_=U1.length;f<_;f++)if(U1[f][1].exec(t[1])){i=U1[f][0],r=!1!==U1[f][2];break}if(null==i)return n._isValid=!1,n;if(t[3]){for(f=0,_=Jk.length;f<_;f++)if(Jk[f][1].exec(t[3])){l=(t[2]||" ")+Jk[f][0];break}if(null==l)return n._isValid=!1,n}if(!r&&null!=l)return n._isValid=!1,n;if(t[4]){if(!pj.exec(t[4]))return n._isValid=!1,n;u="Z"}return n._f=i+(l||"")+(u||""),Xk(n)}function vj(n){const e=parseInt(n,10);return e<=49?e+2e3:e}function uP(n){if(!po(n._i))return n;const e=_j.exec(function bj(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!e)return function dj(n){return n._isValid=!1,n}(n);const t=function yj(n,e,t,r,i,l){const u=[vj(n),GR.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return l&&u.push(parseInt(l,10)),u}(e[4],e[3],e[2],e[5],e[6],e[7]);return function wj(n,e,t){return!n||ZR.indexOf(n)===new Date(e[0],e[1],e[2]).getDay()||(Tn(t).weekdayMismatch=!0,t._isValid=!1,!1)}(e[1],t,n)&&(n._a=t,n._tzm=function Dj(n,e,t){if(n)return gj[n];if(e)return 0;{const r=parseInt(t,10),i=r%100;return(r-i)/100*60+i}}(e[8],e[9],e[10]),n._d=S1.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Tn(n).rfc2822=!0),n}function nl(n,e,t,r,i=0){const l=xi(t||"en");if(!l)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const f=function Tj(n,e,t,r,i=0){if(!xf(n))return t.invalidDate;const l=dP(e,t);return Rk[l]=Rk[l]||function lH(n){const e=n.match(VR),t=e.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=lv[e[i]]?lv[e[i]]:cH(e[i]);return function(i,l,u,f=0){let _="";for(let D=0;D<t;D++)_+=Wm(r[D])?r[D].call(null,i,{format:n,locale:l,isUTC:u,offset:f}):r[D];return _}}(l),Rk[l](n,t,r,i)}(n,e||(r?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),l,r,i);return f&&l.postformat(f)}function dP(n,e){let t=n,r=5;const i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,l=u=>e.formatLongDate(u)||u;for(i.lastIndex=0;r>=0&&i.test(t);)t=t.replace(i,l),i.lastIndex=0,r-=1;return t}function pv(n,e,t){return null!=n?n:null!=e?e:t}function Qk(n){const e=[];let t,r,i;if(n._d)return n;const l=function Ej(n){const e=new Date;return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function Sj(n){let e,t,r,i,l,u,f;const _=n._w;if(null!=_.GG||null!=_.W||null!=_.E)i=1,l=4,e=pv(_.GG,n._a[0],fv(new Date,1,4).year),t=pv(_.W,1),r=pv(_.E,1),(r<1||r>7)&&(f=!0);else{i=n._locale._week.dow,l=n._locale._week.doy;const D=fv(new Date,i,l);e=pv(_.gg,n._a[0],D.year),t=pv(_.w,D.week),null!=_.d?(r=_.d,(r<0||r>6)&&(f=!0)):null!=_.e?(r=_.e+i,(_.e<0||_.e>6)&&(f=!0)):r=i}t<1||t>tg(e,i,l)?Tn(n)._overflowWeeks=!0:null!=f?Tn(n)._overflowWeekday=!0:(u=function YR(n,e,t,r,i){const f=1+7*(e-1)+(7+t-r)%7+P1(n,r,i);let _,D;return f<=0?(_=n-1,D=iD(_)+f):f>iD(n)?(_=n+1,D=f-iD(n)):(_=n,D=f),{year:_,dayOfYear:D}}(e,t,r,i,l),n._a[0]=u.year,n._dayOfYear=u.dayOfYear)}(n),null!=n._dayOfYear&&(i=pv(n._a[0],l[0]),(n._dayOfYear>iD(i)||0===n._dayOfYear)&&(Tn(n)._overflowDayOfYear=!0),r=new Date(Date.UTC(i,0,n._dayOfYear)),n._a[1]=r.getUTCMonth(),n._a[2]=r.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=l[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?S1:I1).apply(null,e);const u=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&void 0!==n._w.d&&n._w.d!==u&&(Tn(n).weekdayMismatch=!0),n}function hP(n){let e;const t=n._a;return t&&-2===Tn(n).overflow&&(e=t[1]<0||t[1]>11?1:t[2]<1||t[2]>L1(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,Tn(n)._overflowDayOfYear&&(e<0||e>2)&&(e=2),Tn(n)._overflowWeeks&&-1===e&&(e=7),Tn(n)._overflowWeekday&&-1===e&&(e=8),Tn(n).overflow=e),n}function Xk(n){if("ISO_8601"===n._f)return cP(n);if("RFC_2822"===n._f)return uP(n);if(n._a=[],Tn(n).empty=!0,Dr(n._f)||!n._i&&0!==n._i)return n;let e=n._i.toString(),t=0;const r=e.length,i=dP(n._f,n._locale).match(VR)||[];let l,u,f,_;for(l=0;l<i.length;l++)u=i[l],f=(e.match(yH(u,n._locale))||[])[0],f&&(_=e.substr(0,e.indexOf(f)),_.length>0&&Tn(n).unusedInput.push(_),e=e.slice(e.indexOf(f)+f.length),t+=f.length),lv[u]?(f?Tn(n).empty=!1:Tn(n).unusedTokens.push(u),bH(u,f,n)):n._strict&&!f&&Tn(n).unusedTokens.push(u);return Tn(n).charsLeftOver=r-t,e.length>0&&Tn(n).unusedInput.push(e),n._a[3]<=12&&!0===Tn(n).bigHour&&n._a[3]>0&&(Tn(n).bigHour=void 0),Tn(n).parsedDateParts=n._a.slice(0),Tn(n).meridiem=n._meridiem,n._a[3]=function Aj(n,e,t){let r=e;if(null==t)return r;if(null!=n.meridiemHour)return n.meridiemHour(r,t);if(null==n.isPM)return r;const i=n.isPM(t);return i&&r<12&&(r+=12),!i&&12===r&&(r=0),r}(n._locale,n._a[3],n._meridiem),Qk(n),hP(n)}function Oj(n){const e=hP(function Nj(n){let e=n._i;const t=n._f;return n._locale=n._locale||xi(n._l),null===e||void 0===t&&""===e?B1(n,{nullInput:!0}):(po(e)&&(n._i=e=n._locale.preparse(e,t)),E1(e)?(n._d=xd(e),n):(Dr(t)?function kj(n){let e,t,r,i,l;if(!n._f||0===n._f.length)return Tn(n).invalidFormat=!0,B1(n);for(l=0;l<n._f.length;l++)i=0,e=Object.assign({},n),null!=n._useUTC&&(e._useUTC=n._useUTC),e._f=n._f[l],Xk(e),Kk(e)&&(i+=Tn(e).charsLeftOver,i+=10*Tn(e).unusedTokens.length,Tn(e).score=i,(null==r||i<r)&&(r=i,t=e));Object.assign(n,t||e)}(n):t?Xk(n):function Lj(n){const e=n._i;if(RR(e))n._d=new Date;else if(E1(e))n._d=xd(e);else if(po(e))!function Cj(n){if(!po(n._i))return n;const e=mj.exec(n._i);null!==e?n._d=new Date(+e[1]):(cP(n),!1!==n._isValid||(delete n._isValid,uP(n),!1!==n._isValid||(delete n._isValid,B1(n))))}(n);else if(Dr(e)&&e.length){const t=e.slice(0);n._a=t.map(r=>po(r)?parseInt(r,10):r),Qk(n)}else if(Km(e))!function xj(n){if(n._d)return n;const e=n._i;if(Km(e)){const t=function sH(n){const e={};let t,r;for(r in n)Ns(n,r)&&(t=FR(r),t&&(e[t]=n[r]));return e}(e);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(r=>po(r)?parseInt(r,10):r)}return Qk(n)}(n);else{if(!zm(e))return B1(n);n._d=new Date(e)}}(n),Kk(n)||(n._d=null),n))}(n));return e._d=new Date(null!=e._d?e._d.getTime():NaN),Kk(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}function lD(n,e,t,r,i){return E1(n)?n:function Rj(n,e,t,r,i){const l={};let u=n;return(Km(u)&&function iH(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let e;for(e in n)if(n.hasOwnProperty(e))return!1;return!0}(u)||Dr(u)&&0===u.length)&&(u=void 0),l._useUTC=l._isUTC=i,l._l=t,l._i=u,l._f=e,l._strict=r,Oj(l)}(n,e,t,r,i)._d}function fP(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function ex(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Zl(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()>e.valueOf():e.valueOf()<Od(n,t).valueOf())}function ou(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()<e.valueOf():R1(n,t).valueOf()<e.valueOf())}function mv(n,e,t="milliseconds"){if(!n||!e)return!1;if("milliseconds"===t)return n.valueOf()===e.valueOf();const r=e.valueOf();return Od(n,t).valueOf()<=r&&r<=R1(n,t).valueOf()}const Fj=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vj=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function tx(n,e,t={}){const r=function Bj(n,e){if(null==n)return{};if(function uj(n){return n instanceof lP}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(zm(n))return e?{[e]:n}:{milliseconds:n};if(po(n)){let t=Fj.exec(n);if(t){const r="-"===t[1]?-1:1;return{year:0,day:an(t[2])*r,hours:an(t[3])*r,minutes:an(t[4])*r,seconds:an(t[5])*r,milliseconds:an(ex(1e3*an(t[6])))*r}}if(t=Vj.exec(n),t){const r="-"===t[1]?-1:1;return{year:sg(t[2],r),month:sg(t[3],r),week:sg(t[4],r),day:sg(t[5],r),hours:sg(t[6],r),minutes:sg(t[7],r),seconds:sg(t[8],r)}}}if(Km(n)&&("from"in n||"to"in n)){const t=function Uj(n,e){if(!xf(n)||!xf(e))return{milliseconds:0,months:0};let t;const r=function XH(n,e,t={}){if(!t._isUTC)return n;const r=xd(e),i=6e4*(t._offset||0),l=n.valueOf()-r.valueOf()+i;return r.setTime(r.valueOf()+l),r}(e,n,{_offset:n.getTimezoneOffset()});return ou(n,r)?t=pP(n,r):(t=pP(r,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(lD(n.from),lD(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,e);return new lP(r,t)}function sg(n,e){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function pP(n,e){const t={milliseconds:0,months:0};return t.months=cn(e)-cn(n)+12*(Ar(e)-Ar(n)),Zl(au(xd(n),t.months,"month"),e)&&--t.months,t.milliseconds=+e-+au(xd(n),t.months,"month"),t}function au(n,e,t,r){return mP(n,tx(e,t),1,r)}function mP(n,e,t,r){const i=e._milliseconds,l=ex(e._days),u=ex(e._months);return u&&eg(n,cn(n,r)+u*t,r),l&&Yk(n,Qm(n,r)+l*t,r),i&&function NH(n,e){n.setTime(e)}(n,function uH(n){return n.getTime()}(n)+i*t),xd(n)}function cD(n,e,t=xi(),r){const i=iu(n,r),l=function Yj(n,e){if(!po(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const r=e.weekdaysParse(n);return zm(r)?r:null}(e,t);return au(n,l-i,"day")}function nx(n,e=xi(),t){return(iu(n,t)+7-e.firstDayOfWeek())%7}const _P=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},zj={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},rl=function(n){return function(e,t){const r=_P(e);let i=zj[n][_P(e)];return 2===r&&(i=i[t?0:1]),i.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),rl("s"),rl("s"),rl("m"),rl("m"),rl("h"),rl("h"),rl("d"),rl("d"),rl("M"),rl("M"),rl("y"),rl("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const ix="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),sx="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,e){let t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+n[t]+"$|^"+e[t]+"$","i")})(ix,sx),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(sx),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(ix),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const PP={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,e,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,e){const t=PP.longDateFormat[e]?PP.longDateFormat[e]:e;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,e=!1)=>543+(e?n.getUTCFullYear():n.getFullYear())};function wv(n){return function(e){return n+"\u043e"+(11===ln(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),wv("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),wv("[\u0417\u0430\u0432\u0442\u0440\u0430 "),wv("[\u0412\u0447\u043e\u0440\u0430 "),wv("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class j1{}const Nd="*";function Y1(n,e=null){return{type:4,styles:e,timings:n}}function FP(n,e=null){return{type:2,steps:n,options:e}}function Pf(n){return{type:6,styles:n,offset:null}}function VP(n,e,t){return{type:0,name:n,styles:e,options:t}}function mx(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function BP(n){Promise.resolve(null).then(n)}class dD{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class UP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?BP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++r==l&&this._onDestroy()}),u.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var y6=N(233);class HP extends cr{constructor(e,t,r){super(e),t.pipe((0,Qw.Q)(y6.N)).pipe(Vr((u,f)=>f?r(u,f):u,e)).subscribe(u=>this.next(u))}}class $1 extends Sr.y{constructor(e,t,r){super(),this._dispatcher=e,this._reducer=t,this.source=r}select(e){var t;return((null===(t=this.source)||void 0===t?void 0:t.pipe((0,Ct.U)(e)))||(new Sr.y).pipe((0,Ct.U)(e))).pipe(L_())}lift(e){const t=new $1(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}var jP=N(655),v6=N(3532);const D6=["*"];let _x=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C6=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return kh()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Bh[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(_x))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,r){2&t&&(o.uIk("id",r.id),o.Tol("tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass),o.ekj("show",!r._bsVersions.isBs3)("bs3",r._bsVersions.isBs3))},ngContentSelectors:D6,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),T6=0,E6=(()=>{class n{constructor(t,r,i,l,u,f){this._elementRef=l,this._renderer=u,this._positionService=f,this.tooltipId=T6++,this.adaptivePosition=!0,this.tooltipChange=new o.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new o.vpe,this._tooltip=r.createLoader(this._elementRef,t,this._renderer).provide({provide:_x,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){io("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){io("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){io("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return io("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){io("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return io("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){io('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return io('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){io("tooltipClass deprecated")}set _tooltipContext(t){io("tooltipContext deprecated")}set _tooltipPopupDelay(t){io("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return io("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){io("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(C6).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function w6(n=0,e,t=g_.P){let r=-1;return null!=e&&((0,v6.K)(e)?t=e:r=e),new Sr.y(i=>{let l=function b6(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(this.delay).subscribe(()=>{t(),r()}),this.triggers&&RC(this.triggers).forEach(i=>{!i.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,i.close,()=>{var l;null===(l=this._delaySubscription)||void 0===l||l.unsubscribe(),r()}))})):t()}hide(){var t;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(t=this._tooltip.instance)||void 0===t?void 0:t.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(zo),o.Y36(_x),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Fl))},n.\u0275dir=o.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,jP.gn)([JS(),(0,jP.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),S6=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zo,Fl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Bt]]}),n})();function I6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function M6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.changeMinutes(i.minuteStep)}),o._UZ(2,"span",2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function A6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0"),o.qZA())}function k6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.changeSeconds(i.secondsStep)}),o._UZ(2,"span",2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function x6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function O6(n,e){1&n&&o._UZ(0,"td")}function N6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0:\xa0"),o.qZA())}function L6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4)(1,"input",5),o.NdJ("wheel",function(i){o.CHM(t);const l=o.oxw();return l.prevDef(i),l.changeMinutes(l.minuteStep*l.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){o.CHM(t);const i=o.oxw();return i.changeMinutes(i.minuteStep,"key")})("keydown.ArrowDown",function(){o.CHM(t);const i=o.oxw();return i.changeMinutes(-i.minuteStep,"key")})("change",function(i){return o.CHM(t),o.oxw().updateMinutes(i.target)}),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("has-error",t.invalidMinutes),o.xp6(1),o.ekj("is-invalid",t.invalidMinutes),o.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),o.uIk("aria-label",t.labelMinutes)}}function R6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0:\xa0"),o.qZA())}function P6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4)(1,"input",5),o.NdJ("wheel",function(i){o.CHM(t);const l=o.oxw();return l.prevDef(i),l.changeSeconds(l.secondsStep*l.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){o.CHM(t);const i=o.oxw();return i.changeSeconds(i.secondsStep,"key")})("keydown.ArrowDown",function(){o.CHM(t);const i=o.oxw();return i.changeSeconds(-i.secondsStep,"key")})("change",function(i){return o.CHM(t),o.oxw().updateSeconds(i.target)}),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("has-error",t.invalidSeconds),o.xp6(1),o.ekj("is-invalid",t.invalidSeconds),o.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),o.uIk("aria-label",t.labelSeconds)}}function F6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function V6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"button",8),o.NdJ("click",function(){return o.CHM(t),o.oxw().toggleMeridian()}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.isEditable||!t.canToggleMeridian),o.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),o.xp6(1),o.hij("",t.meridian," ")}}function B6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function U6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.changeMinutes(-i.minuteStep)}),o._UZ(2,"span",7),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function H6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0"),o.qZA())}function j6(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.changeSeconds(-i.secondsStep)}),o._UZ(2,"span",7),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function Y6(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function $6(n,e){1&n&&o._UZ(0,"td")}function yx(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||yx(new Date(n)))}function vx(n,e){return!(n.min&&e<n.min||n.max&&e>n.max)}function cg(n){return void 0===n?NaN:"number"==typeof n?n:parseInt(n,10)}function $P(n,e=!1){const t=cg(n);return isNaN(t)||t<0||t>(e?12:24)?NaN:t}function GP(n){const e=cg(n);return isNaN(e)||e<0||e>60?NaN:e}function ZP(n){const e=cg(n);return isNaN(e)||e<0||e>60?NaN:e}function qP(n){return"string"==typeof n?new Date(n):n}function ul(n,e){if(!n)return ul(G1(new Date,0,0,0),e);if(!e)return n;let t=n.getHours(),r=n.getMinutes(),i=n.getSeconds();return e.hour&&(t+=cg(e.hour)),e.minute&&(r+=cg(e.minute)),e.seconds&&(i+=cg(e.seconds)),G1(n,t,r,i)}function WP(n,e){let t=$P(e.hour);const r=GP(e.minute),i=ZP(e.seconds)||0;return e.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(r)?n:G1(n,t,r,i):isNaN(t)||isNaN(r)?n:G1(new Date,t,r,i)}function G1(n,e,t,r){const i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e,t,r,n.getMilliseconds());return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),i}function bx(n){const e=n.toString();return e.length>1?e:`0${e}`}function zP(n,e){return!isNaN($P(n,e))}function KP(n){return!isNaN(GP(n))}function JP(n){return!isNaN(ZP(n))}function QP(n,e="0",t="0",r){return zP(n,r)&&KP(e)&&JP(t)}function Z1(n,e){return!(n.readonlyInput||n.disabled||e&&("wheel"===e.source&&!n.mousewheel||"key"===e.source&&!n.arrowkeys))}function XP(n){const{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:l,mousewheel:u,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:R,max:B}=n;return{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:l,mousewheel:u,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:R,max:B}}let eF=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ld=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const tF={value:void 0,config:new eF,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function nF(n=tF,e){switch(e.type){case Ld.WRITE_VALUE:return Object.assign({},n,{value:e.payload});case Ld.CHANGE_HOURS:{if(!Z1(n.config,e.payload)||!function J6(n,e){return!(!n.step||n.step>0&&!e.canIncrementHours||n.step<0&&!e.canDecrementHours)}(e.payload,n.controls))return n;const t=ul(n.value,{hour:e.payload.step});return!n.config.max&&!n.config.min||vx(n.config,t)?Object.assign({},n,{value:t}):n}case Ld.CHANGE_MINUTES:{if(!Z1(n.config,e.payload)||!function Q6(n,e){return!(!n.step||n.step>0&&!e.canIncrementMinutes||n.step<0&&!e.canDecrementMinutes)}(e.payload,n.controls))return n;const t=ul(n.value,{minute:e.payload.step});return!n.config.max&&!n.config.min||vx(n.config,t)?Object.assign({},n,{value:t}):n}case Ld.CHANGE_SECONDS:{if(!Z1(n.config,e.payload)||!function X6(n,e){return!(!n.step||n.step>0&&!e.canIncrementSeconds||n.step<0&&!e.canDecrementSeconds)}(e.payload,n.controls))return n;const t=ul(n.value,{seconds:e.payload.step});return!n.config.max&&!n.config.min||vx(n.config,t)?Object.assign({},n,{value:t}):n}case Ld.SET_TIME_UNIT:{if(!Z1(n.config))return n;const t=WP(n.value,e.payload);return Object.assign({},n,{value:t})}case Ld.UPDATE_CONTROLS:{const t=function eY(n,e){const{min:i,max:l,hourStep:u,minuteStep:f,secondsStep:_,showSeconds:D}=e,S={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return S;if(l){const A=ul(n,{hour:u});if(S.canIncrementHours=l>A&&n.getHours()+u<24,!S.canIncrementHours){const R=ul(n,{minute:f});S.canIncrementMinutes=D?l>R:l>=R}if(!S.canIncrementMinutes){const R=ul(n,{seconds:_});S.canIncrementSeconds=l>=R}n.getHours()<12&&(S.canToggleMeridian=ul(n,{hour:12})<l)}if(i){const A=ul(n,{hour:-u});if(S.canDecrementHours=i<A,!S.canDecrementHours){const R=ul(n,{minute:-f});S.canDecrementMinutes=D?i<R:i<=R}if(!S.canDecrementMinutes){const R=ul(n,{seconds:-_});S.canDecrementSeconds=i<=R}n.getHours()>=12&&(S.canToggleMeridian=ul(n,{hour:-12})>i)}return S}(n.value,e.payload),r={value:n.value,config:e.payload,controls:t};return n.config.showMeridian!==r.config.showMeridian&&n.value&&(r.value=new Date(n.value)),Object.assign({},n,r)}default:return n}}let q1=(()=>{class n extends $1{constructor(){const t=new cr({type:"[mini-ngrx] dispatcher init"});super(t,nF,new HP(tF,t,nF))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const tY={provide:Cs,useExisting:(0,o.Gpc)(()=>wx),multi:!0};let wx=(()=>{class n{constructor(t,r,i,l){this._cd=r,this._store=i,this._timepickerActions=l,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new o.vpe,this.meridianChange=new o.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(u=>u.value).subscribe(u=>{this._renderTime(u),this.onChange(u),this._store.dispatch(this._timepickerActions.updateControls(XP(this)))}),i.select(u=>u.controls).subscribe(u=>{const f=QP(this.hours,this.minutes,this.seconds,this.isPM()),_=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||f;this.isValid.emit(_),Object.assign(this,u),r.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(XP(this)))}changeHours(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:r}))}changeMinutes(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:r}))}changeSeconds(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:r}))}updateHours(t){this.resetValidation(),this.hours=t.value;const r=zP(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const r=KP(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const r=JP(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function z6(n,e,t){const r=WP(new Date,n);return!(!r||e&&r>e||t&&r<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function K6(n,e,t){return 0===n.length||0===e.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=QP(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){yx(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(qP(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){var t;null===(t=this.timepickerSub)||void 0===t||t.unsubscribe()}_renderTime(t){if(!t||!yx(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const r=qP(t);if(!r)return;let l=r.getHours();this.showMeridian&&(this.meridian=this.meridians[l>=12?1:0],this.meridianChange.emit(this.meridian),l%=12,0===l&&(l=12)),this.hours=bx(l),this.minutes=bx(r.getMinutes()),this.seconds=bx(r.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(eF),o.Y36(o.sBO),o.Y36(q1),o.Y36(Ld))},n.\u0275cmp=o.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[o._Bn([tY,q1]),o.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,r){1&t&&(o.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),o.NdJ("click",function(){return r.changeHours(r.hourStep)}),o._UZ(5,"span",2),o.qZA()(),o.YNc(6,I6,2,0,"td",3),o.YNc(7,M6,3,2,"td",3),o.YNc(8,A6,2,0,"td",3),o.YNc(9,k6,3,2,"td",3),o.YNc(10,x6,2,0,"td",3),o.YNc(11,O6,1,0,"td",3),o.qZA(),o.TgZ(12,"tr")(13,"td",4)(14,"input",5),o.NdJ("wheel",function(l){return r.prevDef(l),r.changeHours(r.hourStep*r.wheelSign(l),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(l){return r.updateHours(l.target)}),o.qZA()(),o.YNc(15,N6,2,0,"td",3),o.YNc(16,L6,2,9,"td",6),o.YNc(17,R6,2,0,"td",3),o.YNc(18,P6,2,9,"td",6),o.YNc(19,F6,2,0,"td",3),o.YNc(20,V6,3,4,"td",3),o.qZA(),o.TgZ(21,"tr",0)(22,"td")(23,"a",1),o.NdJ("click",function(){return r.changeHours(-r.hourStep)}),o._UZ(24,"span",7),o.qZA()(),o.YNc(25,B6,2,0,"td",3),o.YNc(26,U6,3,2,"td",3),o.YNc(27,H6,2,0,"td",3),o.YNc(28,j6,3,2,"td",3),o.YNc(29,Y6,2,0,"td",3),o.YNc(30,$6,1,0,"td",3),o.qZA()()()),2&t&&(o.xp6(2),o.Q6J("hidden",!r.showSpinners),o.xp6(2),o.ekj("disabled",!r.canIncrementHours||!r.isEditable),o.xp6(2),o.Q6J("ngIf",r.showMinutes),o.xp6(1),o.Q6J("ngIf",r.showMinutes),o.xp6(1),o.Q6J("ngIf",r.showSeconds),o.xp6(1),o.Q6J("ngIf",r.showSeconds),o.xp6(1),o.Q6J("ngIf",r.showMeridian),o.xp6(1),o.Q6J("ngIf",r.showMeridian),o.xp6(2),o.ekj("has-error",r.invalidHours),o.xp6(1),o.ekj("is-invalid",r.invalidHours),o.Q6J("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),o.uIk("aria-label",r.labelHours),o.xp6(1),o.Q6J("ngIf",r.showMinutes),o.xp6(1),o.Q6J("ngIf",r.showMinutes),o.xp6(1),o.Q6J("ngIf",r.showSeconds),o.xp6(1),o.Q6J("ngIf",r.showSeconds),o.xp6(1),o.Q6J("ngIf",r.showMeridian),o.xp6(1),o.Q6J("ngIf",r.showMeridian),o.xp6(1),o.Q6J("hidden",!r.showSpinners),o.xp6(2),o.ekj("disabled",!r.canDecrementHours||!r.isEditable),o.xp6(2),o.Q6J("ngIf",r.showMinutes),o.xp6(1),o.Q6J("ngIf",r.showMinutes),o.xp6(1),o.Q6J("ngIf",r.showSeconds),o.xp6(1),o.Q6J("ngIf",r.showSeconds),o.xp6(1),o.Q6J("ngIf",r.showMeridian),o.xp6(1),o.Q6J("ngIf",r.showMeridian))},directives:[Qt],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),nY=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Ld,q1]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[q1],imports:[[Bt]]}),n})();function rY(n,e){1&n&&o._UZ(0,"bs-current-date",4)}function iY(n,e){1&n&&o._UZ(0,"bs-timepicker")}const sY=[[["bs-datepicker-navigation-view"]],"*"],oY=["bs-datepicker-navigation-view","*"];function aY(n,e){if(1&n){const t=o.EpF();o.ynx(0),o._uU(1," \u200b "),o.TgZ(2,"button",2),o.NdJ("click",function(){return o.CHM(t),o.oxw().view("month")}),o.TgZ(3,"span"),o._uU(4),o.qZA()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(4),o.Oqu(t.calendar.monthTitle)}}const lY=["bsDatepickerDayDecorator",""];function cY(n,e){1&n&&o._UZ(0,"th")}function uY(n,e){if(1&n&&(o.TgZ(0,"th",5),o._uU(1),o.qZA()),2&n){const t=e.index,r=o.oxw();o.xp6(1),o.hij("",r.calendar.weekdays[t]," ")}}function dY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2).$implicit;return o.oxw().selectWeek(i)}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw(2).index,r=o.oxw();o.xp6(1),o.Oqu(r.calendar.weekNumbers[t])}}function hY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2).$implicit;return o.oxw().selectWeek(i)})("mouseenter",function(){o.CHM(t);const i=o.oxw(2).$implicit;return o.oxw().weekHoverHandler(i,!0)})("mouseleave",function(){o.CHM(t);const i=o.oxw(2).$implicit;return o.oxw().weekHoverHandler(i,!1)}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw(2).index,r=o.oxw();o.xp6(1),o.Oqu(r.calendar.weekNumbers[t])}}function fY(n,e){if(1&n&&(o.TgZ(0,"td",8),o.YNc(1,dY,2,1,"span",9),o.YNc(2,hY,2,1,"span",10),o.qZA()),2&n){const t=o.oxw(2);o.ekj("active-week",t.isWeekHovered),o.xp6(1),o.Q6J("ngIf",t.isiOS),o.xp6(1),o.Q6J("ngIf",!t.isiOS)}}function pY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).selectDay(i)})("mouseenter",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).hoverDay(i,!0)})("mouseleave",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).hoverDay(i,!1)}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw().$implicit;o.s9C("tooltip",t.tooltipText),o.Q6J("day",t),o.xp6(1),o.hij("",t.label," 3")}}function mY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).selectDay(i)})("mouseenter",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).hoverDay(i,!0)})("mouseleave",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).hoverDay(i,!1)}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw().$implicit;o.Q6J("day",t),o.xp6(1),o.hij("",t.label," 2")}}function gY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",19),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).selectDay(i)}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw().$implicit;o.Q6J("day",t),o.xp6(1),o.hij("",t.label," 1")}}function _Y(n,e){if(1&n&&(o.TgZ(0,"td",13),o.YNc(1,pY,2,3,"span",14),o.YNc(2,mY,2,2,"span",15),o.YNc(3,gY,2,2,"span",16),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),o.xp6(1),o.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),o.xp6(1),o.Q6J("ngIf",t.isiOS)}}function yY(n,e){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,fY,3,4,"td",6),o.YNc(2,_Y,4,3,"td",7),o.qZA()),2&n){const t=e.$implicit,r=o.oxw();o.xp6(1),o.Q6J("ngIf",r.options&&r.options.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",t.days)}}function vY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw(2).viewMonth(l)})("mouseenter",function(){const l=o.CHM(t).$implicit;return o.oxw(2).hoverMonth(l,!0)})("mouseleave",function(){const l=o.CHM(t).$implicit;return o.oxw(2).hoverMonth(l,!1)}),o.TgZ(1,"span"),o._uU(2),o.qZA()()}if(2&n){const t=e.$implicit;o.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),o.xp6(1),o.ekj("selected",t.isSelected),o.xp6(1),o.Oqu(t.label)}}function bY(n,e){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,vY,3,7,"td",3),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("ngForOf",t)}}function wY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw(2).viewYear(l)})("mouseenter",function(){const l=o.CHM(t).$implicit;return o.oxw(2).hoverYear(l,!0)})("mouseleave",function(){const l=o.CHM(t).$implicit;return o.oxw(2).hoverYear(l,!1)}),o.TgZ(1,"span"),o._uU(2),o.qZA()()}if(2&n){const t=e.$implicit;o.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),o.xp6(1),o.ekj("selected",t.isSelected),o.xp6(1),o.Oqu(t.label)}}function DY(n,e){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,wY,3,7,"td",3),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("ngForOf",t)}}function CY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw().selectFromRanges(l)}),o._uU(1),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw();o.ekj("selected",t.value===r.selectedRange),o.xp6(1),o.hij(" ",t.label," ")}}const rF=["startTP"];function TY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-days-calendar-view",11),o.NdJ("onNavigate",function(i){return o.CHM(t),o.oxw(3).navigateTo(i)})("onViewMode",function(i){return o.CHM(t),o.oxw(3).setViewMode(i)})("onHover",function(i){return o.CHM(t),o.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return o.CHM(t),o.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return o.CHM(t),o.oxw(3).daySelectHandler(i)}),o.ALo(1,"async"),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw(3);o.ekj("bs-datepicker-multiple",r.multipleCalendars),o.Q6J("calendar",t)("options",o.lcZ(1,4,r.options$))}}function EY(n,e){1&n&&o._UZ(0,"timepicker",null,15)}function SY(n,e){if(1&n&&(o.TgZ(0,"div",12),o._UZ(1,"timepicker",null,13),o.YNc(3,EY,2,0,"timepicker",14),o.qZA()),2&n){const t=o.oxw(3);o.xp6(3),o.Q6J("ngIf",t.isRangePicker)}}function IY(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",8),o.YNc(2,TY,2,6,"bs-days-calendar-view",9),o.ALo(3,"async"),o.qZA(),o.YNc(4,SY,4,1,"div",10),o.BQk()),2&n){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,2,t.daysCalendar$)),o.xp6(2),o.Q6J("ngIf",t.withTimepicker)}}function MY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-month-calendar-view",17),o.NdJ("onNavigate",function(i){return o.CHM(t),o.oxw(3).navigateTo(i)})("onViewMode",function(i){return o.CHM(t),o.oxw(3).setViewMode(i)})("onHover",function(i){return o.CHM(t),o.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return o.CHM(t),o.oxw(3).monthSelectHandler(i)}),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw(3);o.ekj("bs-datepicker-multiple",r.multipleCalendars),o.Q6J("calendar",t)}}function AY(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,MY,1,3,"bs-month-calendar-view",16),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.monthsCalendar))}}function kY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-years-calendar-view",17),o.NdJ("onNavigate",function(i){return o.CHM(t),o.oxw(3).navigateTo(i)})("onViewMode",function(i){return o.CHM(t),o.oxw(3).setViewMode(i)})("onHover",function(i){return o.CHM(t),o.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return o.CHM(t),o.oxw(3).yearSelectHandler(i)}),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw(3);o.ekj("bs-datepicker-multiple",r.multipleCalendars),o.Q6J("calendar",t)}}function xY(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,kY,1,3,"bs-years-calendar-view",16),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.yearsCalendar))}}function OY(n,e){1&n&&(o.TgZ(0,"div",18)(1,"button",19),o._uU(2,"Apply"),o.qZA(),o.TgZ(3,"button",20),o._uU(4,"Cancel"),o.qZA()())}function NY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",23)(1,"button",24),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).setToday()}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),o.xp6(2),o.Oqu(t.todayBtnLbl)}}function LY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",25)(1,"button",24),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).clearDate()}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),o.xp6(2),o.Oqu(t.clearBtnLbl)}}function RY(n,e){if(1&n&&(o.TgZ(0,"div",18),o.YNc(1,NY,3,7,"div",21),o.YNc(2,LY,3,7,"div",22),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.showTodayBtn),o.xp6(1),o.Q6J("ngIf",t.showClearBtn)}}function PY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"bs-custom-date-view",27),o.NdJ("onSelect",function(i){return o.CHM(t),o.oxw(2).setRangeOnCalendar(i)}),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function FY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",2),o.NdJ("@datepickerAnimation.done",function(){return o.CHM(t),o.oxw().positionServiceEnable()}),o.TgZ(2,"div",3),o.ALo(3,"async"),o.YNc(4,IY,5,4,"ng-container",4),o.YNc(5,AY,3,3,"div",5),o.YNc(6,xY,3,3,"div",5),o.qZA(),o.YNc(7,OY,5,0,"div",6),o.YNc(8,RY,3,2,"div",6),o.qZA(),o.YNc(9,PY,2,3,"div",7),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",t.containerClass),o.xp6(1),o.Q6J("@datepickerAnimation",t.animationState),o.xp6(1),o.Q6J("ngSwitch",o.lcZ(3,9,t.viewMode)),o.xp6(2),o.Q6J("ngSwitchCase","day"),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(1),o.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),o.xp6(1),o.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const JY=["endTP"];function QY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-days-calendar-view",11),o.NdJ("onNavigate",function(i){return o.CHM(t),o.oxw(3).navigateTo(i)})("onViewMode",function(i){return o.CHM(t),o.oxw(3).setViewMode(i)})("onHover",function(i){return o.CHM(t),o.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return o.CHM(t),o.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return o.CHM(t),o.oxw(3).daySelectHandler(i)}),o.ALo(1,"async"),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw(3);o.ekj("bs-datepicker-multiple",r.multipleCalendars),o.Q6J("calendar",t)("options",o.lcZ(1,4,r.options$))}}function XY(n,e){1&n&&o._UZ(0,"timepicker",null,15)}function e5(n,e){if(1&n&&(o.TgZ(0,"div",12),o._UZ(1,"timepicker",null,13),o.YNc(3,XY,2,0,"timepicker",14),o.qZA()),2&n){const t=o.oxw(3);o.xp6(3),o.Q6J("ngIf",t.isRangePicker)}}function t5(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",8),o.YNc(2,QY,2,6,"bs-days-calendar-view",9),o.ALo(3,"async"),o.qZA(),o.YNc(4,e5,4,1,"div",10),o.BQk()),2&n){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,2,t.daysCalendar$)),o.xp6(2),o.Q6J("ngIf",t.withTimepicker)}}function n5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-month-calendar-view",17),o.NdJ("onNavigate",function(i){return o.CHM(t),o.oxw(3).navigateTo(i)})("onViewMode",function(i){return o.CHM(t),o.oxw(3).setViewMode(i)})("onHover",function(i){return o.CHM(t),o.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return o.CHM(t),o.oxw(3).monthSelectHandler(i)}),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw(3);o.ekj("bs-datepicker-multiple",r.multipleCalendars),o.Q6J("calendar",t)}}function r5(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,n5,1,3,"bs-month-calendar-view",16),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.monthsCalendar))}}function s5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-years-calendar-view",17),o.NdJ("onNavigate",function(i){return o.CHM(t),o.oxw(3).navigateTo(i)})("onViewMode",function(i){return o.CHM(t),o.oxw(3).setViewMode(i)})("onHover",function(i){return o.CHM(t),o.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return o.CHM(t),o.oxw(3).yearSelectHandler(i)}),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw(3);o.ekj("bs-datepicker-multiple",r.multipleCalendars),o.Q6J("calendar",t)}}function o5(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,s5,1,3,"bs-years-calendar-view",16),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.yearsCalendar))}}function a5(n,e){1&n&&(o.TgZ(0,"div",18)(1,"button",19),o._uU(2,"Apply"),o.qZA(),o.TgZ(3,"button",20),o._uU(4,"Cancel"),o.qZA()())}function l5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",23)(1,"button",24),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).setToday()}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),o.xp6(2),o.Oqu(t.todayBtnLbl)}}function c5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",25)(1,"button",24),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).clearDate()}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),o.xp6(2),o.Oqu(t.clearBtnLbl)}}function u5(n,e){if(1&n&&(o.TgZ(0,"div",18),o.YNc(1,l5,3,7,"div",21),o.YNc(2,c5,3,7,"div",22),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.showTodayBtn),o.xp6(1),o.Q6J("ngIf",t.showClearBtn)}}function d5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"bs-custom-date-view",27),o.NdJ("onSelect",function(i){return o.CHM(t),o.oxw(2).setRangeOnCalendar(i)}),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function h5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",2),o.NdJ("@datepickerAnimation.done",function(){return o.CHM(t),o.oxw().positionServiceEnable()}),o.TgZ(2,"div",3),o.ALo(3,"async"),o.YNc(4,t5,5,4,"ng-container",4),o.YNc(5,r5,3,3,"div",5),o.YNc(6,o5,3,3,"div",5),o.qZA(),o.YNc(7,a5,5,0,"div",6),o.YNc(8,u5,3,2,"div",6),o.qZA(),o.YNc(9,d5,2,3,"div",7),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",t.containerClass),o.xp6(1),o.Q6J("@datepickerAnimation",t.animationState),o.xp6(1),o.Q6J("ngSwitch",o.lcZ(3,9,t.viewMode)),o.xp6(2),o.Q6J("ngSwitchCase","day"),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(1),o.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),o.xp6(1),o.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let Rd=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iF="220ms cubic-bezier(0, 0, 0.2, 1)",sF=function _6(n,e){return{type:7,name:n,definitions:e,options:{}}}("datepickerAnimation",[VP("animated-down",Pf({height:"*",overflow:"hidden"})),mx("* => animated-down",[Pf({height:0,overflow:"hidden"}),Y1(iF)]),VP("animated-up",Pf({height:"*",overflow:"hidden"})),mx("* => animated-up",[Pf({height:"*",overflow:"hidden"}),Y1(iF)]),mx("* => unanimated",Y1("0s"))]);class oF{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new Ui.w0,this.selectedTimeSub=new Ui.w0}set minDate(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}set maxDate(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}set daysDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}set datesDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}set datesEnabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}set isDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}set dateCustomClasses(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}set dateTooltipTexts(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}let gi=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,r){return{type:n.SELECT_TIME,payload:{date:t,index:r}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),W1=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new cr(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),hD=(()=>{class n{constructor(t,r){this._actions=t,this._localeService=r,this._subs=[]}init(t){return this._store=t,this}setValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.select(t))}setRangeValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.selectRange(t))}setMinDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.minDate(t)),this}setMaxDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){var r;const i=Object.assign({locale:this._localeService.currentLocale},t);return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(r=>r.selectedTime).pipe(xn(r=>!!r)),t.daysCalendar$=this._store.select(r=>r.flaggedMonths).pipe(xn(r=>!!r)),t.monthsCalendar=this._store.select(r=>r.flaggedMonthsCalendar).pipe(xn(r=>!!r)),t.yearsCalendar=this._store.select(r=>r.yearsCalendarFlagged).pipe(xn(r=>!!r)),t.viewMode=this._store.select(r=>{var i;return null===(i=r.view)||void 0===i?void 0:i.mode}),t.options$=fa([this._store.select(r=>r.showWeekNumbers),this._store.select(r=>r.displayMonths)]).pipe((0,Ct.U)(r=>({showWeekNumbers:r[0],displayMonths:r[1]}))),this):this}setEventHandlers(t){return t.setViewMode=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.changeViewMode(r))},t.navigateTo=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.navigateStep(r.step))},t.dayHoverHandler=r=>{var i;const l=r.cell;l.isOtherMonth||l.isDisabled||(null===(i=this._store)||void 0===i||i.dispatch(this._actions.hoverDay(r)),l.isHovered=r.isHovered)},t.monthHoverHandler=r=>{r.cell.isHovered=r.isHovered},t.yearHoverHandler=r=>{r.cell.isHovered=r.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.format())})),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedDate).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedRange).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(t=>{var r;return null===(r=this._store)||void 0===r?void 0:r.dispatch(this._actions.setLocale(t))})),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(gi),o.LFG(W1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const M5={date:new Date,mode:"day"},aF=Object.assign(new Rd,{locale:"en",view:M5,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function Dx(n,e,t){const r=e&&ou(R1(n,"month"),e,"day"),i=t&&Zl(Od(n,"month"),t,"day");return r||i||!1}function fD(n,e,t){const r=e&&ou(R1(n,"year"),e,"day"),i=t&&Zl(Od(n,"year"),t,"day");return r||i||!1}function Cx(n,e,t){return!!(e&&Dr(e)&&e.length)&&(t&&"year"===t&&!e[0].getDate()?e.some(r=>mv(n,r,"year")):e.some(r=>mv(n,r,"date")))}function Tx(n,e,t){return!!(e&&Dr(e)&&e.length)&&!e.some(r=>mv(n,r,t||"date"))}function lF(n,e=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[e];return(null==t?void 0:t.years[0])&&t.years[0][0]&&t.years[0][0].date}function x5(n,e){return!n||!e||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=uF(t.value,e)),n)),n}function cF(n,e){return!n||!e||n instanceof Array&&!n.length||n instanceof Date?n:uF(n,e)}function uF(n,e){return n instanceof Array?n.map(r=>r&&(Zl(r,e,"date")&&(r=e),r)):n}function dF(n){return n&&fF(n)}function hF(n){return(null==n?void 0:n.length)&&n.map(e=>e&&fF(e)),n}function fF(n){const e=new Date;return n.setMilliseconds(e.getMilliseconds()),n.setSeconds(e.getSeconds()),n.setMinutes(e.getMinutes()),n.setHours(e.getHours()),n}function Ex(n,e){let t=n.initialDate;const r=new Array(n.height);for(let i=0;i<n.height;i++){r[i]=new Array(n.width);for(let l=0;l<n.width;l++)r[i][l]=e(t),t=Ji(t,n.shift)}return r}function Sx(n,e){const t=function hH(n){return I1(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),r=function A5(n,e){if(function pH(n,e){return n.getDay()===Number(e)}(n,e.firstDayOfWeek))return n;const r=function k5(n,e){const t=Number(e);if(isNaN(t))return 0;if(0===t)return n;const r=n-t%7;return r<0?r+7:r}(iu(n),e.firstDayOfWeek);return Ji(n,{day:-r})}(t,e);return{daysMatrix:Ex({width:e.width||0,height:e.height||0,initialDate:r,shift:{day:1}},u=>u),month:t}}function N5(n,e,t){return n.map(r=>r[0]?nl(r[0],e,t):"")}function L5(n){const e=xi(n),t=e.weekdaysShort(),r=e.firstDayOfWeek();return[...t.slice(r),...t.slice(0,r)]}function pF(n,e){return!e||n>=e}const B5={month:1};function mF(n,e){return{months:Ex({width:3,height:4,initialDate:Od(n,"year"),shift:B5},l=>({date:l,label:nl(l,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:nl(n,e.yearTitle,e.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const gF=-1*(Math.floor(8)-1),H5={year:1};function _F(n,e,t){const r=function j5(n,e){return e&&n.getFullYear()>=e.getFullYear()&&n.getFullYear()<e.getFullYear()+16?e:Ji(n,{year:gF})}(n,t),l=Ex({width:4,height:4,initialDate:r,shift:H5},f=>({date:f,label:nl(f,e.yearLabel,e.locale)})),u=function Y5(n,e){return`${nl(n[0][0].date,e.yearTitle,e.locale)} - ${nl(n[3][3].date,e.yearTitle,e.locale)}`}(l,e);return{years:l,monthTitle:"",yearTitle:u,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Ax(n,e){!n||!isNaN(n.getTime())||(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds()),n.setMilliseconds(e.getMilliseconds()))}function yF(n=aF,e){var t;switch(e.type){case gi.CALCULATE:return function G5(n){if(!n.view)return n;let e;e=n.displayOneMonthRange&&vF(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=Ji(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=xi(n.locale).firstDayOfWeek();let r=new Array(e);for(let i=0;i<e;i++)r[i]=Sx(t,n.monthViewOptions),t=Ji(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const i=Sx(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===i.month.getMonth()&&(r=n.flaggedMonths.map(l=>n.monthViewOptions?Sx(l.month,n.monthViewOptions):null).filter(l=>null!==l))}return Object.assign({},n,{monthsModel:r})}if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=mF(t,pD(n)),t=Ji(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=_F(t,pD(n),"year"===n.minMode?lF(n,i):void 0),t=Ji(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case gi.FORMAT:return function Z5(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const r=n.monthsModel.map((i,l)=>function O5(n,e,t){return{month:n.month,monthTitle:nl(n.month,e.monthTitle,e.locale),yearTitle:nl(n.month,e.yearTitle,e.locale),weekNumbers:N5(n.daysMatrix,e.weekNumbers,e.locale),weekdays:L5(e.locale),weeks:n.daysMatrix.map((r,i)=>({days:r.map((l,u)=>({date:l,label:nl(l,e.dayLabel,e.locale),monthIndex:t,weekIndex:i,dayIndex:u}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(i,pD(n),l));return Object.assign({},n,{formattedMonths:r})}const e=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=mF(t,pD(n)),t=Ji(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=_F(t,pD(n)),t=Ji(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case gi.FLAG:return function q5(n){if(!n.view)return n;const e=vF(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((r,i)=>function R5(n,e){return n.weeks.forEach(t=>{t.days.forEach((r,i)=>{const l=!uv(r.date,n.month),u=!l&&Of(r.date,e.hoveredDate),f=!l&&e.selectedRange&&Of(r.date,e.selectedRange[0]),_=!l&&e.selectedRange&&Of(r.date,e.selectedRange[1]),D=!l&&Of(r.date,e.selectedDate)||f||_,S=!l&&e.selectedRange&&function P5(n,e,t){return!!(n&&e&&e[0])&&(e[1]?n>e[0]&&n<=e[1]:!!t&&n>e[0]&&n<=t)}(r.date,e.selectedRange,e.hoveredDate),A=e.isDisabled||ou(r.date,e.minDate,"day")||Zl(r.date,e.maxDate,"day")||function Pj(n,e){return!(void 0===e||!e||!e.length)&&e.some(t=>t===n.getDay())}(r.date,e.daysDisabled)||Cx(r.date,e.datesDisabled)||Tx(r.date,e.datesEnabled),R=new Date,B=!l&&Of(r.date,R),$=e.dateCustomClasses&&e.dateCustomClasses.map(Ve=>Of(r.date,Ve.date)?Ve.classes:[]).reduce((Ve,Oe)=>Ve.concat(Oe),[]).join(" ")||"",ee=e.dateTooltipTexts&&e.dateTooltipTexts.map(Ve=>Of(r.date,Ve.date)?Ve.tooltipText:"").reduce((Ve,Oe)=>(Ve.push(Oe),Ve),[]).join(" ")||"",_e=Object.assign({},r,{isOtherMonth:l,isHovered:u,isSelected:D,isSelectionStart:f,isSelectionEnd:_,isInRange:S,isDisabled:A,isToday:B,customClasses:$,tooltipText:ee});(r.isOtherMonth!==_e.isOtherMonth||r.isHovered!==_e.isHovered||r.isSelected!==_e.isSelected||r.isSelectionStart!==_e.isSelectionStart||r.isSelectionEnd!==_e.isSelectionEnd||r.isDisabled!==_e.isDisabled||r.isInRange!==_e.isInRange||r.customClasses!==_e.customClasses||r.tooltipText!==_e.tooltipText)&&(t.days[i]=_e)})}),n.hideLeftArrow=e.isDisabled||!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=e.isDisabled||(!!e.monthIndex||0===e.monthIndex)&&!!e.displayMonths&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=Dx(Ji(n.month,{month:-1}),e.minDate,e.maxDate),n.disableRightArrow=Dx(Ji(n.month,{month:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:e,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:i}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((r,i)=>function U5(n,e){return n.months.forEach((t,r)=>{t.forEach((i,l)=>{let u;const f=uv(i.date,e.hoveredMonth),_=e.isDisabled||Cx(i.date,e.datesDisabled)||Tx(i.date,e.datesEnabled,"month")||Dx(i.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(u=uv(i.date,e.selectedRange[0]),u||(u=uv(i.date,e.selectedRange[1]))):u=uv(i.date,e.selectedDate);const D=Object.assign(i,{isHovered:f,isDisabled:_,isSelected:u});(i.isHovered!==D.isHovered||i.isDisabled!==D.isDisabled||i.isSelected!==D.isSelected)&&(n.months[r][l]=D)})}),n.hideLeftArrow=!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=(!!e.monthIndex||0===e.monthIndex)&&(!!e.displayMonths||0===e.displayMonths)&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=fD(Ji(n.months[0][0].date,{year:-1}),e.minDate,e.maxDate),n.disableRightArrow=fD(Ji(n.months[0][0].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,monthIndex:i}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((r,i)=>function $5(n,e){n.years.forEach((i,l)=>{i.forEach((u,f)=>{let _;const D=dv(u.date,e.hoveredYear),S=e.isDisabled||Cx(u.date,e.datesDisabled,"year")||Tx(u.date,e.datesEnabled,"year")||fD(u.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(_=dv(u.date,e.selectedRange[0]),_||(_=dv(u.date,e.selectedRange[1]))):_=dv(u.date,e.selectedDate);const A=Object.assign(u,{isHovered:D,isDisabled:S,isSelected:_});(u.isHovered!==A.isHovered||u.isDisabled!==A.isDisabled||u.isSelected!==A.isSelected)&&(n.years[l][f]=A)})}),n.hideLeftArrow=!!e.yearIndex&&e.yearIndex>0&&e.yearIndex!==e.displayMonths,n.hideRightArrow=!!e.yearIndex&&!!e.displayMonths&&e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,n.disableLeftArrow=fD(Ji(n.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const t=n.years.length-1;return n.disableRightArrow=fD(Ji(n.years[t][n.years[t].length-1].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,yearIndex:i}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case gi.NAVIGATE_OFFSET:return function W5(n,e){if(!n.view)return n;const t=function z5(n,e){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=lF(n,0);if(t){const r=Ji(t,{year:-gF});return Ji(r,e.payload)}}return Ji(Od(n.view.date,"month"),e.payload)}}(n,e);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}(n,e);case gi.NAVIGATE_TO:{const r=e.payload;if(!n.view||!r.unit)return n;const i=function IH(n,e){return I1(hv(n.getFullYear(),e.year),hv(n.getMonth(),e.month),1,hv(n.getHours(),e.hour),hv(n.getMinutes(),e.minute),hv(n.getSeconds(),e.seconds),hv(n.getMilliseconds(),e.milliseconds))}(n.view.date,r.unit);let l,u;return pF(r.viewMode,n.minMode)?(u=r.viewMode,l={view:{date:i,mode:u}}):(u=n.view.mode,l={selectedDate:i,view:{date:i,mode:u}}),Object.assign({},n,l)}case gi.CHANGE_VIEWMODE:return pF(e.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:e.payload}}):n;case gi.HOVER:return Object.assign({},n,{hoveredDate:e.payload});case gi.SELECT:{if(!n.view)return n;const r={selectedDate:e.payload,view:n.view};if(Array.isArray(n.selectedTime)){const f=n.selectedTime[0];r.selectedDate&&f&&Ax(r.selectedDate,f)}const i=n.view.mode,u=kx(e.payload||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:u},Object.assign({},n,r)}case gi.SELECT_TIME:{const{date:r,index:i}=e.payload,l=n.selectedTime?[...n.selectedTime]:[];return l[i]=r,Object.assign({},n,{selectedTime:l})}case gi.SET_OPTIONS:{if(!n.view)return n;const r=e.payload,i=r.minMode?r.minMode:n.view.mode,u=kx(xf(r.value)&&r.value||Dr(r.value)&&xf(r.value[0])&&r.value[0]||n.view.date,r.minDate,r.maxDate);return r.view={mode:i,date:u},r.value&&(Dr(r.value)&&(r.selectedRange=r.value,r.selectedTime=r.value.map(f=>f)),r.value instanceof Date&&(r.selectedDate=r.value,r.selectedTime=[r.value])),Object.assign({},n,r)}case gi.SELECT_RANGE:{if(!n.view)return n;const r={selectedRange:e.payload,view:n.view};null===(t=r.selectedRange)||void 0===t||t.forEach((f,_)=>{if(Array.isArray(n.selectedTime)){const D=n.selectedTime[_];D&&Ax(f,D)}});const i=n.view.mode,u=kx(e.payload&&e.payload[0]||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:u},Object.assign({},n,r)}case gi.SET_MIN_DATE:return Object.assign({},n,{minDate:e.payload});case gi.SET_MAX_DATE:return Object.assign({},n,{maxDate:e.payload});case gi.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:e.payload});case gi.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:e.payload});case gi.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:e.payload});default:return n}}function pD(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function kx(n,e,t){const r=Array.isArray(n)?n[0]:n;return e&&Zl(e,r,"day")?e:t&&ou(t,r,"day")?t:r}function vF(n,e,t){return!(!t||!mv(t,n,"day"))||e&&t&&e.getMonth()===t.getMonth()}let mD=(()=>{class n extends $1{constructor(){const t=new cr({type:"[datepicker] dispatcher init"});super(t,yF,new HP(aF,t,yF))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();var Ff=(()=>(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN"}(Ff||(Ff={})),Ff))();let K5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"span"),o._uU(2),o.qZA()()),2&t&&(o.xp6(2),o.Oqu(r.title))},encapsulation:2}),n})(),J5=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o._uU(3,"-"),o.qZA(),o._UZ(4,"input",3),o.TgZ(5,"button",4),o._uU(6,"+"),o.qZA()(),o.TgZ(7,"div",1)(8,"button",2),o._uU(9,"-"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"button",4),o._uU(12,"+"),o.qZA()(),o.TgZ(13,"button",5),o._uU(14),o._UZ(15,"img",6),o.qZA()()),2&t&&(o.xp6(4),o.Q6J("value",r.hours),o.xp6(6),o.Q6J("value",r.minutes),o.xp6(4),o.hij("",r.ampm," "))},encapsulation:2}),n})(),xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:oY,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,r){1&t&&(o.F$t(sY),o.YNc(0,rY,1,0,"bs-current-date",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.TgZ(3,"div",2),o.Hsn(4,1),o.qZA(),o.YNc(5,iY,1,0,"bs-timepicker",3)),2&t&&(o.Q6J("ngIf",!1),o.xp6(5),o.Q6J("ngIf",!1))},directives:[K5,J5,Qt],encapsulation:2}),n})(),Ox=(()=>{class n{constructor(){this.onNavigate=new o.vpe,this.onViewMode=new o.vpe}navTo(t){this.onNavigate.emit(t?Ff.DOWN:Ff.UP)}view(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,r){1&t&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return r.navTo(!0)}),o.TgZ(1,"span"),o._uU(2,"\u2039"),o.qZA()(),o.YNc(3,aY,5,1,"ng-container",1),o._uU(4," \u200b "),o.TgZ(5,"button",2),o.NdJ("click",function(){return r.view("year")}),o.TgZ(6,"span"),o._uU(7),o.qZA()(),o._uU(8," \u200b "),o.TgZ(9,"button",3),o.NdJ("click",function(){return r.navTo(!1)}),o.TgZ(10,"span"),o._uU(11,"\u203a"),o.qZA()()),2&t&&(o.Udp("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),o.Q6J("disabled",r.calendar.disableLeftArrow),o.xp6(3),o.Q6J("ngIf",r.calendar&&r.calendar.monthTitle),o.xp6(4),o.Oqu(r.calendar.yearTitle),o.xp6(2),o.Udp("visibility",r.calendar.hideRightArrow?"hidden":"visible"),o.Q6J("disabled",r.calendar.disableRightArrow))},directives:[Qt],encapsulation:2,changeDetection:0}),n})(),Q5=(()=>{class n{constructor(t,r,i){this._config=t,this._elRef=r,this._renderer=i,this.day={date:new Date,label:""}}ngOnInit(){var t,r,i;(null===(t=this.day)||void 0===t?void 0:t.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(r=this.day)||void 0===r?void 0:r.customClasses)&&(null===(i=this.day)||void 0===i||i.customClasses.split(" ").filter(l=>l).forEach(l=>{this._renderer.addClass(this._elRef.nativeElement,l)}))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rd),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,r){2&t&&o.ekj("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:lY,decls:1,vars:1,template:function(t,r){1&t&&o._uU(0),2&t&&o.Oqu(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0}),n})(),bF=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new o.vpe,this.onViewMode=new o.vpe,this.onSelect=new o.vpe,this.onHover=new o.vpe,this.onHoverWeek=new o.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:Ff.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const r=t.days.find(i=>(this._config.selectFromOtherMonth||!i.isOtherMonth)&&!i.isDisabled);if(this.onSelect.emit(r),this._config.selectWeekDateRange){const l=t.days.slice(0).reverse().find(u=>(this._config.selectFromOtherMonth||!u.isOtherMonth)&&!u.isDisabled);this.onSelect.emit(l)}}weekHoverHandler(t,r){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(l=>(this._config.selectFromOtherMonth||!l.isOtherMonth)&&!l.isDisabled)&&(t.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(t))}hoverDay(t,r){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(i=>{Of(i.date,t.date)&&(t.tooltipText=i.tooltipText)})),this.onHover.emit({cell:t,isHovered:r})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,r){1&t&&(o.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),o.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),o.qZA(),o.TgZ(2,"table",1)(3,"thead")(4,"tr"),o.YNc(5,cY,1,0,"th",2),o.YNc(6,uY,2,1,"th",3),o.qZA()(),o.TgZ(7,"tbody"),o.YNc(8,yY,3,2,"tr",4),o.qZA()()()),2&t&&(o.xp6(1),o.Q6J("calendar",r.calendar),o.xp6(4),o.Q6J("ngIf",r.options&&r.options.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",r.calendar.weekdays),o.xp6(2),o.Q6J("ngForOf",r.calendar.weeks))},directives:[xx,Ox,Q5,Qt,rn,E6],encapsulation:2}),n})(),wF=(()=>{class n{constructor(){this.onNavigate=new o.vpe,this.onViewMode=new o.vpe,this.onSelect=new o.vpe,this.onHover=new o.vpe}navigateTo(t){this.onNavigate.emit({step:{year:Ff.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(o.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),o.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),o.qZA(),o.TgZ(2,"table",1)(3,"tbody"),o.YNc(4,bY,2,1,"tr",2),o.qZA()()()),2&t&&(o.xp6(1),o.Q6J("calendar",r.calendar),o.xp6(3),o.Q6J("ngForOf",null==r.calendar?null:r.calendar.months))},directives:[xx,Ox,rn],encapsulation:2}),n})(),DF=(()=>{class n{constructor(){this.onNavigate=new o.vpe,this.onViewMode=new o.vpe,this.onSelect=new o.vpe,this.onHover=new o.vpe}navigateTo(t){this.onNavigate.emit({step:{year:16*(Ff.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(o.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),o.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),o.qZA(),o.TgZ(2,"table",1)(3,"tbody"),o.YNc(4,DY,2,1,"tr",2),o.qZA()()()),2&t&&(o.xp6(1),o.Q6J("calendar",r.calendar),o.xp6(3),o.Q6J("ngForOf",null==r.calendar?null:r.calendar.years))},directives:[xx,Ox,rn],encapsulation:2}),n})(),CF=(()=>{class n{constructor(){this.onSelect=new o.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,CY,2,3,"button",1),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",r.ranges))},directives:[rn],encapsulation:2,changeDetection:0}),n})(),X5=(()=>{class n extends oF{constructor(t,r,i,l,u,f,_){super(),this._config=r,this._store=i,this._element=l,this._actions=u,this._positionService=_,this.valueChange=new o.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=f,t.setStyle(l.nativeElement,"display","block"),t.setStyle(l.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Ws.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>this.valueChange.emit(i))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){var t,r;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(i=>{var l;Array.isArray(i)&&i.length>=1&&(null===(l=this.startTimepicker)||void 0===l||l.writeValue(i[0]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(i=>{this.timeSelectHandler(i,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:cn(t.date),year:Ar(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Ar(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(Rd),o.Y36(mD),o.Y36(o.SBq),o.Y36(gi),o.Y36(hD),o.Y36(Fl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,r){if(1&t&&o.Gf(rF,5),2&t){let i;o.iGM(i=o.CRH())&&(r.startTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&o.NdJ("click",function(l){return r._stopPropagation(l)})},features:[o._Bn([mD,hD]),o.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(o.YNc(0,FY,10,11,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.viewMode))},directives:[bF,wx,wF,DF,CF,Qt,_s,yi,ri,rn],pipes:[Vn],encapsulation:2,data:{animation:[sF]}}),n})(),e$=(()=>{class n{constructor(t,r,i,l,u){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Bn.x,this.isDisabled=!1,this.bsValueChange=new o.vpe,this._subs=[],this._dateInputFormat$=new Bn.x,Object.assign(this,this._config),this._datepicker=u.createLoader(r,l,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new cr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue||!t||this._config.withTimepicker||Ax(t,new Date),t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=dF(t)),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,l,u;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(l=t.bsConfig.previousValue)||void 0===l?void 0:l.initCurrentTime)&&this._bsValue&&(this._bsValue=dF(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&((null===(u=this._elementRef)||void 0===u?void 0:u.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe(xn(t=>t!==this.isOpen),LR(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Rd,useValue:this._config}).attach(X5).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:cF(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rd),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.s_b),o.Y36(zo))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[o.TTD]}),n})(),t$=(()=>{class n extends oF{constructor(t,r,i,l,u,f,_){super(),this._config=r,this._store=i,this._element=l,this._actions=u,this._positionService=_,this.valueChange=new o.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=f,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(l.nativeElement,"display","block"),t.setStyle(l.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setRangeValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Ws.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{this.valueChange.emit(i),this.chosenRange=i||[]}))}ngAfterViewInit(){var t,r,i;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(l=>{var u,f;Array.isArray(l)&&l.length>=2&&(null===(u=this.startTimepicker)||void 0===u||u.writeValue(l[0]),null===(f=this.endTimepicker)||void 0===f||f.writeValue(l[1]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(l=>{this.timeSelectHandler(l,0)}),null===(i=this.endTimepicker)||void 0===i||i.registerOnChange(l=>{this.timeSelectHandler(l,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:cn(t.date),year:Ar(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Ar(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){var r;let i=new Date(t);if(this._config.maxDate){const l=this._config.maxDate.getTime(),u=t.getTime()+864e5*(this._config.maxDateRange||0);i=u>l?new Date(this._config.maxDate):new Date(u)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));null===(r=this._effects)||void 0===r||r.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(Rd),o.Y36(mD),o.Y36(o.SBq),o.Y36(gi),o.Y36(hD),o.Y36(Fl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,r){if(1&t&&(o.Gf(rF,5),o.Gf(JY,5)),2&t){let i;o.iGM(i=o.CRH())&&(r.startTimepicker=i.first),o.iGM(i=o.CRH())&&(r.endTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&o.NdJ("click",function(l){return r._stopPropagation(l)})},features:[o._Bn([mD,hD]),o.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(o.YNc(0,h5,10,11,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.viewMode))},directives:[bF,wx,wF,DF,CF,Qt,_s,yi,ri,rn],pipes:[Vn],encapsulation:2,data:{animation:[sF]}}),n})();const n$={provide:Cs,useExisting:(0,o.Gpc)(()=>TF),multi:!0},r$={provide:Rn,useExisting:(0,o.Gpc)(()=>TF),multi:!0};let TF=(()=>{class n{constructor(t,r,i,l,u){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=l,this.changeDetection=u,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new Ui.w0}ngOnInit(){const t=r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(L_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const r=t?nl(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const r=t.value;if(null==r||""===r)return null;if(E1(r)){if(!xf(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&ou(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Zl(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!xi(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);this._value=lD(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=fP(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(e$,1),o.Y36(W1),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[o._Bn([n$,r$])]}),n})(),i$=(()=>{class n extends Rd{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nx=(()=>{class n{constructor(t,r,i,l,u){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Bn.x,this.isDisabled=!1,this.bsValueChange=new o.vpe,this._subs=[],this._rangeInputFormat$=new Bn.x,this._datepicker=u.createLoader(r,l,i),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new cr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue!==t&&(t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=hF(t)),this._bsValue=t,this.bsValueChange.emit(t))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Bn.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,l,u;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(l=t.bsConfig.previousValue)||void 0===l?void 0:l.initCurrentTime)&&this._bsValue&&(this._bsValue=hF(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&((null===(u=this._elementRef)||void 0===u?void 0:u.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(xn(t=>t!==this.isOpen),LR(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Rd,useValue:this._config}).attach(t$).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(xn(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()}))}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:cF(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:x5(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(i$),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.s_b),o.Y36(zo))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[o.TTD]}),n})();const s$={provide:Cs,useExisting:(0,o.Gpc)(()=>K1),multi:!0},o$={provide:Rn,useExisting:(0,o.Gpc)(()=>K1),multi:!0};let K1=(()=>{class n{constructor(t,r,i,l,u){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=l,this.changeDetection=u,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new Ui.w0}ngOnInit(){this._picker._bsValue&&(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(L_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let r="";if(t){const i=t[0]?nl(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",l=t[1]?nl(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=i&&l?i+this._picker._config.rangeSeparator+l:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let r=t.value;const i=[];if(null==r||!Dr(r))return null;r=r.slice().sort((f,_)=>f.getTime()-_.getTime());const l=xf(r[0]),u=xf(r[1]);return l?u?(this._picker&&this._picker.minDate&&ou(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,i.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Zl(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,i.push({bsDate:{maxDate:this._picker.maxDate}})),i.length>0?(this.writeValue(r),i):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!xi(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);let l=[];if("string"==typeof t){const u=this._picker._config.rangeSeparator.trim();l=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(u.length>0?u:this._picker._config.rangeSeparator).map(f=>f.trim())}Array.isArray(t)&&(l=t),this._value=l.map(u=>this._picker._config.useUtc?fP(lD(u,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):lD(u,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(u=>isNaN(u.valueOf())?void 0:u)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Nx,1),o.Y36(W1),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[o._Bn([s$,o$])]}),n})(),EF=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zo,Fl,mD,gi,hD,W1,Ld]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Bt,S6,nY]]}),n})();const a$=function(){return{isAnimated:!0}};let l$=(()=>{class n{constructor(t){this._addsEventDto=t,this.createEvent=new Is({imageUrl:new zn("",Br.required),description:new zn("",Br.required),title:new zn("",Br.required),date:new zn("",Br.required)}),this.minDate=new Date}onCreateEventSubmited(t){var r,i,l,u;if(t.invalid)return;const f=null===(r=t.get("date"))||void 0===r?void 0:r.value;this._addsEventDto.add({imageUrl:null===(i=t.get("imageUrl"))||void 0===i?void 0:i.value,description:null===(l=t.get("description"))||void 0===l?void 0:l.value,title:null===(u=t.get("title"))||void 0===u?void 0:u.value,fromDate:f[0],toDate:f[1]}),this.createEvent.reset()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(xR))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-create-event"]],decls:20,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["rows","4","formControlName","imageUrl","placeholder","Add link to your image",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title","placeholder","Add event title",1,"form-control"],["type","text","formControlName","date","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return r.onCreateEventSubmited(r.createEvent)}),o.TgZ(1,"div",1)(2,"div",2)(3,"p"),o._uU(4,"Add event image"),o.qZA(),o._UZ(5,"textarea",3),o.qZA(),o.TgZ(6,"div",2)(7,"p"),o._uU(8,"Event Description"),o.qZA(),o._UZ(9,"textarea",4),o.qZA(),o.TgZ(10,"div",2)(11,"p"),o._uU(12,"Event Title"),o.qZA(),o._UZ(13,"input",5),o.qZA(),o.TgZ(14,"div",2)(15,"p"),o._uU(16,"Event Date"),o.qZA(),o._UZ(17,"input",6),o.qZA()(),o.TgZ(18,"div",7),o._UZ(19,"input",8),o.qZA()()),2&t&&(o.Q6J("formGroup",r.createEvent),o.xp6(17),o.Q6J("minDate",r.minDate)("bsConfig",o.DdM(4,a$)),o.xp6(2),o.Q6J("disabled",!r.createEvent.valid))},directives:[Ms,Es,us,Yi,no,As,K1,Nx],encapsulation:2,changeDetection:0}),n})(),c$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-event-form-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","pt-3","border-bottom","mx-auto","w-75"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"container-flex","w-75","mx-auto"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Event - Create your event"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o._UZ(7,"lib-create-event"),o.qZA())},directives:[Ei,l$],encapsulation:2,changeDetection:0}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro,EF.forRoot()]]}),n})(),SF=(()=>{class n{constructor(t){this._contextDtoStorage=t}resolve(t,r){var i;return this._contextDtoStorage.next({eventId:null===(i=t.params)||void 0===i?void 0:i.eventId}),pt(!0)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ai))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SF],imports:[[]]}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn,jn.forChild([{path:"",component:c$}]),u$,T1]]}),n})();const IF=new o.OlP("ADDS_DIET_DTO");function f$(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){const l=o.CHM(t).ngIf,u=o.oxw();return u.onNewDietSubmited(u.newDiet,l.eventId)}),o.TgZ(1,"p",2),o._uU(2,"Add your diet"),o.qZA(),o._UZ(3,"input",3)(4,"input",4),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("formGroup",t.newDiet),o.xp6(4),o.Q6J("disabled",t.newDiet.invalid)}}let p$=(()=>{class n{constructor(t,r){this._addsDietDto=t,this._contextDtoStorage=r,this.newDiet=new Is({name:new zn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewDietSubmited(t,r){var i;this._addsDietDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newDiet.reset()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(IF),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-add-diet-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your diet",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(o.YNc(0,f$,5,2,"form",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.currentEvent$))},directives:[Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();const Lx=new o.OlP("GETS_ALL_DIET_DTO"),MF=new o.OlP("REMOVES_DIET_DTO"),AF=new o.OlP("SETS_DIET_DTO"),kF=new o.OlP("INPUT_STATE_DTO_STORAGE");function m$(n,e){1&n&&o._UZ(0,"div")}function g$(n,e){if(1&n&&(o.TgZ(0,"div",6),o.YNc(1,m$,1,0,"div",7),o.qZA()),2&n){const t=e.ngIf,r=o.oxw().$implicit,i=o.MAs(4),l=o.MAs(7);o.xp6(1),o.Q6J("ngIf",t.dietId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function _$(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",8),o.NdJ("ngSubmit",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onSaveChangesClicked(i)}),o._UZ(1,"input",9)(2,"input",10),o.qZA()}if(2&n){const t=o.oxw(2);o.Q6J("formGroup",t.editingDiet),o.xp6(2),o.Q6J("disabled",!t.editingDiet.valid)}}function y$(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"div",12),o.O4$(),o.TgZ(2,"svg",13),o._UZ(3,"path",14),o.qZA(),o.kcU(),o.TgZ(4,"p",15),o._uU(5),o.qZA()(),o.TgZ(6,"div",16)(7,"button",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onEditClicked(i)}),o.O4$(),o.TgZ(8,"svg",18),o._UZ(9,"path",19),o.qZA()(),o.kcU(),o.TgZ(10,"button",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onDeleteClicked(i.id)}),o.O4$(),o.TgZ(11,"svg",20),o._UZ(12,"path",21)(13,"path",22),o.qZA()()()()}if(2&n){const t=o.oxw().$implicit;o.xp6(5),o.Oqu(t.name)}}function v$(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,g$,2,3,"div",3),o.ALo(2,"async"),o.YNc(3,_$,3,2,"ng-template",null,4,o.W1O),o.YNc(5,y$,14,1,"ng-template",null,5,o.W1O),o.qZA()),2&n){const t=o.MAs(6),r=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let b$=(()=>{class n{constructor(t,r,i,l,u){this._getsAllDietDto=t,this._removesDietDto=r,this._setsDietDto=i,this._inputStateDtoStorage=l,this._contextDtoStoragePort=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.editingDiet=new Is({name:new zn("",Br.required)}),this.diets$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllDietDto.getAll({eventId:f.eventId})))}onDeleteClicked(t){this._removesDietDto.remove(t)}onSaveChangesClicked(t){var r;this._setsDietDto.set({id:t.id,name:null===(r=this.editingDiet.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}onEditClicked(t){var r;this._inputStateDtoStorage.next({dietId:t.id,isEditing:!0}),null===(r=this.editingDiet.get("name"))||void 0===r||r.setValue(t.name)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Lx),o.Y36(MF),o.Y36(AF),o.Y36(kF),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-diet-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,v$,8,4,"div",1),o.ALo(2,"async"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,r.diets$)))},directives:[rn,Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-diet-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Diet - Set up your diet"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o._UZ(7,"lib-add-diet-form"),o.qZA(),o._UZ(8,"lib-diet-list"))},directives:[Ei,p$,b$],encapsulation:2,changeDetection:0}),n})(),D$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),xF=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[xF,{provide:kF,useExisting:xF}],imports:[[]]}),n})();const J1=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,l,u)=>void 0===i.find(f=>l[f]!==u[f]))(t,i,e))};let gD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("diets").add(t)}getAll(t){return this._client.collection("diets").valueChanges({idField:"id"}).pipe((0,Ct.U)(r=>J1(r,t)))}remove(t){this._client.doc("diets/"+t).delete()}set(t){this._client.doc("diets/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[gD,{provide:IF,useExisting:gD},{provide:Lx,useExisting:gD},{provide:MF,useExisting:gD},{provide:AF,useExisting:gD}],imports:[[ov]]}),n})(),NF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn,jn.forChild([{path:"",component:w$}]),D$,OF,C$,T$]]}),n})();const LF=new o.OlP("GETS_ALL_NAV_LINK_DTO");function E$(n,e){if(1&n&&(o.TgZ(0,"li",2)(1,"a",3),o._UZ(2,"img",4),o.qZA()()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("routerLink",t.link),o.xp6(1),o.Q6J("src",t.icon,o.LSH)}}let S$=(()=>{class n{constructor(t){this._getsAllNavLinkDto=t,this.navLink$=this._getsAllNavLinkDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(LF))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-navigation"]],decls:3,vars:3,consts:[[1,"nav","flex-column","pt-5","d-flex","align-items-center"],["class","nav-item fw-bold",4,"ngFor","ngForOf"],[1,"nav-item","fw-bold"],[1,"nav-link","d-inline-flex","fs-6","text-decoration-none","text-dark",3,"routerLink"],[1,"pe-2",3,"src"]],template:function(t,r){1&t&&(o.TgZ(0,"ul",0),o.YNc(1,E$,3,2,"li",1),o.ALo(2,"async"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,r.navLink$)))},directives:[rn,Ei],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-event-home-page"]],decls:5,vars:0,consts:[[1,"grid","bg-dark","vh-100"],[1,"g-col-1","bg-white"],[1,"g-col-9","g-start-3","text-white"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"lib-navigation"),o.qZA(),o.TgZ(3,"div",2),o._UZ(4,"router-outlet"),o.qZA()())},directives:[S$,Ic],encapsulation:2,changeDetection:0}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn]]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn]]}),n})(),FF=(()=>{class n{constructor(t){this._client=t}getAll(t){return pt([{name:"Dashboard",link:"dashboard",icon:"assets/icons/nav-links/dashboard.svg"},{name:"Edit-event",link:"edit-event",icon:"assets/icons/nav-links/event.svg"},{name:"Diet",link:"diet",icon:"assets/icons/nav-links/diet.svg"},{name:"Transport",link:"transport",icon:"assets/icons/nav-links/transport.svg"},{name:"Attractions",link:"attractions",icon:"assets/icons/nav-links/attractions.svg"},{name:"User management",link:"user-management",icon:"assets/icons/nav-links/users.svg"}])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),VF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[FF,{provide:LF,useExisting:FF}],imports:[[ov]]}),n})();const M$=function(n){return{dropdown:n}},A$=["*"],BF=[Pf({height:0,overflow:"hidden"}),Y1("220ms cubic-bezier(0, 0, 0.2, 1)",Pf({height:"*",overflow:"hidden"}))];let ug=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new o.vpe,this.isDisabledChange=new o.vpe,this.toggleClick=new o.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),x$=(()=>{class n{constructor(t,r,i,l,u){this._state=t,this.cd=r,this._renderer=i,this._element=l,this.isOpen=!1,this._factoryDropDownAnimation=u.build(BF),this._subscription=t.isOpenChange.subscribe(f=>{this.isOpen=f;const _=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),_&&!Pl()&&(this._renderer.addClass(_,"show"),(_.classList.contains("dropdown-menu-right")||_.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(_,"left","auto"),this._renderer.setStyle(_,"right","0")),"up"===this.direction&&(this._renderer.setStyle(_,"top","auto"),this._renderer.setStyle(_,"transform","translateY(-101%)"))),_&&this._state.isAnimated&&this._factoryDropDownAnimation.create(_).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ug),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(j1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:A$,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA()),2&t&&(o.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),o.Q6J("ngClass",o.VKq(7,M$,"down"===r.direction)))},directives:[_s],encapsulation:2,changeDetection:0}),n})(),O$=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UF=(()=>{class n{constructor(t,r,i,l,u,f,_){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=l,this._state=u,this._config=f,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=_.build(BF),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:ug,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Pl()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(xn(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(x$).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,l=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&l[--this._state.counts].focus();break;case 40:this._state.counts+1<l.length&&(i.classList!==l[this._state.counts].classList?l[this._state.counts].focus():l[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Pl()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.s_b),o.Y36(zo),o.Y36(ug),o.Y36(O$),o.Y36(j1))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&o.NdJ("keydown.arrowDown",function(l){return r.navigationClick(l)})("keydown.arrowUp",function(l){return r.navigationClick(l)}),2&t&&o.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[o._Bn([ug])]}),n})(),N$=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ug),o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),L$=(()=>{class n{constructor(t,r,i,l,u){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=l,this._state=u,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(f=>{this.isOpen=f,f?(this._documentClickListener=this._renderer.listen("document","click",_=>{this._state.autoClose&&2!==_.button&&!this._element.nativeElement.contains(_.target)&&(!this._state.insideClick||!this._dropdown._contains(_))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(f=>this.isDisabled=f||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(UF),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(ug))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&o.NdJ("click",function(l){return r.onClick(l)}),2&t&&o.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),R$=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zo,Fl,ug]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Bt]]}),n})();function P$(n,e){if(1&n&&(o.TgZ(0,"a",11),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("routerLink","/event/"+t.id),o.xp6(1),o.hij(" ",t.title," ")}}function F$(n,e){if(1&n&&(o.O4$(),o.kcU(),o.TgZ(0,"ul",8)(1,"li",9),o.YNc(2,P$,2,2,"a",10),o.ALo(3,"async"),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,t.allEvents$))}}function V$(n,e){if(1&n&&(o.TgZ(0,"div",1)(1,"p",2),o._uU(2),o.qZA(),o.TgZ(3,"div",3)(4,"span",4),o.O4$(),o.TgZ(5,"svg",5),o._UZ(6,"path",6),o.qZA()(),o.YNc(7,F$,4,3,"ul",7),o.qZA()()),2&n){const t=e.ngIf;o.xp6(2),o.hij("Event - ",t.title,"")}}let B$=(()=>{class n{constructor(t,r,i){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this._getsAllEventDto=i,this.event$=this._contextDtoStoragePort.asObservable().pipe(sn(l=>this._getsOneEventDto.getOne(l.eventId))),this.allEvents$=this._getsAllEventDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(C1),o.Y36(ai),o.Y36(Wg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-event-dropdown-list"]],decls:2,vars:3,consts:[["class","mb-3 d-flex justify-content-start align-items-center",4,"ngIf"],[1,"mb-3","d-flex","justify-content-start","align-items-center"],[1,"m-0","fs-4","me-3"],["dropdown","",1,"btn-group","p-1","m-0"],["id","button-split","type","button","dropdownToggle","","aria-controls","dropdown-split",1,"fs-3"],["width","20","height","15","viewBox","0 0 20 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 0L10 15L20 0H0Z","fill","white"],["id","dropdown-split","class","dropdown-menu","role","menu","aria-labelledby","button-split",4,"dropdownMenu"],["id","dropdown-split","role","menu","aria-labelledby","button-split",1,"dropdown-menu"],["role","menuitem"],["class","dropdown-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"routerLink"]],template:function(t,r){1&t&&(o.YNc(0,V$,8,1,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.event$))},directives:[Qt,UF,L$,N$,rn,Ei],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();function U$(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",1)(2,"div")(3,"p",2),o._uU(4),o.qZA(),o.TgZ(5,"p",3),o._uU(6),o.ALo(7,"date"),o.ALo(8,"date"),o.qZA()(),o.TgZ(9,"button",4),o.O4$(),o.TgZ(10,"svg",5),o._UZ(11,"path",6),o.qZA()()(),o.kcU(),o.TgZ(12,"div",7)(13,"div",8),o._UZ(14,"img",9),o.qZA(),o.TgZ(15,"div",10)(16,"p",11),o._uU(17),o.qZA()()()()),2&n){const t=e.ngIf;o.xp6(4),o.hij("Event Details - ",t.title,""),o.xp6(2),o.AsE(" ",o.xi3(7,5,t.fromDate,"dd.MM.YYYY")," - ",o.xi3(8,8,t.toDate,"dd.MM.YYYY")," "),o.xp6(8),o.Q6J("src",t.imageUrl,o.LSH),o.xp6(3),o.Oqu(t.description)}}let H$=(()=>{class n{constructor(t,r){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this.event$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsOneEventDto.getOne(i.eventId)))}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(C1),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-event-dashboard"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"m-0","fs-4","fw-bold"],[1,"m-0","fs-6"],["type","button","routerLink","edit-event",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"mt-4","grid","h-25"],[1,"g-col-5"],["alt","",1,"img-fluid",3,"src"],[1,"g-col-6"],[1,"m-0"]],template:function(t,r){1&t&&(o.YNc(0,U$,18,11,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.event$))},directives:[Qt,$g],pipes:[Vn,Ud],encapsulation:2,changeDetection:0}),n})();function j$(n,e){if(1&n&&(o.TgZ(0,"div",10)(1,"div",11)(2,"p",12),o._uU(3),o.qZA()(),o.TgZ(4,"div",13)(5,"p",14),o._uU(6,"0/15"),o.qZA()()()),2&n){const t=e.$implicit;o.xp6(3),o.Oqu(t.name)}}function Y$(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,j$,7,1,"div",9),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.diets$))}}function $$(n,e){1&n&&(o.TgZ(0,"div",15)(1,"a",16),o._uU(2,"Configure"),o.qZA()())}let G$=(()=>{class n{constructor(t,r){this._getsAllDietDto=t,this._contextDtoStoragePort=r,this.diets$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsAllDietDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Lx),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-diet-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","diet",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","diet",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Diet"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o.YNc(7,Y$,3,3,"div",6),o.ALo(8,"async"),o.qZA(),o.YNc(9,$$,3,0,"ng-template",null,7,o.W1O)),2&t){const i=o.MAs(10);let l;o.xp6(7),o.Q6J("ngIf",null==(l=o.lcZ(8,2,r.diets$))?null:l.length)("ngIfElse",i)}},directives:[Ei,Qt,rn],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();const Rx=new o.OlP("GETS_ALL_TRANSPORT_DTO");function Z$(n,e){if(1&n&&(o.TgZ(0,"div",10)(1,"div",11)(2,"p",12),o._uU(3),o.qZA()(),o.TgZ(4,"div",13)(5,"p",14),o._uU(6,"0/15"),o.qZA()()()),2&n){const t=e.$implicit;o.xp6(3),o.Oqu(t.name)}}function q$(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,Z$,7,1,"div",9),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.transports$))}}function W$(n,e){1&n&&(o.TgZ(0,"div",15)(1,"a",16),o._uU(2,"Configure"),o.qZA()())}let z$=(()=>{class n{constructor(t,r){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this.transports$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsAllTransportDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rx),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-transport-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","transport",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","transport",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Transport"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o.YNc(7,q$,3,3,"div",6),o.ALo(8,"async"),o.qZA(),o.YNc(9,W$,3,0,"ng-template",null,7,o.W1O)),2&t){const i=o.MAs(10);let l;o.xp6(7),o.Q6J("ngIf",null==(l=o.lcZ(8,2,r.transports$))?null:l.length)("ngIfElse",i)}},directives:[Ei,Qt,rn],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();const Px=new o.OlP("GETS_ALL_ATTRACTION_DTO");function K$(n,e){if(1&n&&(o.TgZ(0,"div",10)(1,"div",11)(2,"p",12),o._uU(3),o.qZA()(),o.TgZ(4,"div",13)(5,"p",14),o._uU(6,"0/15"),o.qZA()()()),2&n){const t=e.$implicit;o.xp6(3),o.Oqu(t.name)}}function J$(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,K$,7,1,"div",9),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.attractions$))}}function Q$(n,e){1&n&&(o.TgZ(0,"div",15)(1,"a",16),o._uU(2,"Configure"),o.qZA()())}let X$=(()=>{class n{constructor(t,r){this._getsAllAttractionDto=t,this._contextDtoStoragePort=r,this.attractions$=this._contextDtoStoragePort.asObservable().pipe(sn(i=>this._getsAllAttractionDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Px),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-attractions-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","attractions",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","attractions",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Attraction"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o.YNc(7,J$,3,3,"div",6),o.ALo(8,"async"),o.qZA(),o.YNc(9,Q$,3,0,"ng-template",null,7,o.W1O)),2&t){const i=o.MAs(10);let l;o.xp6(7),o.Q6J("ngIf",null==(l=o.lcZ(8,2,r.attractions$))?null:l.length)("ngIfElse",i)}},directives:[Ei,Qt,rn],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),e4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-event-dashboard-page"]],decls:15,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"w-50"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"mt-4"],[1,"grid","mt-5","mb-5"],[1,"g-col-3"],[1,"g-col-3","g-start-5"],[1,"g-col-3","g-start-9"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"lib-event-dropdown-list"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o._UZ(7,"lib-event-dashboard"),o.qZA(),o.TgZ(8,"div",6)(9,"div",7),o._UZ(10,"lib-diet-card"),o.qZA(),o.TgZ(11,"div",8),o._UZ(12,"lib-transport-card"),o.qZA(),o.TgZ(13,"div",9),o._UZ(14,"lib-attractions-card"),o.qZA()())},directives:[B$,Ei,H$,G$,z$,X$],encapsulation:2,changeDetection:0}),n})(),t4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn,R$.forRoot()]]}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn]]}),n})(),r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn]]}),n})(),_D=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("transports").add(t)}getAll(t){return this._client.collection("transports").valueChanges({idField:"id"}).pipe((0,Ct.U)(r=>J1(r,t)))}remove(t){this._client.doc("transports/"+t).delete()}set(t){this._client.doc("transports/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const HF=new o.OlP("ADDS_TRANSPORT_DTO"),jF=new o.OlP("REMOVES_TRANSPORT_DTO"),YF=new o.OlP("SETS_TRANSPORT_DTO");let $F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_D,{provide:HF,useExisting:_D},{provide:Rx,useExisting:_D},{provide:jF,useExisting:_D},{provide:YF,useExisting:_D}],imports:[[ov]]}),n})(),i4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn]]}),n})(),yD=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("attractions").valueChanges({idField:"id"}).pipe((0,Ct.U)(r=>J1(r,t)))}add(t){this._client.collection("attractions").add(t)}set(t){this._client.doc("attractions/"+t.id).update(t)}remove(t){this._client.doc("attractions/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const GF=new o.OlP("ADDS_ATTRACTION_DTO"),ZF=new o.OlP("SETS_ATTRACTION_DTO"),qF=new o.OlP("REMOVES_ATTRACTION_DTO");let WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[yD,{provide:Px,useExisting:yD},{provide:GF,useExisting:yD},{provide:ZF,useExisting:yD},{provide:qF,useExisting:yD}],imports:[[ov]]}),n})(),zF=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const KF=new o.OlP("INPUT_STATE_DTO_STORAGE");let s4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[zF,{provide:KF,useExisting:zF}],imports:[[]]}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn.forChild([{path:"",component:e4}]),RF,T1,t4,n4,OF,r4,$F,i4,WF]]}),n})();function o4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){const l=o.CHM(t).ngIf,u=o.oxw();return u.onNewTransportButtonSubmited(u.newTransport,l.eventId)}),o.TgZ(1,"p",2),o._uU(2,"Add your transport options"),o.qZA(),o._UZ(3,"input",3)(4,"input",4),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("formGroup",t.newTransport),o.xp6(4),o.Q6J("disabled",t.newTransport.invalid)}}let a4=(()=>{class n{constructor(t,r){this._addsTransportDto=t,this._contextDtoStorage=r,this.newTransport=new Is({name:new zn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewTransportButtonSubmited(t,r){var i;this._addsTransportDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newTransport.reset()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(HF),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-add-transport-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your transport option",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(o.YNc(0,o4,5,2,"form",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.currentEvent$))},directives:[Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();const QF=new o.OlP("INPUT_STATE_DTO_STORAGE");function l4(n,e){1&n&&o._UZ(0,"div")}function c4(n,e){if(1&n&&(o.TgZ(0,"div",6),o.YNc(1,l4,1,0,"div",7),o.qZA()),2&n){const t=e.ngIf,r=o.oxw().$implicit,i=o.MAs(4),l=o.MAs(7);o.xp6(1),o.Q6J("ngIf",t.transportId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function u4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",8),o._UZ(1,"input",9),o.TgZ(2,"input",10),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onSaveButtonClicked(i)}),o.qZA()()}if(2&n){const t=o.oxw(2);o.Q6J("formGroup",t.editingTransport),o.xp6(2),o.Q6J("disabled",!t.editingTransport.valid)}}function d4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"div",12),o.O4$(),o.TgZ(2,"svg",13),o._UZ(3,"path",14),o.qZA(),o.kcU(),o.TgZ(4,"p",15),o._uU(5),o.qZA()(),o.TgZ(6,"div",16)(7,"button",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onEditButtonClicked(i)}),o.O4$(),o.TgZ(8,"svg",18),o._UZ(9,"path",19),o.qZA()(),o.kcU(),o.TgZ(10,"button",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onDeleteButtonClicked(i.id)}),o.O4$(),o.TgZ(11,"svg",20),o._UZ(12,"path",21)(13,"path",22),o.qZA()()()()}if(2&n){const t=o.oxw().$implicit;o.xp6(5),o.Oqu(t.name)}}function h4(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,c4,2,3,"div",3),o.ALo(2,"async"),o.YNc(3,u4,3,2,"ng-template",null,4,o.W1O),o.YNc(5,d4,14,1,"ng-template",null,5,o.W1O),o.qZA()),2&n){const t=o.MAs(6),r=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let f4=(()=>{class n{constructor(t,r,i,l,u){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesTransportDto=l,this._setsTransportDto=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.transports$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllTransportDto.getAll({eventId:f.eventId}))),this.editingTransport=new Is({name:new zn("",Br.required)})}onDeleteButtonClicked(t){this._removesTransportDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({transportId:t.id,isEditing:!0}),null===(r=this.editingTransport.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsTransportDto.set({id:t.id,name:null===(r=this.editingTransport.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Rx),o.Y36(ai),o.Y36(QF),o.Y36(jF),o.Y36(YF))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-transport-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,h4,8,4,"div",1),o.ALo(2,"async"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,r.transports$)))},directives:[rn,Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-transport-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Transport - Set up your transport options"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o._UZ(7,"lib-add-transport-form"),o.qZA(),o._UZ(8,"lib-transport-list"))},directives:[Ei,a4,f4],encapsulation:2,changeDetection:0}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),g4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),XF=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[XF,{provide:QF,useExisting:XF}],imports:[[]]}),n})(),y4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn,jn.forChild([{path:"",component:p4}]),m4,$F,g4,_4]]}),n})();const v4=function(){return{isAnimated:!0}};function b4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){const l=o.CHM(t).ngIf;return o.oxw().onEditEventFormSubmited(l)}),o.TgZ(1,"div",2)(2,"div",3)(3,"p"),o._uU(4,"Add event image"),o.qZA(),o._UZ(5,"textarea",4),o.qZA(),o.TgZ(6,"div",3)(7,"p"),o._uU(8,"Event Description"),o.qZA(),o._UZ(9,"textarea",5),o.qZA(),o.TgZ(10,"div",3)(11,"p"),o._uU(12,"Event Title"),o.qZA(),o._UZ(13,"input",6),o.qZA(),o.TgZ(14,"div",3)(15,"p"),o._uU(16,"Event Date"),o.qZA(),o._UZ(17,"input",7),o.qZA()(),o.TgZ(18,"div",8),o._UZ(19,"input",9),o.qZA()()}if(2&n){const t=e.ngIf,r=o.oxw();o.Q6J("formGroup",t),o.xp6(17),o.Q6J("minDate",r.minDate)("bsConfig",o.DdM(3,v4))}}let w4=(()=>{class n{constructor(t,r,i,l){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this._setsEventDto=i,this.router=l,this.editEventForm$=this._contextDtoStoragePort.asObservable().pipe(sn(u=>this._getsOneEventDto.getOne(u.eventId)),(0,Ct.U)(u=>new Is({imageUrl:new zn(u.imageUrl,Br.required),description:new zn(u.description,Br.required),title:new zn(u.title,Br.required),date:new zn([u.fromDate,u.toDate],Br.required),id:new zn(u.id)}))),this.minDate=new Date}ngOnInit(){}formatDate(t){return t.toDate()}onEditEventFormSubmited(t){var r,i,l,u,f;const _=null===(r=t.get("date"))||void 0===r?void 0:r.value;this._setsEventDto.set({id:null===(i=t.get("id"))||void 0===i?void 0:i.value,imageUrl:null===(l=t.get("imageUrl"))||void 0===l?void 0:l.value,description:null===(u=t.get("description"))||void 0===u?void 0:u.value,title:null===(f=t.get("title"))||void 0===f?void 0:f.value,fromDate:_[0],toDate:_[1]}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(C1),o.Y36(ai),o.Y36(OR),o.Y36(ji))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-edit-event"]],decls:2,vars:3,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["contentEditable","true","rows","4","formControlName","imageUrl",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","date","placeholder","","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(o.YNc(0,b4,20,4,"form",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.editEventForm$))},directives:[Qt,Ms,Es,us,Yi,no,As,K1,Nx],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),D4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-event-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Edit Event"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div"),o._UZ(7,"lib-edit-event"),o.qZA())},directives:[Ei,w4],encapsulation:2,changeDetection:0}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,EF.forRoot(),ro]]}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn.forChild([{path:"",component:D4}]),C4]]}),n})();function E4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){const l=o.CHM(t).ngIf,u=o.oxw();return u.onNewAttractionSubmited(u.newAttraction,l.eventId)}),o.TgZ(1,"p",2),o._uU(2,"Add your attraction"),o.qZA(),o._UZ(3,"input",3)(4,"input",4),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("formGroup",t.newAttraction),o.xp6(4),o.Q6J("disabled",t.newAttraction.invalid)}}let S4=(()=>{class n{constructor(t,r){this._addsAttractionDto=t,this._contextDtoStorage=r,this.newAttraction=new Is({name:new zn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewAttractionSubmited(t,r){var i;this._addsAttractionDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newAttraction.reset()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(GF),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-add-attraction-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your attraction",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(o.YNc(0,E4,5,2,"form",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.currentEvent$))},directives:[Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();function I4(n,e){1&n&&o._UZ(0,"div")}function M4(n,e){if(1&n&&(o.TgZ(0,"div",6),o.YNc(1,I4,1,0,"div",7),o.qZA()),2&n){const t=e.ngIf,r=o.oxw().$implicit,i=o.MAs(4),l=o.MAs(7);o.xp6(1),o.Q6J("ngIf",t.attractionId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function A4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",8),o._UZ(1,"input",9),o.TgZ(2,"input",10),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onSaveButtonClicked(i)}),o.qZA()()}if(2&n){const t=o.oxw(2);o.Q6J("formGroup",t.editAttraction),o.xp6(2),o.Q6J("disabled",t.editAttraction.invalid)}}function k4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"div",12),o.O4$(),o.TgZ(2,"svg",13),o._UZ(3,"path",14),o.qZA(),o.kcU(),o.TgZ(4,"p",15),o._uU(5),o.qZA()(),o.TgZ(6,"div",16)(7,"button",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onEditButtonClicked(i)}),o.O4$(),o.TgZ(8,"svg",18),o._UZ(9,"path",19),o.qZA()(),o.kcU(),o.TgZ(10,"button",17),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onDeleteButtonClicked(i.id)}),o.O4$(),o.TgZ(11,"svg",20),o._UZ(12,"path",21)(13,"path",22),o.qZA()()()()}if(2&n){const t=o.oxw().$implicit;o.xp6(5),o.Oqu(t.name)}}function x4(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,M4,2,3,"div",3),o.ALo(2,"async"),o.YNc(3,A4,3,2,"ng-template",null,4,o.W1O),o.YNc(5,k4,14,1,"ng-template",null,5,o.W1O),o.qZA()),2&n){const t=o.MAs(6),r=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let O4=(()=>{class n{constructor(t,r,i,l,u){this._getsAllAttractionDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesAttractionDto=l,this._setsAttractionDto=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.attractions$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllAttractionDto.getAll({eventId:f.eventId}))),this.editAttraction=new Is({name:new zn("",Br.required)})}onDeleteButtonClicked(t){this._removesAttractionDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({attractionId:t.id,isEditing:!0}),null===(r=this.editAttraction.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsAttractionDto.set({id:t.id,name:null===(r=this.editAttraction.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Px),o.Y36(ai),o.Y36(KF),o.Y36(qF),o.Y36(ZF))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-attractions-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn","text-white",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,x4,8,4,"div",1),o.ALo(2,"async"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,r.attractions$)))},directives:[rn,Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),N4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-attractions-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Attractions - Enter some attractions"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o._UZ(7,"lib-add-attraction-form"),o.qZA(),o._UZ(8,"lib-attractions-list"))},directives:[Ei,S4,O4],encapsulation:2,changeDetection:0}),n})(),L4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn,jn.forChild([{path:"",component:N4}]),L4,WF,R4,s4]]}),n})();const e2=new o.OlP("SEARCH_DTO_STORAGE");let F4=(()=>{class n{constructor(t){this._searchDtoStorage=t,this.searchedParticipant=new Is({email:new zn}),this.subscription=new Ui.w0,this.subscription=this.searchedParticipant.valueChanges.pipe(Ci({email:""}),A0(400)).subscribe(r=>this._searchDtoStorage.next({email:r.email}))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(e2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-search-participant"]],decls:3,vars:1,consts:[[1,"my-3","d-flex","align-items-center",3,"formGroup"],["type","text","formControlName","email","placeholder","Search email",1,"me-3","ps-2"],["type","submit","value","Search",1,"bg-success","btn","text-white"]],template:function(t,r){1&t&&(o.TgZ(0,"form",0),o._UZ(1,"input",1)(2,"input",2),o.qZA()),2&t&&o.Q6J("formGroup",r.searchedParticipant)},directives:[Ms,Es,us,Yi,no,As],encapsulation:2,changeDetection:0}),n})();const t2=new o.OlP("ADDS_PARTICIPANT_DTO");function V4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){const l=o.CHM(t).ngIf,u=o.oxw();return u.onNewParticipantSubmited(u.newParticipant,l.eventId)}),o.TgZ(1,"div",2),o._UZ(2,"input",3)(3,"input",4)(4,"input",5),o.qZA(),o._UZ(5,"input",6),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("formGroup",t.newParticipant),o.xp6(5),o.Q6J("disabled",t.newParticipant.invalid)}}let B4=(()=>{class n{constructor(t,r){this._addsUserDto=t,this._contextDtoStorage=r,this.newParticipant=new Is({name:new zn("",Br.required),lastName:new zn("",Br.required),email:new zn("",Br.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewParticipantSubmited(t,r){var i,l,u;this._addsUserDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,lastName:null===(l=t.get("lastName"))||void 0===l?void 0:l.value,email:null===(u=t.get("email"))||void 0===u?void 0:u.value,eventId:r}),this.newParticipant.reset()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(t2),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-add-participant"]],decls:2,vars:3,consts:[["class","my-3 d-flex flex-column align-items-end",3,"formGroup","ngSubmit",4,"ngIf"],[1,"my-3","d-flex","flex-column","align-items-end",3,"formGroup","ngSubmit"],[1,"d-flex","ps-2","mb-3"],["type","text","formControlName","name","placeholder","Name",1,"me-3","ps-2","w-50"],["type","text","formControlName","lastName","placeholder","Last Name",1,"me-3","ps-2","w-50"],["type","text","formControlName","email","placeholder","Email",1,"ps-2","w-100"],["type","submit","value","Add member",1,"bg-success","btn","text-white",3,"disabled"]],template:function(t,r){1&t&&(o.YNc(0,V4,6,2,"form",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,r.currentEvent$))},directives:[Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})();const n2=new o.OlP("GETS_ALL_PARTICIPANT_DTO"),r2=new o.OlP("REMOVES_PARTICIPANT_DTO"),s2=new o.OlP("SETS_PARTICIPANT_DTO"),o2=new o.OlP("INPUT_STATE_DTO_STORAGE");function U4(n,e){1&n&&o._UZ(0,"div")}function H4(n,e){if(1&n&&(o.TgZ(0,"div",6),o.YNc(1,U4,1,0,"div",7),o.qZA()),2&n){const t=e.ngIf,r=o.oxw().$implicit,i=o.MAs(4),l=o.MAs(7);o.xp6(1),o.Q6J("ngIf",t.id===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function j4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",8),o._UZ(1,"input",9)(2,"input",10)(3,"input",11),o.TgZ(4,"input",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onSaveEditedParticipantClicked(i)}),o.qZA()()}if(2&n){const t=o.oxw(2);o.Q6J("formGroup",t.editingParticipantForm),o.xp6(4),o.Q6J("disabled",t.editingParticipantForm.invalid)}}function Y4(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",13)(1,"div",14),o.O4$(),o.TgZ(2,"svg",15),o._UZ(3,"path",16)(4,"path",17),o.qZA(),o.kcU(),o.TgZ(5,"div",18)(6,"p",19),o._uU(7),o.qZA(),o.TgZ(8,"p",20),o._uU(9),o.qZA()()(),o.TgZ(10,"div",21)(11,"button",22),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onEditParticipantClicked(i)}),o.O4$(),o.TgZ(12,"svg",23),o._UZ(13,"path",24),o.qZA()(),o.kcU(),o.TgZ(14,"button",22),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().$implicit;return o.oxw().onDeleteParticipantClicked(i.id)}),o.O4$(),o.TgZ(15,"svg",25),o._UZ(16,"path",26)(17,"path",27),o.qZA()()()()}if(2&n){const t=o.oxw().$implicit;o.xp6(7),o.AsE("",t.name," ",t.lastName,""),o.xp6(2),o.Oqu(t.email)}}function $4(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,H4,2,3,"div",3),o.ALo(2,"async"),o.YNc(3,j4,5,2,"ng-template",null,4,o.W1O),o.YNc(5,Y4,18,3,"ng-template",null,5,o.W1O),o.qZA()),2&n){const t=o.MAs(6),r=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let G4=(()=>{class n{constructor(t,r,i,l,u){this._getsAllParticipantDto=t,this._removesParticipantDto=r,this._setsParticipantDto=i,this._inputStateDtoStorage=l,this._contextDtoStoragePort=u,this.inputState$=this._inputStateDtoStorage.asObservable(),this.participantsList$=this._contextDtoStoragePort.asObservable().pipe(sn(f=>this._getsAllParticipantDto.getAll({eventId:f.eventId}))),this.editingParticipantForm=new Is({name:new zn("",Br.required),lastName:new zn("",Br.required),email:new zn("",Br.required)})}onDeleteParticipantClicked(t){this._removesParticipantDto.remove(t)}onEditParticipantClicked(t){var r,i,l;this._inputStateDtoStorage.next({id:t.id,isEditing:!0}),null===(r=this.editingParticipantForm.get("name"))||void 0===r||r.setValue(t.name),null===(i=this.editingParticipantForm.get("lastName"))||void 0===i||i.setValue(t.lastName),null===(l=this.editingParticipantForm.get("email"))||void 0===l||l.setValue(t.email)}onSaveEditedParticipantClicked(t){var r,i,l;this._setsParticipantDto.set({id:t.id,name:null===(r=this.editingParticipantForm.get("name"))||void 0===r?void 0:r.value,lastName:null===(i=this.editingParticipantForm.get("lastName"))||void 0===i?void 0:i.value,email:null===(l=this.editingParticipantForm.get("email"))||void 0===l?void 0:l.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(n2),o.Y36(r2),o.Y36(s2),o.Y36(o2),o.Y36(ai))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lib-participants-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","text","formControlName","lastName",1,"fs-6","ps-2","me-1"],["type","text","formControlName","email",1,"fs-6","ps-2","me-3"],["type","submit","value","Save changes",1,"bg-success","btn","text-white",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","7%","height","7%","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"],[1,"d-flex","flex-column","align-items-center"],[1,"ms-4","my-0","fs-5"],[1,"ms-4","my-0"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,$4,8,4,"div",1),o.ALo(2,"async"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,r.participantsList$)))},directives:[rn,Qt,Ms,Es,us,Yi,no,As],pipes:[Vn],encapsulation:2,changeDetection:0}),n})(),Z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-users-page"]],decls:10,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"d-flex","justify-content-between","align-content-center","border-bottom"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"User management"),o.qZA(),o.TgZ(3,"a",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"path",4),o.qZA()()(),o.kcU(),o.TgZ(6,"div",5),o._UZ(7,"lib-search-participant")(8,"lib-add-participant"),o.qZA(),o._UZ(9,"lib-participants-list"))},directives:[Ei,F4,B4,G4],encapsulation:2,changeDetection:0}),n})(),a2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[a2,{provide:o2,useExisting:a2}],imports:[[]]}),n})(),W4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),vD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("participants").add(t)}getAll(t){return this._client.collection("participants").valueChanges({idField:"id"}).pipe((0,Ct.U)(r=>J1(r,t)))}remove(t){this._client.doc("participants/"+t).delete()}set(t){this._client.doc("participants/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[vD,{provide:t2,useExisting:vD},{provide:n2,useExisting:vD},{provide:r2,useExisting:vD},{provide:s2,useExisting:vD}],imports:[[ov]]}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),l2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),J4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[l2,{provide:e2,useExisting:l2}],imports:[[]]}),n})(),Q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,ro]]}),n})(),X4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn.forChild([{path:"",component:Z4}]),q4,W4,K4,z4,Q4,J4]]}),n})(),eG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[],imports:[[Bt,jn.forChild([{path:"",component:I$,resolve:{eventId:SF},children:[{path:"",loadChildren:()=>JF},{path:"diet",loadChildren:()=>NF},{path:"dashboard",loadChildren:()=>JF},{path:"transport",loadChildren:()=>y4},{path:"edit-event",loadChildren:()=>T4},{path:"attractions",loadChildren:()=>P4},{path:"user-management",loadChildren:()=>X4}]}]),RF,T1,d$,PF,VF]]}),n})();const tG=[{path:"",loadChildren:()=>tH},{path:"event-form",loadChildren:()=>h$},{path:"diet",loadChildren:()=>NF},{path:"event/:eventId",loadChildren:()=>eG}];let nG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[jn.forRoot(tG)],jn]}),n})(),rG=(()=>{class n{constructor(){this.title="niedzielny-projekt"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"py-1","container-flex","bg-success","text-white"],[1,"py-2","ps-4","d-flex","align-items-center"],["width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 0C11.2311 0 8.52431 0.821086 6.22202 2.35943C3.91973 3.89777 2.12532 6.08427 1.06569 8.64243C0.00606596 11.2006 -0.271181 14.0155 0.269012 16.7313C0.809205 19.447 2.14258 21.9416 4.10051 23.8995C6.05845 25.8574 8.55301 27.1908 11.2687 27.731C13.9845 28.2712 16.7994 27.9939 19.3576 26.9343C21.9157 25.8747 24.1022 24.0803 25.6406 21.778C27.1789 19.4757 28 16.7689 28 14C28 10.287 26.525 6.72601 23.8995 4.1005C21.274 1.475 17.713 0 14 0ZM13.91 10.45C13.6872 10.45 13.4736 10.5385 13.316 10.696C13.1585 10.8536 13.07 11.0672 13.07 11.29V16.43C13.07 17.3715 12.696 18.2745 12.0302 18.9402C11.3645 19.606 10.4615 19.98 9.52001 19.98C8.57849 19.98 7.67553 19.606 7.00978 18.9402C6.34402 18.2745 5.97001 17.3715 5.97001 16.43V14.09H8.68001V16.33C8.68001 16.5528 8.76851 16.7664 8.92604 16.924C9.08357 17.0815 9.29722 17.17 9.52001 17.17C9.74279 17.17 9.95645 17.0815 10.114 16.924C10.2715 16.7664 10.36 16.5528 10.36 16.33V11.33C10.4082 10.4224 10.8027 9.56781 11.4623 8.94239C12.1218 8.31697 12.9961 7.96835 13.905 7.96835C14.8139 7.96835 15.6882 8.31697 16.3477 8.94239C17.0073 9.56781 17.4018 10.4224 17.45 11.33V12.33L15.87 12.84L14.75 12.33V11.33C14.754 11.2167 14.7353 11.1038 14.695 10.9978C14.6547 10.8919 14.5937 10.795 14.5154 10.713C14.4371 10.631 14.3432 10.5655 14.2393 10.5204C14.1353 10.4752 14.0234 10.4513 13.91 10.45ZM21.84 16.45C21.7918 17.3576 21.3973 18.2122 20.7377 18.8376C20.0782 19.463 19.2039 19.8117 18.295 19.8117C17.3861 19.8117 16.5118 19.463 15.8523 18.8376C15.1927 18.2122 14.7982 17.3576 14.75 16.45V14.14L15.87 14.65L17.45 14.14V16.43C17.45 16.6528 17.5385 16.8664 17.696 17.024C17.8536 17.1815 18.0672 17.27 18.29 17.27C18.5128 17.27 18.7264 17.1815 18.884 17.024C19.0415 16.8664 19.13 16.6528 19.13 16.43V14.19H21.84V16.45Z","fill","black"],[1,"ps-2","m-0"],[1,"bg-dark","vh-100","text-white"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o.O4$(),o.TgZ(2,"svg",2),o._UZ(3,"path",3),o.qZA(),o.kcU(),o.TgZ(4,"h4",4),o._uU(5,"EVENT ADMIN"),o.qZA()()(),o.TgZ(6,"div",5),o._UZ(7,"router-outlet"),o.qZA())},directives:[Ic],styles:[""]}),n})();const c2_firebase={projectId:"sundaybootcamp-67f93",appId:"1:777656207743:web:9536bb56ef77efc0de324a",storageBucket:"sundaybootcamp-67f93.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAnJs2shS5FhTPMf8yVnS4UZNWqpnvek8E",authDomain:"sundaybootcamp-67f93.firebaseapp.com",messagingSenderId:"777656207743"},fn=!1;function u2(n){return new o.vHH(3e3,fn)}function FG(){return"undefined"!=typeof window&&void 0!==window.document}function Fx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vf(n){switch(n.length){case 0:return new dD;case 1:return n[0];default:return new UP(n)}}function d2(n,e,t,r,i={},l={}){const u=[],f=[];let _=-1,D=null;if(r.forEach(S=>{const A=S.offset,R=A==_,B=R&&D||{};Object.keys(S).forEach($=>{let ee=$,_e=S[$];if("offset"!==$)switch(ee=e.normalizePropertyName(ee,u),_e){case"!":_e=i[$];break;case Nd:_e=l[$];break;default:_e=e.normalizeStyleValue($,ee,_e,u)}B[ee]=_e}),R||f.push(B),D=B,_=A}),u.length)throw function SG(n){return new o.vHH(3502,fn)}();return f}function Vx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Bx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Bx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Bx(t,"destroy",n)))}}function Bx(n,e,t){const r=t.totalTime,l=Ux(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function Ux(n,e,t,r,i="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!u}}function Aa(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function h2(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Hx=(n,e)=>!1,f2=(n,e,t)=>[],p2=null;function jx(n){const e=n.parentNode||n.host;return e===p2?null:e}(Fx()||"undefined"!=typeof Element)&&(FG()?(p2=(()=>document.documentElement)(),Hx=(n,e)=>{for(;e;){if(e===n)return!0;e=jx(e)}return!1}):Hx=(n,e)=>n.contains(e),f2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let dg=null,m2=!1;function g2(n){dg||(dg=function BG(){return"undefined"!=typeof document?document.body:null}()||{},m2=!!dg.style&&"WebkitAppearance"in dg.style);let e=!0;return dg.style&&!function VG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in dg.style,!e&&m2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in dg.style)),e}const _2=Hx,y2=f2;let v2=(()=>{class n{validateStyleProperty(t){return g2(t)}matchesElement(t,r){return!1}containsElement(t,r){return _2(t,r)}getParentElement(t){return jx(t)}query(t,r,i){return y2(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,u,f=[],_){return new dD(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Yx=(()=>{class n{}return n.NOOP=new v2,n})();const $x="ng-enter",X1="ng-leave",eS="ng-trigger",tS=".ng-trigger",w2="ng-animating",Gx=".ng-animating";function hg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zx(parseFloat(e[1]),e[2])}function Zx(n,e){return"s"===e?1e3*n:n}function nS(n,e,t){return n.hasOwnProperty("duration")?n:function jG(n,e,t){let i,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(u2()),{duration:0,delay:0,easing:""};i=Zx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=Zx(parseFloat(_),f[4]));const D=f[5];D&&(u=D)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function iG(){return new o.vHH(3100,fn)}()),f=!0),l<0&&(e.push(function sG(){return new o.vHH(3101,fn)}()),f=!0),f&&e.splice(_,0,u2())}return{duration:i,delay:l,easing:u}}(n,e,t)}function Dv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Dv(n,t);return t}function C2(n,e,t){return t?e+":"+t+";":""}function T2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=C2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=C2(0,GG(t),n.style[t]));n.setAttribute("style",e)}function lu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Wx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Fx()&&T2(n))}function fg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Wx(t);n.style[r]=""}),Fx()&&T2(n))}function bD(n){return Array.isArray(n)?1==n.length?n[0]:FP(n):n}const qx=new RegExp("{{\\s*(.+?)\\s*}}","g");function E2(n){let e=[];if("string"==typeof n){let t;for(;t=qx.exec(n);)e.push(t[1]);qx.lastIndex=0}return e}function rS(n,e,t){const r=n.toString(),i=r.replace(qx,(l,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function aG(n){return new o.vHH(3003,fn)}()),f=""),f.toString()});return i==r?n:i}function iS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const $G=/-+([a-z0-9])/g;function Wx(n){return n.replace($G,(...e)=>e[1].toUpperCase())}function GG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ka(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function lG(n){return new o.vHH(3004,fn)}()}}function S2(n,e){return window.getComputedStyle(n)[e]}function JG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function QG(n,e,t){if(":"==n[0]){const _=function XG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function DG(n){return new o.vHH(3016,fn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function wG(n){return new o.vHH(3015,fn)}()),e;const i=r[1],l=r[2],u=r[3];e.push(I2(i,u));"<"==l[0]&&!("*"==i&&"*"==u)&&e.push(I2(u,i))}(r,t,e)):t.push(n),t}const lS=new Set(["true","1"]),cS=new Set(["false","0"]);function I2(n,e){const t=lS.has(n)||cS.has(n),r=lS.has(e)||cS.has(e);return(i,l)=>{let u="*"==n||n==i,f="*"==e||e==l;return!u&&t&&"boolean"==typeof i&&(u=i?lS.has(n):cS.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?lS.has(e):cS.has(e)),u&&f}}const eZ=new RegExp("s*:selfs*,?","g");function zx(n,e,t,r){return new tZ(n).build(e,t,r)}class tZ{constructor(e){this._driver=e}build(e,t,r){const i=new iZ(t);this._resetContextStyleTimingState(i);const l=ka(this,bD(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function uG(){return new o.vHH(3006,fn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,D=_.name;D.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,l.push(this.visitState(_,t))}),_.name=D}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function dG(){return new o.vHH(3007,fn)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,u=i||{};r.styles.forEach(f=>{if(uS(f)){const _=f;Object.keys(_).forEach(D=>{E2(_[D]).forEach(S=>{u.hasOwnProperty(S)||l.add(S)})})}}),l.size&&(iS(l.values()),t.errors.push(function hG(n,e){return new o.vHH(3008,fn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ka(this,bD(e.animation),t);return{type:1,matchers:JG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:pg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ka(this,r,t)),options:pg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(u=>{t.currentTime=r;const f=ka(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:pg(e.options)}}visitAnimate(e,t){const r=function oZ(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Kx(nS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Kx(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||nS(r,e),Kx(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Pf({});if(5==l.type)i=this.visitKeyframes(l,t);else{let u=e.styles,f=!1;if(!u){f=!0;const D={};r.easing&&(D.easing=r.easing),u=Pf(D)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Nd?r.push(u):t.errors.push(function fG(n){return new o.vHH(3002,fn)}()):r.push(u)}):r.push(e.styles);let i=!1,l=null;return r.forEach(u=>{if(uS(u)){const f=u,_=f.easing;if(_&&(l=_,delete f.easing),!i)for(let D in f)if(f[D].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],D=_[f];let S=!0;D&&(l!=i&&l>=D.startTime&&i<=D.endTime&&(t.errors.push(function pG(n,e,t,r,i){return new o.vHH(3010,fn)}()),S=!1),l=D.startTime),S&&(_[f]={startTime:l,endTime:i}),t.options&&function YG(n,e,t){const r=e.params||{},i=E2(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function oG(n){return new o.vHH(3001,fn)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function mG(){return new o.vHH(3011,fn)}()),r;let l=0;const u=[];let f=!1,_=!1,D=0;const S=e.steps.map(Ve=>{const Oe=this._makeStyleAst(Ve,t);let We=null!=Oe.offset?Oe.offset:function sZ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(uS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(uS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Oe.styles),Ze=0;return null!=We&&(l++,Ze=Oe.offset=We),_=_||Ze<0||Ze>1,f=f||Ze<D,D=Ze,u.push(Ze),Oe});_&&t.errors.push(function gG(){return new o.vHH(3012,fn)}()),f&&t.errors.push(function _G(){return new o.vHH(3200,fn)}());const A=e.steps.length;let R=0;l>0&&l<A?t.errors.push(function yG(){return new o.vHH(3202,fn)}()):0==l&&(R=1/(A-1));const B=A-1,$=t.currentTime,ee=t.currentAnimateTimings,_e=ee.duration;return S.forEach((Ve,Oe)=>{const We=R>0?Oe==B?1:R*Oe:u[Oe],Ze=We*_e;t.currentTime=$+ee.delay+Ze,ee.duration=Ze,this._validateStyleAst(Ve,t),Ve.offset=We,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:ka(this,bD(e.animation),t),options:pg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:pg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:pg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function nZ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(eZ,"")),n=n.replace(/@\*/g,tS).replace(/@\w+/g,t=>tS+"-"+t.substr(1)).replace(/:animating/g,Gx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Aa(t.collectedStyles,t.currentQuerySelector,{});const f=ka(this,bD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:pg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function vG(){return new o.vHH(3013,fn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:nS(e.timings,t.errors,!0);return{type:12,animation:ka(this,bD(e.animation),t),timings:r,options:null}}}class iZ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uS(n){return!Array.isArray(n)&&"object"==typeof n}function pg(n){return n?(n=Dv(n)).params&&(n.params=function rZ(n){return n?Dv(n):null}(n.params)):n={},n}function Kx(n,e,t){return{duration:n,delay:e,easing:t}}function Jx(n,e,t,r,i,l,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:u,subTimeline:f}}class dS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cZ=new RegExp(":enter","g"),dZ=new RegExp(":leave","g");function Qx(n,e,t,r,i,l={},u={},f,_,D=[]){return(new hZ).buildKeyframes(n,e,t,r,i,l,u,f,_,D)}class hZ{buildKeyframes(e,t,r,i,l,u,f,_,D,S=[]){D=D||new dS;const A=new Xx(e,t,D,i,l,S,[]);A.options=_,A.currentTimeline.setStyles([u],null,A.errors,_),ka(this,r,A);const R=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let $=R.length-1;$>=0;$--){const ee=R[$];if(ee.element===t){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,_)}return R.length?R.map(B=>B.buildKeyframes()):[Jx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const u=null!=r.duration?hg(r.duration):null,f=null!=r.delay?hg(r.delay):null;return 0!==u&&e.forEach(_=>{const D=t.appendInstructionToTimeline(_,u,f);l=Math.max(l,D.duration+D.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ka(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hS);const u=hg(l.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ka(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?hg(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),ka(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return nS(t.params?rS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?hg(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hS);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((D,S)=>{t.currentQueryIndex=S;const A=t.createSubContext(e.options,D);l&&A.delayNextStep(l),D===t.element&&(_=A.currentTimeline),ka(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const A=S.currentTime;ka(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const hS={};class Xx{constructor(e,t,r,i,l,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new fS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=hg(r.duration)),null!=r.delay&&(i.delay=hg(r.delay));const l=r.params;if(l){let u=i.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=rS(l[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new Xx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=hS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new fZ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(cZ,"."+this._enterClassName)).replace(dZ,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),f.push(...D)}return!l&&0==f.length&&u.push(function bG(n){return new o.vHH(3014,fn)}()),f}}class fS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Nd,this._currentKeyframe[t]=Nd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},u=function pZ(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Nd})):Bf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=rS(u[f],l,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Nd),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const D=Bf(f,!0);Object.keys(D).forEach(S=>{const A=D[S];"!"==A?e.add(S):A==Nd&&t.add(S)}),r||(D.offset=_/this.duration),i.push(D)});const l=e.size?iS(e.values()):[],u=t.size?iS(t.values()):[];if(r){const f=i[0],_=Dv(f);f.offset=0,_.offset=1,i=[f,_]}return Jx(this.element,i,l,u,this.duration,this.startTime,this.easing,!1)}}class fZ extends fS{constructor(e,t,r,i,l,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=r+t,f=t/u,_=Bf(e[0],!1);_.offset=0,l.push(_);const D=Bf(e[0],!1);D.offset=k2(f),l.push(D);const S=e.length-1;for(let A=1;A<=S;A++){let R=Bf(e[A],!1);R.offset=k2((t+R.offset*r)/u),l.push(R)}r=u,t=0,i="",e=l}return Jx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function k2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class eO{}class mZ extends eO{normalizePropertyName(e,t){return Wx(e)}normalizeStyleValue(e,t,r,i){let l="";const u=r.toString().trim();if(gZ[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function cG(n,e){return new o.vHH(3005,fn)}())}return u+l}}const gZ=(()=>function _Z(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function x2(n,e,t,r,i,l,u,f,_,D,S,A,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:D,postStyleProps:S,totalTime:A,errors:R}}const tO={};class O2{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function yZ(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):u}build(e,t,r,i,l,u,f,_,D,S){const A=[],R=this.ast.options&&this.ast.options.params||tO,$=this.buildStyles(r,f&&f.params||tO,A),ee=_&&_.params||tO,_e=this.buildStyles(i,ee,A),Ve=new Set,Oe=new Map,We=new Map,Ze="void"===i,yt={params:Object.assign(Object.assign({},R),ee)},ct=S?[]:Qx(e,t,this.ast.animation,l,u,$,_e,yt,D,A);let un=0;if(ct.forEach(On=>{un=Math.max(On.duration+On.delay,un)}),A.length)return x2(t,this._triggerName,r,i,Ze,$,_e,[],[],Oe,We,un,A);ct.forEach(On=>{const tn=On.element,Fn=Aa(Oe,tn,{});On.preStyleProps.forEach(cu=>Fn[cu]=!0);const mo=Aa(We,tn,{});On.postStyleProps.forEach(cu=>mo[cu]=!0),tn!==t&&Ve.add(tn)});const Pn=iS(Ve.values());return x2(t,this._triggerName,r,i,Ze,$,_e,ct,Pn,Oe,We,un)}}class vZ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Dv(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!=u&&(i[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=rS(_,i,t));const D=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,D,_,t),r[D]=_})}}),r}}class wZ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new vZ(i.style,i.options&&i.options.params||{},r)}),N2(this.states,"true","1"),N2(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new O2(e,i,this.states))}),this.fallbackTransition=function DZ(n,e,t){return new O2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function N2(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const CZ=new dS;class TZ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=zx(this._driver,t,r,[]);if(r.length)throw function IG(n){return new o.vHH(3503,fn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=d2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let u;const f=new Map;if(l?(u=Qx(this._driver,t,l,$x,X1,{},{},r,CZ,i),u.forEach(S=>{const A=Aa(f,S.element,{});S.postStyleProps.forEach(R=>A[R]=null)})):(i.push(function MG(){return new o.vHH(3300,fn)}()),u=[]),i.length)throw function AG(n){return new o.vHH(3504,fn)}();f.forEach((S,A)=>{Object.keys(S).forEach(R=>{S[R]=this._driver.computeStyle(A,R,Nd)})});const D=Vf(u.map(S=>{const A=f.get(S.element);return this._buildPlayer(S,{},A)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function kG(n){return new o.vHH(3301,fn)}();return t}listen(e,t,r,i){const l=Ux(t,"","","");return Vx(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const L2="ng-animate-queued",nO="ng-animate-disabled",AZ=[],R2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dl="__ng_removed";class rO{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function LZ(n){return null!=n?n:null}(r?e.value:e),r){const l=Dv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const wD="void",iO=new rO(wD);class xZ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hl(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function xG(n,e){return new o.vHH(3302,fn)}();if(null==r||0==r.length)throw function OG(n){return new o.vHH(3303,fn)}();if(!function RZ(n){return"start"==n||"done"==n}(r))throw function NG(n,e){return new o.vHH(3400,fn)}();const l=Aa(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};l.push(u);const f=Aa(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(hl(e,eS),hl(e,eS+"-"+t),f[t]=iO),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(u);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function LG(n){return new o.vHH(3401,fn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),u=new sO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(hl(e,eS),hl(e,eS+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const D=new rO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),f[t]=D,_||(_=iO),D.value!==wD&&_.value===D.value){if(!function VZ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,D.params)){const ee=[],_e=l.matchStyles(_.value,_.params,ee),Ve=l.matchStyles(D.value,D.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{fg(e,_e),lu(e,Ve)})}return}const R=Aa(this._engine.playersByElement,e,[]);R.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=l.matchTransition(_.value,D.value,e,D.params),$=!1;if(!B){if(!i)return;B=l.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:D,player:u,isFallbackTransition:$}),$||(hl(e,L2),u.onStart(()=>{Cv(e,L2)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ve=_e.indexOf(u);Ve>=0&&_e.splice(Ve,1)}}),this.players.push(u),R.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,tS,!0);r.forEach(i=>{if(i[dl])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(u.set(_,l[_].value),this._triggers[_]){const D=this.trigger(e,_,wD,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Vf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const u=l.name;if(i.has(u))return;i.add(u);const _=this._triggers[u].fallbackTransition,D=r[u]||iO,S=new rO(wD),A=new sO(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:D,toState:S,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[dl];(!l||l===R2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){hl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=Ux(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Vx(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class OZ{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new xZ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const D=r.indexOf(_);r.splice(D+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),u=!0;break}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const u=r[i[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(pS(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!pS(t))return;const l=t[dl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hl(e,nO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cv(e,nO))}removeNode(e,t,r,i){if(pS(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[dl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return pS(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,tS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[dl];if(r&&r.setForRemoval){if(e[dl]=R2,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(nO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Vf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function RG(n){return new o.vHH(3402,fn)}()}_flushAnimations(e,t){const r=new dS,i=[],l=new Map,u=[],f=new Map,_=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(it=>{S.add(it);const mt=this.driver.query(it,".ng-animate-queued",!0);for(let Ot=0;Ot<mt.length;Ot++)S.add(mt[Ot])});const A=this.bodyNode,R=Array.from(this.statesByElement.keys()),B=V2(R,this.collectedEnterElements),$=new Map;let ee=0;B.forEach((it,mt)=>{const Ot=$x+ee++;$.set(mt,Ot),it.forEach(En=>hl(En,Ot))});const _e=[],Ve=new Set,Oe=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const mt=this.collectedLeaveElements[it],Ot=mt[dl];Ot&&Ot.setForRemoval&&(_e.push(mt),Ve.add(mt),Ot.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(En=>Ve.add(En)):Oe.add(mt))}const We=new Map,Ze=V2(R,Array.from(Ve));Ze.forEach((it,mt)=>{const Ot=X1+ee++;We.set(mt,Ot),it.forEach(En=>hl(En,Ot))}),e.push(()=>{B.forEach((it,mt)=>{const Ot=$.get(mt);it.forEach(En=>Cv(En,Ot))}),Ze.forEach((it,mt)=>{const Ot=We.get(mt);it.forEach(En=>Cv(En,Ot))}),_e.forEach(it=>{this.processLeaveNode(it)})});const yt=[],ct=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Ot=>{const En=Ot.player,Xi=Ot.element;if(yt.push(En),this.collectedEnterElements.length){const go=Xi[dl];if(go&&go.setForMove){if(go.previousTriggersValues&&go.previousTriggersValues.has(Ot.triggerName)){const mg=go.previousTriggersValues.get(Ot.triggerName),Hf=this.statesByElement.get(Ot.element);Hf&&Hf[Ot.triggerName]&&(Hf[Ot.triggerName].value=mg)}return void En.destroy()}}const uu=!A||!this.driver.containsElement(A,Xi),xa=We.get(Xi),Uf=$.get(Xi),kr=this._buildInstruction(Ot,r,Uf,xa,uu);if(kr.errors&&kr.errors.length)return void ct.push(kr);if(uu)return En.onStart(()=>fg(Xi,kr.fromStyles)),En.onDestroy(()=>lu(Xi,kr.toStyles)),void i.push(En);if(Ot.isFallbackTransition)return En.onStart(()=>fg(Xi,kr.fromStyles)),En.onDestroy(()=>lu(Xi,kr.toStyles)),void i.push(En);const z2=[];kr.timelines.forEach(go=>{go.stretchStartingKeyframe=!0,this.disabledNodes.has(go.element)||z2.push(go)}),kr.timelines=z2,r.append(Xi,kr.timelines),u.push({instruction:kr,player:En,element:Xi}),kr.queriedElements.forEach(go=>Aa(f,go,[]).push(En)),kr.preStyleProps.forEach((go,mg)=>{const Hf=Object.keys(go);if(Hf.length){let gg=_.get(mg);gg||_.set(mg,gg=new Set),Hf.forEach(aO=>gg.add(aO))}}),kr.postStyleProps.forEach((go,mg)=>{const Hf=Object.keys(go);let gg=D.get(mg);gg||D.set(mg,gg=new Set),Hf.forEach(aO=>gg.add(aO))})});if(ct.length){const it=[];ct.forEach(mt=>{it.push(function PG(n,e){return new o.vHH(3505,fn)}())}),yt.forEach(mt=>mt.destroy()),this.reportError(it)}const un=new Map,Pn=new Map;u.forEach(it=>{const mt=it.element;r.has(mt)&&(Pn.set(mt,mt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,un))}),i.forEach(it=>{const mt=it.element;this._getPreviousPlayers(mt,!1,it.namespaceId,it.triggerName,null).forEach(En=>{Aa(un,mt,[]).push(En),En.destroy()})});const On=_e.filter(it=>U2(it,_,D)),tn=new Map;F2(tn,this.driver,Oe,D,Nd).forEach(it=>{U2(it,_,D)&&On.push(it)});const mo=new Map;B.forEach((it,mt)=>{F2(mo,this.driver,new Set(it),_,"!")}),On.forEach(it=>{const mt=tn.get(it),Ot=mo.get(it);tn.set(it,Object.assign(Object.assign({},mt),Ot))});const cu=[],DD=[],CD={};u.forEach(it=>{const{element:mt,player:Ot,instruction:En}=it;if(r.has(mt)){if(S.has(mt))return Ot.onDestroy(()=>lu(mt,En.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(En.totalTime),void i.push(Ot);let Xi=CD;if(Pn.size>1){let xa=mt;const Uf=[];for(;xa=xa.parentNode;){const kr=Pn.get(xa);if(kr){Xi=kr;break}Uf.push(xa)}Uf.forEach(kr=>Pn.set(kr,Xi))}const uu=this._buildAnimation(Ot.namespaceId,En,un,l,mo,tn);if(Ot.setRealPlayer(uu),Xi===CD)cu.push(Ot);else{const xa=this.playersByElement.get(Xi);xa&&xa.length&&(Ot.parentPlayer=Vf(xa)),i.push(Ot)}}else fg(mt,En.fromStyles),Ot.onDestroy(()=>lu(mt,En.toStyles)),DD.push(Ot),S.has(mt)&&i.push(Ot)}),DD.forEach(it=>{const mt=l.get(it.element);if(mt&&mt.length){const Ot=Vf(mt);it.setRealPlayer(Ot)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<_e.length;it++){const mt=_e[it],Ot=mt[dl];if(Cv(mt,X1),Ot&&Ot.hasAnimation)continue;let En=[];if(f.size){let uu=f.get(mt);uu&&uu.length&&En.push(...uu);let xa=this.driver.query(mt,Gx,!0);for(let Uf=0;Uf<xa.length;Uf++){let kr=f.get(xa[Uf]);kr&&kr.length&&En.push(...kr)}}const Xi=En.filter(uu=>!uu.destroyed);Xi.length?PZ(this,mt,Xi):this.processLeaveNode(mt)}return _e.length=0,cu.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const mt=this.players.indexOf(it);this.players.splice(mt,1)}),it.play()}),cu}elementContainsData(e,t){let r=!1;const i=t[dl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==wD;f.forEach(D=>{D.queued||!_&&D.triggerName!=i||u.push(D)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const l=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const D=_.element,S=D!==l,A=Aa(r,D,[]);this._getPreviousPlayers(D,S,u,f,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),A.push(B)})}fg(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,u){const f=t.triggerName,_=t.element,D=[],S=new Set,A=new Set,R=t.timelines.map($=>{const ee=$.element;S.add(ee);const _e=ee[dl];if(_e&&_e.removedBeforeQueried)return new dD($.duration,$.delay);const Ve=ee!==_,Oe=function FZ(n){const e=[];return B2(n,e),e}((r.get(ee)||AZ).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===ee),We=l.get(ee),Ze=u.get(ee),yt=d2(0,this._normalizer,0,$.keyframes,We,Ze),ct=this._buildPlayer($,yt,Oe);if($.subTimeline&&i&&A.add(ee),Ve){const un=new sO(e,f,ee);un.setRealPlayer(ct),D.push(un)}return ct});D.forEach($=>{Aa(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function NZ(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>hl($,w2));const B=Vf(R);return B.onDestroy(()=>{S.forEach($=>Cv($,w2)),lu(_,t.toStyles)}),A.forEach($=>{Aa(i,$,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dD(e.duration,e.delay)}}class sO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dD,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Vx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Aa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pS(n){return n&&1===n.nodeType}function P2(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function F2(n,e,t,r,i){const l=[];t.forEach(_=>l.push(P2(_)));const u=[];r.forEach((_,D)=>{const S={};_.forEach(A=>{const R=S[A]=e.computeStyle(D,A,i);(!R||0==R.length)&&(D[dl]=kZ,u.push(D))}),n.set(D,S)});let f=0;return t.forEach(_=>P2(_,l[f++])),u}function V2(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function u(f){if(!f)return 1;let _=l.get(f);if(_)return _;const D=f.parentNode;return _=t.has(D)?D:i.has(D)?1:u(D),l.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function hl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Cv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function PZ(n,e,t){Vf(t).onDone(()=>n.processLeaveNode(e))}function B2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof UP?B2(r.players,e):e.push(r)}}function U2(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class mS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new OZ(e,t,r),this._timelineEngine=new TZ(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],S=zx(this._driver,l,_,[]);if(_.length)throw function EG(n,e){return new o.vHH(3404,fn)}();f=function bZ(n,e,t){return new wZ(n,e,t)}(i,S,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,u]=h2(r);this._timelineEngine.command(l,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[u,f]=h2(r);return this._timelineEngine.listen(u,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UZ=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&lu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lu(this._element,this._initialStyles),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fg(this._element,this._endStyles),this._endStyles=null),lu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function oO(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];HZ(i)&&(e=e||{},e[i]=n[i])}return e}function HZ(n){return"display"===n||"position"===n}class H2{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:S2(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jZ{validateStyleProperty(e){return g2(e)}matchesElement(e,t){return!1}containsElement(e,t){return _2(e,t)}getParentElement(e){return jx(e)}query(e,t,r){return y2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(_.easing=l);const D={},S=u.filter(R=>R instanceof H2);(function ZG(n,e){return 0===n||0===e})(r,i)&&S.forEach(R=>{let B=R.currentSnapshot;Object.keys(B).forEach($=>D[$]=B[$])}),t=function qG(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],u=[];if(r.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(_){f[_]=S2(n,_)})}}return e}(e,t=t.map(R=>Bf(R,!1)),D);const A=function BZ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oO(e[0]),e.length>1&&(r=oO(e[e.length-1]))):e&&(t=oO(e)),t||r?new UZ(n,t,r):null}(e,t);return new H2(e,t,_,A)}}let YZ=(()=>{class n extends j1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?FP(t):t;return j2(this._renderer,null,r,"register",[i]),new $Z(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class $Z extends class g6{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new GZ(this._id,e,t||{},this._renderer)}}class GZ{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return j2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function j2(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Y2="@.disabled";let ZZ=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new $2("",l,this.engine),this._rendererCache.set(l,S)),S}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(u,f,t,S.name,S)};return r.data.animation.forEach(_),new qZ(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(mS),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class $2{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Y2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qZ extends $2{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Y2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function WZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function zZ(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let KZ=(()=>{class n extends mS{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se),o.LFG(Yx),o.LFG(eO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const G2=new o.OlP("AnimationModuleType"),Z2=[{provide:j1,useClass:YZ},{provide:eO,useFactory:function JZ(){return new mZ}},{provide:mS,useClass:KZ},{provide:o.FYo,useFactory:function QZ(n,e,t){return new ZZ(n,e,t)},deps:[Ln,mS,o.R0b]}],q2=[{provide:Yx,useFactory:()=>new jZ},{provide:G2,useValue:"BrowserAnimations"},...Z2],XZ=[{provide:Yx,useClass:v2},{provide:G2,useValue:"NoopAnimations"},...Z2];let eq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?XZ:q2}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:q2,imports:[Va]}),n})(),W2=(()=>{class n extends kf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),tq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[W2,{provide:ai,useExisting:W2}],imports:[[]]}),n})(),nq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[rG]}),n.\u0275inj=o.cJS({providers:[],imports:[[Va,nG,Ta.hO.initializeApp(c2_firebase),eq,jn,PF,VF,tq]]}),n})();(0,o.G48)(),wu().bootstrapModule(nq).catch(n=>console.error(n))},5867:(st,Ce,N)=>{N.d(Ce,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=N(9681);(0,o.registerVersion)("firebase","9.6.10","app")},127:(st,Ce,N)=>{N.d(Ce,{Z:()=>o.Z});var o=N(3942);o.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(st,Ce,N)=>{N.r(Ce);var o=N(5861),K=N(3942),L=N(2090),le=N(9681),X=N(655),pe=N(1877),se=N(4859);const Ne=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new pe.Yd("@firebase/auth");function ze(y,...p){tt.logLevel<=pe.in.ERROR&&tt.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw je(y,...p)}function be(y,...p){return je(y,...p)}function we(y,p,g){const b=Object.assign(Object.assign({},Fe()),{[p]:g});return new L.LL("auth","Firebase",b).create(p,{appName:y.name})}function $e(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),we(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return fe.create(y,...p)}function te(y,p,...g){if(!y)throw je(p,...g)}function z(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ze(p),new Error(p)}function oe(y,p){y||z(p)}const ge=new Map;function ae(y){oe(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(oe(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function xt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function dn(){return"http:"===Jn()||"https:"===Jn()}function Jn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Dn{constructor(p,g){this.shortDelay=p,this.longDelay=g,oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,p){oe(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class es{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ps=new Dn(3e4,6e4);function hn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function zt(y,p,g,b){return xr.apply(this,arguments)}function xr(){return(xr=(0,o.Z)(function*(y,p,g,b,I={}){return Oi(y,I,(0,o.Z)(function*(){let O={},Z={};b&&("GET"===p?Z=b:O={body:JSON.stringify(b)});const ce=(0,L.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),es.fetch()(ni(y,y.config.apiHost,g,ce),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Oi(y,p,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},yn),p);try{const I=new Fs(y),O=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw Vs(y,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ce=O.ok?Z.errorMessage:Z.error.message,[Ue,Xe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Vs(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ue)throw Vs(y,"email-already-in-use",Z);const St=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw we(y,St,Xe);Se(y,St)}}catch(I){if(I instanceof L.ZR)throw I;Se(y,"network-request-failed")}})).apply(this,arguments)}function ti(y,p,g,b){return ps.apply(this,arguments)}function ps(){return(ps=(0,o.Z)(function*(y,p,g,b,I={}){const O=yield zt(y,p,g,b,I);return"mfaPendingCredential"in O&&Se(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ni(y,p,g,b){const I=`${p}${g}?${b}`;return y.config.emulator?Cn(y.config,I):`${y.config.apiScheme}://${I}`}class Fs{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),Ps.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vs(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=be(y,p,b);return I.customData._tokenResponse=g,I}function _i(){return(_i=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Cr(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ni(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Nn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function fl(){return(fl=(0,o.Z)(function*(y,p=!1){const g=(0,L.m9)(y),b=yield g.getIdToken(p),I=ot(b);te(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:I,token:b,authTime:Nn(Kt(I.auth_time)),issuedAtTime:Nn(Kt(I.iat)),expirationTime:Nn(Kt(I.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(y){return 1e3*Number(y)}function ot(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,L.tV)(g);return I?JSON.parse(I):(ze("Failed to decode base64 JWT payload"),null)}catch(I){return ze("Caught error parsing JWT payload as JSON",I),null}}function Or(y,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,o.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&qt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function qt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class na{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class $r{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),I=yield Or(y,Ni(g,{idToken:b}));te(null==I?void 0:I.users.length,g,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const Z=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Ie(O.providerUserInfo):[],ce=Ke(y.providerData,Z),St=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ce?void 0:ce.length)),at={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ce,metadata:new $r(O.createdAt,O.lastLoginAt),isAnonymous:St};Object.assign(y,at)})).apply(this,arguments)}function $t(){return($t=(0,o.Z)(function*(y){const p=(0,L.m9)(y);yield Nr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ke(y,p){return[...y.filter(b=>!p.some(I=>I.providerId===b.providerId)),...p]}function Ie(y){return y.map(p=>{var{providerId:g}=p,b=(0,X._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,o.Z)(function*(y,p){const g=yield Oi(y,{},(0,o.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,Z=ni(y,I,"/v1/token",`key=${O}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",es.fetch()(Z,{method:"POST",headers:ce,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(void 0!==p.idToken,"internal-error"),te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Mt(y){const p=ot(y);return te(p,"internal-error"),te(void 0!==p.exp,"internal-error"),te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,o.Z)(function*(){return te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,o.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:Z}=yield function Je(y,p){return ht.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(I,O,Number(Z))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:I,expirationTime:O}=g,Z=new Zt;return b&&(te("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),I&&(te("string"==typeof I,"internal-error",{appName:p}),Z.accessToken=I),O&&(te("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Ht(y,p){te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:g,auth:b,stsTokenManager:I}=p,O=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new na(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new $r(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,o.Z)(function*(){const b=yield Or(g,g.stsTokenManager.getToken(g.auth,p));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function yo(y){return fl.apply(this,arguments)}(this,p)}reload(){return function Gr(y){return $t.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,o.Z)(function*(){let I=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield Nr(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,o.Z)(function*(){const g=yield p.getIdToken();return yield Or(p,function ut(y,p){return _i.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,I,O,Z,ce,Ue,Xe,St;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,Wn=null!==(I=g.email)&&void 0!==I?I:void 0,Ds=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Wu=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Ac=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,kc=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,bp=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,Xv=null!==(St=g.lastLoginAt)&&void 0!==St?St:void 0,{uid:qa,emailVerified:wh,isAnonymous:Dh,providerData:wp,stsTokenManager:Ch}=g;te(qa&&Ch,p,"internal-error");const ji=Zt.fromJSON(this.name,Ch);te("string"==typeof qa,p,"internal-error"),Ht(at,p.name),Ht(Wn,p.name),te("boolean"==typeof wh,p,"internal-error"),te("boolean"==typeof Dh,p,"internal-error"),Ht(Ds,p.name),Ht(Wu,p.name),Ht(Ac,p.name),Ht(kc,p.name),Ht(bp,p.name),Ht(Xv,p.name);const Dp=new H({uid:qa,auth:p,email:Wn,emailVerified:wh,displayName:at,isAnonymous:Dh,photoURL:Wu,phoneNumber:Ds,tenantId:Ac,stsTokenManager:ji,createdAt:bp,lastLoginAt:Xv});return wp&&Array.isArray(wp)&&(Dp.providerData=wp.map(Yg=>Object.assign({},Yg))),kc&&(Dp._redirectEventId=kc),Dp}static _fromIdTokenResponse(p,g,b=!1){return(0,o.Z)(function*(){const I=new Zt;I.updateFromServerResponse(g);const O=new H({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:b});return yield Nr(O),O})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,o.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,o.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,o.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function he(y,p,g){return`firebase:${y}:${p}:${g}`}class J{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:I,name:O}=this.auth;this.fullUserKey=he(this.userKey,I.apiKey,O),this.fullPersistenceKey=he("persistence",I.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?H._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,o.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,o.Z)(function*(){if(!g.length)return new J(ae(G),p,b);const I=(yield Promise.all(g.map(function(){var Xe=(0,o.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=I[0]||ae(G);const Z=he(b,p.config.apiKey,p.name);let ce=null;for(const Xe of g)try{const St=yield Xe._get(Z);if(St){const at=H._fromJSON(p,St);Xe!==O&&(ce=at),O=Xe;break}}catch(St){}const Ue=I.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&Ue.length?(O=Ue[0],ce&&(yield O._set(Z,ce.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,o.Z)(function*(St){if(St!==O)try{yield St._remove(Z)}catch(at){}});return function(St){return Xe.apply(this,arguments)}}())),new J(O,p,b)):new J(O,p,b)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Dt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(Sn(p))return"Webos";if(nn(p))return"Safari";if((p.includes("chrome/")||Zr(p))&&!p.includes("edge/"))return"Chrome";if($n(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Dt(y=(0,L.z$)()){return/firefox\//i.test(y)}function nn(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Zr(y=(0,L.z$)()){return/crios\//i.test(y)}function Jt(y=(0,L.z$)()){return/iemobile/i.test(y)}function $n(y=(0,L.z$)()){return/android/i.test(y)}function Pt(y=(0,L.z$)()){return/blackberry/i.test(y)}function Sn(y=(0,L.z$)()){return/webos/i.test(y)}function Er(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Bs(y=(0,L.z$)()){return Er(y)||$n(y)||Sn(y)||Pt(y)||/windows phone/i.test(y)||Jt(y)}function ml(y,p=[]){let g;switch(y){case"Browser":g=Be((0,L.z$)());break;case"Worker":g=`${Be((0,L.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Li{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vt(this),this.idTokenSubscription=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,o.Z)(function*(){var I,O;if(!b._deleted&&(b.persistenceManager=yield J.create(b,p),!b._deleted)){if(null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Z){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,o.Z)(function*(){var b;let I=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Z=null==I?void 0:I._redirectEventId,ce=yield g.tryRedirectSignIn(p);(!O||O===Z)&&(null==ce?void 0:ce.user)&&(I=ce.user)}return I?I._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,o.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(I){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,o.Z)(function*(){try{yield Nr(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function wt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,o.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,o.Z)(function*(){if(!g._deleted)return p&&te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,o.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,o.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,o.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,o.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,o.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,o.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,o.Z)(function*(){if(p===g.currentUser)return g.queue((0,o.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,I){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,o.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ml(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return I&&(b["X-Firebase-Client"]=I),b})()}}function Le(y){return(0,L.m9)(y)}class Vt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function or(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class vn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(p){return z("not implemented")}_linkToIdToken(p,g){return z("not implemented")}_getReauthenticationResolver(p){return z("not implemented")}}function Qn(y,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:resetPassword",hn(y,p))})).apply(this,arguments)}function Lt(y,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _s(y,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",hn(y,p))})).apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPassword",hn(y,p))})).apply(this,arguments)}function Us(y,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:sendOobCode",hn(y,p))})).apply(this,arguments)}function Qt(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(y,p){return Us(y,p)})).apply(this,arguments)}function zl(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,o.Z)(function*(y,p){return Us(y,p)})).apply(this,arguments)}function yi(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(y,p){return Us(y,p)})).apply(this,arguments)}function Pd(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,o.Z)(function*(y,p){return Us(y,p)})).apply(this,arguments)}function vi(){return(vi=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",hn(y,p))})).apply(this,arguments)}function Fd(){return(Fd=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",hn(y,p))})).apply(this,arguments)}class Ql extends vn{constructor(p,g,b,I=null){super("password",b),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new Ql(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Ql(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,o.Z)(function*(){switch(g.signInMethod){case"password":return function wo(y,p){return rn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Jl(y,p){return vi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,o.Z)(function*(){switch(b.signInMethod){case"password":return Lt(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function jf(y,p){return Fd.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ar(y,p){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithIdp",hn(y,p))})).apply(this,arguments)}class js extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new js(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I}=g,O=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!I)return null;const Z=new js(b,I);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ar(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ar(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function yg(y,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:sendVerificationCode",hn(y,p))})).apply(this,arguments)}function Co(){return(Co=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",hn(y,p))})).apply(this,arguments)}function Bd(){return(Bd=(0,o.Z)(function*(y,p){const g=yield ti(y,"POST","/v1/accounts:signInWithPhoneNumber",hn(y,p));if(g.temporaryProof)throw Vs(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const bg={USER_NOT_FOUND:"user-not-found"};function Hd(){return(Hd=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",hn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bg)})).apply(this,arguments)}class Na extends vn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Na({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Na({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function du(y,p){return Co.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function vg(y,p){return Bd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ud(y,p){return Hd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:O}=p;return b||g||I||O?new Na({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:O}):null}}class ia{constructor(p){var g,b,I,O,Z,ce;const Ue=(0,L.zd)((0,L.pd)(p)),Xe=null!==(g=Ue.apiKey)&&void 0!==g?g:null,St=null!==(b=Ue.oobCode)&&void 0!==b?b:null,at=function Tv(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Ue.mode)&&void 0!==I?I:null);te(Xe&&St&&at,"argument-error"),this.apiKey=Xe,this.operation=at,this.code=St,this.continueUrl=null!==(O=Ue.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Ue.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ce=Ue.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function Xl(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||p||y}(p);try{return new ia(g)}catch(b){return null}}}let hu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Ql._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=ia.parseLink(b);return te(I,"argument-error"),Ql._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class To{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class bi extends To{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class La extends bi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return te("providerId"in g&&"signInMethod"in g,"argument-error"),js._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),js._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return La.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return La.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:O,nonce:Z,providerId:ce}=p;if(!b&&!I&&!g&&!O||!ce)return null;try{return new La(ce)._credential({idToken:g,accessToken:b,nonce:Z,pendingToken:O})}catch(Ue){return null}}}let sa=(()=>{class y extends bi{constructor(){super("facebook.com")}static credential(g){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),_l=(()=>{class y extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),jd=(()=>{class y extends bi{constructor(){super("github.com")}static credential(g){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Bt extends vn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,ar(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ar(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I,pendingToken:O}=g;return b&&I&&O&&b===I?new Bt(b,O):null}static _create(p,g){return new Bt(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ri extends To{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ri.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ri.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Bt.fromJSON(p);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Bt._create(b,g)}catch(I){return null}}}let ec=(()=>{class y extends bi{constructor(){super("twitter.com")}static credential(g,b){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function tc(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signUp",hn(y,p))})).apply(this,arguments)}class Rr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,I=!1){return(0,o.Z)(function*(){const O=yield H._fromIdTokenResponse(p,b,I),Z=$f(b);return new Rr({user:O,providerId:Z,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const I=$f(b);return new Rr({user:p,providerId:I,_tokenResponse:b,operationType:g})})()}}function $f(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yd(){return(Yd=(0,o.Z)(function*(y){var p;const g=Le(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Rr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield tc(g,{returnSecureToken:!0}),I=yield Rr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class rc extends L.ZR{constructor(p,g,b,I){var O;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,I){return new rc(p,g,b,I)}}function ic(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?rc._fromErrorAndOperation(y,O,p,b):O})}function Ys(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function fu(){return(fu=(0,o.Z)(function*(y,p){const g=(0,L.m9)(y);yield So(!0,g,p);const{providerUserInfo:b}=yield Cr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=Ys(b||[]);return g.providerData=g.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function kn(y,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(y,p,g=!1){const b=yield Or(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Rr._forOperation(y,"link",b)})).apply(this,arguments)}function So(y,p,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,o.Z)(function*(y,p,g){yield Nr(p);const I=!1===y?"provider-already-linked":"no-such-provider";te(Ys(p.providerData).has(g)===y,p.auth,I)})).apply(this,arguments)}function $d(y,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(y,p,g=!1){const{auth:b}=y,I="reauthenticate";try{const O=yield Or(y,ic(b,I,p,y),g);te(O.idToken,b,"internal-error");const Z=ot(O.idToken);te(Z,b,"internal-error");const{sub:ce}=Z;return te(y.uid===ce,b,"user-mismatch"),Rr._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(b,"user-mismatch"),O}})).apply(this,arguments)}function aa(y,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,o.Z)(function*(y,p,g=!1){const b="signIn",I=yield ic(y,b,p),O=yield Rr._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Xn(y,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,o.Z)(function*(y,p){return aa(Le(y),p)})).apply(this,arguments)}function ts(y,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,o.Z)(function*(y,p){const g=(0,L.m9)(y);return yield So(!1,g,p.providerId),kn(g,p)})).apply(this,arguments)}function Io(y,p){return $s.apply(this,arguments)}function $s(){return($s=(0,o.Z)(function*(y,p){return $d((0,L.m9)(y),p)})).apply(this,arguments)}function sc(y,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,o.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithCustomToken",hn(y,p))})).apply(this,arguments)}function Ao(){return(Ao=(0,o.Z)(function*(y,p){const g=Le(y),b=yield sc(g,{token:p,returnSecureToken:!0}),I=yield Rr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ft{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?oc._fromServerResponse(p,g):Se(p,"internal-error")}}class oc extends ft{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new oc(g)}}function bl(y,p,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function lc(){return(lc=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y),I={requestType:"PASSWORD_RESET",email:p};g&&bl(b,I,g),yield zl(b,I)})).apply(this,arguments)}function pu(){return(pu=(0,o.Z)(function*(y,p,g){yield Qn((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Te(){return(Te=(0,o.Z)(function*(y,p){yield _s((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function jt(y,p){return gu.apply(this,arguments)}function gu(){return(gu=(0,o.Z)(function*(y,p){const g=(0,L.m9)(y),b=yield Qn(g,{oobCode:p}),I=b.requestType;switch(te(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=ft._fromServerResponse(Le(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function Pa(){return(Pa=(0,o.Z)(function*(y,p){const{data:g}=yield jt((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function Di(){return(Di=(0,o.Z)(function*(y,p,g){const b=Le(y),I=yield tc(b,{returnSecureToken:!0,email:p,password:g}),O=yield Rr._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Gd(){return(Gd=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};te(g.handleCodeInApp,b,"argument-error"),g&&bl(b,I,g),yield yi(b,I)})).apply(this,arguments)}function ko(){return(ko=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y),I=hu.credentialWithLink(p,g||xt());return te(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Xn(b,I)})).apply(this,arguments)}function Pr(y,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:createAuthUri",hn(y,p))})).apply(this,arguments)}function xo(){return(xo=(0,o.Z)(function*(y,p){const b={identifier:p,continueUri:dn()?xt():"http://localhost"},{signinMethods:I}=yield Pr((0,L.m9)(y),b);return I||[]})).apply(this,arguments)}function bu(){return(bu=(0,o.Z)(function*(y,p){const g=(0,L.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&bl(g.auth,I,p);const{email:O}=yield Qt(g.auth,I);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function fc(){return(fc=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&bl(b.auth,O,g);const{email:Z}=yield Pd(b.auth,O);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function wu(y,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Du(){return(Du=(0,o.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,L.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Z=yield Or(b,wu(b.auth,O));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ce=b.providerData.find(({providerId:Ue})=>"password"===Ue);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Tu(y,p,g){return la.apply(this,arguments)}function la(){return(la=(0,o.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Z=yield Or(y,Lt(b,O));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class ca{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Wd extends ca{constructor(p,g,b,I){super(p,g,b),this.username=I}}class zd extends ca{constructor(p,g){super(p,"facebook.com",g)}}class ua extends Wd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Oo extends ca{constructor(p,g){super(p,"google.com",g)}}class Eu extends Wd{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Kr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function qd(y){var p,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const Z=null===(g=null===(p=ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new ca(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new zd(O,I);case"github.com":return new ua(O,I);case"google.com":return new Oo(O,I);case"twitter.com":return new Eu(O,I,y.screenName||null);case"custom":case"anonymous":return new ca(O,null);default:return new ca(O,b,I)}}(g)}class Gs{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Gs("enroll",p)}static _fromMfaPendingCredential(p){return new Gs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Gs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Gs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Dl{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Le(p),I=g.customData._serverResponse,O=(I.mfaInfo||[]).map(ce=>ft._fromServerResponse(b,ce));te(I.mfaPendingCredential,b,"internal-error");const Z=Gs._fromMfaPendingCredential(I.mfaPendingCredential);return new Dl(Z,O,function(){var ce=(0,o.Z)(function*(Ue){const Xe=yield Ue._process(b,Z);delete I.mfaInfo,delete I.mfaPendingCredential;const St=Object.assign(Object.assign({},I),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const at=yield Rr._fromIdTokenResponse(b,g.operationType,St);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return te(g.user,b,"internal-error"),Rr._forOperation(g.user,g.operationType,St);default:Se(b,"internal-error")}});return function(Ue){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,o.Z)(function*(){return g.signInResolver(p)})()}}function lr(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:start",hn(y,p))}class Zs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ft._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Zs(p)}getSession(){var p=this;return(0,o.Z)(function*(){return Gs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,o.Z)(function*(){const I=p,O=yield b.getSession(),Z=yield Or(b.user,I._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var g=this;return(0,o.Z)(function*(){const b="string"==typeof p?p:p.uid,I=yield g.user.getIdToken(),O=yield Or(g.user,function Dg(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(y,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Ba=new WeakMap,Mu="__sak";class da{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const tr=(()=>{class y extends da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xd(){const y=(0,L.z$)();return nn(y)||Er(y)}()&&function _r(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Bs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),O=this.localCache[b];I!==O&&g(b,O,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ce,Ue,Xe)=>{this.notifyListeners(ce,Xe)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(I);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const O=()=>{const ce=this.storage.getItem(I);!b&&this.localCache[I]===ce||this.notifyListeners(I,ce)},Z=this.storage.getItem(I);!function pl(){return(0,L.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,O=this;return(0,o.Z)(function*(){yield I().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,o.Z)(function*(){const O=yield b().call(I,g);return I.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,I=this;return(0,o.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),Bn=(()=>{class y extends da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Sr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,o.Z)(function*(){const I=g,{eventId:O,eventType:Z,data:ce}=I.data,Ue=b.handlersMap[Z];if(!(null==Ue?void 0:Ue.size))return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Xe=Array.from(Ue).map(function(){var at=(0,o.Z)(function*(Wn){return Wn(I.origin,ce)});return function(Wn){return at.apply(this,arguments)}}()),St=yield function cr(y){return Promise.all(y.map(function(){var p=(0,o.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Xe);I.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:St})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ua(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class eh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var I=this;return(0,o.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ce;return new Promise((Ue,Xe)=>{const St=Ua("",20);O.port1.start();const at=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);ce={messageChannel:O,onMessage(Wn){const Ds=Wn;if(Ds.data.eventId===St)switch(Ds.data.status){case"ack":clearTimeout(at),Z=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ue(Ds.data.response);break;default:clearTimeout(at),clearTimeout(Z),Xe(new Error("invalid_response"))}}},I.handlers.add(ce),O.port1.addEventListener("message",ce.onMessage),I.target.postMessage({eventType:p,eventId:St,data:g},[O.port2])}).finally(()=>{ce&&I.removeMessageHandler(ce)})})()}}function Mn(){return window}function rs(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function Fi(){return(Fi=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Au="firebaseLocalStorageDb",ha="firebaseLocalStorage",Zn="fbase_key";class qs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fa(y,p){return y.transaction([ha],p?"readwrite":"readonly").objectStore(ha)}function Lo(){const y=indexedDB.open(Au,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ha,{keyPath:Zn})}catch(I){g(I)}}),y.addEventListener("success",(0,o.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ha)?p(b):(b.close(),yield function Vi(){const y=indexedDB.deleteDatabase(Au);return new qs(y).toPromise()}(),p(yield Lo()))}))})}function Bi(y,p,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,o.Z)(function*(y,p,g){const b=fa(y,!0).put({[Zn]:p,value:g});return new qs(b).toPromise()})).apply(this,arguments)}function Ro(){return(Ro=(0,o.Z)(function*(y,p){const g=fa(y,!1).get(p),b=yield new qs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function vs(y,p){const g=fa(y,!0).delete(p);return new qs(g).toPromise()}const is=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,o.Z)(function*(){return g.db||(g.db=yield Lo()),g.db})()}_withRetries(g){var b=this;return(0,o.Z)(function*(){let I=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(I++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,o.Z)(function*(){return rs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,o.Z)(function*(){g.receiver=Sr._getInstance(function th(){return rs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,o.Z)(function*(I,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(I,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,o.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,o.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function mc(){return Fi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new eh(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=O[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,o.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Ct(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Lo();return yield Bi(g,Mu,"1"),yield vs(g,Mu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,o.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,o.Z)(function*(){return I._withPendingWrite((0,o.Z)(function*(){return yield I._withRetries(O=>Bi(O,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,o.Z)(function*(){const I=yield b._withRetries(O=>function xu(y,p){return Ro.apply(this,arguments)}(O,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,o.Z)(function*(){return b._withPendingWrite((0,o.Z)(function*(){return yield b._withRetries(I=>vs(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,o.Z)(function*(){const b=yield g._withRetries(Z=>{const ce=fa(Z,!1).getAll();return new qs(ce).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:Z,value:ce}of b)O.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(ce)&&(g.notifyListeners(Z,ce),I.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!O.has(Z)&&(g.notifyListeners(Z,null),I.push(Z));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ha(y,p){return zt(y,"POST","/v2/accounts/mfaSignIn:start",hn(y,p))}function ss(){return(ss=(0,o.Z)(function*(y){return(yield zt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sn(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=I=>{const O=be("internal-error");O.customData=I,g(O)},b.type="text/javascript",b.charset="UTF-8",function rh(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Ws(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Vr=1e12;class xn{constructor(p){this.auth=p,this.counter=Vr,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new bs(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Vr;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Vr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,o.Z)(function*(){var b;return null===(b=g._widgets.get(p||Vr))||void 0===b||b.execute(),""})()}}class bs{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;te(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Un(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fo=Ws("rcb"),ih=new Dn(3e4,6e4);class Tg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(p,g=""){return te(function Eg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Mn().grecaptcha):new Promise((b,I)=>{const O=Mn().setTimeout(()=>{I(be(p,"network-request-failed"))},ih.get());Mn()[Fo]=()=>{Mn().clearTimeout(O),delete Mn()[Fo];const ce=Mn().grecaptcha;if(!ce)return void I(be(p,"internal-error"));const Ue=ce.render;ce.render=(Xe,St)=>{const at=Ue(Xe,St);return this.counter++,at},this.hostLanguage=g,b(ce)},sn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Fo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),I(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Mn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sg{load(p){return(0,o.Z)(function*(){return new xn(p)})()}clearedOneInstance(){}}const Vo="recaptcha",Ti={theme:"light",type:"image"};class Ig{constructor(p,g=Object.assign({},Ti),b){this.parameters=g,this.type=Vo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Le(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;te(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sg:new Tg,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const Z=ce=>{!ce||(p.tokenChangeListeners.delete(Z),O(ce))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Mn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){te(dn()&&!rs(),p.auth,"internal-error"),yield function Bo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Fr(y){return ss.apply(this,arguments)}(p.auth);te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zs{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Na._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Hn(){return(Hn=(0,o.Z)(function*(y,p,g){const b=Le(y),I=yield Ir(b,p,(0,L.m9)(g));return new zs(I,O=>Xn(b,O))})).apply(this,arguments)}function pa(){return(pa=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y);yield So(!1,b,"phone");const I=yield Ir(b.auth,p,(0,L.m9)(g));return new zs(I,O=>ts(b,O))})).apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y),I=yield Ir(b.auth,p,(0,L.m9)(g));return new zs(I,O=>Io(b,O))})).apply(this,arguments)}function Ir(y,p,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,o.Z)(function*(y,p,g){var b;const I=yield g.verify();try{let O;if(te("string"==typeof I,y,"argument-error"),te(g.type===Vo,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return te("enroll"===Z.type,y,"internal-error"),(yield lr(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{te("signin"===Z.type,y,"internal-error");const ce=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return te(ce,y,"missing-multi-factor-info"),(yield Ha(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield yg(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return Z}}finally{g._reset()}})).apply(this,arguments)}function Ks(){return(Ks=(0,o.Z)(function*(y,p){yield kn((0,L.m9)(y),p)})).apply(this,arguments)}let os=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Le(g)}verifyPhoneNumber(g,b){return Ir(this.auth,g,(0,L.m9)(b))}static credential(g,b){return Na._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?Na._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ma(y,p){return p?ae(p):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class oh extends vn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ar(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ar(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ar(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Mg(y){return aa(y.auth,new oh(y),y.bypassAuthState)}function qf(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),$d(g,new oh(y),y.bypassAuthState)}function Gt(y){return Js.apply(this,arguments)}function Js(){return(Js=(0,o.Z)(function*(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),kn(g,new oh(y),y.bypassAuthState)})).apply(this,arguments)}class nr{constructor(p,g,b,I,O=!1){this.auth=p,this.resolver=b,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,o.Z)(function*(b,I){p.pendingPromise={resolve:b,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,o.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:O,tenantId:Z,error:ce,type:Ue}=p;if(ce)return void g.reject(ce);const Xe={auth:g.auth,requestUri:b,sessionId:I,tenantId:Z||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Xe))}catch(St){g.reject(St)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Mg;case"linkViaPopup":case"linkViaRedirect":return Gt;case"reauthViaPopup":case"reauthViaRedirect":return qf;default:Se(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _c=new Dn(2e3,1e4);function Ho(){return(Ho=(0,o.Z)(function*(y,p,g){const b=Le(y);$e(y,p,To);const I=ma(b,g);return new El(b,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function Qs(){return(Qs=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y);$e(b.auth,p,To);const I=ma(b.auth,g);return new El(b.auth,"reauthViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}function Lu(){return(Lu=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y);$e(b.auth,p,To);const I=ma(b.auth,g);return new El(b.auth,"linkViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}let El=(()=>{class y extends nr{constructor(g,b,I,O,Z){super(g,b,O,Z),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,o.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,o.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const b=Ua();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,_c.get())};g()}}return y.currentPopupAction=null,y})();const yc=new Map;class yr extends nr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,o.Z)(function*(){let b=yc.get(g.auth._key());if(!b){try{const O=(yield function T(y,p){return E.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(I){b=()=>Promise.reject(I)}yc.set(g.auth._key(),b)}return g.bypassAuthState||yc.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const I=yield b.auth._redirectUserForId(p.eventId);if(I)return b.user=I,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function E(){return(E=(0,o.Z)(function*(y,p){const g=ke(p),b=re(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function x(y,p){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)(function*(y,p){return re(y)._set(ke(p),"true")})).apply(this,arguments)}function re(y){return ae(y._redirectPersistence)}function ke(y){return he("pendingRedirect",y.config.apiKey,y.name)}function It(){return(It=(0,o.Z)(function*(y,p,g){const b=Le(y);$e(y,p,To);const I=ma(b,g);return yield x(I,b),I._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Et(){return(Et=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y);$e(b.auth,p,To);const I=ma(b.auth,g);yield x(I,b.auth);const O=yield Ru(b);return I._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(y,p,g){const b=(0,L.m9)(y);$e(b.auth,p,To);const I=ma(b.auth,g);yield So(!1,b,p.providerId),yield x(I,b.auth);const O=yield Ru(b);return I._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function si(){return(si=(0,o.Z)(function*(y,p){return yield Le(y)._initializationPromise,ws(y,p,!1)})).apply(this,arguments)}function ws(y,p){return vc.apply(this,arguments)}function vc(){return(vc=(0,o.Z)(function*(y,p,g=!1){const b=Le(y),I=ma(b,p),Z=yield new yr(b,I,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function Ru(y){return jo.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(y){const p=Ua(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class wc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Pu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ch(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!ch(p)){const I=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dc(p))}saveEventToCache(p){this.cachedEventUids.add(Dc(p)),this.lastProcessedEventTime=Date.now()}}function Dc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ch({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Fu(y){return Il.apply(this,arguments)}function Il(){return(Il=(0,o.Z)(function*(y,p={}){return zt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ag=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iv=/^https?/;function eo(){return(eo=(0,o.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Fu(y);for(const g of p)try{if(Vu(g))return}catch(b){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Vu(y){const p=xt(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===b}if(!Iv.test(g))return!1;if(Ag.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const Av=new Dn(3e4,6e4);function kv(){const y=Mn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let uh=null;function xv(y){return uh=uh||function kg(y){return new Promise((p,g)=>{var b,I,O;function Z(){kv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{kv(),g(be(y,"network-request-failed"))},timeout:Av.get()})}if(null===(I=null===(b=Mn().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Mn().gapi)||void 0===O?void 0:O.load)){const ce=Ws("iframefcb");return Mn()[ce]=()=>{gapi.load?Z():g(be(y,"network-request-failed"))},sn(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ue=>g(Ue))}Z()}}).catch(p=>{throw uh=null,p})}(y),uh}const Wf=new Dn(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ml(y){const p=y.config;te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Cn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},I=dh.get(y.config.apiHost);I&&(b.eid=I);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function Ya(){return Ya=(0,o.Z)(function*(y){const p=yield xv(y),g=Mn().gapi;return te(g,y,"internal-error"),p.open({where:document.body,url:Ml(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},b=>new Promise(function(){var I=(0,o.Z)(function*(O,Z){yield b.restyle({setHideOnLeave:!1});const ce=be(y,"network-request-failed"),Ue=Mn().setTimeout(()=>{Z(ce)},Wf.get());function Xe(){Mn().clearTimeout(Ue),O(b)}b.ping(Xe).then(Xe,()=>{Z(ce)})});return function(O,Z){return I.apply(this,arguments)}}()))}),Ya.apply(this,arguments)}const Nv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Qf(y,p,g,b,I,O){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:I};if(p instanceof To){p.setDefaultLanguage(y.languageCode),Z.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,Xe]of Object.entries(O||{}))Z[Ue]=Xe}if(p instanceof bi){const Ue=p.getScopes().filter(Xe=>""!==Xe);Ue.length>0&&(Z.scopes=Ue.join(","))}y.tenantId&&(Z.tid=y.tenantId);const ce=Z;for(const Ue of Object.keys(ce))void 0===ce[Ue]&&delete ce[Ue];return`${function Rv({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ce).slice(1)}`}const Yo="webStorageSupport";class Xf extends class xg{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Xf(p)}_finalizeEnroll(p,g,b){return function Jd(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:finalize",hn(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Ui(y,p){return zt(y,"POST","/v2/accounts/mfaSignIn:finalize",hn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pv=(()=>{class y{constructor(){}static assertion(g){return Xf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Fv="@firebase/auth",ep="0.19.11";class Og{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,o.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var I;p((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $o(){return window}function Ec(){return(Ec=(0,o.Z)(function*(y,p,g){var b;const{BuildInfo:I}=$o();oe(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Al(p.sessionId),Z={};return Er()?Z.ibi=I.packageName:$n()?Z.apn=I.packageName:Se(y,"operation-not-supported-in-this-environment"),I.displayName&&(Z.appDisplayName=I.displayName),Z.sessionId=O,Qf(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Z)})).apply(this,arguments)}function ls(){return(ls=(0,o.Z)(function*(y){const{BuildInfo:p}=$o(),g={};Er()?g.iosBundleId=p.packageName:$n()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Fu(y,g)})).apply(this,arguments)}function gh(){return(gh=(0,o.Z)(function*(y,p,g){const{cordova:b}=$o();let I=()=>{};try{yield new Promise((O,Z)=>{let ce=null;function Ue(){var at;O();const Wn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Xe(){ce||(ce=window.setTimeout(()=>{Z(be(y,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}p.addPassiveListener(Ue),document.addEventListener("resume",Xe,!1),$n()&&document.addEventListener("visibilitychange",St,!1),I=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",St,!1),ce&&window.clearTimeout(ce)}})}finally{I()}})).apply(this,arguments)}function Al(y){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,o.Z)(function*(y){const p=Sc(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sc(y){if(oe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function Bv(y){(0,le._registerComponent)(new se.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),{apiKey:O,authDomain:Z}=b.options;return((ce,Ue)=>{te(O&&!O.includes(":"),"invalid-api-key",{appName:ce.name}),te(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:ce.name});const Xe={apiKey:O,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ml(y)},St=new Li(ce,Ue,Xe);return function ue(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(St,g),St})(b,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new se.wA("auth-internal",p=>{const g=Le(p.getProvider("auth").getImmediate());return new Og(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Fv,ep,function Vv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Fv,ep,"esm2017")}("Browser");class ip extends wc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function Hu(y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(y){const p=yield Ic()._get(op(y));return p&&(yield Ic()._remove(op(y))),p})).apply(this,arguments)}function ju(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Ic(){return ae(tr)}function op(y){return he("authEvent",y.config.apiKey,y.name)}function yh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function up(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function vh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Pg(y=(0,L.z$)()){return!("file:"!==vh()&&"ionic:"!==vh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){try{const y=self.localStorage,p=Ua();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Za(y=(0,L.z$)()){return function $v(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Gv(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return va()&&(0,L.hl)()}return!1}function va(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gu(){return(function Yv(){return"http:"===vh()||"https:"===vh()}()||(0,L.ru)()||Pg())&&!function bh(){return(0,L.b$)()||(0,L.UG)()}()&&Jr()&&!va()}function dp(){return Pg()&&"undefined"!=typeof document}function kl(){return(kl=(0,o.Z)(function*(){return!!dp()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const cs={LOCAL:"local",NONE:"none",SESSION:"session"},xl=te,fp="persistence";function Ol(y){return pp.apply(this,arguments)}function pp(){return(pp=(0,o.Z)(function*(y){yield y._initializationPromise;const p=Zu(),g=he(fp,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Zu(){var y;try{return(null===(y=function hp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Zv=te;class Hi{constructor(){this.browserResolver=ae(class $a{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bn,this._completeRedirectFn=ws}_openPopup(p,g,b,I){var O=this;return(0,o.Z)(function*(){var Z;oe(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ce=Qf(p,g,b,xt(),I);return function mh(y,p,g,b=500,I=600){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ue=Object.assign(Object.assign({},Nv),{width:b.toString(),height:I.toString(),top:O,left:Z}),Xe=(0,L.z$)().toLowerCase();g&&(ce=Zr(Xe)?"_blank":g),Dt(Xe)&&(p=p||"http://localhost",Ue.scrollbars="yes");const St=Object.entries(Ue).reduce((Wn,[Ds,Wu])=>`${Wn}${Ds}=${Wu},`,"");if(function Wl(y=(0,L.z$)()){var p;return Er(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Xe)&&"_self"!==ce)return function Jf(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ce),new ph(null);const at=window.open(p||"",ce,St);te(at,y,"popup-blocked");try{at.focus()}catch(Wn){}return new ph(at)}(p,ce,Ua())})()}_openRedirect(p,g,b,I){var O=this;return(0,o.Z)(function*(){return yield O._originValidation(p),function Zf(y){Mn().location.href=y}(Qf(p,g,b,xt(),I)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:O}=this.eventManagers[g];return I?Promise.resolve(I):(oe(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,o.Z)(function*(){const b=yield function Ov(y){return Ya.apply(this,arguments)}(p),I=new wc(p);return b.register("authEvent",O=>(te(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=b,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Yo,{type:Yo},I=>{var O;const Z=null===(O=null==I?void 0:I[0])||void 0===O?void 0:O[Yo];void 0!==Z&&g(!!Z),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Mv(y){return eo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Bs()||nn()||Er()}}),this.cordovaResolver=ae(class cp{constructor(){this._redirectPersistence=Bn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ws}_initialize(p){var g=this;return(0,o.Z)(function*(){const b=p._key();let I=g.eventManagers.get(b);return I||(I=new ip(p),g.eventManagers.set(b,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,I){var O=this;return(0,o.Z)(function*(){!function _h(y){var p,g,b,I,O,Z,ce,Ue,Xe,St;const at=$o();te("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(O=null===(I=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(ce=null===(Z=null==at?void 0:at.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(St=null===(Xe=null==at?void 0:at.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===St?void 0:St.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield O._initialize(p);yield Z.initialized(),Z.resetRedirect(),function W(){yc.clear()}(),yield O._originValidation(p);const ce=function sp(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ju(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,b,I);yield function SD(y,p){return Ic()._set(op(y),p)}(p,ce);const Ue=yield function tp(y,p,g){return Ec.apply(this,arguments)}(p,ce,g),Xe=yield function Uu(y){const{cordova:p}=$o();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let I=null;b?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function ra(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(Ue);return function Ng(y,p,g){return gh.apply(this,arguments)}(p,Z,Xe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function np(y){return ls.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:O}=$o(),Z=setTimeout((0,o.Z)(function*(){yield Hu(p),g.onEvent(up())}),500),ce=function(){var St=(0,o.Z)(function*(at){clearTimeout(Z);const Wn=yield Hu(p);let Ds=null;Wn&&(null==at?void 0:at.url)&&(Ds=function Hv(y,p){var g,b;const I=function Yu(y){const p=yh(y),g=p.link?decodeURIComponent(p.link):void 0,b=yh(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return yh(I).link||I||b||g||y}(p);if(I.includes("/__/auth/callback")){const O=yh(I),Z=O.firebaseError?function ap(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ce=null===(b=null===(g=null==Z?void 0:Z.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=ce?be(ce):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Wn,at.url)),g.onEvent(Ds||up())});return function(Wn){return St.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ue=I,Xe=`${O.packageName.toLowerCase()}://`;$o().handleOpenURL=function(){var St=(0,o.Z)(function*(at){if(at.toLowerCase().startsWith(Xe)&&ce({url:at}),"function"==typeof Ue)try{Ue(at)}catch(Wn){console.error(Wn)}});return function(at){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bn,this._completeRedirectFn=ws}_initialize(p){var g=this;return(0,o.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,I){var O=this;return(0,o.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,I)})()}_openRedirect(p,g,b,I){var O=this;return(0,o.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return dp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const g=yield function oi(){return kl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Bg(y){return y.unwrap()}function Nl(y){return Ug(y)}function Ug(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return os.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=_l;break;case"facebook.com":b=sa;break;case"github.com":b=jd;break;case"twitter.com":b=ec;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:ce,nonce:Ue}=p;return O||Z||I||ce?ce?g.startsWith("saml.")?Bt._create(g,ce):js._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:I,accessToken:O}):new La(g).credential({idToken:I,accessToken:O,rawNonce:Ue}):null}return y instanceof L.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Qr(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function Wv(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new zv(y,function pc(y,p){var g;const b=(0,L.m9)(y),I=p;return te(p.customData.operationType,b,"argument-error"),te(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Dl._fromError(b,I)}(y,p));else if(b){const I=Ug(p),O=p;I&&(O.credential=I,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:Nl(g),additionalUserInfo:Kr(g),user:ba.getOrCreate(I)}})}function mp(y,p){return gp.apply(this,arguments)}function gp(){return(gp=(0,o.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Qr(y,g.confirm(b))}})).apply(this,arguments)}class zv{constructor(p,g){this.resolver=g,this.auth=function qv(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Qr(Bg(this.auth),this.resolver.resolveSignIn(p))}}class ba{constructor(p){this._delegate=p,this.multiFactor=function Qd(y){const p=(0,L.m9)(y);return Ba.has(p)||Ba.set(p,Zs._fromUser(p)),Ba.get(p)}(p)}static getOrCreate(p){return ba.USER_MAP.has(p)||ba.USER_MAP.set(p,new ba(p)),ba.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,o.Z)(function*(){return Qr(g.auth,ts(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,o.Z)(function*(){return mp(b.auth,function Nu(y,p,g){return pa.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,o.Z)(function*(){return Qr(g.auth,function Xs(y,p,g){return Lu.apply(this,arguments)}(g._delegate,p,Hi))})()}linkWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield Ol(Le(g.auth)),function Yt(y,p,g){return function Sl(y,p,g){return as.apply(this,arguments)}(y,p,g)}(g._delegate,p,Hi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,o.Z)(function*(){return Qr(g.auth,Io(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return mp(this.auth,function sh(y,p,g){return Cl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Qr(this.auth,function ah(y,p,g){return Qs.apply(this,arguments)}(this._delegate,p,Hi))}reauthenticateWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield Ol(Le(g.auth)),function Ut(y,p,g){return function Tt(y,p,g){return Et.apply(this,arguments)}(y,p,g)}(g._delegate,p,Hi)})()}sendEmailVerification(p){return function ns(y,p){return bu.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,o.Z)(function*(){return yield function yl(y,p){return fu.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Cu(y,p){return Tu((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Zd(y,p){return Tu((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Tl(y,p){return Ks.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Va(y,p){return Du.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function hc(y,p,g){return fc.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const qu=te;let _p=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;qu(I,"invalid-api-key",{appName:g.name}),qu(I,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Hi:void 0;this._delegate=b.initialize({options:{persistence:Kv(I,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function In(y,p,g){const b=Le(y);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),O=Lr(p),{host:Z,port:ce}=function vo(y){const p=Lr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const O=I[1];return{host:O,port:or(b.substr(O.length+1))}}{const[O,Z]=b.split(":");return{host:O,port:or(Z)}}}(p);b.config.emulator={url:`${O}//${Z}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ce,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function gs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function mu(y,p){return Te.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return jt(this._delegate,g)}confirmPasswordReset(g,b){return function cc(y,p,g){return pu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,o.Z)(function*(){return Qr(I._delegate,function Fa(y,p,g){return Di.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function dc(y,p){return xo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function vu(y,p){const g=ia.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,o.Z)(function*(){qu(Gu(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function ga(y,p){return si.apply(this,arguments)}(g._delegate,Hi);return b?Qr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Rg(y,p){Le(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:O,error:Z,complete:ce}=yp(g,b,I);return this._delegate.onAuthStateChanged(O,Z,ce)}onIdTokenChanged(g,b,I){const{next:O,error:Z,complete:ce}=yp(g,b,I);return this._delegate.onIdTokenChanged(O,Z,ce)}sendSignInLinkToEmail(g,b){return function yu(y,p,g){return Gd.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function ac(y,p,g){return lc.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,o.Z)(function*(){let I;switch(function Fg(y,p){xl(Object.values(cs).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?xl(p!==cs.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?xl(p===cs.NONE,y,"unsupported-persistence-type"):va()?xl(p===cs.NONE||p===cs.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):xl(p===cs.NONE||Jr(),y,"unsupported-persistence-type")}(b._delegate,g),g){case cs.SESSION:I=Bn;break;case cs.LOCAL:I=(yield ae(is)._isAvailable())?is:tr;break;case cs.NONE:I=G;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Qr(this._delegate,function nc(y){return Yd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Qr(this._delegate,Xn(this._delegate,g))}signInWithCustomToken(g){return Qr(this._delegate,function Mo(y,p){return Ao.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Qr(this._delegate,function _u(y,p,g){return Xn((0,L.m9)(y),hu.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Qr(this._delegate,function uc(y,p,g){return ko.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return mp(this._delegate,function gc(y,p,g){return Hn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,o.Z)(function*(){return qu(Gu(),b._delegate,"operation-not-supported-in-this-environment"),Qr(b._delegate,function Uo(y,p,g){return Ho.apply(this,arguments)}(b._delegate,g,Hi))})()}signInWithRedirect(g){var b=this;return(0,o.Z)(function*(){return qu(Gu(),b._delegate,"operation-not-supported-in-this-environment"),yield Ol(b._delegate),function Qe(y,p,g){return function At(y,p,g){return It.apply(this,arguments)}(y,p,g)}(b._delegate,g,Hi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ln(y,p){return Pa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=cs,y})();function yp(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const I=b;return{next:Z=>I(Z&&ba.getOrCreate(Z)),error:p,complete:g}}function Kv(y,p){const g=function Vg(y,p){const g=Zu();if(!g)return[];const b=he(fp,y,p);switch(g.getItem(b)){case cs.NONE:return[G];case cs.LOCAL:return[is,Bn];case cs.SESSION:return[Bn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(is)&&g.push(is),"undefined"!=typeof window)for(const b of[tr,Bn])g.includes(b)||g.push(b);return g.includes(G)||g.push(G),g}class vp{constructor(){this.providerId="phone",this._delegate=new os(Bg(K.Z.auth()))}static credential(p,g){return os.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}vp.PHONE_SIGN_IN_METHOD=os.PHONE_SIGN_IN_METHOD,vp.PROVIDER_ID=os.PROVIDER_ID;const Jv=te;class Qv{constructor(p,g,b=K.Z.app()){var I;Jv(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ig(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jg(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new _p(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hu,FacebookAuthProvider:sa,GithubAuthProvider:jd,GoogleAuthProvider:_l,OAuthProvider:La,SAMLAuthProvider:Ri,PhoneAuthProvider:vp,PhoneMultiFactorGenerator:Pv,RecaptchaVerifier:Qv,TwitterAuthProvider:ec,Auth:_p,AuthCredential:vn,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(st,Ce,N)=>{N.d(Ce,{y:()=>j});var o=N(930),K=N(727),L=N(8822),le=N(4671);var se=N(2416),ie=N(576),ne=N(2806);let j=(()=>{class Me{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const fe=new Me;return fe.source=this,fe.operator=Fe,fe}subscribe(Fe,fe,De){const tt=function qe(Me){return Me&&Me instanceof o.Lv||function Q(Me){return Me&&(0,ie.m)(Me.next)&&(0,ie.m)(Me.error)&&(0,ie.m)(Me.complete)}(Me)&&(0,K.Nn)(Me)}(Fe)?Fe:new o.Hp(Fe,fe,De);return(0,ne.x)(()=>{const{operator:ze,source:Se}=this;tt.add(ze?ze.call(tt,Se):Se?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(fe){Fe.error(fe)}}forEach(Fe,fe){return new(fe=Y(fe))((De,tt)=>{const ze=new o.Hp({next:Se=>{try{Fe(Se)}catch(be){tt(be),ze.unsubscribe()}},error:tt,complete:De});this.subscribe(ze)})}_subscribe(Fe){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Fe)}[L.L](){return this}pipe(...Fe){return function pe(Me){return 0===Me.length?le.y:1===Me.length?Me[0]:function(Fe){return Me.reduce((fe,De)=>De(fe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=Y(Fe))((fe,De)=>{let tt;this.subscribe(ze=>tt=ze,ze=>De(ze),()=>fe(tt))})}}return Me.create=Ne=>new Me(Ne),Me})();function Y(Me){var Ne;return null!==(Ne=null!=Me?Me:se.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(st,Ce,N)=>{N.d(Ce,{x:()=>se});var o=N(8306),K=N(727);const le=(0,N(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=N(8737),pe=N(2806);let se=(()=>{class ne extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Q=new ie(this,this);return Q.operator=Y,Q}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(Y)}})}error(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Q}=this;for(;Q.length;)Q.shift().error(Y)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Q,isStopped:qe,observers:Me}=this;return Q||qe?K.Lc:(this.currentObservers=null,Me.push(Y),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Me,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Q,thrownError:qe,isStopped:Me}=this;Q?Y.error(qe):Me&&Y.complete()}asObservable(){const Y=new o.y;return Y.source=this,Y}}return ne.create=(j,Y)=>new ie(j,Y),ne})();class ie extends se{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Q||Q.call(Y,j)}error(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Q||Q.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,Q;return null!==(Q=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==Q?Q:K.Lc}}},930:(st,Ce,N)=>{N.d(Ce,{Hp:()=>Fe,Lv:()=>Q});var o=N(576),K=N(727),L=N(2416),le=N(7849),X=N(5032);const pe=ne("C",void 0,void 0);function ne(Se,be,we){return{kind:Se,value:be,error:we}}var j=N(3410),Y=N(2806);class Q extends K.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,K.Nn)(be)&&be.add(this)):this.destination=ze}static create(be,we,$e){return new Fe(be,we,$e)}next(be){this.isStopped?tt(function ie(Se){return ne("N",Se,void 0)}(be),this):this._next(be)}error(be){this.isStopped?tt(function se(Se){return ne("E",void 0,Se)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?tt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Me(Se,be){return qe.call(Se,be)}class Ne{constructor(be){this.partialObserver=be}next(be){const{partialObserver:we}=this;if(we.next)try{we.next(be)}catch($e){fe($e)}}error(be){const{partialObserver:we}=this;if(we.error)try{we.error(be)}catch($e){fe($e)}else fe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(we){fe(we)}}}class Fe extends Q{constructor(be,we,$e){let je;if(super(),(0,o.m)(be)||!be)je={next:null!=be?be:void 0,error:null!=we?we:void 0,complete:null!=$e?$e:void 0};else{let te;this&&L.v.useDeprecatedNextContext?(te=Object.create(be),te.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&Me(be.next,te),error:be.error&&Me(be.error,te),complete:be.complete&&Me(be.complete,te)}):je=be}this.destination=new Ne(je)}}function fe(Se){L.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Se):(0,le.h)(Se)}function tt(Se,be){const{onStoppedNotification:we}=L.v;we&&j.z.setTimeout(()=>we(Se,be))}const ze={closed:!0,next:X.Z,error:function De(Se){throw Se},complete:X.Z}},727:(st,Ce,N)=>{N.d(Ce,{Lc:()=>pe,w0:()=>X,Nn:()=>se});var o=N(576);const L=(0,N(3888).d)(ne=>function(Y){ne(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Q,qe)=>`${qe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=N(8737);class X{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Me of Y)Me.remove(this);else Y.remove(this);const{initialTeardown:Q}=this;if((0,o.m)(Q))try{Q()}catch(Me){j=Me instanceof L?Me.errors:[Me]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Me of qe)try{ie(Me)}catch(Ne){j=null!=j?j:[],Ne instanceof L?j=[...j,...Ne.errors]:j.push(Ne)}}if(j)throw new L(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)ie(j);else{if(j instanceof X){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,le.P)(Y,j),j instanceof X&&j._removeParent(this)}}X.EMPTY=(()=>{const ne=new X;return ne.closed=!0,ne})();const pe=X.EMPTY;function se(ne){return ne instanceof X||ne&&"closed"in ne&&(0,o.m)(ne.remove)&&(0,o.m)(ne.add)&&(0,o.m)(ne.unsubscribe)}function ie(ne){(0,o.m)(ne)?ne():ne.unsubscribe()}},2416:(st,Ce,N)=>{N.d(Ce,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,N)=>{N.d(Ce,{E:()=>K});const K=new(N(8306).y)(X=>X.complete())},8996:(st,Ce,N)=>{N.d(Ce,{D:()=>be});var o=N(8421),K=N(5363),L=N(9468),pe=N(8306),ie=N(2202),ne=N(576),j=N(9672);function Q(we,$e){if(!we)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,j.f)(je,$e,()=>{const te=we[Symbol.asyncIterator]();(0,j.f)(je,$e,()=>{te.next().then(z=>{z.done?je.complete():je.next(z.value)})},0,!0)})})}var qe=N(3670),Me=N(8239),Ne=N(1144),Fe=N(6495),fe=N(2206),De=N(4532),tt=N(3260);function be(we,$e){return $e?function Se(we,$e){if(null!=we){if((0,qe.c)(we))return function le(we,$e){return(0,o.Xf)(we).pipe((0,L.R)($e),(0,K.Q)($e))}(we,$e);if((0,Ne.z)(we))return function se(we,$e){return new pe.y(je=>{let te=0;return $e.schedule(function(){te===we.length?je.complete():(je.next(we[te++]),je.closed||this.schedule())})})}(we,$e);if((0,Me.t)(we))return function X(we,$e){return(0,o.Xf)(we).pipe((0,L.R)($e),(0,K.Q)($e))}(we,$e);if((0,fe.D)(we))return Q(we,$e);if((0,Fe.T)(we))return function Y(we,$e){return new pe.y(je=>{let te;return(0,j.f)(je,$e,()=>{te=we[ie.h](),(0,j.f)(je,$e,()=>{let z,oe;try{({value:z,done:oe}=te.next())}catch(ge){return void je.error(ge)}oe?je.complete():je.next(z)},0,!0)}),()=>(0,ne.m)(null==te?void 0:te.return)&&te.return()})}(we,$e);if((0,tt.L)(we))return function ze(we,$e){return Q((0,tt.Q)(we),$e)}(we,$e)}throw(0,De.z)(we)}(we,$e):(0,o.Xf)(we)}},8421:(st,Ce,N)=>{N.d(Ce,{Xf:()=>qe});var o=N(655),K=N(1144),L=N(8239),le=N(8306),X=N(3670),pe=N(2206),se=N(4532),ie=N(6495),ne=N(3260),j=N(576),Y=N(7849),Q=N(8822);function qe(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,X.c)(Se))return function Me(Se){return new le.y(be=>{const we=Se[Q.L]();if((0,j.m)(we.subscribe))return we.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,K.z)(Se))return function Ne(Se){return new le.y(be=>{for(let we=0;we<Se.length&&!be.closed;we++)be.next(Se[we]);be.complete()})}(Se);if((0,L.t)(Se))return function Fe(Se){return new le.y(be=>{Se.then(we=>{be.closed||(be.next(we),be.complete())},we=>be.error(we)).then(null,Y.h)})}(Se);if((0,pe.D)(Se))return De(Se);if((0,ie.T)(Se))return function fe(Se){return new le.y(be=>{for(const we of Se)if(be.next(we),be.closed)return;be.complete()})}(Se);if((0,ne.L)(Se))return function tt(Se){return De((0,ne.Q)(Se))}(Se)}throw(0,se.z)(Se)}function De(Se){return new le.y(be=>{(function ze(Se,be){var we,$e,je,te;return(0,o.mG)(this,void 0,void 0,function*(){try{for(we=(0,o.KL)(Se);!($e=yield we.next()).done;)if(be.next($e.value),be.closed)return}catch(z){je={error:z}}finally{try{$e&&!$e.done&&(te=we.return)&&(yield te.call(we))}finally{if(je)throw je.error}}be.complete()})})(Se,be).catch(we=>be.error(we))})}},6451:(st,Ce,N)=>{N.d(Ce,{T:()=>pe});var o=N(8189),K=N(8421),L=N(515),le=N(3269),X=N(8996);function pe(...se){const ie=(0,le.yG)(se),ne=(0,le._6)(se,1/0),j=se;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,o.J)(ne)((0,X.D)(j,ie)):L.E}},5403:(st,Ce,N)=>{N.d(Ce,{x:()=>K});var o=N(930);function K(le,X,pe,se,ie){return new L(le,X,pe,se,ie)}class L extends o.Lv{constructor(X,pe,se,ie,ne,j){super(X),this.onFinalize=ne,this.shouldUnsubscribe=j,this._next=pe?function(Y){try{pe(Y)}catch(Q){X.error(Q)}}:super._next,this._error=ie?function(Y){try{ie(Y)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(Y){X.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(st,Ce,N)=>{N.d(Ce,{U:()=>L});var o=N(4482),K=N(5403);function L(le,X){return(0,o.e)((pe,se)=>{let ie=0;pe.subscribe((0,K.x)(se,ne=>{se.next(le.call(X,ne,ie++))}))})}},8189:(st,Ce,N)=>{N.d(Ce,{J:()=>L});var o=N(5577),K=N(4671);function L(le=1/0){return(0,o.z)(K.y,le)}},5577:(st,Ce,N)=>{N.d(Ce,{z:()=>ie});var o=N(4004),K=N(8421),L=N(4482),le=N(9672),X=N(5403),se=N(576);function ie(ne,j,Y=1/0){return(0,se.m)(j)?ie((Q,qe)=>(0,o.U)((Me,Ne)=>j(Q,Me,qe,Ne))((0,K.Xf)(ne(Q,qe))),Y):("number"==typeof j&&(Y=j),(0,L.e)((Q,qe)=>function pe(ne,j,Y,Q,qe,Me,Ne,Fe){const fe=[];let De=0,tt=0,ze=!1;const Se=()=>{ze&&!fe.length&&!De&&j.complete()},be=$e=>De<Q?we($e):fe.push($e),we=$e=>{Me&&j.next($e),De++;let je=!1;(0,K.Xf)(Y($e,tt++)).subscribe((0,X.x)(j,te=>{null==qe||qe(te),Me?be(te):j.next(te)},()=>{je=!0},void 0,()=>{if(je)try{for(De--;fe.length&&De<Q;){const te=fe.shift();Ne?(0,le.f)(j,Ne,()=>we(te)):we(te)}Se()}catch(te){j.error(te)}}))};return ne.subscribe((0,X.x)(j,be,()=>{ze=!0,Se()})),()=>{null==Fe||Fe()}}(Q,qe,ne,Y)))}},5363:(st,Ce,N)=>{N.d(Ce,{Q:()=>le});var o=N(9672),K=N(4482),L=N(5403);function le(X,pe=0){return(0,K.e)((se,ie)=>{se.subscribe((0,L.x)(ie,ne=>(0,o.f)(ie,X,()=>ie.next(ne),pe),()=>(0,o.f)(ie,X,()=>ie.complete(),pe),ne=>(0,o.f)(ie,X,()=>ie.error(ne),pe)))})}},3099:(st,Ce,N)=>{N.d(Ce,{B:()=>pe});var o=N(8996),K=N(5698),L=N(7579),le=N(930),X=N(4482);function pe(ie={}){const{connector:ne=(()=>new L.x),resetOnError:j=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Q=!0}=ie;return qe=>{let Me=null,Ne=null,Fe=null,fe=0,De=!1,tt=!1;const ze=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Se=()=>{ze(),Me=Fe=null,De=tt=!1},be=()=>{const we=Me;Se(),null==we||we.unsubscribe()};return(0,X.e)((we,$e)=>{fe++,!tt&&!De&&ze();const je=Fe=null!=Fe?Fe:ne();$e.add(()=>{fe--,0===fe&&!tt&&!De&&(Ne=se(be,Q))}),je.subscribe($e),Me||(Me=new le.Hp({next:te=>je.next(te),error:te=>{tt=!0,ze(),Ne=se(Se,j,te),je.error(te)},complete:()=>{De=!0,ze(),Ne=se(Se,Y),je.complete()}}),(0,o.D)(we).subscribe(Me))})(qe)}}function se(ie,ne,...j){return!0===ne?(ie(),null):!1===ne?null:ne(...j).pipe((0,K.q)(1)).subscribe(()=>ie())}},9468:(st,Ce,N)=>{N.d(Ce,{R:()=>K});var o=N(4482);function K(L,le=0){return(0,o.e)((X,pe)=>{pe.add(L.schedule(()=>X.subscribe(pe),le))})}},5698:(st,Ce,N)=>{N.d(Ce,{q:()=>le});var o=N(515),K=N(4482),L=N(5403);function le(X){return X<=0?()=>o.E:(0,K.e)((pe,se)=>{let ie=0;pe.subscribe((0,L.x)(se,ne=>{++ie<=X&&(se.next(ne),X<=ie&&se.complete())}))})}},8505:(st,Ce,N)=>{N.d(Ce,{b:()=>X});var o=N(576),K=N(4482),L=N(5403),le=N(4671);function X(pe,se,ie){const ne=(0,o.m)(pe)||se||ie?{next:pe,error:se,complete:ie}:pe;return ne?(0,K.e)((j,Y)=>{var Q;null===(Q=ne.subscribe)||void 0===Q||Q.call(ne);let qe=!0;j.subscribe((0,L.x)(Y,Me=>{var Ne;null===(Ne=ne.next)||void 0===Ne||Ne.call(ne,Me),Y.next(Me)},()=>{var Me;qe=!1,null===(Me=ne.complete)||void 0===Me||Me.call(ne),Y.complete()},Me=>{var Ne;qe=!1,null===(Ne=ne.error)||void 0===Ne||Ne.call(ne,Me),Y.error(Me)},()=>{var Me,Ne;qe&&(null===(Me=ne.unsubscribe)||void 0===Me||Me.call(ne)),null===(Ne=ne.finalize)||void 0===Ne||Ne.call(ne)}))}):le.y}},4408:(st,Ce,N)=>{N.d(Ce,{o:()=>X});var o=N(727);class K extends o.w0{constructor(se,ie){super()}schedule(se,ie=0){return this}}const L={setInterval(pe,se,...ie){const{delegate:ne}=L;return(null==ne?void 0:ne.setInterval)?ne.setInterval(pe,se,...ie):setInterval(pe,se,...ie)},clearInterval(pe){const{delegate:se}=L;return((null==se?void 0:se.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=N(8737);class X extends K{constructor(se,ie){super(se,ie),this.scheduler=se,this.work=ie,this.pending=!1}schedule(se,ie=0){if(this.closed)return this;this.state=se;const ne=this.id,j=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(j,ne,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(j,this.id,ie),this}requestAsyncId(se,ie,ne=0){return L.setInterval(se.flush.bind(se,this),ne)}recycleAsyncId(se,ie,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return ie;L.clearInterval(ie)}execute(se,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(se,ie);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ie){let j,ne=!1;try{this.work(se)}catch(Y){ne=!0,j=Y||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:se,scheduler:ie}=this,{actions:ne}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ne,this),null!=se&&(this.id=this.recycleAsyncId(ie,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,N)=>{N.d(Ce,{v:()=>L});var o=N(6063);class K{constructor(X,pe=K.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,se){return new this.schedulerActionCtor(this,X).schedule(se,pe)}}K.now=o.l.now;class L extends K{constructor(X,pe=K.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let se;this._active=!0;do{if(se=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,se){for(;X=pe.shift();)X.unsubscribe();throw se}}}},4986:(st,Ce,N)=>{N.d(Ce,{z:()=>L,P:()=>le});var o=N(4408);const L=new(N(7565).v)(o.o),le=L},6063:(st,Ce,N)=>{N.d(Ce,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},233:(st,Ce,N)=>{N.d(Ce,{N:()=>X});var o=N(4408),L=N(7565);const X=new class le extends L.v{}(class K extends o.o{constructor(ie,ne){super(ie,ne),this.scheduler=ie,this.work=ne}schedule(ie,ne=0){return ne>0?super.schedule(ie,ne):(this.delay=ne,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ne){return ne>0||this.closed?super.execute(ie,ne):this._execute(ie,ne)}requestAsyncId(ie,ne,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(ie,ne,j):ie.flush(this)}})},3410:(st,Ce,N)=>{N.d(Ce,{z:()=>o});const o={setTimeout(K,L,...le){const{delegate:X}=o;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,L,...le):setTimeout(K,L,...le)},clearTimeout(K){const{delegate:L}=o;return((null==L?void 0:L.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(st,Ce,N)=>{N.d(Ce,{h:()=>K});const K=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,N)=>{N.d(Ce,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,N)=>{N.d(Ce,{jO:()=>le,yG:()=>X,_6:()=>pe});var o=N(576),K=N(3532);function L(se){return se[se.length-1]}function le(se){return(0,o.m)(L(se))?se.pop():void 0}function X(se){return(0,K.K)(L(se))?se.pop():void 0}function pe(se,ie){return"number"==typeof L(se)?se.pop():ie}},8737:(st,Ce,N)=>{function o(K,L){if(K){const le=K.indexOf(L);0<=le&&K.splice(le,1)}}N.d(Ce,{P:()=>o})},3888:(st,Ce,N)=>{function o(K){const le=K(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}N.d(Ce,{d:()=>o})},2806:(st,Ce,N)=>{N.d(Ce,{x:()=>L,O:()=>le});var o=N(2416);let K=null;function L(X){if(o.v.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),X(),pe){const{errorThrown:se,error:ie}=K;if(K=null,se)throw ie}}else X()}function le(X){o.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(st,Ce,N)=>{function o(K,L,le,X=0,pe=!1){const se=L.schedule(function(){le(),pe?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(se),!pe)return se}N.d(Ce,{f:()=>o})},4671:(st,Ce,N)=>{function o(K){return K}N.d(Ce,{y:()=>o})},1144:(st,Ce,N)=>{N.d(Ce,{z:()=>o});const o=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(st,Ce,N)=>{N.d(Ce,{D:()=>K});var o=N(576);function K(L){return Symbol.asyncIterator&&(0,o.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(st,Ce,N)=>{function o(K){return"function"==typeof K}N.d(Ce,{m:()=>o})},3670:(st,Ce,N)=>{N.d(Ce,{c:()=>L});var o=N(8822),K=N(576);function L(le){return(0,K.m)(le[o.L])}},6495:(st,Ce,N)=>{N.d(Ce,{T:()=>L});var o=N(2202),K=N(576);function L(le){return(0,K.m)(null==le?void 0:le[o.h])}},8239:(st,Ce,N)=>{N.d(Ce,{t:()=>K});var o=N(576);function K(L){return(0,o.m)(null==L?void 0:L.then)}},3260:(st,Ce,N)=>{N.d(Ce,{Q:()=>L,L:()=>le});var o=N(655),K=N(576);function L(X){return(0,o.FC)(this,arguments,function*(){const se=X.getReader();try{for(;;){const{value:ie,done:ne}=yield(0,o.qq)(se.read());if(ne)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ie)}}finally{se.releaseLock()}})}function le(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(st,Ce,N)=>{N.d(Ce,{K:()=>K});var o=N(576);function K(L){return L&&(0,o.m)(L.schedule)}},4482:(st,Ce,N)=>{N.d(Ce,{A:()=>K,e:()=>L});var o=N(576);function K(le){return(0,o.m)(null==le?void 0:le.lift)}function L(le){return X=>{if(K(X))return X.lift(function(pe){try{return le(pe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,N)=>{function o(){}N.d(Ce,{Z:()=>o})},7849:(st,Ce,N)=>{N.d(Ce,{h:()=>L});var o=N(2416),K=N(3410);function L(le){K.z.setTimeout(()=>{const{onUnhandledError:X}=o.v;if(!X)throw le;X(le)})}},4532:(st,Ce,N)=>{function o(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ce,{z:()=>o})},655:(st,Ce,N)=>{function le(z,oe){var ge={};for(var ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&oe.indexOf(ae)<0&&(ge[ae]=z[ae]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ae=Object.getOwnPropertySymbols(z);xe<ae.length;xe++)oe.indexOf(ae[xe])<0&&Object.prototype.propertyIsEnumerable.call(z,ae[xe])&&(ge[ae[xe]]=z[ae[xe]])}return ge}function X(z,oe,ge,ae){var xt,xe=arguments.length,ue=xe<3?oe:null===ae?ae=Object.getOwnPropertyDescriptor(oe,ge):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(z,oe,ge,ae);else for(var dn=z.length-1;dn>=0;dn--)(xt=z[dn])&&(ue=(xe<3?xt(ue):xe>3?xt(oe,ge,ue):xt(oe,ge))||ue);return xe>3&&ue&&Object.defineProperty(oe,ge,ue),ue}function se(z,oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,oe)}function ie(z,oe,ge,ae){return new(ge||(ge=Promise))(function(ue,xt){function dn(wt){try{lt(ae.next(wt))}catch(Dn){xt(Dn)}}function Jn(wt){try{lt(ae.throw(wt))}catch(Dn){xt(Dn)}}function lt(wt){wt.done?ue(wt.value):function xe(ue){return ue instanceof ge?ue:new ge(function(xt){xt(ue)})}(wt.value).then(dn,Jn)}lt((ae=ae.apply(z,oe||[])).next())})}function fe(z){return this instanceof fe?(this.v=z,this):new fe(z)}function De(z,oe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ae=ge.apply(z,oe||[]),ue=[];return xe={},xt("next"),xt("throw"),xt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function xt(Cn){ae[Cn]&&(xe[Cn]=function(es){return new Promise(function(yn,Ps){ue.push([Cn,es,yn,Ps])>1||dn(Cn,es)})})}function dn(Cn,es){try{!function Jn(Cn){Cn.value instanceof fe?Promise.resolve(Cn.value.v).then(lt,wt):Dn(ue[0][2],Cn)}(ae[Cn](es))}catch(yn){Dn(ue[0][3],yn)}}function lt(Cn){dn("next",Cn)}function wt(Cn){dn("throw",Cn)}function Dn(Cn,es){Cn(es),ue.shift(),ue.length&&dn(ue[0][0],ue[0][1])}}function ze(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,oe=z[Symbol.asyncIterator];return oe?oe.call(z):(z=function Q(z){var oe="function"==typeof Symbol&&Symbol.iterator,ge=oe&&z[oe],ae=0;if(ge)return ge.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ae>=z.length&&(z=void 0),{value:z&&z[ae++],done:!z}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),ge={},ae("next"),ae("throw"),ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ae(ue){ge[ue]=z[ue]&&function(xt){return new Promise(function(dn,Jn){!function xe(ue,xt,dn,Jn){Promise.resolve(Jn).then(function(lt){ue({value:lt,done:dn})},xt)}(dn,Jn,(xt=z[ue](xt)).done,xt.value)})}}}N.d(Ce,{_T:()=>le,gn:()=>X,w6:()=>se,mG:()=>ie,qq:()=>fe,FC:()=>De,KL:()=>ze})},5e3:(st,Ce,N)=>{N.d(Ce,{deG:()=>Tg,tb:()=>vE,AFp:()=>mE,ip1:()=>fi,CZH:()=>sw,hGG:()=>BE,z2F:()=>gw,sBO:()=>yw,Sil:()=>Oy,_Vd:()=>hy,EJc:()=>bE,SBq:()=>Uc,qLn:()=>Qr,vpe:()=>Ia,tBr:()=>jo,XFs:()=>ut,OlP:()=>qn,zs3:()=>Ka,ZZ4:()=>Hy,aQg:()=>Im,soG:()=>ky,YKP:()=>Ob,h0i:()=>Xa,PXZ:()=>EE,R0b:()=>Qo,FiY:()=>bc,Lbi:()=>yE,g9A:()=>_E,Qsj:()=>WT,FYo:()=>fy,JOm:()=>ce,tp0:()=>Dc,Rgc:()=>Ko,dDg:()=>hw,q4F:()=>Ib,GfV:()=>Mr,s_b:()=>Yc,ifc:()=>Kt,eFA:()=>mw,G48:()=>xE,Gpc:()=>Y,X6Q:()=>vd,_c5:()=>Am,VLi:()=>dM,c2e:()=>yd,zSh:()=>f_,wAp:()=>bt,vHH:()=>Ne,cg1:()=>qp,kL8:()=>kT,dqk:()=>qt,sIi:()=>Pp,CqO:()=>x_,QGY:()=>zo,F4k:()=>eT,RDi:()=>Ys,AaK:()=>ie,qOj:()=>FC,TTD:()=>sa,_Bn:()=>Db,xp6:()=>Cp,uIk:()=>O0,Tol:()=>F_,ekj:()=>jp,Suo:()=>zb,Xpm:()=>Ht,lG2:()=>nn,Yz7:()=>yn,cJS:()=>hn,oAB:()=>J,Yjl:()=>Zr,Y36:()=>Yh,_UZ:()=>$0,BQk:()=>G0,ynx:()=>od,qZA:()=>k_,TgZ:()=>A_,EpF:()=>XC,n5z:()=>rh,LFG:()=>Yt,$8M:()=>Ws,$Z:()=>QC,NdJ:()=>tT,CRH:()=>br,kcU:()=>Ev,O4$:()=>Kd,oxw:()=>Hp,ALo:()=>fd,lcZ:()=>nE,xi3:()=>by,Hsn:()=>sT,F$t:()=>iT,Q6J:()=>j0,s9C:()=>oT,DdM:()=>Fb,VKq:()=>yy,iGM:()=>Wt,MAs:()=>ZC,Jf7:()=>Hg,CHM:()=>gu,LSH:()=>Mc,Udp:()=>et,YNc:()=>GC,W1O:()=>on,_uU:()=>Gi,Oqu:()=>$p,hij:()=>ci,AsE:()=>U_,Gf:()=>pd});var o=N(7579),K=N(727),L=N(8306),le=N(6451),X=N(3099);function pe(s){for(let a in s)if(s[a]===pe)return a;throw Error("Could not find renamed property on target object.")}function se(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ne(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const j=pe({__forward_ref__:pe});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return ie(this())},s}function Q(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===Y}class Ne extends Error{constructor(a,c){super(function Fe(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function be(s,a){const c=a?` in ${a}`:"";throw new Ne(-201,`No provider for ${De(s)} found${c}`)}function lt(s,a){null==s&&function wt(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function yn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function hn(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return xr(s,ps)||xr(s,Fs)}function xr(s,a){return s.hasOwnProperty(a)?s[a]:null}function ti(s){return s&&(s.hasOwnProperty(ni)||s.hasOwnProperty(Vs))?s[ni]:null}const ps=pe({\u0275prov:pe}),ni=pe({\u0275inj:pe}),Fs=pe({ngInjectableDef:pe}),Vs=pe({ngInjectorDef:pe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let _i;function gr(s){const a=_i;return _i=s,a}function Ni(s,a,c){const d=zt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ut.Optional?null:void 0!==a?a:void be(ie(s),"Injector")}function Nn(s){return{toString:s}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,Or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=ot||"undefined"!=typeof global&&global||Mt||Or,Nr={},dt=[],Gr=pe({\u0275cmp:pe}),$t=pe({\u0275dir:pe}),Ke=pe({\u0275pipe:pe}),Ie=pe({\u0275mod:pe}),Je=pe({\u0275fac:pe}),ht=pe({__NG_ELEMENT_ID__:pe});let Zt=0;function Ht(s){return Nn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c",styles:s.styles||dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=Zt++,d.inputs=Dt(s.inputs,c),d.outputs=Dt(s.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(G):null,d})}function V(s){return Jt(s)||function $n(s){return s[$t]||null}(s)}function G(s){return function Pt(s){return s[Ke]||null}(s)}const he={};function J(s){return Nn(()=>{const a={type:s.type,bootstrap:s.bootstrap||dt,declarations:s.declarations||dt,imports:s.imports||dt,exports:s.exports||dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),a})}function Dt(s,a){if(null==s)return Nr;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,a&&(a[h]=m)}return c}const nn=Ht;function Zr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[Gr]||null}function Sn(s,a){const c=s[Ie]||null;if(!c&&!0===a)throw new Error(`Type ${ie(s)} does not have '\u0275mod' property.`);return c}function yi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function Pd(s){return 0!=(8&s.flags)}function Do(s){return 2==(2&s.flags)}function Jl(s){return 1==(1&s.flags)}function vi(s){return null!==s.template}function jf(s){return 0!=(512&s[2])}function bi(s,a){return s.hasOwnProperty(Je)?s[Je]:null}class La{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function sa(){return _l}function _l(s){return s.type.prototype.ngOnChanges&&(s.setInput=wg),jd}function jd(){const s=Eo(this),a=null==s?void 0:s.current;if(a){const c=s.previous;if(c===Nr)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function wg(s,a,c,d){const h=Eo(s)||function Ri(s,a){return s[Bt]=a}(s,{previous:Nr,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[c],C=v[w];m[w]=new La(C&&C.currentValue,a,v===Nr),s[d]=a}sa.ngInherit=!0;const Bt="__ngSimpleChanges__";function Eo(s){return s[Bt]||null}let ic;function Ys(s){ic=s}function kn(s){return!!s.listen}const Ra={createRenderer:(s,a)=>function yl(){return void 0!==ic?ic:"undefined"!=typeof document?document:void 0}()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function aa(s,a){return wn(a[s])}function Wr(s,a){return wn(a[s.index])}function vl(s,a){return s.data[a]}function ts(s,a){return s[a]}function zr(s,a){const c=a[s];return yi(c)?c:c[0]}function Io(s){return 4==(4&s[2])}function $s(s){return 128==(128&s[2])}function wi(s,a){return null==a?null:s[a]}function Mo(s){s[18]=0}function Ao(s,a){s[5]+=a;let c=s,d=s[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const ft={lFrame:ca(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cc(){return ft.bindingsEnabled}function Te(){return ft.lFrame.lView}function jt(){return ft.lFrame.tView}function gu(s){return ft.lFrame.contextLView=s,s[8]}function Ln(){let s=Pa();for(;null!==s&&64===s.type;)s=s.parent;return s}function Pa(){return ft.lFrame.currentTNode}function Di(s,a){const c=ft.lFrame;c.currentTNode=s,c.isParent=a}function _u(){return ft.lFrame.isParent}function yu(){ft.lFrame.isParent=!1}function uc(){return ft.isInCheckNoChangesMode}function ko(s){ft.isInCheckNoChangesMode=s}function Pr(){const s=ft.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function xo(){return ft.lFrame.bindingIndex++}function ns(s){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function fc(s,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,wl(a)}function wl(s){ft.lFrame.currentDirectiveIndex=s}function Du(){return ft.lFrame.currentQueryIndex}function Cu(s){ft.lFrame.currentQueryIndex=s}function Zd(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Tu(s,a,c){if(c&ut.SkipSelf){let h=a,m=s;for(;!(h=h.parent,null!==h||c&ut.Host||(h=Zd(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;a=h,s=m}const d=ft.lFrame=qd();return d.currentTNode=a,d.lView=s,!0}function la(s){const a=qd(),c=s[1];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function qd(){const s=ft.lFrame,a=null===s?null:s.child;return null===a?ca(s):a}function ca(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Wd(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zd=Wd;function ua(){const s=Wd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Kr(){return ft.lFrame.selectedIndex}function No(s){ft.lFrame.selectedIndex=s}function Gn(){const s=ft.lFrame;return vl(s.tView,s.selectedIndex)}function Kd(){ft.lFrame.currentNamespace="svg"}function Ev(){!function Su(){ft.lFrame.currentNamespace=null}()}function Gs(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-c,C),M&&((s.viewHooks||(s.viewHooks=[])).push(c,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(c,k)}}function Dl(s,a,c){Jd(s,a,3,c)}function pc(s,a,c,d){(3&s[2])===c&&Jd(s,a,c,d)}function lr(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function Jd(s,a,c,d){const m=null!=d?d:-1,v=a.length-1;let w=0;for(let C=void 0!==d?65535&s[18]:0;C<v;C++)if("number"==typeof a[C+1]){if(w=a[C],null!=d&&w>=d)break}else a[C]<0&&(s[18]+=65536),(w<m||-1==m)&&(Dg(s,c,a,C),s[18]=(4294901760&s[18])+C+2),C++}function Dg(s,a,c,d){const h=c[d]<0,m=c[d+1],w=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Ba{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function pt(s,a,c){const d=kn(s);let h=0;for(;h<c.length;){const m=c[h];if("number"==typeof m){if(0!==m)break;h++;const v=c[h++],w=c[h++],C=c[h++];d?s.setAttribute(a,w,C,v):a.setAttributeNS(v,w,C)}else{const v=m,w=c[++h];cr(v)?d&&s.setProperty(a,v,w):d?s.setAttribute(a,v,w):a.setAttribute(v,w),h++}}return h}function Bn(s){return 3===s||4===s||6===s}function cr(s){return 64===s.charCodeAt(0)}function Sr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Ua(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function Ua(s,a,c,d,h){let m=0,v=s.length;if(-1===a)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,a),m=v+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function eh(s){return-1!==s}function Mn(s){return 32767&s}function rs(s,a){let c=function Zf(s){return s>>16}(s),d=a;for(;c>0;)d=d[15],c--;return d}let mc=!0;function Fi(s){const a=mc;return mc=s,a}let ku=0;function Zn(s,a){const c=fa(s,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,qs(d.data,s),qs(a,null),qs(d.blueprint,null));const h=Vi(s,a),m=s.injectorIndex;if(eh(h)){const v=Mn(h),w=rs(h,a),C=w[1].data;for(let M=0;M<8;M++)a[m+M]=w[v+M]|C[v+M]}return a[m+8]=h,m}function qs(s,a){s.push(0,0,0,0,0,0,0,0,a)}function fa(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Vi(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Lo(s,a,c){!function ha(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ht)&&(d=c[ht]),null==d&&(d=c[ht]=ku++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,c)}function ys(s,a,c){if(c&ut.Optional)return s;be(a,"NodeInjector")}function xu(s,a,c,d){if(c&ut.Optional&&void 0===d&&(d=null),0==(c&(ut.Self|ut.Host))){const h=s[9],m=gr(void 0);try{return h?h.get(a,d,c&ut.Optional):Ni(a,d,c&ut.Optional)}finally{gr(m)}}return ys(d,a,c)}function Ro(s,a,c,d=ut.Default,h){if(null!==s){const m=function Ha(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ht)?s[ht]:void 0;return"number"==typeof a?a>=0?255&a:Ou:a}(c);if("function"==typeof m){if(!Tu(a,s,d))return d&ut.Host?ys(h,c,d):xu(a,c,d,h);try{const v=m(d);if(null!=v||d&ut.Optional)return v;be(c)}finally{zd()}}else if("number"==typeof m){let v=null,w=fa(s,a),C=-1,M=d&ut.Host?a[16][6]:null;for((-1===w||d&ut.SkipSelf)&&(C=-1===w?Vi(s,a):a[w+8],-1!==C&&Fr(d,!1)?(v=a[1],w=Mn(C),a=rs(C,a)):w=-1);-1!==w;){const k=a[1];if(Ui(m,w,k.data)){const P=nh(w,a,c,v,d,M);if(P!==vs)return P}C=a[w+8],-1!==C&&Fr(d,a[1].data[w+8]===M)&&Ui(m,w,a)?(v=k,w=Mn(C),a=rs(C,a)):w=-1}}}return xu(a,c,d,h)}const vs={};function Ou(){return new ss(Ln(),Te())}function nh(s,a,c,d,h,m){const v=a[1],w=v.data[s+8],k=Po(w,v,c,null==d?Do(w)&&mc:d!=v&&0!=(3&w.type),h&ut.Host&&m===w);return null!==k?is(a,v,k,w):vs}function Po(s,a,c,d,h){const m=s.providerIndexes,v=a.data,w=1048575&m,C=s.directiveStart,k=m>>20,U=h?w+k:s.directiveEnd;for(let q=d?w:w+k;q<U;q++){const ve=v[q];if(q<C&&c===ve||q>=C&&ve.type===c)return q}if(h){const q=v[C];if(q&&vi(q)&&q.type===c)return C}return null}function is(s,a,c,d){let h=s[c];const m=a.data;if(function Qd(s){return s instanceof Ba}(h)){const v=h;v.resolving&&function tt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${c}`)}(De(m[c]));const w=Fi(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?gr(v.injectImpl):null;Tu(s,d,ut.Default);try{h=s[c]=v.factory(void 0,m,s,d),a.firstCreatePass&&c>=d.directiveStart&&function Iu(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(d){const v=_l(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],a)}finally{null!==C&&gr(C),Fi(w),v.resolving=!1,zd()}}return h}function Ui(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Fr(s,a){return!(s&ut.Self||s&ut.Host&&a)}class ss{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ro(this._tNode,this._lView,a,d,c)}}function rh(s){return Nn(()=>{const a=s.prototype.constructor,c=a[Je]||sn(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Je]||sn(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function sn(s){return qe(s)?()=>{const a=sn(Q(s));return a&&a()}:bi(s)}function Ws(s){return function Bi(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(Bn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===a)return c[h+1];h+=2}}}return null}(Ln(),s)}const ja="__parameters__";function Un(s,a,c){return Nn(()=>{const d=function bs(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(C,M,k){const P=C.hasOwnProperty(ja)?C[ja]:Object.defineProperty(C,ja,{value:[]})[ja];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class qn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=yn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tg=new qn("AnalyzeForEntryComponents");function Ir(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(a===s&&(a=s.slice(0,c)),Ir(d,a)):a!==s&&a.push(d)}return a}function ii(s,a){s.forEach(c=>Array.isArray(c)?ii(c,a):a(c))}function Tl(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Ks(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function os(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}function nr(s,a,c){let d=Uo(s,a);return d>=0?s[1|d]=c:(d=~d,function Mg(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function _c(s,a){const c=Uo(s,a);if(c>=0)return s[1|c]}function Uo(s,a){return function ah(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<c];if(a===v)return m<<c;v>a?h=m:d=m+1}return~(h<<c)}(s,a,1)}const x={},F="__NG_DI_FLAG__",W="ngTempTokenPath",ke=/\n/gm,At="__source",It=pe({provide:String,useValue:pe});let Ut;function Tt(s){const a=Ut;return Ut=s,a}function Et(s,a=ut.Default){if(void 0===Ut)throw new Ne(203,"");return null===Ut?Ni(s,void 0,a):Ut.get(s,a&ut.Optional?null:void 0,a)}function Yt(s,a=ut.Default){return(function Cr(){return _i}()||Et)(Q(s),a)}const as=Yt;function ga(s){const a=[];for(let c=0;c<s.length;c++){const d=Q(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let h,m=ut.Default;for(let v=0;v<d.length;v++){const w=d[v],C=ws(w);"number"==typeof C?-1===C?h=w.token:m|=C:h=w}a.push(Yt(h,m))}else a.push(Yt(d))}return a}function si(s,a){return s[F]=a,s.prototype[F]=a,s}function ws(s){return s[F]}const jo=si(Un("Inject",s=>({token:s})),-1),bc=si(Un("Optional"),8),Dc=si(Un("SkipSelf"),4);class mh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yo(s){return s instanceof mh?s.changingThisBreaksApplicationSecurity:s}const $o=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function Mc(s){const a=function Za(){const s=Te();return s&&s[12]}();return a?a.sanitize(pn.URL,s)||"":function $a(s,a){const c=function Tc(s){return s instanceof mh&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}(s,"URL")?Yo(s):function Ec(s){return(s=String(s)).match($o)||s.match(tp)?s:"unsafe:"+s}(fe(s))}const dp="__ngContext__";function oi(s,a){s[dp]=a}function hp(s){const a=function kl(s){return s[dp]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function Nl(s){return s.ngOriginalError}function Ug(s,...a){s.error(...a)}class Qr{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function Wv(s){return s&&s.ngErrorLogger||Ug}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Nl(a);for(;c&&Nl(c);)c=Nl(c);return c||null}}const Qv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function Hg(s){return s.ownerDocument.defaultView}function g(s){return s instanceof Function?s():s}var ce=(()=>((ce=ce||{})[ce.Important=1]="Important",ce[ce.DashCase=2]="DashCase",ce))();function Xe(s,a){return undefined(s,a)}function Wn(s){const a=s[3];return ri(a)?a[3]:a}function Ac(s){return bp(s[13])}function kc(s){return bp(s[4])}function bp(s){for(;null!==s&&!ri(s);)s=s[4];return s}function qa(s,a,c,d,h){if(null!=d){let m,v=!1;ri(d)?m=d:yi(d)&&(v=!0,d=d[0]);const w=wn(d);0===s&&null!==c?null==h?r0(a,c,w):to(a,c,w,h||null,!0):1===s&&null!==c?to(a,c,w,h||null,!0):2===s?function l0(s,a,c){const d=jn(s,a);d&&function yS(s,a,c,d){kn(s)?s.removeChild(a,c,d):a.removeChild(c)}(s,d,a,c)}(a,w,v):3===s&&a.destroyNode(w),null!=m&&function PD(s,a,c,d,h){const m=c[7];m!==wn(c)&&qa(a,s,d,m,h);for(let w=10;w<c.length;w++){const C=c[w];qg(C[1],C,s,a,d,m)}}(a,s,m,c,h)}}function Ch(s,a,c){if(kn(s))return s.createElement(a,c);{const d=null!==c?function rc(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(a):s.createElementNS(d,a)}}function ID(s,a){const c=s[9],d=c.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Ao(h,-1)),c.splice(d,1)}function e0(s,a){if(s.length<=10)return;const c=10+a,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&ID(h,d),a>0&&(s[c-1][4]=d[4]);const m=Ks(s,10+a);!function ji(s,a){qg(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function t0(s,a){if(!(256&a[2])){const c=a[11];kn(c)&&c.destroyNode&&qg(s,a,c,3,null,null),function $g(s){let a=s[13];if(!a)return n0(s[1],s);for(;a;){let c=null;if(yi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==s;)yi(a)&&n0(a[1],a),a=a[3];null===a&&(a=s),yi(a)&&n0(a[1],a),c=a&&a[4]}a=c}}(a)}}function n0(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function AD(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ba)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],C=m[v+1];try{C.call(w)}finally{}}else try{m.call(h)}finally{}}}}(s,a),function MD(s,a){const c=s.cleanup,d=a[7];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],w="function"==typeof v?v(a):wn(a[v]),C=d[h=c[m+2]],M=c[m+3];"boolean"==typeof M?w.removeEventListener(c[m],C,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),m+=2}else{const v=d[h=c[m+1]];c[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();a[7]=null}}(s,a),1===a[1].type&&kn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&ri(a[3])){c!==a[3]&&ID(c,a);const d=a[19];null!==d&&d.detachView(s)}}}function Gg(s,a,c){return function _S(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Kt.None||h===Kt.Emulated)return null}return Wr(d,c)}(s,a.parent,c)}function to(s,a,c,d,h){kn(s)?s.insertBefore(a,c,d,h):a.insertBefore(c,d,h)}function r0(s,a,c){kn(s)?s.appendChild(a,c):a.appendChild(c)}function kD(s,a,c,d,h){null!==d?to(s,a,c,d,h):r0(s,a,c)}function jn(s,a){return kn(s)?s.parentNode(a):a.parentNode}function xD(s,a,c){return s0(s,a,c)}let s0=function OD(s,a,c){return 40&s.type?Wr(s,c):null};function Zg(s,a,c,d){const h=Gg(s,d,a),m=a[11],w=xD(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)kD(m,h,c[C],w,!1);else kD(m,h,c,w,!1)}function Eh(s,a){if(null!==a){const c=a.type;if(3&c)return Wr(a,s);if(4&c)return a0(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return Eh(s,d);{const h=s[a.index];return ri(h)?a0(-1,h):wn(h)}}if(32&c)return Xe(a,s)()||wn(s[a.index]);{const d=LD(s,a);return null!==d?Array.isArray(d)?d[0]:Eh(Wn(s[16]),d):Eh(s,a.next)}}return null}function LD(s,a){return null!==a?s[16][6].projection[a.projection]:null}function a0(s,a){const c=10+s+1;if(c<a.length){const d=a[c],h=d[1].firstChild;if(null!==h)return Eh(d,h)}return a[7]}function c0(s,a,c,d,h,m,v){for(;null!=c;){const w=d[c.index],C=c.type;if(v&&0===a&&(w&&oi(wn(w),d),c.flags|=4),64!=(64&c.flags))if(8&C)c0(s,a,c.child,d,h,m,!1),qa(a,s,h,w,m);else if(32&C){const M=Xe(c,d);let k;for(;k=M();)qa(a,s,h,k,m);qa(a,s,h,w,m)}else 16&C?RD(s,a,d,c,h,m):qa(a,s,h,w,m);c=v?c.projectionNext:c.next}}function qg(s,a,c,d,h,m){c0(c,d,s.firstChild,a,h,m,!1)}function RD(s,a,c,d,h,m){const v=c[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)qa(a,s,h,C[M],m);else c0(s,a,C,v[3],h,m,!0)}function Cs(s,a,c){kn(s)?s.setAttribute(a,"style",c):a.style.cssText=c}function u0(s,a,c){kn(s)?""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c):a.className=c}function d0(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=a.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}c=h+1}}const FD="ng-template";function bS(s,a,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==d0(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function Yi(s){return 4===s.type&&s.value!==FD}function xc(s,a,c){return a===(4!==s.type||c?s.value:FD)}function VD(s,a,c){let d=4;const h=s.attrs||[],m=function UD(s){for(let a=0;a<s.length;a++)if(Bn(s[a]))return a;return s.length}(h);let v=!1;for(let w=0;w<a.length;w++){const C=a[w];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!xc(s,C,c)||""===C&&1===a.length){if(Rn(d))return!1;v=!0}}else{const M=8&d?C:a[++w];if(8&d&&null!==s.attrs){if(!bS(s.attrs,M,c)){if(Rn(d))return!1;v=!0}continue}const P=Oc(8&d?"class":C,h,Yi(s),c);if(-1===P){if(Rn(d))return!1;v=!0;continue}if(""!==M){let U;U=P>m?"":h[P+1].toLowerCase();const q=8&d?U:null;if(q&&-1!==d0(q,M,0)||2&d&&M!==U){if(Rn(d))return!1;v=!0}}}}else{if(!v&&!Rn(d)&&!Rn(C))return!1;if(v&&Rn(C))continue;v=!1,d=C|1&d}}return Rn(d)||v}function Rn(s){return 0==(1&s)}function Oc(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let m=!1;for(;h<a.length;){const v=a[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function HD(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function BD(s,a,c=!1){for(let d=0;d<a.length;d++)if(VD(s,a[d],c))return!0;return!1}function jD(s,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function h0(s,a){return s?":not("+a.trim()+")":a}function YD(s){let a=s[0],c=1,d=2,h="",m=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const w=s[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Rn(v)&&(a+=h0(m,h),h=""),d=v,m=m||!Rn(d);c++}return""!==h&&(a+=h0(m,h)),a}const Rt={};function Cp(s){f0(jt(),Te(),Kr()+s,uc())}function f0(s,a,c,d){if(!d)if(3==(3&a[2])){const m=s.preOrderCheckHooks;null!==m&&Dl(a,m,c)}else{const m=s.preOrderHooks;null!==m&&pc(a,m,0,c)}No(c)}function Tp(s,a){return s<<17|a<<2}function Go(s){return s>>17&32767}function zg(s){return 2|s}function wa(s){return(131068&s)>>2}function Kg(s,a){return-131069&s|a<<2}function Qg(s){return 1|s}function nC(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],m=c[d+1];if(-1!==m){const v=s.data[m];Cu(h),v.contentQueries(2,a[m],m)}}}function Ju(s,a,c,d,h,m,v,w,C,M){const k=a.blueprint.slice();return k[0]=h,k[2]=140|d,Mo(k),k[3]=k[15]=s,k[8]=c,k[10]=v||s&&s[10],k[11]=w||s&&s[11],k[12]=C||s&&s[12]||null,k[9]=M||s&&s[9]||null,k[6]=m,k[16]=2==a.type?s[16]:k,k}function Ih(s,a,c,d,h){let m=s.data[a];if(null===m)m=function i_(s,a,c,d,h){const m=Pa(),v=_u(),C=s.data[a]=function w0(s,a,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,a,c,d,h),function bu(){return ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const v=function Fa(){const s=ft.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Di(m,!0),m}function Nc(s,a,c,d){if(0===c)return-1;const h=a.length;for(let m=0;m<c;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Qu(s,a,c){la(a);try{const d=s.viewQuery;null!==d&&d_(1,d,c);const h=s.template;null!==h&&Mh(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&nC(s,a),s.staticViewQueries&&d_(2,s.viewQuery,c);const m=s.components;null!==m&&function yO(s,a){for(let c=0;c<a.length;c++)AS(s,a[c])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,ua()}}function Mp(s,a,c,d){const h=a[2];if(256==(256&h))return;la(a);const m=uc();try{Mo(a),function dc(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Mh(s,a,c,2,d);const v=3==(3&h);if(!m)if(v){const M=s.preOrderCheckHooks;null!==M&&Dl(a,M,null)}else{const M=s.preOrderHooks;null!==M&&pc(a,M,0,null),lr(a,0)}if(function T0(s){for(let a=Ac(s);null!==a;a=kc(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const h=c[d],m=h[3];0==(1024&h[2])&&Ao(m,1),h[2]|=1024}}}(a),function bC(s){for(let a=Ac(s);null!==a;a=kc(a))for(let c=10;c<a.length;c++){const d=a[c],h=d[1];$s(d)&&Mp(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&nC(s,a),!m)if(v){const M=s.contentCheckHooks;null!==M&&Dl(a,M)}else{const M=s.contentHooks;null!==M&&pc(a,M,1),lr(a,1)}!function _O(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)No(~h);else{const m=h,v=c[++d],w=c[++d];fc(v,m),w(2,a[m])}}}finally{No(-1)}}(s,a);const w=s.components;null!==w&&function rC(s,a){for(let c=0;c<a.length;c++)MS(s,a[c])}(a,w);const C=s.viewQuery;if(null!==C&&d_(2,C,d),!m)if(v){const M=s.viewCheckHooks;null!==M&&Dl(a,M)}else{const M=s.viewHooks;null!==M&&pc(a,M,2),lr(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ao(a[3],-1))}finally{ua()}}function v0(s,a,c,d){const h=a[10],m=!uc(),v=Io(a);try{m&&!v&&h.begin&&h.begin(),v&&Qu(s,a,d),Mp(s,a,c,d)}finally{m&&!v&&h.end&&h.end()}}function Mh(s,a,c,d,h){const m=Kr(),v=2&d;try{No(-1),v&&a.length>20&&f0(s,a,20,uc()),c(d,h)}finally{No(m)}}function Ap(s,a,c){if(Pd(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Lc(s,a,c){!cc()||(function wO(s,a,c,d){const h=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||Zn(c,a),oi(d,a);const v=c.initialInputs;for(let w=h;w<m;w++){const C=s.data[w],M=vi(C);M&&gC(a,c,C);const k=is(a,s,w,c);oi(k,a),null!==v&&yC(0,w-h,k,C,0,v),M&&(zr(c.index,a)[8]=k)}}(s,a,c,Wr(c,a)),128==(128&c.flags)&&function DO(s,a,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,w=function wu(){return ft.lFrame.currentDirectiveIndex}();try{No(v);for(let C=d;C<h;C++){const M=s.data[C],k=a[C];wl(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&uC(M,k)}}finally{No(-1),wl(w)}}(s,a,c))}function Xu(s,a,c=Wr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?c(a,s):s[v];s[h++]=w}}}function iC(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Ah(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Ah(s,a,c,d,h,m,v,w,C,M){const k=20+d,P=k+h,U=function sC(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:Rt);return c}(k,P),q="function"==typeof M?M():M;return U[1]={type:s,blueprint:U,template:c,queries:null,viewQuery:w,declTNode:a,data:U.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function b0(s,a,c,d){const h=DC(a);null===c?h.push(d):(h.push(c),s.firstCreatePass&&CC(s).push(d,h.length-1))}function oC(s,a,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,h):c[d]=[a,h]}return c}function Ss(s,a,c,d,h,m,v,w){const C=Wr(a,c);let k,M=a.inputs;!w&&null!=M&&(k=M[d])?(OS(s,c,k,d,h),Do(a)&&function D0(s,a){const c=zr(a,s);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function lC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,a.value||"",d):h,kn(m)?m.setProperty(C,d,h):cr(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function a_(s,a,c,d){let h=!1;if(cc()){const m=function dC(s,a,c){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];BD(c,v.selectors,!1)&&(h||(h=[]),Lo(Zn(c,a),s,v.type),vi(v)?(hC(s,c),h.unshift(v)):h.push(v))}return h}(s,a,c),v=null===d?null:{"":-1};if(null!==m){h=!0,Ms(c,s.data.length,m.length);for(let k=0;k<m.length;k++){const P=m[k];P.providersResolver&&P.providersResolver(P)}let w=!1,C=!1,M=Nc(s,a,m.length,null);for(let k=0;k<m.length;k++){const P=m[k];c.mergedAttrs=Sr(c.mergedAttrs,P.hostAttrs),mC(s,c,a,M,P),pC(M,P,v),null!==P.contentQueries&&(c.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=128);const U=P.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),C=!0),M++}!function aC(s,a){const d=a.directiveEnd,h=s.data,m=a.attrs,v=[];let w=null,C=null;for(let M=a.directiveStart;M<d;M++){const k=h[M],P=k.inputs,U=null===m||Yi(a)?null:SS(P,m);v.push(U),w=oC(P,M,w),C=oC(k.outputs,M,C)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=C}(s,c)}v&&function fC(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const m=c[a[h+1]];if(null==m)throw new Ne(-301,!1);d.push(a[h],m)}}}(c,d,v)}return c.mergedAttrs=Sr(c.mergedAttrs,c.attrs),h}function ES(s,a,c,d,h,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~a.index;(function bO(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=C&&w.push(C),w.push(d,h,v)}}function uC(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function hC(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function pC(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;vi(a)&&(c[""]=s)}}function Ms(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function mC(s,a,c,d,h){s.data[d]=h;const m=h.factory||(h.factory=bi(h.type)),v=new Ba(m,vi(h),null);s.blueprint[d]=v,c[d]=v,ES(s,a,0,d,Nc(s,c,h.hostVars,Rt),h)}function gC(s,a,c){const d=Wr(a,s),h=iC(c),m=s[10],v=c_(s,Ju(s,h,null,c.onPush?64:16,d,a,m,m.createRenderer(d,c),null,null));s[a.index]=v}function za(s,a,c,d,h,m){const v=Wr(s,a);!function _C(s,a,c,d,h,m,v){if(null==m)kn(s)?s.removeAttribute(a,h,c):a.removeAttribute(h);else{const w=null==v?fe(m):v(m,d||"",h);kn(s)?s.setAttribute(a,h,w,c):c?a.setAttributeNS(c,h,w):a.setAttribute(h,w)}}(a[11],v,m,s.value,c,d,h)}function yC(s,a,c,d,h,m){const v=m[a];if(null!==v){const w=d.setInput;for(let C=0;C<v.length;){const M=v[C++],k=v[C++],P=v[C++];null!==w?d.setInput(c,P,M,k):c[k]=P}}}function SS(s,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],a[d+1])),d+=2}else d+=2;else d+=4}return c}function vC(s,a,c,d){return new Array(s,!0,!1,a,null,0,d,c,null,null)}function MS(s,a){const c=zr(a,s);if($s(c)){const d=c[1];80&c[2]?Mp(d,c,d.template,c[8]):c[5]>0&&l_(c)}}function l_(s){for(let d=Ac(s);null!==d;d=kc(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];Mp(v,m,v.template,m[8])}else m[5]>0&&l_(m)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=zr(c[d],s);$s(h)&&h[5]>0&&l_(h)}}function AS(s,a){const c=zr(a,s),d=c[1];(function us(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(d,c),Qu(d,c,c[8])}function c_(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function xp(s){for(;s;){s[2]|=64;const a=Wn(s);if(jf(s)&&!a)return s;s=a}return null}function u_(s,a,c){const d=a[10];d.begin&&d.begin();try{Mp(s,a,s.template,c)}catch(h){throw TC(a,h),h}finally{d.end&&d.end()}}function wC(s){!function Op(s){for(let a=0;a<s.components.length;a++){const c=s.components[a],d=hp(c),h=d[1];v0(h,d,h.template,c)}}(s[8])}function d_(s,a,c){Cu(0),a(s,c)}const E0=(()=>Promise.resolve(null))();function DC(s){return s[7]||(s[7]=[])}function CC(s){return s.cleanup||(s.cleanup=[])}function TC(s,a){const c=s[9],d=c?c.get(Qr,null):null;d&&d.handleError(a)}function OS(s,a,c,d,h){for(let m=0;m<c.length;){const v=c[m++],w=c[m++],C=a[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,d,w):C[w]=h}}function Da(s,a,c){const d=aa(a,s);!function Dh(s,a,c){kn(s)?s.setValue(a,c):a.textContent=c}(s[11],d,c)}function h_(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?m=w:1==m?h=ne(h,w):2==m&&(d=ne(d,w+": "+a[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const Rl=new qn("INJECTOR",-1);class SC{get(a,c=x){if(c===x){const d=new Error(`NullInjectorError: No provider for ${ie(a)}!`);throw d.name="NullInjectorError",d}return c}}const f_=new qn("Set Injector scope."),Np={},IC={};let I0;function MC(){return void 0===I0&&(I0=new SC),I0}function p_(s,a=null,c=null,d){const h=M0(s,a,c,d);return h._resolveInjectorDefTypes(),h}function M0(s,a=null,c=null,d){return new RS(s,c,a||MC(),d)}class RS{constructor(a,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&ii(c,w=>this.processProvider(w,a,c)),ii([a],w=>this.processInjectorType(w,[],m)),this.records.set(Rl,ed(void 0,this));const v=this.records.get(f_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:ie(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=x,d=ut.Default){this.assertNotDestroyed();const h=Tt(this),m=gr(void 0);try{if(!(d&ut.SkipSelf)){let w=this.records.get(a);if(void 0===w){const C=function ro(s){return"function"==typeof s||"object"==typeof s&&s instanceof qn}(a)&&zt(a);w=C&&this.injectableDefInScope(C)?ed(m_(a),Np):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&ut.Self?MC():this.parent).get(a,c=d&ut.Optional&&c===x?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[W]=v[W]||[]).unshift(ie(a)),h)throw v;return function vc(s,a,c,d){const h=s[W];throw a[At]&&h.unshift(a[At]),s.message=function Ru(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ie(a);if(Array.isArray(a))h=a.map(ie).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ie(w)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(ke,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[W]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{gr(m),Tt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(ie(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(a,c,d){if(!(a=Q(a)))return!1;let h=ti(a);const m=null==h&&a.ngModule||void 0,v=void 0===m?a:m,w=-1!==d.indexOf(v);if(void 0!==m&&(h=ti(m)),null==h)return!1;if(null!=h.imports&&!w){let k;d.push(v);try{ii(h.imports,P=>{this.processInjectorType(P,c,d)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:U,providers:q}=k[P];ii(q,ve=>this.processProvider(ve,U,q||dt))}}this.injectorDefTypes.add(v);const C=bi(v)||(()=>new v);this.records.set(v,ed(C,Np));const M=h.providers;if(null!=M&&!w){const k=a;ii(M,P=>this.processProvider(P,k,M))}return void 0!==m&&void 0!==a.providers}processProvider(a,c,d){let h=Lp(a=Q(a))?a:Q(a&&a.provide);const m=function AC(s,a,c){return xC(s)?ed(void 0,s.useValue):ed(kC(s),Np)}(a);if(Lp(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ed(void 0,Np,!0),v.factory=()=>ga(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,m)}hydrate(a,c){return c.value===Np&&(c.value=IC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function SO(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function m_(s){const a=zt(s),c=null!==a?a.factory:bi(s);if(null!==c)return c;if(s instanceof qn)throw new Ne(204,!1);if(s instanceof Function)return function PS(s){const a=s.length;if(a>0)throw os(a,"?"),new Ne(204,!1);const c=function Oi(s){const a=s&&(s[ps]||s[Fs]);if(a){const c=function _o(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ne(204,!1)}function kC(s,a,c){let d;if(Lp(s)){const h=Q(s);return bi(h)||m_(h)}if(xC(s))d=()=>Q(s.useValue);else if(function TO(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...ga(s.deps||[]));else if(function OC(s){return!(!s||!s.useExisting)}(s))d=()=>Yt(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function FS(s){return!!s.deps}(s))return bi(h)||m_(h);d=()=>new h(...ga(s.deps))}return d}function ed(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function xC(s){return null!==s&&"object"==typeof s&&It in s}function Lp(s){return"function"==typeof s}let Ka=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return p_({name:""},d,c,"");{const m=null!==(h=c.name)&&void 0!==h?h:"";return p_({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=x,s.NULL=new SC,s.\u0275prov=yn({token:s,providedIn:"any",factory:()=>Yt(Rl)}),s.__NG_ELEMENT_ID__=-1,s})();function y_(s,a){Gs(hp(s)[1],Ln())}function FC(s){let a=function v_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if(vi(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ne(903,"");h=a.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=b_(s.inputs),v.declaredInputs=b_(s.declaredInputs),v.outputs=b_(s.outputs);const w=h.hostBindings;w&&KS(s,w);const C=h.viewQuery,M=h.contentQueries;if(C&&zS(s,C),M&&kh(s,M),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),vi(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===FC&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Pl(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Sr(h.hostAttrs,c=Sr(c,h.hostAttrs))}}(d)}function b_(s){return s===Nr?{}:s===dt?[]:s}function zS(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function kh(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,m)=>{a(d,h,m),c(d,h,m)}:a}function KS(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}let Rp=null;function xh(){if(!Rp){const s=qt.Symbol;if(s&&s.iterator)Rp=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Rp=d)}}}return Rp}function Pp(s){return!!BC(s)&&(Array.isArray(s)||!(s instanceof Map)&&xh()in s)}function BC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ca(s,a,c){return s[a]=c}function $i(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function td(s,a,c,d){const h=$i(s,a,c);return $i(s,a+1,d)||h}function O0(s,a,c,d){const h=Te();return $i(h,xo(),a)&&(jt(),za(Gn(),h,s,a,c,d)),O0}function nd(s,a,c,d){return $i(s,xo(),c)?a+fe(c)+d:Rt}function rd(s,a,c,d,h,m){const w=td(s,function Pi(){return ft.lFrame.bindingIndex}(),c,h);return ns(2),w?a+fe(c)+d+fe(h)+m:Rt}function GC(s,a,c,d,h,m,v,w){const C=Te(),M=jt(),k=s+20,P=M.firstCreatePass?function XS(s,a,c,d,h,m,v,w,C){const M=a.consts,k=Ih(a,s,4,v||null,wi(M,w));a_(a,c,k,wi(M,C)),Gs(a,k);const P=k.tViews=Ah(2,k,d,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,k),P.queries=a.queries.embeddedTView(k)),k}(k,M,C,a,c,d,h,m,v):M.data[k];Di(P,!1);const U=C[11].createComment("");Zg(M,C,U,P),oi(U,C),c_(C,C[k]=vC(U,C,U,P)),Jl(P)&&Lc(M,C,P),null!=v&&Xu(C,P,w)}function ZC(s){return ts(function vu(){return ft.lFrame.contextLView}(),20+s)}function Yh(s,a=ut.Default){const c=Te();return null===c?Yt(s,a):Ro(Ln(),c,Q(s),a)}function QC(){throw new Error("invalid")}function j0(s,a,c){const d=Te();return $i(d,xo(),a)&&Ss(jt(),Gn(),d,s,a,d[11],c,!1),j0}function Y0(s,a,c,d,h){const v=h?"class":"style";OS(s,c,a.inputs[v],v,d)}function A_(s,a,c,d){const h=Te(),m=jt(),v=20+s,w=h[11],C=h[v]=Ch(w,a,function Sv(){return ft.lFrame.currentNamespace}()),M=m.firstCreatePass?function fI(s,a,c,d,h,m,v){const w=a.consts,M=Ih(a,s,2,h,wi(w,m));return a_(a,c,M,wi(w,v)),null!==M.attrs&&h_(M,M.attrs,!1),null!==M.mergedAttrs&&h_(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(v,m,h,0,a,c,d):m.data[v];Di(M,!0);const k=M.mergedAttrs;null!==k&&pt(w,C,k);const P=M.classes;null!==P&&u0(w,C,P);const U=M.styles;return null!==U&&Cs(w,C,U),64!=(64&M.flags)&&Zg(m,h,C,M),0===function bl(){return ft.lFrame.elementDepthCount}()&&oi(C,h),function ac(){ft.lFrame.elementDepthCount++}(),Jl(M)&&(Lc(m,h,M),Ap(m,M,h)),null!==d&&Xu(h,M),A_}function k_(){let s=Ln();_u()?yu():(s=s.parent,Di(s,!1));const a=s;!function lc(){ft.lFrame.elementDepthCount--}();const c=jt();return c.firstCreatePass&&(Gs(c,s),Pd(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Gf(s){return 0!=(16&s.flags)}(a)&&Y0(c,a,Te(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Cg(s){return 0!=(32&s.flags)}(a)&&Y0(c,a,Te(),a.stylesWithoutHost,!1),k_}function $0(s,a,c,d){return A_(s,a,c,d),k_(),$0}function od(s,a,c){const d=Te(),h=jt(),m=s+20,v=h.firstCreatePass?function Fl(s,a,c,d,h){const m=a.consts,v=wi(m,d),w=Ih(a,s,8,"ng-container",v);return null!==v&&h_(w,v,!0),a_(a,c,w,wi(m,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,h,d,a,c):h.data[m];Di(v,!0);const w=d[m]=d[11].createComment("");return Zg(h,d,w,v),oi(w,d),Jl(v)&&(Lc(h,d,v),Ap(h,v,d)),null!=c&&Xu(d,v),od}function G0(){let s=Ln();const a=jt();return _u()?yu():(s=s.parent,Di(s,!1)),a.firstCreatePass&&(Gs(a,s),Pd(s)&&a.queries.elementEnd(s)),G0}function XC(){return Te()}function zo(s){return!!s&&"function"==typeof s.then}function eT(s){return!!s&&"function"==typeof s.subscribe}const x_=eT;function tT(s,a,c,d){const h=Te(),m=jt(),v=Ln();return function nT(s,a,c,d,h,m,v,w){const C=Jl(d),k=s.firstCreatePass&&CC(s),P=a[8],U=DC(a);let q=!0;if(3&d.type||w){const He=Wr(d,a),nt=w?w(He):He,Ee=U.length,gt=w?en=>w(wn(en[d.index])):d.index;if(kn(c)){let en=null;if(!w&&C&&(en=function O_(s,a,c,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===d){const w=a[7],C=h[m+2];return w.length>C?w[C]:null}"string"==typeof v&&(m+=2)}return null}(s,a,h,d.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=m,en.__ngLastListenerFn__=m,q=!1;else{m=rT(d,a,P,m,!1);const An=c.listen(nt,h,m);U.push(m,An),k&&k.push(h,gt,Ee,Ee+1)}}else m=rT(d,a,P,m,!0),nt.addEventListener(h,m,v),U.push(m),k&&k.push(h,gt,Ee,v)}else m=rT(d,a,P,m,!1);const ve=d.outputs;let Re;if(q&&null!==ve&&(Re=ve[h])){const He=Re.length;if(He)for(let nt=0;nt<He;nt+=2){const co=a[Re[nt]][Re[nt+1]].subscribe(m),Cd=U.length;U.push(m,co),k&&k.push(h,d.index,Cd,-(Cd+1))}}}(m,h,h[11],v,s,a,!!c,d),tT}function ds(s,a,c,d){try{return!1!==c(d)}catch(h){return TC(s,h),!1}}function rT(s,a,c,d,h){return function m(v){if(v===Function)return d;const w=2&s.flags?zr(s.index,a):a;0==(32&a[2])&&xp(w);let C=ds(a,0,d,v),M=m.__ngNextListenerFn__;for(;M;)C=ds(a,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Hp(s=1){return function Oo(s){return(ft.lFrame.contextLView=function Eu(s,a){for(;s>0;)a=a[15],s--;return a}(s,ft.lFrame.contextLView))[8]}(s)}function q0(s,a){let c=null;const d=function Br(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(s);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===d?BD(s,m,!0):jD(d,m))return h}else c=h}return c}function iT(s){const a=Te()[16][6];if(!a.projection){const d=a.projection=os(s?s.length:1,null),h=d.slice();let m=a.child;for(;null!==m;){const v=s?q0(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function sT(s,a=0,c){const d=Te(),h=jt(),m=Ih(h,20+s,16,null,c||null);null===m.projection&&(m.projection=a),yu(),64!=(64&m.flags)&&function Wg(s,a,c){RD(a[11],0,a,c,Gg(s,c,a),xD(c.parent||a[6],c,a))}(h,d,m)}function oT(s,a,c){return aT(s,"",a,"",c),oT}function aT(s,a,c,d,h){const m=Te(),v=nd(m,a,c,d);return v!==Rt&&Ss(jt(),Gn(),m,s,v,m[11],h,!1),aT}function fT(s,a,c,d,h){const m=s[c+1],v=null===a;let w=d?Go(m):wa(m),C=!1;for(;0!==w&&(!1===C||v);){const k=s[w+1];yI(s[w],a)&&(C=!0,s[w+1]=d?Qg(k):zg(k)),w=d?Go(k):wa(k)}C&&(s[c+1]=d?zg(m):Qg(m))}function yI(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Uo(s,a)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function li(s){return s.substring(Xr.key,Xr.keyEnd)}function pT(s,a){const c=Xr.textEnd;return c===a?-1:(a=Xr.keyEnd=function ad(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,Xr.key=a,c),ye(s,a,c))}function ye(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function et(s,a,c){return Ea(s,a,c,!1),et}function jp(s,a){return Ea(s,a,null,!0),jp}function F_(s){!function so(s,a,c,d){const h=jt(),m=ns(2);h.firstUpdatePass&&yT(h,null,m,d);const v=Te();if(c!==Rt&&$i(v,m,c)){const w=h.data[Kr()];if(J0(w,d)&&!_T(h,m)){let C=d?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(c=ne(C,c||"")),Y0(h,w,v,c,d)}else!function vT(s,a,c,d,h,m,v,w){h===Rt&&(h=dt);let C=0,M=0,k=0<h.length?h[0]:null,P=0<m.length?m[0]:null;for(;null!==k||null!==P;){const U=C<h.length?h[C+1]:void 0,q=M<m.length?m[M+1]:void 0;let Re,ve=null;k===P?(C+=2,M+=2,U!==q&&(ve=P,Re=q)):null===P||null!==k&&k<P?(C+=2,ve=k):(M+=2,ve=P,Re=q),null!==ve&&bT(s,a,c,d,ve,Re,v,w),k=C<h.length?h[C]:null,P=M<m.length?m[M]:null}}(h,w,v,v[11],v[m+1],v[m+1]=function wI(s,a,c){if(null==c||""===c)return dt;const d=[],h=Yo(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&a(d,h);return d}(s,a,c),d,m)}}(nr,ks,s,!0)}function ks(s,a){for(let c=function L_(s){return function mT(s){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=s.length}(s),pT(s,ye(s,0,Xr.textEnd))}(a);c>=0;c=pT(a,c))nr(s,li(a),!0)}function Ea(s,a,c,d){const h=Te(),m=jt(),v=ns(2);m.firstUpdatePass&&yT(m,s,v,d),a!==Rt&&$i(h,v,a)&&bT(m,m.data[Kr()],h,h[11],s,h[v+1]=function B_(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ie(Yo(s)))),s}(a,c),d,v)}function _T(s,a){return a>=s.expandoStartIndex}function yT(s,a,c,d){const h=s.data;if(null===h[c+1]){const m=h[Kr()],v=_T(s,c);J0(m,d)&&null===a&&!v&&(a=!1),a=function bI(s,a,c,d){const h=function Va(s){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let m=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Yp(c=Qa(null,s,a,c,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Qa(h,s,a,c,d),null===m){let C=function Si(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==wa(d))return s[Go(d)]}(s,a,d);void 0!==C&&Array.isArray(C)&&(C=Qa(null,s,a,C[1],d),C=Yp(C,a.attrs,d),function V_(s,a,c,d){s[Go(c?a.classBindings:a.styleBindings)]=d}(s,a,d,C))}else m=function Ii(s,a,c){let d;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)d=Yp(d,s[m].hostAttrs,c);return Yp(d,a.attrs,c)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(h,m,a,d),function gI(s,a,c,d,h,m){let v=m?a.classBindings:a.styleBindings,w=Go(v),C=wa(v);s[d]=c;let k,M=!1;if(Array.isArray(c)){const P=c;k=P[1],(null===k||Uo(P,k)>0)&&(M=!0)}else k=c;if(h)if(0!==C){const U=Go(s[w+1]);s[d+1]=Tp(U,w),0!==U&&(s[U+1]=Kg(s[U+1],d)),s[w+1]=function qD(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=Tp(w,0),0!==w&&(s[w+1]=Kg(s[w+1],d)),w=d;else s[d+1]=Tp(C,0),0===w?w=d:s[C+1]=Kg(s[C+1],d),C=d;M&&(s[d+1]=zg(s[d+1])),fT(s,k,d,!0),fT(s,k,d,!1),function _I(s,a,c,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Uo(m,a)>=0&&(c[d+1]=Qg(c[d+1]))}(a,k,s,d,m),v=Tp(w,C),m?a.classBindings=v:a.styleBindings=v}(h,m,a,c,v,d)}}function Qa(s,a,c,d,h){let m=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(m=a[w],d=Yp(d,m.hostAttrs,h),m!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function Yp(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nr(s,v,!!c||a[++m]))}return void 0===s?null:s}function bT(s,a,c,d,h,m,v,w){if(!(3&a.type))return;const C=s.data,M=C[w+1];Gh(function Jg(s){return 1==(1&s)}(M)?K0(C,a,c,h,wa(M),v):void 0)||(Gh(m)||function ZD(s){return 2==(2&s)}(M)&&(m=K0(C,null,c,h,w,v)),function zu(s,a,c,d,h){const m=kn(s);if(a)h?m?s.addClass(c,d):c.classList.add(d):m?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ce.DashCase;if(null==h)m?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=ce.Important),m?s.setStyle(c,d,h,v):c.style.setProperty(d,h,w?"important":"")}}}(d,v,aa(Kr(),c),h,m))}function K0(s,a,c,d,h,m){const v=null===a;let w;for(;h>0;){const C=s[h],M=Array.isArray(C),k=M?C[1]:C,P=null===k;let U=c[h+1];U===Rt&&(U=P?dt:void 0);let q=P?_c(U,d):k===d?U:void 0;if(M&&!Gh(q)&&(q=_c(C,d)),Gh(q)&&(w=q,v))return w;const ve=s[h+1];h=v?Go(ve):wa(ve)}if(null!==a){let C=m?a.residualClasses:a.residualStyles;null!=C&&(w=_c(C,d))}return w}function Gh(s){return void 0!==s}function J0(s,a){return 0!=(s.flags&(a?16:32))}function Gi(s,a=""){const c=Te(),d=jt(),h=s+20,m=d.firstCreatePass?Ih(d,h,1,a,null):d.data[h],v=c[h]=function wh(s,a){return kn(s)?s.createText(a):s.createTextNode(a)}(c[11],a);Zg(d,c,v,m),Di(m,!1)}function $p(s){return ci("",s,""),$p}function ci(s,a,c){const d=Te(),h=nd(d,s,a,c);return h!==Rt&&Da(d,Kr(),h),ci}function U_(s,a,c,d,h){const m=Te(),v=rd(m,s,a,c,d,h);return v!==Rt&&Da(m,Kr(),v),U_}const Pc=void 0;var MI=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AT(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ld={};function qp(s){const a=function ui(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=W_(a);if(c)return c;const d=a.split("-")[0];if(c=W_(d),c)return c;if("en"===d)return MI;throw new Error(`Missing locale data for the locale "${s}".`)}function kT(s){return qp(s)[bt.PluralCase]}function W_(s){return s in ld||(ld[s]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[s]),ld[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const zh="en-US";let J_=zh;function ly(s,a,c,d,h){if(s=Q(s),Array.isArray(s))for(let m=0;m<s.length;m++)ly(s[m],a,c,d,h);else{const m=jt(),v=Te();let w=Lp(s)?s:Q(s.provide),C=kC(s);const M=Ln(),k=1048575&M.providerIndexes,P=M.directiveStart,U=M.providerIndexes>>20;if(Lp(s)||!s.multi){const q=new Ba(C,h,Yh),ve=Bc(w,a,h?k:k+U,P);-1===ve?(Lo(Zn(M,v),m,w),cy(m,s,a.length),a.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(q),v.push(q)):(c[ve]=q,v[ve]=q)}else{const q=Bc(w,a,k+U,P),ve=Bc(w,a,k,k+U),Re=q>=0&&c[q],He=ve>=0&&c[ve];if(h&&!He||!h&&!Re){Lo(Zn(M,v),m,w);const nt=function ZI(s,a,c,d,h){const m=new Ba(s,c,Yh);return m.multi=[],m.index=a,m.componentProviders=0,wb(m,h,d&&!c),m}(h?GI:$I,c.length,h,d,C);!h&&He&&(c[ve].providerFactory=nt),cy(m,s,a.length,0),a.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(nt),v.push(nt)}else cy(m,s,q>-1?q:ve,wb(c[h?ve:q],C,!h&&d));!h&&d&&He&&c[ve].componentProviders++}}}function cy(s,a,c,d){const h=Lp(a),m=function EO(s){return!!s.useClass}(a);if(h||m){const C=(m?Q(a.useClass):a).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const k=M.indexOf(c);-1===k?M.push(c,[d,C]):M[k+1].push(d,C)}else M.push(c,C)}}}function wb(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Bc(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function $I(s,a,c,d){return uy(this.multi,[])}function GI(s,a,c,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=is(c,c[1],this.providerFactory.index,d);m=w.slice(0,v),uy(h,m);for(let C=v;C<w.length;C++)m.push(w[C])}else m=[],uy(h,m);return m}function uy(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function Db(s,a=[]){return c=>{c.providersResolver=(d,h)=>function Vc(s,a,c){const d=jt();if(d.firstCreatePass){const h=vi(s);ly(c,d.data,d.blueprint,h,!0),ly(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class dy{}class Eb{resolveComponentFactory(a){throw function Cb(s){const a=Error(`No component factory found for ${ie(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let hy=(()=>{class s{}return s.NULL=new Eb,s})();function WI(){return rf(Ln(),Te())}function rf(s,a){return new Uc(Wr(s,a))}let Uc=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=WI,s})();function um(s){return s instanceof Uc?s.nativeElement:s}class fy{}let WT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function hm(){const s=Te(),c=zr(Ln().index,s);return function dm(s){return s[11]}(yi(c)?c:s)}(),s})(),zI=(()=>{class s{}return s.\u0275prov=yn({token:s,providedIn:"root",factory:()=>null}),s})();class Mr{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Ib=new Mr("13.2.7"),Mb={};function py(s,a,c,d,h=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(wn(m)),ri(m))for(let w=10;w<m.length;w++){const C=m[w],M=C[1].firstChild;null!==M&&py(C[1],C,M,d)}const v=c.type;if(8&v)py(s,a,c.child,d);else if(32&v){const w=Xe(c,a);let C;for(;C=w();)d.push(C)}else if(16&v){const w=LD(a,c);if(Array.isArray(w))d.push(...w);else{const C=Wn(a[16]);py(C[1],C,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class fm{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return py(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ri(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(e0(a,d),Ks(c,d))}this._attachedToViewContainer=!1}t0(this._lView[1],this._lView)}onDestroy(a){b0(this._lView[1],this._lView,null,a)}markForCheck(){xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){u_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function As(s,a,c){ko(!0);try{u_(s,a,c)}finally{ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yg(s,a){qg(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=a}}class KI extends fm{constructor(a){super(a),this._view=a}detectChanges(){wC(this._view)}checkNoChanges(){!function xS(s){ko(!0);try{wC(s)}finally{ko(!1)}}(this._view)}get context(){return null}}class Ab extends hy{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Jt(a);return new gy(c,this.ngModule)}}function kb(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class gy extends dy{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function $D(s){return s.map(YD).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return kb(this.componentDef.inputs)}get outputs(){return kb(this.componentDef.outputs)}create(a,c,d,h){const m=(h=h||this.ngModule)?function my(s,a){return{get:(c,d,h)=>{const m=s.get(c,Mb,h);return m!==Mb||d===Mb?m:a.get(c,d,h)}}}(a,h.injector):a,v=m.get(fy,Ra),w=m.get(zI,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=d?function kp(s,a,c){if(kn(s))return s.selectRootElement(a,c===Kt.ShadowDom);let d="string"==typeof a?s.querySelector(a):a;return d.textContent="",d}(C,d,this.componentDef.encapsulation):Ch(v.createRenderer(null,this.componentDef),M,function zT(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),P=this.componentDef.onPush?576:528,U=function WS(s,a){return{components:[],scheduler:s||Qv,clean:E0,playerHandler:a||null,flags:0}}(),q=Ah(0,null,null,1,0,null,null,null,null,null),ve=Ju(null,q,U,P,null,null,v,C,w,m);let Re,He;la(ve);try{const nt=function ZS(s,a,c,d,h,m){const v=c[1];c[20]=s;const C=Ih(v,20,2,"#host",null),M=C.mergedAttrs=a.hostAttrs;null!==M&&(h_(C,M,!0),null!==s&&(pt(h,s,M),null!==C.classes&&u0(h,s,C.classes),null!==C.styles&&Cs(h,s,C.styles)));const k=d.createRenderer(s,a),P=Ju(c,iC(a),null,a.onPush?64:16,c[20],C,d,k,m||null,null);return v.firstCreatePass&&(Lo(Zn(C,c),v,a.type),hC(v,C),Ms(C,c.length,1)),c_(c,P),c[20]=P}(k,this.componentDef,ve,v,C);if(k)if(d)pt(C,k,["ng-version",Ib.full]);else{const{attrs:Ee,classes:gt}=function GD(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&a.push(m,s[++d]):8===h&&c.push(m);else{if(!Rn(h))break;h=m}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Ee&&pt(C,k,Ee),gt&&gt.length>0&&u0(C,k,gt.join(" "))}if(He=vl(q,20),void 0!==c){const Ee=He.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const en=c[gt];Ee.push(null!=en?Array.from(en):null)}}Re=function qS(s,a,c,d,h){const m=c[1],v=function C0(s,a,c){const d=Ln();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),mC(s,d,a,Nc(s,a,1,null),c));const h=is(a,s,d.directiveStart,d);oi(h,a);const m=Wr(d,a);return m&&oi(m,a),h}(m,c,a);if(d.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,a)),a.contentQueries){const C=Ln();a.contentQueries(1,v,C.directiveStart)}const w=Ln();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(No(w.index),ES(c[1],w,0,w.directiveStart,w.directiveEnd,a),uC(a,v)),v}(nt,this.componentDef,ve,U,[y_]),Qu(q,ve,null)}finally{ua()}return new QI(this.componentType,Re,rf(He,ve),ve,He)}}class QI extends class qT{}{constructor(a,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new KI(h),this.componentType=a}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Xa{}class Ob{}const Hc=new Map;class sf extends Xa{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ab(this);const d=Sn(a);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=M0(a,c,[{provide:Xa,useValue:this},{provide:hy,useValue:this.componentFactoryResolver}],ie(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Ka.THROW_IF_NOT_FOUND,d=ut.Default){return a===Ka||a===Xa||a===Rl?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class _y extends Ob{constructor(a){super(),this.moduleType=a,null!==Sn(a)&&function Rb(s){const a=new Set;!function c(d){const h=Sn(d,!0),m=h.id;null!==m&&(function Lb(s,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${s} - ${ie(a)} vs ${ie(a.name)}`)}(m,Hc.get(m),d),Hc.set(m,d));const v=g(h.imports);for(const w of v)a.has(w)||(a.add(w),c(w))}(s)}(a)}create(a){return new sf(this.moduleType,a)}}function Fb(s,a,c){const d=Pr()+s,h=Te();return h[d]===Rt?Ca(h,d,c?a.call(c):a()):function Fp(s,a){return s[a]}(h,d)}function yy(s,a,c,d){return Bb(Te(),Pr(),s,a,c,d)}function of(s,a){const c=s[a];return c===Rt?void 0:c}function Bb(s,a,c,d,h,m){const v=a+c;return $i(s,v,h)?Ca(s,v+1,m?d.call(m,h):d(h)):of(s,v+1)}function fd(s,a){const c=jt();let d;const h=s+20;c.firstCreatePass?(d=function eM(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const m=d.factory||(d.factory=bi(d.type)),v=gr(Yh);try{const w=Fi(!1),C=m();return Fi(w),function eI(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,Te(),h,C),C}finally{gr(v)}}function nE(s,a,c){const d=s+20,h=Te(),m=ts(h,d);return mm(h,d)?Bb(h,Pr(),a,m.transform,c,m):m.transform(c)}function by(s,a,c,d){const h=s+20,m=Te(),v=ts(m,h);return mm(m,h)?function pm(s,a,c,d,h,m,v){const w=a+c;return td(s,w,h,m)?Ca(s,w+2,v?d.call(v,h,m):d(h,m)):of(s,w+2)}(m,Pr(),a,v.transform,c,d,v):v.transform(c,d)}function mm(s,a){return s[1].data[a].pure}function jb(s){return a=>{setTimeout(s,void 0,a)}}const Ia=class wy extends o.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var h,m,v;let w=a,C=c||(()=>null),M=d;if(a&&"object"==typeof a){const P=a;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),M=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=jb(C),w&&(w=jb(w)),M&&(M=jb(M)));const k=super.subscribe({next:w,error:C,complete:M});return a instanceof K.w0&&a.add(k),k}};function Ai(){return this._results[xh()]()}class jc{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=xh(),d=jc.prototype;d[c]||(d[c]=Ai)}get changes(){return this._changes||(this._changes=new Ia)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=Ir(a);(this._changesDetected=!function Cl(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=a[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ko=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pe,s})();const Yb=Ko,rM=class extends Yb{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=Ju(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Qu(c,d,a),new fm(d)}};function Pe(){return dr(Ln(),Te())}function dr(s,a){return 4&s.type?new rM(a,s,rf(s,a)):null}let Yc=(()=>{class s{}return s.__NG_ELEMENT_ID__=$b,s})();function $b(){return de(Ln(),Te())}const rt=Yc,Nt=class extends rt{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return rf(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){const a=Vi(this._hostTNode,this._hostLView);if(eh(a)){const c=rs(a,this._hostLView),d=Mn(a);return new ss(c[1].data[d+8],c)}return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=iE(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const h=a.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(a,c,d,h,m){const v=a&&!function pa(s){return"function"==typeof s}(a);let w;if(v)w=c;else{const P=c||{};w=P.index,d=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?a:new gy(Jt(a)),M=d||this.parentInjector;if(!m&&null==C.ngModule){const U=(v?M:this.parentInjector).get(Xa,null);U&&(m=U)}const k=C.create(M,h,void 0,m);return this.insert(k.hostView,w),k}insert(a,c){const d=a._lView,h=d[1];if(function sc(s){return ri(s[3])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const P=d[3],U=new Nt(P,P[6],P[3]);U.detach(U.indexOf(a))}}const m=this._adjustIndex(c),v=this._lContainer;!function Ei(s,a,c,d){const h=10+d,m=c.length;d>0&&(c[h-1][4]=a),d<m-10?(a[4]=c[h],Tl(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function Th(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=128}(h,d,v,m);const w=a0(m,v),C=d[11],M=jn(C,v[7]);return null!==M&&function Dp(s,a,c,d,h,m){d[0]=h,d[6]=a,qg(s,d,c,1,h,m)}(h,v[6],C,d,M,w),a.attachToViewContainerRef(),Tl(Ge(v),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=iE(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=e0(this._lContainer,c);d&&(Ks(Ge(this._lContainer),c),t0(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=e0(this._lContainer,c);return d&&null!=Ks(Ge(this._lContainer),c)?new fm(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function iE(s){return s[8]}function Ge(s){return s[8]||(s[8]=[])}function de(s,a){let c;const d=a[s.index];if(ri(d))c=d;else{let h;if(8&s.type)h=wn(d);else{const m=a[11];h=m.createComment("");const v=Wr(s,a);to(m,jn(m,v),h,function vS(s,a){return kn(s)?s.nextSibling(a):a.nextSibling}(m,v),!1)}a[s.index]=c=vC(d,a,h,s),c_(a,c)}return new Nt(c,s,a)}class Gb{constructor(a){this.queryList=a,this.matches=null}clone(){return new Gb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zb{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Zb(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==af(a,c).matches&&this.queries[c].setDirty()}}class sE{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class qb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new qb(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Wb{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Wb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(a,c,oE(c,m)),this.matchTNodeWithReadOption(a,c,Po(c,a,m,!1,!1))}else d===Ko?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Po(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Uc||h===Yc||h===Ko&&4&c.type)this.addMatch(c.index,-2);else{const m=Po(c,a,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function oE(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function PO(s,a,c,d){return-1===c?function sM(s,a){return 11&s.type?rf(s,a):4&s.type?dr(s,a):null}(a,s):-2===c?function oo(s,a,c){return c===Uc?rf(a,s):c===Ko?dr(a,s):c===Yc?de(a,s):void 0}(s,a,d):is(s,s[1],c,a)}function aE(s,a,c,d){const h=a[19].queries[d];if(null===h.matches){const m=s.data,v=c.matches,w=[];for(let C=0;C<v.length;C+=2){const M=v[C];w.push(M<0?null:PO(a,m[M],v[C+1],c.metadata.read))}h.matches=w}return h.matches}function Dy(s,a,c,d){const h=s.queries.getByIndex(c),m=h.matches;if(null!==m){const v=aE(s,a,h,c);for(let w=0;w<m.length;w+=2){const C=m[w];if(C>0)d.push(v[w/2]);else{const M=m[w+1],k=a[-C];for(let P=10;P<k.length;P++){const U=k[P];U[17]===U[3]&&Dy(U[1],U,M,d)}if(null!==k[9]){const P=k[9];for(let U=0;U<P.length;U++){const q=P[U];Dy(q[1],q,M,d)}}}}}return d}function Wt(s){const a=Te(),c=jt(),d=Du();Cu(d+1);const h=af(c,d);if(s.dirty&&Io(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Dy(c,a,d,[]):aE(c,a,h,d);s.reset(m,um),s.notifyOnChanges()}return!0}return!1}function pd(s,a,c){const d=jt();d.firstCreatePass&&($c(d,new sE(s,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Kb(d,Te(),a)}function zb(s,a,c,d){const h=jt();if(h.firstCreatePass){const m=Ln();$c(h,new sE(a,c,d),m.index),function lE(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Kb(h,Te(),c)}function br(){return function kt(s,a){return s[19].queries[a].queryList}(Te(),Du())}function Kb(s,a,c){const d=new jc(4==(4&c));b0(s,a,d,d.destroy),null===a[19]&&(a[19]=new Zb),a[19].queries.push(new Gb(d))}function $c(s,a,c){null===s.queries&&(s.queries=new qb),s.queries.track(new Wb(a,c))}function af(s,a){return s.queries.getByIndex(a)}function on(s,a){return dr(s,a)}function gd(...s){}const fi=new qn("Application Initializer");let sw=(()=>{class s{constructor(c){this.appInits=c,this.resolve=gd,this.reject=gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(zo(m))c.push(m);else if(x_(m)){const v=new Promise((w,C)=>{m.subscribe({complete:w,error:C})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Yt(fi,8))},s.\u0275prov=yn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mE=new qn("AppId",{providedIn:"root",factory:function gE(){return`${ow()}${ow()}${ow()}`}});function ow(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _E=new qn("Platform Initializer"),yE=new qn("Platform ID"),vE=new qn("appBootstrapListener");let yd=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})();const ky=new qn("LocaleId",{providedIn:"root",factory:()=>as(ky,ut.Optional|ut.SkipSelf)||function cM(){return"undefined"!=typeof $localize&&$localize.locale||zh}()}),bE=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xy{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let Oy=(()=>{class s{compileModuleSync(c){return new _y(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=g(Sn(c).declarations).reduce((v,w)=>{const C=Jt(w);return C&&v.push(new gy(C)),v},[]);return new xy(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=yn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const lw=(()=>Promise.resolve(0))();function Xc(s){"undefined"==typeof Zone?lw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Qo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ia(!1),this.onMicrotaskEmpty=new Ia(!1),this.onStable=new Ia(!1),this.onError=new Ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Jo(){let s=qt.requestAnimationFrame,a=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function uw(s){const a=()=>{!function cw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ly(s),s.isCheckStableRunning=!0,Ny(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ly(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,v,w)=>{try{return dw(s),c.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),DE(s)}},onInvoke:(c,d,h,m,v,w,C)=>{try{return dw(s),c.invoke(h,m,v,w,C)}finally{s.shouldCoalesceRunChangeDetection&&a(),DE(s)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Ly(s),Ny(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,a,wm,gd,gd);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const wm={};function Ny(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ly(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function dw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function DE(s){s._nesting--,Ny(s)}class CE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ia,this.onMicrotaskEmpty=new Ia,this.onStable=new Ia,this.onError=new Ia}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}let hw=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qo.assertNotInAngularZone(),Xc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Yt(Qo))},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})(),fw=(()=>{class s{constructor(){this._applications=new Map,pw.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return pw.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})();class Ry{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function dM(s){pw=s}let Xo,pw=new Ry;const eu=new qn("AllowMultipleToken");class EE{constructor(a,c){this.name=a,this.token=c}}function mw(s,a,c=[]){const d=`Platform: ${a}`,h=new qn(d);return(m=[])=>{let v=IE();if(!v||v.injector.get(eu,!1))if(s)s(c.concat(m).concat({provide:h,useValue:!0}));else{const w=c.concat(m).concat({provide:h,useValue:!0},{provide:f_,useValue:"platform"});!function _f(s){if(Xo&&!Xo.destroyed&&!Xo.injector.get(eu,!1))throw new Ne(400,"");Xo=s.get(ME);const a=s.get(_E,null);a&&a.forEach(c=>c())}(Ka.create({providers:w,name:d}))}return function SE(s){const a=IE();if(!a)throw new Ne(401,"");return a}()}}function IE(){return Xo&&!Xo.destroyed?Xo:null}let ME=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function Ur(s,a){let c;return c="noop"===s?new CE:("zone.js"===s?void 0:s)||new Qo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Qo,useValue:w}];return w.run(()=>{const M=Ka.create({providers:C,parent:this.injector,name:c.moduleType.name}),k=c.create(M),P=k.injector.get(Qr,null);if(!P)throw new Ne(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:q=>{P.handleError(q)}});k.onDestroy(()=>{Cm(this._modules,k),U.unsubscribe()})}),function Fy(s,a,c){try{const d=c();return zo(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(P,w,()=>{const U=k.injector.get(sw);return U.runInitializers(),U.donePromise.then(()=>(function ab(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(J_=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(ky,zh)||zh),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const h=Dm({},d);return function mf(s,a,c){const d=new _y(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(gw);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ne(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Yt(Ka))},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})();function Dm(s,a){return Array.isArray(a)?a.reduce(Dm,s):Object.assign(Object.assign({},s),a)}let gw=(()=>{class s{constructor(c,d,h,m,v){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new L.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new L.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Qo.assertNotInAngularZone(),Xc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Qo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,C.pipe((0,X.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ne(405,"");let h;h=c instanceof dy?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const m=function TE(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Xa),w=h.create(Ka.NULL,[],d||h.selector,m),C=w.location.nativeElement,M=w.injector.get(hw,null),k=M&&w.injector.get(fw);return M&&k&&k.registerApplication(C,M),w.onDestroy(()=>{this.detachView(w.hostView),Cm(this.components,w),k&&k.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Cm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(vE,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(Yt(Qo),Yt(Ka),Yt(Qr),Yt(hy),Yt(sw))},s.\u0275prov=yn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Cm(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let _w=!0,yf=!1;function vd(){return yf=!0,_w}function xE(){if(yf)throw new Error("Cannot enable prod mode after platform setup.");_w=!1}let yw=(()=>{class s{}return s.__NG_ELEMENT_ID__=pM,s})();function pM(s){return function Hr(s,a,c){if(Do(s)&&!c){const d=zr(s.index,a);return new fm(d,d)}return 47&s.type?new fm(a[16],a):null}(Ln(),Te(),16==(16&s))}class Sm{constructor(){}supports(a){return Pp(a)}create(a){return new LE(a)}}const NE=(s,a)=>a;class LE{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||NE}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<Tw(d,h,m)?c:d,w=Tw(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const M=w-h,k=C-h;if(M!=k){for(let U=0;U<M;U++){const q=U<m.length?m[U]:m[U]=0,ve=q+U;k<=ve&&ve<M&&(m[U]=q+1)}m[v.previousIndex]=k-M}}w!==C&&a(v,w,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Pp(a))throw new Ne(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],v=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,w),d=!0),c=c._next}else h=0,function VC(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[xh()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,h)):a=this._addAfter(new RE(c,d),m,h),a}_verifyReinsertion(a,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Cw),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cw),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class RE{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _M{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Cw{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new _M,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tw(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class PE{constructor(){}supports(a){return a instanceof Map||BC(a)}create(){return new yM}}class yM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||BC(a)))throw new Ne(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new vM(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class vM{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bf(){return new Hy([new Sm])}let Hy=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||bf()),deps:[[s,new Dc,new bc]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Ne(901,"")}}return s.\u0275prov=yn({token:s,providedIn:"root",factory:bf}),s})();function ei(){return new Im([new PE])}let Im=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||ei()),deps:[[s,new Dc,new bc]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Ne(901,"")}}return s.\u0275prov=yn({token:s,providedIn:"root",factory:ei}),s})();const Am=mw(null,"core",[{provide:yE,useValue:"unknown"},{provide:ME,deps:[Ka]},{provide:fw,deps:[]},{provide:yd,deps:[]}]);let BE=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Yt(gw))},s.\u0275mod=J({type:s}),s.\u0275inj=hn({}),s})()},3942:(st,Ce,N)=>{N.d(Ce,{Z:()=>Ne});var o=N(2090),K=N(4859),L=N(9681),le=N(1877);class X{constructor(fe,De){this._delegate=fe,this.firebase=De,(0,L._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(fe,De=L._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(fe);return!ze.isInitialized()&&"EXPLICIT"===(null===(tt=ze.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:De})}_removeServiceInstance(fe,De=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(De)}_addComponent(fe){(0,L._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,L._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ne(){const Fe=function ie(Fe){const fe={},De={__esModule:!0,initializeApp:function Se(je,te={}){const z=L.initializeApp(je,te);if((0,o.r3)(fe,z.name))return fe[z.name];const oe=new Fe(z,De);return fe[z.name]=oe,oe},app:ze,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function we(je){const te=je.name,z=te.replace("-compat","");if(L._registerComponent(je)&&"PUBLIC"===je.type){const oe=(ge=ze())=>{if("function"!=typeof ge[z])throw se.create("invalid-app-argument",{appName:te});return ge[z]()};void 0!==je.serviceProps&&(0,o.ZB)(oe,je.serviceProps),De[z]=oe,Fe.prototype[z]=function(...ge){return this._getService.bind(this,te).apply(this,je.multipleInstances?ge:[])}}return"PUBLIC"===je.type?De[z]:null},removeApp:function tt(je){delete fe[je]},useAsService:function $e(je,te){return"serverAuth"===te?null:te},modularAPIs:L}};function ze(je){if(!(0,o.r3)(fe,je=je||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:je});return fe[je]}return De.default=De,Object.defineProperty(De,"apps",{get:function be(){return Object.keys(fe).map(je=>fe[je])}}),ze.App=Fe,De}(X);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function fe(De){(0,o.ZB)(Fe,De)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Fe}(),Y=new le.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=j;!function Me(Fe){(0,L.registerVersion)("@firebase/app-compat","0.1.21",Fe)}()},9681:(st,Ce,N)=>{N.r(Ce),N.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>es,_apps:()=>wt,_clearComponents:()=>zt,_components:()=>Dn,_getProvider:()=>Ps,_registerComponent:()=>yn,_removeServiceInstance:()=>hn,deleteApp:()=>Vs,getApp:()=>ni,getApps:()=>Fs,initializeApp:()=>ps,onLog:()=>Cr,registerVersion:()=>_i,setLogLevel:()=>gr});var o=N(5861),K=N(4859),L=N(1877),le=N(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function pe(Ke){const Ie=Ke.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Je)){const ht=Je.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Je=>Je).join(" ")}}const se="@firebase/app",ne=new L.Yd("@firebase/app"),Jn="[DEFAULT]",lt={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Dn=new Map;function Cn(Ke,Ie){try{Ke.container.addComponent(Ie)}catch(Je){ne.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ke.name}`,Je)}}function es(Ke,Ie){Ke.container.addOrOverwriteComponent(Ie)}function yn(Ke){const Ie=Ke.name;if(Dn.has(Ie))return ne.debug(`There were multiple attempts to register component ${Ie}.`),!1;Dn.set(Ie,Ke);for(const Je of wt.values())Cn(Je,Ke);return!0}function Ps(Ke,Ie){const Je=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Ke.container.getProvider(Ie)}function hn(Ke,Ie,Je=Jn){Ps(Ke,Ie).clearInstance(Je)}function zt(){Dn.clear()}const Oi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class _o{constructor(Ie,Je,ht){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const ti="9.6.10";function ps(Ke,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Je=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},Ie),ht=Je.name;if("string"!=typeof ht||!ht)throw Oi.create("bad-app-name",{appName:String(ht)});const Zt=wt.get(ht);if(Zt){if((0,le.vZ)(Ke,Zt.options)&&(0,le.vZ)(Je,Zt.config))return Zt;throw Oi.create("duplicate-app",{appName:ht})}const Ht=new K.H0(ht);for(const V of Dn.values())Ht.addComponent(V);const H=new _o(Ke,Je,Ht);return wt.set(ht,H),H}function ni(Ke=Jn){const Ie=wt.get(Ke);if(!Ie)throw Oi.create("no-app",{appName:Ke});return Ie}function Fs(){return Array.from(wt.values())}function Vs(Ke){return ut.apply(this,arguments)}function ut(){return(ut=(0,o.Z)(function*(Ke){const Ie=Ke.name;wt.has(Ie)&&(wt.delete(Ie),yield Promise.all(Ke.container.getProviders().map(Je=>Je.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function _i(Ke,Ie,Je){var ht;let Zt=null!==(ht=lt[Ke])&&void 0!==ht?ht:Ke;Je&&(Zt+=`-${Je}`);const Ht=Zt.match(/\s|\//),H=Ie.match(/\s|\//);if(Ht||H){const V=[`Unable to register library "${Zt}" with version "${Ie}":`];return Ht&&V.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Ht&&H&&V.push("and"),H&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ne.warn(V.join(" "))}yn(new K.wA(`${Zt}-version`,()=>({library:Zt,version:Ie}),"VERSION"))}function Cr(Ke,Ie){if(null!==Ke&&"function"!=typeof Ke)throw Oi.create("invalid-log-argument");(0,L.Am)(Ke,Ie)}function gr(Ke){(0,L.Ub)(Ke)}const Nn="firebase-heartbeat-store";let Tr=null;function yo(){return Tr||(Tr=(0,le.X3)("firebase-heartbeat-database",1,(Ke,Ie)=>{0===Ie&&Ke.createObjectStore(Nn)}).catch(Ke=>{throw Oi.create("storage-open",{originalErrorMessage:Ke.message})})),Tr}function Kt(){return(Kt=(0,o.Z)(function*(Ke){try{return(yield yo()).transaction(Nn).objectStore(Nn).get(Or(Ke))}catch(Ie){throw Oi.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function ot(Ke,Ie){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,o.Z)(function*(Ke,Ie){try{const ht=(yield yo()).transaction(Nn,"readwrite");return yield ht.objectStore(Nn).put(Ie,Or(Ke)),ht.complete}catch(Je){throw Oi.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function Or(Ke){return`${Ke.name}!${Ke.options.appId}`}class na{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new dt(Je),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Ie=this;return(0,o.Z)(function*(){const ht=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=$r();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!Ie._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Zt))return Ie._heartbeatsCache.heartbeats.push({date:Zt,agent:ht}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ht=>{const H=new Date(Ht.date).valueOf();return Date.now()-H<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,o.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Je=$r(),{heartbeatsToSend:ht,unsentEntries:Zt}=function Nr(Ke,Ie=1024){const Je=[];let ht=Ke.slice();for(const Zt of Ke){const Ht=Je.find(H=>H.agent===Zt.agent);if(Ht){if(Ht.dates.push(Zt.date),Gr(Je)>Ie){Ht.dates.pop();break}}else if(Je.push({agent:Zt.agent,dates:[Zt.date]}),Gr(Je)>Ie){Je.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Je,unsentEntries:ht}}(Ie._heartbeatsCache.heartbeats),Ht=(0,le.L)(JSON.stringify({version:2,heartbeats:ht}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Je,Zt.length>0?(Ie._heartbeatsCache.heartbeats=Zt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ht})()}}function $r(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,o.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function fl(Ke){return Kt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Je=this;return(0,o.Z)(function*(){var ht;if(yield Je._canUseIndexedDBPromise){const Ht=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ht=Ie.lastSentHeartbeatDate)&&void 0!==ht?ht:Ht.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Je=this;return(0,o.Z)(function*(){var ht;if(yield Je._canUseIndexedDBPromise){const Ht=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ht=Ie.lastSentHeartbeatDate)&&void 0!==ht?ht:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...Ie.heartbeats]})}})()}}function Gr(Ke){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function $t(Ke){yn(new K.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),yn(new K.wA("heartbeat",Ie=>new na(Ie),"PRIVATE")),_i(se,"0.7.20",Ke),_i(se,"0.7.20","esm2017"),_i("fire-js","")}("")},4859:(st,Ce,N)=>{N.d(Ce,{wA:()=>L,H0:()=>ie});var o=N(5861),K=N(2090);class L{constructor(j,Y,Q){this.name=j,this.instanceFactory=Y,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class X{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const Q=new K.BH;if(this.instancesDeferred.set(Y,Q),this.isInitialized(Y)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Y});qe&&Q.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),qe=null!==(Y=null==j?void 0:j.optional)&&void 0!==Y&&Y;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(qe)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function se(ne){return"EAGER"===ne.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Y){}for(const[Y,Q]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Y);try{const Me=this.getOrInitializeService({instanceIdentifier:qe});Q.resolve(Me)}catch(Me){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,o.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...Y.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Q,options:Y});for(const[Me,Ne]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&Ne.resolve(qe);return qe}onInit(j,Y){var Q;const qe=this.normalizeInstanceIdentifier(Y),Me=null!==(Q=this.onInitCallbacks.get(qe))&&void 0!==Q?Q:new Set;Me.add(j),this.onInitCallbacks.set(qe,Me);const Ne=this.instances.get(qe);return Ne&&j(Ne,qe),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,Y){const Q=this.onInitCallbacks.get(Y);if(Q)for(const qe of Q)try{qe(j,Y)}catch(Me){}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=j,ne===le?void 0:ne),options:Y}),this.instances.set(j,Q),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(qe){}var ne;return Q||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new X(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,N)=>{N.d(Ce,{in:()=>K,Yd:()=>se,Ub:()=>ie,Am:()=>ne});const o=[];var K=(()=>{return(j=K||(K={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",K;var j})();const L={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},le=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(j,Y,...Q)=>{if(Y<j.logLevel)return;const qe=(new Date).toISOString(),Me=X[Y];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Me](`[${qe}]  ${j.name}:`,...Q)};class se{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?L[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function ie(j){o.forEach(Y=>{Y.setLogLevel(j)})}function ne(j,Y){for(const Q of o){let qe=null;Y&&Y.level&&(qe=L[Y.level]),Q.userLogHandler=null===j?null:(Me,Ne,...Fe)=>{const fe=Fe.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(tt){return null}}).filter(De=>De).join(" ");Ne>=(null!=qe?qe:Me.logLevel)&&j({level:K[Ne].toLowerCase(),message:fe,args:Fe,type:Me.name})}}}},5861:(st,Ce,N)=>{function o(L,le,X,pe,se,ie,ne){try{var j=L[ie](ne),Y=j.value}catch(Q){return void X(Q)}j.done?le(Y):Promise.resolve(Y).then(pe,se)}function K(L){return function(){var le=this,X=arguments;return new Promise(function(pe,se){var ie=L.apply(le,X);function ne(Y){o(ie,pe,se,ne,j,"next",Y)}function j(Y){o(ie,pe,se,ne,j,"throw",Y)}ne(void 0)})}}N.d(Ce,{Z:()=>K})}},st=>{st(st.s=6769)}]);