"use strict";(self.webpackChunkniedzielny_projekt=self.webpackChunkniedzielny_projekt||[]).push([[179],{2011:(st,Ce,L)=>{L.d(Ce,{hO:()=>qe,xv:()=>ne,Dh:()=>ie,GT:()=>pe,cc:()=>Me,on:()=>j,pX:()=>X});var a=L(5e3),K=L(127),R=L(6351);st=L.hmd(st);const le=["ngOnDestroy"],X=(De,tt,ze,Se={})=>new Proxy(De,{get:(be,we)=>ze.runOutsideAngular(()=>{var $e;if(De[we])return(null===($e=null==Se?void 0:Se.spy)||void 0===$e?void 0:$e.get)&&Se.spy.get(we,De[we]),De[we];if(le.indexOf(we)>-1)return()=>{};const je=tt.toPromise().then(te=>{const z=te&&te[we];return"function"==typeof z?z.bind(te):z&&z.then?z.then(oe=>ze.run(()=>oe)):ze.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>je[z],apply:(te,z,oe)=>je.then(ge=>{var ae;const xe=ge&&ge(...oe);return(null===(ae=null==Se?void 0:Se.spy)||void 0===ae?void 0:ae.apply)&&Se.spy.apply(we,oe,xe),xe})})})}),pe=(De,tt)=>{tt.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Se=>{Object.defineProperty(De.prototype,Se,Object.getOwnPropertyDescriptor(ze.prototype||ze,Se))})})};class se{constructor(tt){return tt}}const ie=new a.OlP("angularfire2.app.options"),ne=new a.OlP("angularfire2.app.name");function j(De,tt,ze){const be="object"==typeof ze&&ze||{};be.name=be.name||"string"==typeof ze&&ze||"[DEFAULT]";const $e=K.Z.apps.filter(je=>je&&je.name===be.name)[0]||tt.runOutsideAngular(()=>K.Z.initializeApp(De,be));try{JSON.stringify(De)!==JSON.stringify($e.options)&&Y("error",`${$e.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new se($e)}const Y=(De,...tt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)},Q={provide:se,useFactory:j,deps:[ie,a.R0b,[new a.FiY,ne]]};let qe=(()=>{class De{constructor(ze){K.Z.registerVersion("angularfire",R.q4.full,"core"),K.Z.registerVersion("angularfire",R.q4.full,"app-compat"),K.Z.registerVersion("angular",a.q4F.full,ze.toString())}static initializeApp(ze,Se){return{ngModule:De,providers:[{provide:ie,useValue:ze},{provide:ne,useValue:Se}]}}}return De.\u0275fac=function(ze){return new(ze||De)(a.LFG(a.Lbi))},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({providers:[Q]}),De})();function Me(De,tt,ze,Se,be){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===De)||[];if(we)return function Le(De,tt){try{return De.toString()===tt.toString()}catch(ze){return De===tt}}(be,$e)||(fe("error",`${tt} was already initialized on the ${ze} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:be,was:$e})),we;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([De,je,be]),je}}const Fe=!!st.hot,fe=(De,...tt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(st,Ce,L)=>{L.d(Ce,{q4:()=>la,iC:()=>Tl,HU:()=>Lo,vb:()=>$t,JM:()=>Zf});var a=L(5e3),K=L(5867),R=L(5861),le=L(9681),X=L(2090),pe=L(4859),se=L(1877);const ie="@firebase/installations",Y="w:0.5.7",Q="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(E){return E instanceof X.ZR&&E.code.includes("request-failed")}function ze({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Se(E){return{token:E.token,requestStatus:2,expiresIn:oe(E.expiresIn),creationTime:Date.now()}}function be(E,T){return we.apply(this,arguments)}function we(){return(we=(0,R.Z)(function*(E,T){const F=(yield T.json()).error;return De.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function $e({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function je(E,{refreshToken:T}){const x=$e(E);return x.append("Authorization",function ge(E){return`${Q} ${E}`}(T)),x}function te(E){return z.apply(this,arguments)}function z(){return(z=(0,R.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function oe(E){return Number(E.replace("s","000"))}function ae(E,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const F=ze(E),W=$e(E),re=T.getImmediate({optional:!0});if(re){const St=yield re.getHeartbeatsHeader();St&&W.append("x-firebase-client",St)}const Qe={method:"POST",headers:W,body:JSON.stringify({fid:x,authVersion:Q,appId:E.appId,sdkVersion:Y})},At=yield te(()=>fetch(F,Qe));if(At.ok){const St=yield At.json();return{fid:St.fid||x,registrationStatus:2,refreshToken:St.refreshToken,authToken:Se(St.authToken)}}throw yield be("Create Installation",At)})).apply(this,arguments)}function ce(E){return new Promise(T=>{setTimeout(T,E)})}const un=/^[cdef][\w-]{21}$/;function lt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function wt(E){return function xt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return un.test(x)?x:""}catch(E){return""}}function Dn(E){return`${E.appName}!${E.appId}`}const Cn=new Map;function Ji(E,T){const x=Dn(E);cn(x,T),function zt(E,T){const x=function Mi(){return!kr&&"BroadcastChannel"in self&&(kr=new BroadcastChannel("[Firebase] FID Change"),kr.onmessage=E=>{cn(E.data.key,E.data.fid)}),kr}();x&&x.postMessage({key:E,fid:T}),function uo(){0===Cn.size&&kr&&(kr.close(),kr=null)}()}(x,T)}function cn(E,T){const x=Cn.get(E);if(x)for(const F of x)F(T)}let kr=null;const ei="firebase-installations-store";let xs=null;function Os(){return xs||(xs=(0,X.X3)("firebase-installations-database",1,(E,T)=>{0===T&&E.createObjectStore(ei)})),xs}function ct(E,T){return mi.apply(this,arguments)}function mi(){return(mi=(0,R.Z)(function*(E,T){const x=Dn(E),W=(yield Os()).transaction(ei,"readwrite"),re=W.objectStore(ei),ke=yield re.get(x);return yield re.put(T,x),yield W.complete,(!ke||ke.fid!==T.fid)&&Ji(E,T.fid),T})).apply(this,arguments)}function Dr(E){return mr.apply(this,arguments)}function mr(){return(mr=(0,R.Z)(function*(E){const T=Dn(E),F=(yield Os()).transaction(ei,"readwrite");yield F.objectStore(ei).delete(T),yield F.complete})).apply(this,arguments)}function Ai(E,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,R.Z)(function*(E,T){const x=Dn(E),W=(yield Os()).transaction(ei,"readwrite"),re=W.objectStore(ei),ke=yield re.get(x),Qe=T(ke);return void 0===Qe?yield re.delete(x):yield re.put(Qe,x),yield W.complete,Qe&&(!ke||ke.fid!==Qe.fid)&&Ji(E,Qe.fid),Qe})).apply(this,arguments)}function Ln(E){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,R.Z)(function*(E){let T;const x=yield Ai(E.appConfig,F=>{const W=co(F),re=fl(E,W);return T=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function co(E){return Zt(E||{fid:lt(),registrationStatus:0})}function fl(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(De.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function Kt(E,T){return ot.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:It(E)}:{installationEntry:T}}function ot(){return(ot=(0,R.Z)(function*(E,T){try{const x=yield ae(E,T);return ct(E.appConfig,x)}catch(x){throw tt(x)&&409===x.customData.serverCode?yield Dr(E.appConfig):yield ct(E.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function It(E){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(E){let T=yield hs(E.appConfig);for(;1===T.registrationStatus;)yield ce(100),T=yield hs(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Ln(E);return F||x}return T})).apply(this,arguments)}function hs(E){return Ai(E,T=>{if(!T)throw De.create("installation-not-found");return Zt(T)})}function Zt(E){return function Ko(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function jr(E,T){return Or.apply(this,arguments)}function Or(){return(Or=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const F=dt(E,x),W=je(E,x),re=T.getImmediate({optional:!0});if(re){const St=yield re.getHeartbeatsHeader();St&&W.append("x-firebase-client",St)}const Qe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Y,appId:E.appId}})},At=yield te(()=>fetch(F,Qe));if(At.ok)return Se(yield At.json());throw yield be("Generate Auth Token",At)})).apply(this,arguments)}function dt(E,{fid:T}){return`${ze(E)}/${T}/authTokens:generate`}function Yr(E){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,R.Z)(function*(E,T=!1){let x;const F=yield Ai(E.appConfig,re=>{if(!Ut(re))throw De.create("not-registered");const ke=re.authToken;if(!T&&H(ke))return re;if(1===ke.requestStatus)return x=Ke(E,T),re;{if(!navigator.onLine)throw De.create("app-offline");const Qe=G(re);return x=ht(E,Qe),Qe}});return x?yield x:F.authToken})).apply(this,arguments)}function Ke(E,T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,R.Z)(function*(E,T){let x=yield Je(E.appConfig);for(;1===x.authToken.requestStatus;)yield ce(100),x=yield Je(E.appConfig);const F=x.authToken;return 0===F.requestStatus?Yr(E,T):F})).apply(this,arguments)}function Je(E){return Ai(E,T=>{if(!Ut(T))throw De.create("not-registered");return function he(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function ht(E,T){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,R.Z)(function*(E,T){try{const x=yield jr(E,T),F=Object.assign(Object.assign({},T),{authToken:x});return yield ct(E.appConfig,F),x}catch(x){if(!tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ct(E.appConfig,F)}else yield Dr(E.appConfig);throw x}})).apply(this,arguments)}function Ut(E){return void 0!==E&&2===E.registrationStatus}function H(E){return 2===E.requestStatus&&!function V(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function G(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function Be(){return(Be=(0,R.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:F}=yield Ln(T);return F?F.catch(console.error):Yr(T).catch(console.error),x.fid})).apply(this,arguments)}function tn(){return(tn=(0,R.Z)(function*(E,T=!1){const x=E;return yield $r(x),(yield Yr(x,T)).token})).apply(this,arguments)}function $r(E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,R.Z)(function*(E){const{registrationPromise:T}=yield Ln(E);T&&(yield T)})).apply(this,arguments)}function gr(E){return De.create("missing-app-config-values",{valueName:E})}const ml="installations",Re=E=>{const T=E.getProvider("app").getImmediate(),x=function Ls(E){if(!E||!E.options)throw gr("App Configuration");if(!E.name)throw gr("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw gr(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=E=>{const T=E.getProvider("app").getImmediate(),x=(0,le._getProvider)(T,ml).getImmediate();return{getId:()=>function J(E){return Be.apply(this,arguments)}(x),getToken:W=>function Dt(E){return tn.apply(this,arguments)}(x,W)}};(function In(){(0,le._registerComponent)(new pe.wA(ml,Re,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",Vt,"PRIVATE"))})(),(0,le.registerVersion)(ie,"0.5.7"),(0,le.registerVersion)(ie,"0.5.7","esm2017");const Lr="@firebase/remote-config",Kn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hf{constructor(T,x,F,W){this.client=T,this.storage=x,this.storageCache=F,this.logger=W}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,W=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var x=this;return(0,R.Z)(function*(){const[F,W]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(W&&x.isCachedDataFresh(T.cacheMaxAgeMillis,F))return W;T.eTag=W&&W.eTag;const re=yield x.client.fetch(T),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(ke),re})()}}function Fd(E=navigator){return E.languages&&E.languages[0]||E.language}class Ql{constructor(T,x,F,W,re,ke){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=F,this.projectId=W,this.apiKey=re,this.appId=ke}fetch(T){var x=this;return(0,R.Z)(function*(){const[F,W]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},At={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:x.appId,language_code:Fd()},St={method:"POST",headers:Qe,body:JSON.stringify(At)},Bt=fetch(ke,St),Ct=new Promise((ri,ys)=>{T.signal.addEventListener(()=>{const vu=new Error("The operation was aborted.");vu.name="AbortError",ys(vu)})});let Et;try{yield Promise.race([Bt,Ct]),Et=yield Bt}catch(ri){let ys="fetch-client-network";throw"AbortError"===ri.name&&(ys="fetch-timeout"),Kn.create(ys,{originalErrorMessage:ri.message})}let jt=Et.status;const Sl=Et.headers.get("ETag")||void 0;let ss,ca;if(200===Et.status){let ri;try{ri=yield Et.json()}catch(ys){throw Kn.create("fetch-client-parse",{originalErrorMessage:ys.message})}ss=ri.entries,ca=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===ca?jt=500:"NO_CHANGE"===ca?jt=304:("NO_TEMPLATE"===ca||"EMPTY_CONFIG"===ca)&&(ss={}),304!==jt&&200!==jt)throw Kn.create("fetch-status",{httpStatus:jt});return{status:jt,eTag:Sl,config:ss}})()}}class mg{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,R.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:F}){var W=this;return(0,R.Z)(function*(){yield function or(E,T){return new Promise((x,F)=>{const W=Math.max(T-Date.now(),0),re=setTimeout(x,W);E.addEventListener(()=>{clearTimeout(re),F(Kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const re=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),re}catch(re){if(!function Vd(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(re))throw re;const ke={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(ke),W.attemptFetch(T,ke)}})()}}class Jn{constructor(T,x,F,W,re){this.app=T,this._client=x,this._storageCache=F,this._storage=W,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dc(E,T){const x=E.target.error||void 0;return Kn.create(T,{originalErrorMessage:x&&x.message})}const go="app_namespace_store";class Ud{constructor(T,x,F,W=function yg(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{T(dc(F,"storage-open"))},x.onsuccess=F=>{E(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(x){T(Kn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,re)=>{const Qe=F.transaction([go],"readonly").objectStore(go),At=x.createCompositeKey(T);try{const St=Qe.get(At);St.onerror=Bt=>{re(dc(Bt,"storage-get"))},St.onsuccess=Bt=>{const Ct=Bt.target.result;W(Ct?Ct.value:void 0)}}catch(St){re(Kn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(T,x){var F=this;return(0,R.Z)(function*(){const W=yield F.openDbPromise;return new Promise((re,ke)=>{const At=W.transaction([go],"readwrite").objectStore(go),St=F.createCompositeKey(T);try{const Bt=At.put({compositeKey:St,value:x});Bt.onerror=Ct=>{ke(dc(Ct,"storage-set"))},Bt.onsuccess=()=>{re()}}catch(Bt){ke(Kn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(T){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,re)=>{const Qe=F.transaction([go],"readwrite").objectStore(go),At=x.createCompositeKey(T);try{const St=Qe.delete(At);St.onerror=Bt=>{re(dc(Bt,"storage-delete"))},St.onsuccess=()=>{W()}}catch(St){re(Kn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Hd{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const x=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),re=yield x;re&&(T.lastFetchStatus=re);const ke=yield F;ke&&(T.lastSuccessfulFetchTimestampMillis=ke);const Qe=yield W;Qe&&(T.activeConfig=Qe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Qo(){return jf.apply(this,arguments)}function jf(){return(jf=(0,R.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}!function xa(){(0,le._registerComponent)(new pe.wA("remote-config",function E(T,{instanceIdentifier:x}){const F=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,X.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:re,apiKey:ke,appId:Qe}=F.options;if(!re)throw Kn.create("registration-project-id");if(!ke)throw Kn.create("registration-api-key");if(!Qe)throw Kn.create("registration-app-id");const At=new Ud(Qe,F.name,x=x||"firebase"),St=new Hd(At),Bt=new se.Yd(Lr);Bt.logLevel=se.in.ERROR;const Ct=new Ql(W,le.SDK_VERSION,x,re,ke,Qe),Et=new mg(Ct,At),jt=new Hf(Et,At,St,Bt),Sl=new Jn(F,jt,St,At,Bt);return function nn(E){const T=(0,X.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Sl),Sl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Lr,"0.3.6"),(0,le.registerVersion)(Lr,"0.3.6","esm2017")}();const hc="/firebase-messaging-sw.js",_o="/firebase-cloud-messaging-push-scope",yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xo="google.c.a.c_id",_l="google.c.a.c_l",jd="google.c.a.ts",vg="google.c.a.e";var yo=(()=>{return(E=yo||(yo={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",yo;var E})();function xi(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eu(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),W=new Uint8Array(F.length);for(let re=0;re<F.length;++re)W[re]=F.charCodeAt(re);return W}const tu="fcm_token_details_db",Rr="fcm_token_object_Store";function Yf(E){return nu.apply(this,arguments)}function nu(){return nu=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(tu))return null;let T=null;return(yield(0,X.X3)(tu,5,function(){var F=(0,R.Z)(function*(W,re,ke,Qe){var At;if(re<2||!W.objectStoreNames.contains(Rr))return;const St=Qe.objectStore(Rr),Bt=yield St.index("fcmSenderId").get(E);if(yield St.clear(),Bt)if(2===re){const Ct=Bt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;T={token:Ct.fcmToken,createTime:null!==(At=Ct.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:xi(Ct.vapidKey)}}}else if(3===re){const Ct=Bt;T={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:xi(Ct.auth),p256dh:xi(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:xi(Ct.vapidKey)}}}else if(4===re){const Ct=Bt;T={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:xi(Ct.auth),p256dh:xi(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:xi(Ct.vapidKey)}}}});return function(W,re,ke,Qe){return F.apply(this,arguments)}}())).close(),yield(0,X.Lj)(tu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Yd(T)?T:null}),nu.apply(this,arguments)}function Yd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Fs="firebase-messaging-store";let yl=null;function fc(){return yl||(yl=(0,X.X3)("firebase-messaging-database",1,(E,T)=>{0===T&&E.createObjectStore(Fs)})),yl}function kn(E){return La.apply(this,arguments)}function La(){return(La=(0,R.Z)(function*(E){const T=ta(E),F=yield(yield fc()).transaction(Fs).objectStore(Fs).get(T);if(F)return F;{const W=yield Yf(E.appConfig.senderId);if(W)return yield vo(E,W),W}})).apply(this,arguments)}function vo(E,T){return wn.apply(this,arguments)}function wn(){return(wn=(0,R.Z)(function*(E,T){const x=ta(E),W=(yield fc()).transaction(Fs,"readwrite");return yield W.objectStore(Fs).put(T,x),yield W.complete,T})).apply(this,arguments)}function $d(E){return ea.apply(this,arguments)}function ea(){return(ea=(0,R.Z)(function*(E){const T=ta(E),F=(yield fc()).transaction(Fs,"readwrite");yield F.objectStore(Fs).delete(T),yield F.complete})).apply(this,arguments)}function ta({appConfig:E}){return E.appId}const Qn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vl(E,T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,R.Z)(function*(E,T){const x=yield wo(E),F=ft(T),W={method:"POST",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(vi(E.appConfig),W)).json()}catch(ke){throw Qn.create("token-subscribe-failed",{errorInfo:ke})}if(re.error)throw Qn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Qn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function qr(E,T){return bo.apply(this,arguments)}function bo(){return(bo=(0,R.Z)(function*(E,T){const x=yield wo(E),F=ft(T.subscriptionOptions),W={method:"PATCH",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(`${vi(E.appConfig)}/${T.token}`,W)).json()}catch(ke){throw Qn.create("token-update-failed",{errorInfo:ke})}if(re.error)throw Qn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Qn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Vs(E,T){return su.apply(this,arguments)}function su(){return(su=(0,R.Z)(function*(E,T){const F={method:"DELETE",headers:yield wo(E)};try{const re=yield(yield fetch(`${vi(E.appConfig)}/${T}`,F)).json();if(re.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(W){throw Qn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function vi({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function wo(E){return Do.apply(this,arguments)}function Do(){return(Do=(0,R.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ft({p256dh:E,auth:T,endpoint:x,vapidKey:F}){const W={web:{endpoint:x,auth:T,p256dh:E}};return F!==yi&&(W.web.applicationPubKey=F),W}const ou=6048e5;function bl(E){return au.apply(this,arguments)}function au(){return(au=(0,R.Z)(function*(E){const T=yield gc(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:xi(T.getKey("auth")),p256dh:xi(T.getKey("p256dh"))},F=yield kn(E.firebaseDependencies);if(F){if(Ra(F.subscriptionOptions,x))return Date.now()>=F.createTime+ou?pc(E,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield Vs(E.firebaseDependencies,F.token)}catch(W){console.warn(W)}return Ee(E.firebaseDependencies,x)}return Ee(E.firebaseDependencies,x)})).apply(this,arguments)}function lu(E){return uu.apply(this,arguments)}function uu(){return(uu=(0,R.Z)(function*(E){const T=yield kn(E.firebaseDependencies);T&&(yield Vs(E.firebaseDependencies,T.token),yield $d(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function pc(E,T){return mc.apply(this,arguments)}function mc(){return(mc=(0,R.Z)(function*(E,T){try{const x=yield qr(E.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield vo(E.firebaseDependencies,F),x}catch(x){throw yield lu(E),x}})).apply(this,arguments)}function Ee(E,T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,R.Z)(function*(E,T){const F={token:yield vl(E,T),createTime:Date.now(),subscriptionOptions:T};return yield vo(E,F),F.token})).apply(this,arguments)}function gc(E,T){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eu(T)})})).apply(this,arguments)}function Ra(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function Na(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function bi(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const F=T.notification.body;F&&(E.notification.body=F);const W=T.notification.image;W&&(E.notification.image=W)}(T,E),function _c(E,T){!T.data||(E.data=T.data)}(T,E),function yc(E,T){if(!T.fcmOptions)return;E.fcmOptions={};const x=T.fcmOptions.link;x&&(E.fcmOptions.link=x);const F=T.fcmOptions.analytics_label;F&&(E.fcmOptions.analyticsLabel=F)}(T,E),T}function Gd(E){return"object"==typeof E&&!!E&&Xo in E}function vc(E,T){const x=[];for(let F=0;F<E.length;F++)x.push(E.charAt(F)),F<T.length&&x.push(T.charAt(F));return x.join("")}function Co(E){return Qn.create("missing-app-config-values",{valueName:E})}vc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nr{constructor(T,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function cu(E){if(!E||!E.options)throw Co("App Configuration Object");if(!E.name)throw Co("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const F of T)if(!x[F])throw Co(F);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Oi(E){return du.apply(this,arguments)}function du(){return(du=(0,R.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(hc,{scope:_o}),E.swRegistration.update().catch(()=>{})}catch(T){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Eo(E,T){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield Oi(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function bc(E,T){return hu.apply(this,arguments)}function hu(){return(hu=(0,R.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=yi)})).apply(this,arguments)}function wc(){return(wc=(0,R.Z)(function*(E,T){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield bc(E,null==T?void 0:T.vapidKey),yield Eo(E,null==T?void 0:T.serviceWorkerRegistration),bl(E)})).apply(this,arguments)}function wl(E,T,x){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,R.Z)(function*(E,T,x){const F=Dc(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[Xo],message_name:x[_l],message_time:x[jd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dc(E){switch(E){case yo.NOTIFICATION_CLICKED:return"notification_open";case yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Zd(){return(Zd=(0,R.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===yo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Na(x)):E.onMessageHandler.next(Na(x)));const F=x.data;Gd(F)&&"1"===F[vg]&&(yield wl(E,x.messageType,F))})).apply(this,arguments)}const Ec="@firebase/messaging",qd=E=>{const T=new Nr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Cc(E,T){return Zd.apply(this,arguments)}(T,x)),T},ra=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:F=>function fu(E,T){return wc.apply(this,arguments)}(T,F)}};function zd(){return ia.apply(this,arguments)}function ia(){return(ia=(0,R.Z)(function*(){try{yield(0,X.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wd(){(0,le._registerComponent)(new pe.wA("messaging",qd,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",ra,"PRIVATE")),(0,le.registerVersion)(Ec,"0.9.11"),(0,le.registerVersion)(Ec,"0.9.11","esm2017")}();const Sc="analytics",Tv="firebase_id",Dl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pu="https://www.googletagmanager.com/gtag/js",ar=new se.Yd("@firebase/analytics");function Jd(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function bg(E,T){const x=document.createElement("script");x.src=`${pu}?l=${E}&id=${T}`,x.async=!0,document.head.appendChild(x)}function Fa(E,T,x,F,W,re){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,R.Z)(function*(E,T,x,F,W,re){const ke=F[W];try{if(ke)yield T[ke];else{const At=(yield Jd(x)).find(St=>St.measurementId===W);At&&(yield T[At.appId])}}catch(Qe){ar.error(Qe)}E("config",W,re)})).apply(this,arguments)}function Mc(E,T,x,F,W){return sa.apply(this,arguments)}function sa(){return(sa=(0,R.Z)(function*(E,T,x,F,W){try{let re=[];if(W&&W.send_to){let ke=W.send_to;Array.isArray(ke)||(ke=[ke]);const Qe=yield Jd(x);for(const At of ke){const St=Qe.find(Ct=>Ct.measurementId===At),Bt=St&&T[St.appId];if(!Bt){re=[];break}re.push(Bt)}}0===re.length&&(re=Object.values(T)),yield Promise.all(re),E("event",F,W||{})}catch(re){ar.error(re)}})).apply(this,arguments)}function wg(){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(pu))return T;return null}const er=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tr=new class lr{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Va(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function eh(E){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,R.Z)(function*(E){var T;const{appId:x,apiKey:F}=E,W={method:"GET",headers:Va(F)},re=Dl.replace("{app-id}",x),ke=yield fetch(re,W);if(200!==ke.status&&304!==ke.status){let Qe="";try{const At=yield ke.json();(null===(T=At.error)||void 0===T?void 0:T.message)&&(Qe=At.error.message)}catch(At){}throw er.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Qe})}return ke.json()})).apply(this,arguments)}function Gf(E){return es.apply(this,arguments)}function es(){return(es=(0,R.Z)(function*(E,T=Tr,x){const{appId:F,apiKey:W,measurementId:re}=E.options;if(!F)throw er.create("no-app-id");if(!W){if(re)return{measurementId:re,appId:F};throw er.create("no-api-key")}const ke=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Ac;return setTimeout((0,R.Z)(function*(){Qe.abort()}),void 0!==x?x:6e4),mu({appId:F,apiKey:W,measurementId:re},ke,Qe,T)})).apply(this,arguments)}function mu(E,T,x){return Li.apply(this,arguments)}function Li(){return(Li=(0,R.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},F,W=Tr){const{appId:re,measurementId:ke}=E;try{yield Mt(F,T)}catch(Qe){if(ke)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:ke};throw Qe}try{const Qe=yield eh(E);return W.deleteThrottleMetadata(re),Qe}catch(Qe){if(!th(Qe)){if(W.deleteThrottleMetadata(re),ke)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:re,measurementId:ke};throw Qe}const At=503===Number(Qe.customData.httpStatus)?(0,X.$s)(x,W.intervalMillis,30):(0,X.$s)(x,W.intervalMillis),St={throttleEndTimeMillis:Date.now()+At,backoffCount:x+1};return W.setThrottleMetadata(re,St),ar.debug(`Calling attemptFetch again in ${At} millis`),mu(E,St,F,W)}})).apply(this,arguments)}function Mt(E,T){return new Promise((x,F)=>{const W=Math.max(T-Date.now(),0),re=setTimeout(x,W);E.addEventListener(()=>{clearTimeout(re),F(er.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function th(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ac{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function kc(){return oa.apply(this,arguments)}function oa(){return(oa=(0,R.Z)(function*(){if(!(0,X.hl)())return ar.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(E){return ar.warn(er.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Hs(){return(Hs=(0,R.Z)(function*(E,T,x,F,W,re,ke){var Qe;const At=Gf(E);At.then(jt=>{x[jt.measurementId]=jt.appId,E.options.measurementId&&jt.measurementId!==E.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${jt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jt=>ar.error(jt)),T.push(At);const St=kc().then(jt=>{if(jt)return F.getId()}),[Bt,Ct]=yield Promise.all([At,St]);wg()||bg(re,Bt.measurementId),W("js",new Date);const Et=null!==(Qe=null==ke?void 0:ke.config)&&void 0!==Qe?Qe:{};return Et.origin="firebase",Et.update=!0,null!=Ct&&(Et[Tv]=Ct),W("config",Bt.measurementId,Et),Bt.measurementId})).apply(this,arguments)}class aa{constructor(T){this.app=T}_delete(){return delete Ri[this.app.options.appId],Promise.resolve()}}let Ri={},Io=[];const Ni={};let Mo,gs,ms="dataLayer",Oc=!1;function ts(E,T,x){!function Ao(){const E=[];if((0,X.ru)()&&E.push("This is a browser extension environment."),(0,X.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((F,W)=>`(${W+1}) ${F}`).join(" "),x=er.create("invalid-analytics-context",{errorInfo:T});ar.warn(x.message)}}();const F=E.options.appId;if(!F)throw er.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw er.create("no-api-key");ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ri[F])throw er.create("already-exists",{id:F});if(!Oc){!function Us(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(ms);const{wrappedGtag:re,gtagCore:ke}=function $f(E,T,x,F,W){let re=function(...ke){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(re=window[W]),window[W]=function Xd(E,T,x,F){function re(){return(re=(0,R.Z)(function*(ke,Qe,At){try{"event"===ke?yield Mc(E,T,x,Qe,At):"config"===ke?yield Fa(E,T,x,F,Qe,At):E("set",Qe)}catch(St){ar.error(St)}})).apply(this,arguments)}return function W(ke,Qe,At){return re.apply(this,arguments)}}(re,E,T,x),{gtagCore:re,wrappedGtag:window[W]}}(Ri,Io,Ni,ms,"gtag");gs=re,Mo=ke,Oc=!0}return Ri[F]=function $n(E,T,x,F,W,re,ke){return Hs.apply(this,arguments)}(E,Io,Ni,T,Mo,ms,x),new aa(E)}function ns(){return(ns=(0,R.Z)(function*(E,T,x,F,W){if(W&&W.global)E("event",x,F);else{const re=yield T;E("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Bn(){return ko.apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}const xo="@firebase/analytics";!function Tg(){(0,le._registerComponent)(new pe.wA(Sc,(T,{options:x})=>ts(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function E(T){try{const x=T.getProvider(Sc).getImmediate();return{logEvent:(F,W,re)=>function Eg(E,T,x,F){E=(0,X.m9)(E),function Ba(E,T,x,F,W){return ns.apply(this,arguments)}(gs,Ri[E.app.options.appId],T,x,F).catch(W=>ar.error(W))}(x,F,W,re)}}catch(x){throw er.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(xo,"0.7.7"),(0,le.registerVersion)(xo,"0.7.7","esm2017")}();var Oo=L(233),Ys=L(4986),gu=L(8505),Un=L(9468),Lc=L(5363);const la=new a.GfV("7.3.0"),sh="__angularfire_symbol__analyticsIsSupportedValue",Cl="__angularfire_symbol__analyticsIsSupported",Sr="__angularfire_symbol__remoteConfigIsSupportedValue",ni="__angularfire_symbol__remoteConfigIsSupported",El="__angularfire_symbol__messagingIsSupportedValue",$s="__angularfire_symbol__messagingIsSupported";function Zf(E,T,x){if(T){if(1===T.length)return T[0];const re=T.filter(ke=>ke.app===x);if(1===re.length)return re[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Cl]||(globalThis[Cl]=Bn().then(E=>globalThis[sh]=E).catch(()=>globalThis[sh]=!1)),globalThis[$s]||(globalThis[$s]=zd().then(E=>globalThis[El]=E).catch(()=>globalThis[El]=!1)),globalThis[ni]||(globalThis[ni]=Qo().then(E=>globalThis[Sr]=E).catch(()=>globalThis[Sr]=!1));const $t=(E,T)=>{const x=T?[T]:(0,K.C6)(),F=[];return x.forEach(W=>{W.container.getProvider(E).instances.forEach(ke=>{F.includes(ke)||F.push(ke)})}),F};function Gs(){}class tr{constructor(T,x=Oo.N){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,F){const W=this.zone;return this.delegate.schedule(function(ke){W.runGuarded(()=>{T.apply(this,[ke])})},x,F)}}class _u{constructor(T){this.zone=T,this.task=null}call(T,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gs,{},Gs,Gs)),x.pipe((0,gu.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lo=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new tr(Zone.current)),this.insideAngular=x.run(()=>new tr(Zone.current,Ys.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ro(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Tl(E){return Ro(),function lh(E){return function(x){return(x=x.lift(new _u(E.ngZone))).pipe((0,Un.R)(E.outsideAngular),(0,Lc.Q)(E.insideAngular))}}(Ro())(E)}},2090:(st,Ce,L)=>{L.d(Ce,{BH:()=>Me,LL:()=>xt,ZR:()=>ce,zI:()=>ge,US:()=>se,tV:()=>j,L:()=>ne,$s:()=>Ko,r3:()=>cn,Sg:()=>Le,ne:()=>ct,vZ:()=>uo,ZB:()=>Q,Lj:()=>Gt,pd:()=>xs,m9:()=>dt,z$:()=>Fe,jU:()=>tt,ru:()=>ze,d:()=>be,xb:()=>kr,w1:()=>we,hl:()=>z,uI:()=>fe,UG:()=>De,b$:()=>Se,G6:()=>te,Mn:()=>$e,X3:()=>ht,xO:()=>ds,zd:()=>ei,eu:()=>oe});var a=L(5861);const X=function(H){const V=[];let G=0;for(let he=0;he<H.length;he++){let J=H.charCodeAt(he);J<128?V[G++]=J:J<2048?(V[G++]=J>>6|192,V[G++]=63&J|128):55296==(64512&J)&&he+1<H.length&&56320==(64512&H.charCodeAt(he+1))?(J=65536+((1023&J)<<10)+(1023&H.charCodeAt(++he)),V[G++]=J>>18|240,V[G++]=J>>12&63|128,V[G++]=J>>6&63|128,V[G++]=63&J|128):(V[G++]=J>>12|224,V[G++]=J>>6&63|128,V[G++]=63&J|128)}return V},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let J=0;J<H.length;J+=3){const Be=H[J],Dt=J+1<H.length,tn=Dt?H[J+1]:0,$r=J+2<H.length,Jt=$r?H[J+2]:0;let Sn=(15&tn)<<2|Jt>>6,Er=63&Jt;$r||(Er=64,Dt||(Sn=64)),he.push(G[Be>>2],G[(3&Be)<<4|tn>>4],G[Sn],G[Er])}return he.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(X(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let G=0,he=0;for(;G<H.length;){const J=H[G++];if(J<128)V[he++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=H[G++];V[he++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const $r=((7&J)<<18|(63&H[G++])<<12|(63&H[G++])<<6|63&H[G++])-65536;V[he++]=String.fromCharCode(55296+($r>>10)),V[he++]=String.fromCharCode(56320+(1023&$r))}else{const Be=H[G++],Dt=H[G++];V[he++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&Dt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let J=0;J<H.length;){const Be=G[H.charAt(J++)],tn=J<H.length?G[H.charAt(J)]:0;++J;const Jt=J<H.length?G[H.charAt(J)]:64;++J;const Pt=J<H.length?G[H.charAt(J)]:64;if(++J,null==Be||null==tn||null==Jt||null==Pt)throw Error();he.push(Be<<2|tn>>4),64!==Jt&&(he.push(tn<<4&240|Jt>>2),64!==Pt&&he.push(Jt<<6&192|Pt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ne=function(H){return function(H){const V=X(H);return se.encodeByteArray(V,!0)}(H).replace(/\./g,"")},j=function(H){try{return se.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!qe(G)||(H[G]=Q(H[G],V[G]));return H}function qe(H){return"__proto__"!==H}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,he)=>{G?this.reject(G):this.resolve(he),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,he))}}}function Le(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=V||"demo-project",J=H.iat||0,Be=H.sub||H.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(Dt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function tt(){return"object"==typeof self&&self.self===self}function ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return Fe().indexOf("Electron/")>=0}function we(){const H=Fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function $e(){return Fe().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function oe(){return new Promise((H,V)=>{try{let G=!0;const he="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(he);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(he),H(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var Be;V((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch(G){V(G)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(V,G,he){super(G),this.code=V,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(V,G,he){this.service=V,this.serviceName=G,this.errors=he}create(V,...G){const he=G[0]||{},J=`${this.service}/${V}`,Be=this.errors[V],Dt=Be?function un(H,V){return H.replace(zn,(G,he)=>{const J=V[he];return null!=J?String(J):`<${he}?>`})}(Be,he):"Error";return new ce(J,`${this.serviceName}: ${Dt} (${J}).`,he)}}const zn=/\{\$([^}]+)}/g;function cn(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function kr(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function uo(H,V){if(H===V)return!0;const G=Object.keys(H),he=Object.keys(V);for(const J of G){if(!he.includes(J))return!1;const Be=H[J],Dt=V[J];if(Xr(Be)&&Xr(Dt)){if(!uo(Be,Dt))return!1}else if(Be!==Dt)return!1}for(const J of he)if(!G.includes(J))return!1;return!0}function Xr(H){return null!==H&&"object"==typeof H}function ds(H){const V=[];for(const[G,he]of Object.entries(H))Array.isArray(he)?he.forEach(J=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(he));return V.length?"&"+V.join("&"):""}function ei(H){const V={};return H.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[J,Be]=he.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Be)}}),V}function xs(H){const V=H.indexOf("?");if(!V)return"";const G=H.indexOf("#",V);return H.substring(V,G>0?G:void 0)}function ct(H,V){const G=new mi(H,V);return G.subscribe.bind(G)}class mi{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(he=>{this.error(he)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,he){let J;if(void 0===V&&void 0===G&&void 0===he)throw new Error("Missing Observer.");J=function mr(H,V){if("object"!=typeof H||null===H)return!1;for(const G of V)if(G in H&&"function"==typeof H[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:he},void 0===J.next&&(J.next=Ai),void 0===J.error&&(J.error=Ai),void 0===J.complete&&(J.complete=Ai);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(Dt){}}),this.observers.push(J),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}function Ko(H,V=1e3,G=2){const he=V*Math.pow(G,H),J=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+J)}function dt(H){return H&&H._delegate?H._delegate:H}function Yr(H,V){return new Promise((G,he)=>{H.onsuccess=J=>{G(J.target.result)},H.onerror=J=>{var Be;he(`${V}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class Yt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,G){return new Ke(this._db.transaction.call(this._db,V,G))}createObjectStore(V,G){return new Ie(this._db.createObjectStore(V,G))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise((G,he)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new Je(this._store.index(V))}createIndex(V,G,he){return new Je(this._store.createIndex(V,G,he))}get(V){return Yr(this._store.get(V),"Error reading from IndexedDB")}put(V,G){return Yr(this._store.put(V,G),"Error writing to IndexedDB")}delete(V){return Yr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Yr(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(V){this._index=V}get(V){return Yr(this._index.get(V),"Error reading from IndexedDB")}}function ht(H,V,G){return new Promise((he,J)=>{try{const Be=indexedDB.open(H,V);Be.onsuccess=Dt=>{he(new Yt(Dt.target.result))},Be.onerror=Dt=>{var tn;J(`Error opening indexedDB: ${null===(tn=Dt.target.error)||void 0===tn?void 0:tn.message}`)},Be.onupgradeneeded=Dt=>{G(new Yt(Be.result),Dt.oldVersion,Dt.newVersion,new Ke(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function Gt(H){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(H){return new Promise((V,G)=>{try{const he=indexedDB.deleteDatabase(H);he.onsuccess=()=>{V()},he.onerror=J=>{var Be;G(`Error deleting indexedDB database "${H}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(he){G(`Error deleting indexedDB database "${H}": ${he.message}`)}})})).apply(this,arguments)}},2944:(st,Ce,L)=>{var a=L(5e3);let K=null;function R(){return K}const se=new a.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ne(){return(0,a.LFG)(Y)}()},providedIn:"platform"}),n})();const j=new a.OlP("Location Initialized");let Y=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function qe(){return new Y((0,a.LFG)(se))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function De(n){const e=(0,a.LFG)(se).location;return new ze((0,a.LFG)(ie),e&&e.origin||"")}()},providedIn:"root"}),n})();const tt=new a.OlP("appBaseHref");let ze=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+Fe(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+Fe(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie),a.LFG(tt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+Fe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+Fe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ie),a.LFG(tt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(je(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Me,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(ie))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function we(){return new be((0,a.LFG)(fe),(0,a.LFG)(ie))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function yn(n,e){return Dr((0,a.cg1)(n)[a.wAp.DateFormat],e)}function ks(n,e){return Dr((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function cn(n,e){return Dr((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function zt(n,e){const t=(0,a.cg1)(n),r=t[a.wAp.NumberSymbols][e];if(void 0===r){if(e===ce.CurrencyDecimal)return t[a.wAp.NumberSymbols][ce.Decimal];if(e===ce.CurrencyGroup)return t[a.wAp.NumberSymbols][ce.Group]}return r}function xs(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function mr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Cr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,co={},fl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.ShortGMT=1]="ShortGMT",Kt[Kt.Long=2]="Long",Kt[Kt.Extended=3]="Extended",Kt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function xr(n,e,t,r){let i=function tn(n){if(Jt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,c=1]=n.split("-").map(f=>+f);return hs(i,l-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Cr))return function $r(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,c,f,_,D),e}(r)}const e=new Date(n);if(!Jt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Zt(t,e)||e;let f,c=[];for(;e;){if(f=fl.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const S=c.pop();if(!S)break;e=S}}let _=i.getTimezoneOffset();r&&(_=J(r,_),i=function Dt(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(J(e,i)-i))}(i,r,!0));let D="";return c.forEach(S=>{const A=function he(n){if(G[n])return G[n];let e;switch(n){case"G":case"GG":case"GGG":e=Yt(It.Eras,ae.Abbreviated);break;case"GGGG":e=Yt(It.Eras,ae.Wide);break;case"GGGGG":e=Yt(It.Eras,ae.Narrow);break;case"y":e=dt(ot.FullYear,1,0,!1,!0);break;case"yy":e=dt(ot.FullYear,2,0,!0,!0);break;case"yyy":e=dt(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=dt(ot.Month,1,1);break;case"MM":case"LL":e=dt(ot.Month,2,1);break;case"MMM":e=Yt(It.Months,ae.Abbreviated);break;case"MMMM":e=Yt(It.Months,ae.Wide);break;case"MMMMM":e=Yt(It.Months,ae.Narrow);break;case"LLL":e=Yt(It.Months,ae.Abbreviated,ge.Standalone);break;case"LLLL":e=Yt(It.Months,ae.Wide,ge.Standalone);break;case"LLLLL":e=Yt(It.Months,ae.Narrow,ge.Standalone);break;case"w":e=H(1);break;case"ww":e=H(2);break;case"W":e=H(1,!0);break;case"d":e=dt(ot.Date,1);break;case"dd":e=dt(ot.Date,2);break;case"c":case"cc":e=dt(ot.Day,1);break;case"ccc":e=Yt(It.Days,ae.Abbreviated,ge.Standalone);break;case"cccc":e=Yt(It.Days,ae.Wide,ge.Standalone);break;case"ccccc":e=Yt(It.Days,ae.Narrow,ge.Standalone);break;case"cccccc":e=Yt(It.Days,ae.Short,ge.Standalone);break;case"E":case"EE":case"EEE":e=Yt(It.Days,ae.Abbreviated);break;case"EEEE":e=Yt(It.Days,ae.Wide);break;case"EEEEE":e=Yt(It.Days,ae.Narrow);break;case"EEEEEE":e=Yt(It.Days,ae.Short);break;case"a":case"aa":case"aaa":e=Yt(It.DayPeriods,ae.Abbreviated);break;case"aaaa":e=Yt(It.DayPeriods,ae.Wide);break;case"aaaaa":e=Yt(It.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=Yt(It.DayPeriods,ae.Abbreviated,ge.Standalone,!0);break;case"bbbb":e=Yt(It.DayPeriods,ae.Wide,ge.Standalone,!0);break;case"bbbbb":e=Yt(It.DayPeriods,ae.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yt(It.DayPeriods,ae.Abbreviated,ge.Format,!0);break;case"BBBB":e=Yt(It.DayPeriods,ae.Wide,ge.Format,!0);break;case"BBBBB":e=Yt(It.DayPeriods,ae.Narrow,ge.Format,!0);break;case"h":e=dt(ot.Hours,1,-12);break;case"hh":e=dt(ot.Hours,2,-12);break;case"H":e=dt(ot.Hours,1);break;case"HH":e=dt(ot.Hours,2);break;case"m":e=dt(ot.Minutes,1);break;case"mm":e=dt(ot.Minutes,2);break;case"s":e=dt(ot.Seconds,1);break;case"ss":e=dt(ot.Seconds,2);break;case"S":e=dt(ot.FractionalSeconds,1);break;case"SS":e=dt(ot.FractionalSeconds,2);break;case"SSS":e=dt(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ie(Kt.Short);break;case"ZZZZZ":e=Ie(Kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ie(Kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ie(Kt.Long);break;default:return null}return G[n]=e,e}(S);D+=A?A(i,t,_):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function hs(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zt(n,e){const t=function un(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(co[t]=co[t]||{},co[t][e])return co[t][e];let r="";switch(e){case"shortDate":r=yn(n,xe.Short);break;case"mediumDate":r=yn(n,xe.Medium);break;case"longDate":r=yn(n,xe.Long);break;case"fullDate":r=yn(n,xe.Full);break;case"shortTime":r=ks(n,xe.Short);break;case"mediumTime":r=ks(n,xe.Medium);break;case"longTime":r=ks(n,xe.Long);break;case"fullTime":r=ks(n,xe.Full);break;case"short":const i=Zt(n,"shortTime"),l=Zt(n,"shortDate");r=Ko(cn(n,xe.Short),[i,l]);break;case"medium":const c=Zt(n,"mediumTime"),f=Zt(n,"mediumDate");r=Ko(cn(n,xe.Medium),[c,f]);break;case"long":const _=Zt(n,"longTime"),D=Zt(n,"longDate");r=Ko(cn(n,xe.Long),[_,D]);break;case"full":const S=Zt(n,"fullTime"),A=Zt(n,"fullDate");r=Ko(cn(n,xe.Full),[S,A])}return r&&(co[t][e]=r),r}function Ko(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function jr(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),l+c}function dt(n,e,t=0,r=!1,i=!1){return function(l,c){let f=function Yr(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===ot.Hours)0===f&&-12===t&&(f=12);else if(n===ot.FractionalSeconds)return function Or(n,e){return jr(n,3).substr(0,e)}(f,e);const _=zt(c,ce.MinusSign);return jr(f,e,_,r,i)}}function Yt(n,e,t=ge.Format,r=!1){return function(i,l){return function Ke(n,e,t,r,i,l){switch(t){case It.Months:return function wt(n,e,t){const r=(0,a.cg1)(n),l=Dr([r[a.wAp.MonthsFormat],r[a.wAp.MonthsStandalone]],e);return Dr(l,t)}(e,i,r)[n.getMonth()];case It.Days:return function lt(n,e,t){const r=(0,a.cg1)(n),l=Dr([r[a.wAp.DaysFormat],r[a.wAp.DaysStandalone]],e);return Dr(l,t)}(e,i,r)[n.getDay()];case It.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(l){const D=function Os(n){const e=(0,a.cg1)(n);return xs(e),(e[a.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?mr(r):[mr(r[0]),mr(r[1])])}(e),S=function ct(n,e,t){const r=(0,a.cg1)(n);xs(r);const l=Dr([r[a.wAp.ExtraData][0],r[a.wAp.ExtraData][1]],e)||[];return Dr(l,t)||[]}(e,i,r),A=D.findIndex(N=>{if(Array.isArray(N)){const[B,$]=N,ee=c>=B.hours&&f>=B.minutes,_e=c<$.hours||c===$.hours&&f<$.minutes;if(B.hours<$.hours){if(ee&&_e)return!0}else if(ee||_e)return!0}else if(N.hours===c&&N.minutes===f)return!0;return!1});if(-1!==A)return S[A]}return function zn(n,e,t){const r=(0,a.cg1)(n),l=Dr([r[a.wAp.DayPeriodsFormat],r[a.wAp.DayPeriodsStandalone]],e);return Dr(l,t)}(e,i,r)[c<12?0:1];case It.Eras:return function Dn(n,e){return Dr((0,a.cg1)(n)[a.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Ie(n){return function(e,t,r){const i=-1*r,l=zt(t,ce.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Kt.Short:return(i>=0?"+":"")+jr(c,2,l)+jr(Math.abs(i%60),2,l);case Kt.ShortGMT:return"GMT"+(i>=0?"+":"")+jr(c,1,l);case Kt.Long:return"GMT"+(i>=0?"+":"")+jr(c,2,l)+":"+jr(Math.abs(i%60),2,l);case Kt.Extended:return 0===r?"Z":(i>=0?"+":"")+jr(c,2,l)+":"+jr(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ut(n){return hs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function H(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+l)/7)}else{const l=Ut(t),c=function Gt(n){const e=hs(n,0,1).getDay();return hs(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),f=l.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return jr(i,n,zt(r,ce.MinusSign))}}function V(n,e=!1){return function(t,r){return jr(Ut(t).getFullYear(),n,zt(r,ce.MinusSign),e)}}const G={};function J(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Jt(n){return n instanceof Date&&!isNaN(n.valueOf())}let ps=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class po{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new po(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,c),Rs(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Rs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Rs(n,e){n.context.$implicit=e.item}let nn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function zl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Kl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let gi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ti=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Kl(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(gi,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function or(n,e){return new a.vHH(2100,"")}class Vd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class mg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Ps=new mg,gg=new Vd;let Jn=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,a.QGY)(t))return Ps;if((0,a.F4k)(t))return gg;throw or()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})();const yg=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ud=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,l){var c;if(null==t||""===t||t!=t)return null;try{return xr(t,r,l||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(f){throw or()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16),a.Y36(yg,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0}),n})(),qt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const yo="browser";function Gr(n){return n===yo}function Rr(n){return"server"===n}let ru=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new iu((0,a.LFG)(se),window)}),n})();class iu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Fs(this.window.history)||Fs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vo extends class La extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new vo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $d(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function ta(n){ea=ea||document.createElement("a"),ea.setAttribute("href",n);const e=ea.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ka(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ea,wn=null;const Zr=new a.OlP("TRANSITION_ID"),vl=[{provide:a.ip1,useFactory:function Qn(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Zr,se,a.zs3],multi:!0}];class Qi{static init(){(0,a.VLi)(new Qi)}addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const f=function(_){c=c||_,l--,0==l&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let qr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const bo=new a.OlP("EventManagerPlugins");let Vs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class su{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),wo=(()=>{class n extends vi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Do),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Do))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Do(n){R().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ou=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ee(n,i,t):(i=i.replace(ou,n),t.push(i))}return t}function Ht(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Rn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ra(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _c(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case a.ifc.ShadowDom:return new yc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vs),a.LFG(wo),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ra{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ft[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ft[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ht(r)):this.eventManager.addEventListener(e,t,Ht(r))}}class _c extends Ra{constructor(e,t,r,i){super(e),this.component=r;const l=Ee(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function pc(n){return"_ngcontent-%COMP%".replace(ou,n)}(i+"-"+r.id),this.hostAttr=function mc(n){return"_nghost-%COMP%".replace(ou,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yc extends Ra{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ee(i.id,i.styles,[]);for(let c=0;c<l.length;c++){const f=document.createElement("style");f.textContent=l[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gd=(()=>{class n extends su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const vc=["alt","control","meta","shift"],Co={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let du=(()=>{class n extends su{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="";if(vc.forEach(_=>{const D=r.indexOf(_);D>-1&&(r.splice(D,1),c+=_+".")}),c+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function Eo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Nr.hasOwnProperty(e)&&(e=Nr[e]))}return Co[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vc.forEach(l=>{l!=i&&Oi[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:yo},{provide:a.g9A,useValue:function Xi(){vo.makeCurrent(),Qi.init()},multi:!0},{provide:se,useFactory:function hu(){return(0,a.RDi)(document),document},deps:[]}]),wl=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function bc(){return new a.qLn},deps:[]},{provide:bo,useClass:Gd,multi:!0,deps:[se,a.R0b,a.Lbi]},{provide:bo,useClass:du,multi:!0,deps:[se]},{provide:Rn,useClass:Rn,deps:[Vs,wo,a.AFp]},{provide:a.FYo,useExisting:Rn},{provide:vi,useExisting:wo},{provide:wo,useClass:wo,deps:[se]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Vs,useClass:Vs,deps:[bo,a.R0b]},{provide:class kn{},useClass:qr,deps:[]}];let Pa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Zr,useExisting:a.AFp},vl]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:wl,imports:[qt,a.hGG]}),n})();"undefined"!=typeof window&&window;var Xn=L(8996),er=L(3269);function pt(...n){const e=(0,er.yG)(n);return(0,Xn.D)(n,e)}var Vn=L(7579);class lr extends Vn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Tr=L(8306);const{isArray:Va}=Array,{getPrototypeOf:eh,prototype:Mn,keys:Gf}=Object;function es(n){if(1===n.length){const e=n[0];if(Va(e))return{args:e,keys:null};if(function mu(n){return n&&"object"==typeof n&&eh(n)===Mn}(e)){const t=Gf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Li=L(4671),Mt=L(4004);const{isArray:th}=Array;function kc(n){return(0,Mt.U)(e=>function Ac(n,e){return th(e)?n(...e):n(e)}(n,e))}function oa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var $n=L(5403),Hs=L(9672);function aa(...n){const e=(0,er.yG)(n),t=(0,er.jO)(n),{args:r,keys:i}=es(n);if(0===r.length)return(0,Xn.D)([],e);const l=new Tr.y(function Ri(n,e,t=Li.y){return r=>{Io(e,()=>{const{length:i}=n,l=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)Io(e,()=>{const D=(0,Xn.D)(n[_],e);let S=!1;D.subscribe((0,$n.x)(r,A=>{l[_]=A,S||(S=!0,f--),f||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>oa(i,c):Li.y));return t?l.pipe(kc(t)):l}function Io(n,e,t){n?(0,Hs.f)(t,n,e):e()}var Ni=L(576);function ms(n,e){const t=(0,Ni.m)(n)?n:()=>n,r=i=>i.error(t());return new Tr.y(e?i=>e.schedule(r,0,i):r)}const Mo=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gs=L(8189);function nh(...n){return function Oc(){return(0,gs.J)(1)}()((0,Xn.D)(n,(0,er.yG)(n)))}var Ao=L(8421);function ts(n){return new Tr.y(e=>{(0,Ao.Xf)(n()).subscribe(e)})}var Ba=L(515),ns=L(727),Pr=L(4482);function rs(){return(0,Pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,$n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rh extends Tr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ns.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$n.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ns.w0.EMPTY)}return e}refCount(){return rs()(this)}}function hn(n,e){return(0,Pr.e)((t,r)=>{let i=null,l=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,$n.x)(r,_=>{null==i||i.unsubscribe();let D=0;const S=l++;(0,Ao.Xf)(n(_,S)).subscribe(i=(0,$n.x)(r,A=>r.next(e?e(_,A,S,D++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var js=L(5698);function Pi(...n){const e=(0,er.yG)(n);return(0,Pr.e)((t,r)=>{(e?nh(n,t,e):nh(n,t)).subscribe(r)})}function Ua(n,e,t,r,i){return(l,c)=>{let f=t,_=e,D=0;l.subscribe((0,$n.x)(c,S=>{const A=D++;_=f?n(_,S,A):(f=!0,S),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function Fr(n,e){return(0,Pr.e)(Ua(n,e,arguments.length>=2,!0))}function xn(n,e){return(0,Pr.e)((t,r)=>{let i=0;t.subscribe((0,$n.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function _s(n){return(0,Pr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,$n.x)(t,void 0,void 0,c=>{l=(0,Ao.Xf)(n(c,_s(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Bn=L(5577);function ko(n,e){return(0,Ni.m)(e)?(0,Bn.z)(n,e,1):(0,Bn.z)(n,1)}function ih(n){return n<=0?()=>Ba.E:(0,Pr.e)((e,t)=>{let r=[];e.subscribe((0,$n.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gn(n=Dg){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,$n.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Dg(){return new Mo}function Cg(n){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,$n.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,l)=>n(i,l,r)):Li.y,(0,js.q)(1),t?Cg(e):Gn(()=>new Mo))}var wi=L(8505);class Oo{constructor(e,t){this.id=e,this.url=t}}class Ys extends Oo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gu extends Oo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Un extends Oo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lc extends Oo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class la extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sh extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cl extends Oo{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sr extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends Oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class El{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $s{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ua{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oh{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sg{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class Gs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tr(n){return new Gs(n)}const _u="ngNavigationCancelingError";function Lo(n){const e=Error("NavigationCancelingError: "+n);return e[_u]=!0,e}function ah(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],f=n[l];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Rc(n[i],e[i]))return!1;return!0}function Rc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Tl(n){return Array.prototype.concat.apply([],n)}function lh(n){return n.length>0?n[n.length-1]:null}function _r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function E(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):pt(n)}const x={exact:function ke(n,e,t){if(!ss(n.segments,e.segments)||!Bt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ke(n.children[r],e.children[r],t))return!1;return!0},subset:At},F={exact:function re(n,e){return qs(n,e)},subset:function Qe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Rc(n[t],e[t]))},ignored:()=>!0};function W(n,e,t){return x[t.paths](n.root,e.root,t.matrixParams)&&F[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function At(n,e,t){return St(n,e,e.segments,t)}function St(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ss(i,t)||e.hasChildren()||!Bt(i,t,r))}if(n.segments.length===t.length){if(!ss(n.segments,t)||!Bt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!At(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ss(n.segments,i)&&Bt(n.segments,i,r)&&n.children[$t])&&St(n.children[$t],e,l,r)}}function Bt(n,e,t){return e.every((r,i)=>F[t](n[i].parameters,r.parameters))}class Ct{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return vu.serialize(this)}}class Et{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_r(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nc(this)}}class jt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return Il(this)}}function ss(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class ri{}class ys{parse(e){const t=new ch(e);return new Ct(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${No(e.root,!0)}`,r=function Sv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wu(t)}=${wu(i)}`).join("&"):`${wu(t)}=${wu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Du(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vu=new ys;function Nc(n){return n.segments.map(e=>Il(e)).join("/")}function No(n,e){if(!n.hasChildren())return Nc(n);if(e){const t=n.children[$t]?No(n.children[$t],!1):"",r=[];return _r(n.children,(i,l)=>{l!==$t&&r.push(`${l}:${No(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ca(n,e){let t=[];return _r(n.children,(r,i)=>{i===$t&&(t=t.concat(e(r,i)))}),_r(n.children,(r,i)=>{i!==$t&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===$t?[No(n.children[$t],!1)]:[`${i}:${No(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${Nc(n)}/${t[0]}`:`${Nc(n)}/(${t.join("//")})`}}function bu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wu(n){return bu(n).replace(/%3B/gi,";")}function uh(n){return bu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pc(n){return decodeURIComponent(n)}function Fc(n){return Pc(n.replace(/\+/g,"%20"))}function Il(n){return`${uh(n.path)}${function Ig(n){return Object.keys(n).map(e=>`;${uh(e)}=${uh(n[e])}`).join("")}(n.parameters)}`}const Iv=/^[^\/()?;=#]+/;function Ws(n){const e=n.match(Iv);return e?e[0]:""}const Vc=/^[^=?&#]+/,Av=/^[^&#]+/;class ch{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$t]=new Et(e,t)),r}parseSegment(){const e=Ws(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new jt(Pc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ws(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ws(this.remaining);i&&(r=i,this.capture(r))}e[Pc(t)]=Pc(r)}parseQueryParam(e){const t=function Mv(n){const e=n.match(Vc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Mg(n){const e=n.match(Av);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Fc(t),l=Fc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ws(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=$t);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[$t]:new Et([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class kv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=qf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wf(e,this._root).map(t=>t.value)}}function qf(n,e){if(n===e.value)return e;for(const t of e.children){const r=qf(n,t);if(r)return r}return null}function Wf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wf(n,t);if(r.length)return r.unshift(e),r}return[]}class da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ha(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dh extends kv{constructor(e,t){super(e),this.snapshot=t,fh(this,e)}toString(){return this.snapshot.toString()}}function Ml(n,e){const t=function xv(n,e){const c=new Cu([],{},{},"",{},$t,e,null,n.root,-1,{});return new zf("",new da(c,[]))}(n,e),r=new lr([new jt("",{})]),i=new lr({}),l=new lr({}),c=new lr({}),f=new lr(""),_=new Ha(r,i,c,f,l,$t,e,t.root);return _.snapshot=t.root,new dh(new da(_,[]),t)}class Ha{constructor(e,t,r,i,l,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>tr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>tr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ov(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function hh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cu{constructor(e,t,r,i,l,c,f,_,D,S,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=S,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zf extends kv{constructor(e,t){super(t),this.url=e,fh(this,t)}toString(){return ph(this._root)}}function fh(n,e){e.value._routerState=n,e.children.forEach(t=>fh(n,t))}function ph(n){const e=n.children.length>0?` { ${n.children.map(ph).join(", ")} } `:"";return`${n.value}${e}`}function mh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),qs(e.params,t.params)||n.params.next(t.params),function Zs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),qs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Kf(n,e){const t=qs(n.params,e.params)&&function Sl(n,e){return ss(n,e)&&n.every((t,r)=>qs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Kf(n.parent,e.parent))}function Bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Jf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bc(n,r,i);return Bc(n,r)})}(n,e,t);return new da(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Bc(n,f)),c}}const r=function Rv(n){return new Ha(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Bc(n,l));return new da(r,i)}}function ja(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ag(n,e,t,r,i){let l={};if(r&&_r(r,(f,_)=>{l[_]=Array.isArray(f)?f.map(D=>`${D}`):`${f}`}),n===e)return new Ct(t,l,i);const c=Qf(n,e,t);return new Ct(c,l,i)}function Qf(n,e,t){const r={};return _r(n.children,(i,l)=>{r[l]=i===e?t:Qf(i,e,t)}),new Et(n.segments,r)}class Nv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ja(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Eu);if(i&&i!==lh(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Bv(n,e,t){if(n||(n=new Et([],{})),0===n.segments.length&&n.hasChildren())return Fo(n,e,t);const r=function CD(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],f=t[r];if(Eu(f))break;const _=`${f}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!os(_,D,c))return l;r+=2}else{if(!os(_,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Et(n.segments.slice(0,r.pathIndex),{});return l.children[$t]=new Et(n.segments.slice(r.pathIndex),n.children),Fo(l,0,i)}return r.match&&0===i.length?new Et(n.segments,{}):r.match&&!n.hasChildren()?ep(n,e,t):r.match?Fo(n,0,i):ep(n,e,t)}function Fo(n,e,t){if(0===t.length)return new Et(n.segments,{});{const r=function Vv(n){return Eu(n[0])?n[0].outlets:{[$t]:n}}(t),i={};return _r(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=Bv(n.children[c],e,l))}),_r(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new Et(n.segments,i)}}function ep(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Eu(l)){const _=Tu(l.outlets);return new Et(r,_)}if(0===i&&ja(t[0])){r.push(new jt(n.segments[e].path,tp(t[0]))),i++;continue}const c=Eu(l)?l.outlets[$t]:`${l}`,f=i<t.length-1?t[i+1]:null;c&&f&&ja(f)?(r.push(new jt(c,tp(f))),i+=2):(r.push(new jt(c,{})),i++)}return new Et(r,{})}function Tu(n){const e={};return _r(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ep(new Et([],{}),0,t))}),e}function tp(n){const e={};return _r(n,(t,r)=>e[r]=`${t}`),e}function os(n,e,t){return n==t.path&&qs(e,t.parameters)}class xg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ha(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),_r(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=ha(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=ha(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ha(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Sg(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ua(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(mh(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),mh(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function gh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class _h{constructor(e,t){this.routes=e,this.module=t}}function Al(n){return"function"==typeof n}function Su(n){return n instanceof Ct}const Hc=Symbol("INITIAL_VALUE");function Ya(){return hn(n=>aa(n.map(e=>e.pipe((0,js.q)(1),Pi(Hc)))).pipe(Fr((e,t)=>{let r=!1;return t.reduce((i,l,c)=>i!==Hc?i:(l===Hc&&(r=!0),r||!1!==l&&c!==t.length-1&&!Su(l)?i:l),e)},Hc),xn(e=>e!==Hc),(0,Mt.U)(e=>Su(e)?e:!0===e),(0,js.q)(1)))}class Uv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jc,this.attachRef=null}}class jc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Uv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Iu=(()=>{class n{constructor(t,r,i,l,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=l||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new sp(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jc),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class sp{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ha?this.route:e===jc?this.childContexts:this.parent.get(e,t)}}let op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[Iu],encapsulation:2}),n})();function Yc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];yh(r,ap(e,r))}}function yh(n,e){n.children&&Yc(n.children,e)}function ap(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function lp(n){const e=n.children&&n.children.map(lp),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=op),t}function pn(n){return n.outlet||$t}function up(n,e){const t=n.filter(r=>pn(r)===e);return t.push(...n.filter(r=>pn(r)!==e)),t}const Lg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Lg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||ah)(t,n,e);if(!l)return Object.assign({},Lg);const c={};_r(l.posParams,(_,D)=>{c[D]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},c),l.consumed[l.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function $c(n,e,t,r,i="corrected"){if(t.length>0&&function jv(n,e,t){return t.some(r=>bh(n,e,r)&&pn(r)!==$t)}(n,t,r)){const c=new Et(e,function vh(n,e,t,r){const i={};i[$t]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&pn(l)!==$t){const c=new Et([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[pn(l)]=c}return i}(n,e,r,new Et(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Rg(n,e,t){return t.some(r=>bh(n,e,r))}(n,t,r)){const c=new Et(n.segments,function Hv(n,e,t,r,i,l){const c={};for(const f of r)if(bh(n,t,f)&&!i[pn(f)]){const _=new Et([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,c[pn(f)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const l=new Et(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function bh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Yv(n,e,t,r){return!!(pn(n)===r||r!==$t&&bh(e,t,n))&&("**"===n.path||Mu(e,n,t).matched)}function $v(n,e,t){return 0===e.length&&!n.children[t]}class $a{constructor(e){this.segmentGroup=e||null}}class zr{constructor(e){this.urlTree=e}}function fa(n){return ms(new $a(n))}function Gc(n){return ms(new zr(n))}class dp{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=$c(this.urlTree.root,[],[],this.config).segmentGroup,t=new Et(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,Mt.U)(l=>this.createUrlTree(xl(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_s(l=>{if(l instanceof zr)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof $a?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,Mt.U)(i=>this.createUrlTree(xl(i),e.queryParams,e.fragment))).pipe(_s(i=>{throw i instanceof $a?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Et([],{[$t]:e}):e;return new Ct(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Mt.U)(l=>new Et([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Xn.D)(i).pipe(ko(l=>{const c=r.children[l],f=up(t,l);return this.expandSegmentGroup(e,f,c,l).pipe((0,Mt.U)(_=>({segment:_,outlet:l})))}),Fr((l,c)=>(l[c.outlet]=c.segment,l),{}),function Eg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,l)=>n(i,l,r)):Li.y,ih(1),t?Cg(e):Gn(()=>new Mo))}())}expandSegment(e,t,r,i,l,c){return(0,Xn.D)(r).pipe(ko(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,c).pipe(_s(D=>{if(D instanceof $a)return pt(null);throw D}))),xo(f=>!!f),_s((f,_)=>{if(f instanceof Mo||"EmptyError"===f.name)return $v(t,i,l)?pt(new Et([],{})):fa(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,c,f){return Yv(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):fa(t):fa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Gc(l):this.lineralizeSegments(r,l).pipe((0,Bn.z)(c=>{const f=new Et(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:f,consumedSegments:_,remainingSegments:D,positionalParamSegments:S}=Mu(t,i,l);if(!f)return fa(t);const A=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?Gc(A):this.lineralizeSegments(i,A).pipe((0,Bn.z)(N=>this.expandSegment(e,t,r,N.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Mt.U)(A=>(r._loadedConfig=A,new Et(i,{})))):pt(new Et(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=Mu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Bn.z)(S=>{const A=S.module,N=S.routes,{segmentGroup:B,slicedSegments:$}=$c(t,f,_,N),ee=new Et(B.segments,B.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(A,N,ee).pipe((0,Mt.U)(We=>new Et(f,We)));if(0===N.length&&0===$.length)return pt(new Et(f,{}));const _e=pn(r)===l;return this.expandSegment(A,ee,N,$,_e?$t:l,!0).pipe((0,Mt.U)(Oe=>new Et(f.concat(Oe.segments),Oe.children)))})):fa(t)}getChildConfig(e,t,r){return t.children?pt(new _h(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Bn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Mt.U)(l=>(t._loadedConfig=l,l))):function ii(n){return ms(Lo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):pt(new _h([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?pt(i.map(c=>{const f=e.get(c);let _;if(function np(n){return n&&Al(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Al(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return E(_)})).pipe(Ya(),(0,wi.b)(c=>{if(!Su(c))return;const f=Lo(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Mt.U)(c=>!0===c)):pt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pt(r);if(i.numberOfChildren>1||!i.children[$t])return ms(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[$t]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Ct(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return _r(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return _r(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new Et(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function xl(n){const e={};for(const r of Object.keys(n.children)){const l=xl(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function as(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new Et(n.segments.concat(e.segments),e.children)}return n}(new Et(n.segments,e))}class Ng{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ol{constructor(e,t){this.component=e,this.route=t}}function fp(n,e,t){const r=n._root;return Fi(r,e?e._root:null,t,[r.value])}function Zc(n,e,t){const r=function Gv(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Fi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=ha(e);return n.children.forEach(c=>{(function Fg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const _=function Zv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ss(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ss(n.url,e.url)||!qs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kf(n,e)||!qs(n.queryParams,e.queryParams);default:return!Kf(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Ng(r)):(l.data=c.data,l._resolvedData=c._resolvedData),Fi(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ol(f.outlet.component,c))}else c&&Ll(e,f,i),i.canActivateChecks.push(new Ng(r)),Fi(n,null,l.component?f?f.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),_r(l,(c,f)=>Ll(c,t.getContext(f),i)),i}function Ll(n,e,t){const r=ha(n),i=n.value;_r(r,(l,c)=>{Ll(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ol(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class gp{}function _p(n){return new Tr.y(e=>e.error(n))}class yp{constructor(e,t,r,i,l,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=c}recognize(){const e=$c(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const r=new Cu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new da(r,t),l=new zf(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Ov(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const c=t.children[l],f=up(e,l),_=this.processSegmentGroup(f,c,l);if(null===_)return null;r.push(..._)}const i=Ug(r);return function Kv(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const c=this.processSegmentAgainstRoute(l,t,r,i);if(null!==c)return c}return $v(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Yv(e,t,r,i))return null;let l,c=[],f=[];if("**"===e.path){const B=r.length>0?lh(r).parameters:{};l=new Cu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),pn(e),e.component,e,p(t),g(t)+r.length,I(e))}else{const B=Mu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,l=new Cu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),pn(e),e.component,e,p(t),g(t)+c.length,I(e))}const _=function Jv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:S}=$c(t,c,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&D.hasChildren()){const B=this.processChildren(_,D);return null===B?null:[new da(l,B)]}if(0===_.length&&0===S.length)return[new da(l,[])];const A=pn(e)===i,N=this.processSegment(_,D,S,A?$t:i);return null===N?null:[new da(l,N)]}}function Bg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ug(n){const e=[],t=new Set;for(const r of n){if(!Bg(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ug(r.children);e.push(new da(r.value,i))}return e.filter(r=>!t.has(r))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function I(n){return n.resolve||{}}function Xe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return hn(e=>{const t=n(e);return t?(0,Xn.D)(t).pipe((0,Mt.U)(()=>e)):pt(e)})}class Wc extends class vs{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Au=new a.OlP("ROUTES");class ku{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Mt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=l.create(e);return new _h(Tl(c.injector.get(Au,void 0,a.XFs.Self|a.XFs.Optional)).map(lp),c)}),_s(l=>{throw t._loader$=void 0,l}));return t._loader$=new rh(i,()=>new Vn.x).pipe(rs()),t._loader$}loadModuleFactory(e){return E(e()).pipe((0,Bn.z)(t=>t instanceof a.YKP?pt(t):(0,Xn.D)(this.compiler.compileModuleAsync(t))))}}class Qv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ga(n){throw n}function wh(n,e,t){return e.parse("/")}function Dh(n,e){return pt(null)}const bp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ch={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vi=(()=>{class n{constructor(t,r,i,l,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vn.x,this.errorHandler=Ga,this.malformedUriErrorHandler=wh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dh,afterPreactivation:Dh},this.urlHandlingStrategy=new Qv,this.routeReuseStrategy=new Wc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const A=c.get(a.R0b);this.isNgZoneEnabled=A instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function T(){return new Ct(new Et([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ku(c,f,N=>this.triggerEvent(new El(N)),N=>this.triggerEvent(new $s(N))),this.routerState=Ml(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xn(i=>0!==i.id),(0,Mt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hn(i=>{let l=!1,c=!1;return pt(i).pipe((0,wi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hn(f=>{const _=this.browserUrlTree.toString(),D=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Hg(f.source)&&(this.browserUrlTree=f.extractedUrl),pt(f).pipe(hn(A=>{const N=this.transitions.getValue();return r.next(new Ys(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),N!==this.transitions.getValue()?Ba.E:Promise.resolve(A)}),function hp(n,e,t,r){return hn(i=>function kl(n,e,t,r,i){return new dp(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Mt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wi.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function O(n,e,t,r,i){return(0,Bn.z)(l=>function zv(n,e,t,r,i="emptyOnly",l="legacy"){try{const c=new yp(n,e,t,r,i,l).recognize();return null===c?_p(new gp):pt(c)}catch(c){return _p(c)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Mt.U)(c=>Object.assign(Object.assign({},l),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wi.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const N=new la(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(N)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:B,source:$,restoredState:ee,extras:_e}=f,Ve=new Ys(N,this.serializeUrl(B),$,ee);r.next(Ve);const Oe=Ml(B,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},f),{targetSnapshot:Oe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ba.E}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!B})}),(0,wi.b)(f=>{const _=new sh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Mt.U)(f=>Object.assign(Object.assign({},f),{guards:fp(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function qv(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?pt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Vg(n,e,t,r){return(0,Xn.D)(n).pipe((0,Bn.z)(i=>function qc(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?pt(l.map(f=>{const _=Zc(f,e,i);let D;if(function ED(n){return n&&Al(n.canDeactivate)}(_))D=E(_.canDeactivate(n,e,t,r));else{if(!Al(_))throw new Error("Invalid CanDeactivate guard");D=E(_(n,e,t,r))}return D.pipe(xo())})).pipe(Ya()):pt(!0)}(i.component,i.route,t,e,r)),xo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Bn.z)(f=>f&&function Og(n){return"boolean"==typeof n}(f)?function Kr(n,e,t,r){return(0,Xn.D)(e).pipe(ko(i=>nh(function mp(n,e){return null!==n&&e&&e(new is(n)),pt(!0)}(i.route.parent,r),function pp(n,e){return null!==n&&e&&e(new oh(n)),pt(!0)}(i.route,r),function pa(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function Pg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ts(()=>pt(c.guards.map(_=>{const D=Zc(_,c.node,t);let S;if(function ip(n){return n&&Al(n.canActivateChild)}(D))S=E(D.canActivateChild(r,n));else{if(!Al(D))throw new Error("Invalid CanActivateChild guard");S=E(D(r,n))}return S.pipe(xo())})).pipe(Ya())));return pt(l).pipe(Ya())}(n,i.path,t),function Wv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const i=r.map(l=>ts(()=>{const c=Zc(l,e,t);let f;if(function rp(n){return n&&Al(n.canActivate)}(c))f=E(c.canActivate(e,n));else{if(!Al(c))throw new Error("Invalid CanActivate guard");f=E(c(e,n))}return f.pipe(xo())}));return pt(i).pipe(Ya())}(n,i.route,t))),xo(i=>!0!==i,!0))}(r,l,n,e):pt(f)),(0,Mt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,wi.b)(f=>{if(Su(f.guardsResult)){const D=Lo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw D.url=f.guardsResult,D}const _=new Cl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),at(f=>{if(f.guards.canActivateChecks.length)return pt(f).pipe((0,wi.b)(_=>{const D=new Sr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),hn(_=>{let D=!1;return pt(_).pipe(function Z(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pt(t);let l=0;return(0,Xn.D)(i).pipe(ko(c=>function ue(n,e,t,r){return function Ue(n,e,t,r){const i=Xe(n);if(0===i.length)return pt({});const l={};return(0,Xn.D)(i).pipe((0,Bn.z)(c=>function Tt(n,e,t,r){const i=Zc(n,e,r);return E(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,wi.b)(f=>{l[c]=f}))),ih(1),(0,Bn.z)(()=>Xe(l).length===i.length?pt(l):Ba.E))}(n._resolve,n,e,r).pipe((0,Mt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Ov(n,t).resolve),null)))}(c.route,r,n,e)),(0,wi.b)(()=>l++),ih(1),(0,Bn.z)(c=>l===i.length?pt(t):Ba.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wi.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,wi.b)(_=>{const D=new ni(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!B})}),(0,Mt.U)(f=>{const _=function Lv(n,e,t){const r=Bc(n,e._root,t?t._root:void 0);return new dh(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,wi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Mt.U)(r=>(new xg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,wi.b)({next(){l=!0},complete(){l=!0}}),function Tg(n){return(0,Pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),_s(f=>{if(c=!0,function Ro(n){return n&&n[_u]}(f)){const _=Su(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const D=new Un(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(D),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hg(i.source)};this.scheduleNavigation(S,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Lc(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return Ba.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Yc(t),this.config=t.map(lp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,D=i||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function Po(n,e,t,r,i){if(0===t.length)return Ag(e.root,e.root,e.root,r,i);const l=function Pv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return _r(l.outlets,(_,D)=>{f[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new Nv(t,e,r)}(t);if(l.toRoot())return Ag(e.root,e.root,new Et([],{}),r,i);const c=function kg(n,e,t){if(n.isAbsolute)return new Xf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Xf(l,l===e.root,0)}const r=ja(n.commands[0])?0:1;return function Fv(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Xf(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=c.processChildren?Fo(c.segmentGroup,c.index,l.commands):Bv(c.segmentGroup,c.index,l.commands);return Ag(e.root,c.segmentGroup,f,r,i)}(D,this.currentUrlTree,t,A,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Su(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function wp(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},bp):!1===r?Object.assign({},Ch):r,Su(t))return W(this.currentUrlTree,t,i);const l=this.parseUrl(t);return W(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,c){var f,_;if(this.disposed)return Promise.resolve(!1);let D,S,A;c?(D=c.resolve,S=c.reject,A=c.promise):A=new Promise(($,ee)=>{D=$,S=ee});const N=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:N,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:D,reject:S,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Un(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Hg(n){return"imperative"!==n}let jg=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=c,this.commands=null,this.onChanges=new Vn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Eh(this.skipLocationChange),replaceUrl:Eh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Eh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Vi),a.Y36(Ha),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),Bi=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Vn.x,this.subscription=t.events.subscribe(l=>{l instanceof gu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,c){if(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Eh(this.skipLocationChange),replaceUrl:Eh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Eh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Vi),a.Y36(Ha),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function Eh(n){return""===n||!!n}class e0{}class SD{preload(e,t){return pt(null)}}let ID=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new ku(i,r,_=>t.triggerEvent(new El(_)),_=>t.triggerEvent(new $s(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(xn(t=>t instanceof gu),ko(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const c=l._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,Xn.D)(i).pipe((0,gs.J)(),(0,Mt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Bn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vi),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(e0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Yg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Zf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const zs=new a.OlP("ROUTER_CONFIGURATION"),n0=new a.OlP("ROUTER_FORROOT_GUARD"),MD=[be,{provide:ri,useClass:ys},{provide:Vi,useFactory:function s0(n,e,t,r,i,l,c={},f,_){const D=new Vi(null,n,e,t,r,i,Tl(l));return f&&(D.urlHandlingStrategy=f),_&&(D.routeReuseStrategy=_),function xD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),c.enableTracing&&D.events.subscribe(S=>{var A,N;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(N=console.groupEnd)||void 0===N||N.call(console)}),D},deps:[ri,jc,be,a.zs3,a.Sil,Au,zs,[class vp{},new a.FiY],[class Zn{},new a.FiY]]},jc,{provide:Ha,useFactory:function $g(n){return n.routerState.root},deps:[Vi]},ID,SD,class t0{preload(e,t){return t().pipe(_s(()=>pt(null)))}},{provide:zs,useValue:{enableTracing:!1}}];function gS(){return new a.PXZ("Router",Vi)}let qn=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[MD,r0(t),{provide:n0,useFactory:kD,deps:[[Vi,new a.FiY,new a.tp0]]},{provide:zs,useValue:r||{}},{provide:fe,useFactory:AD,deps:[ie,[new a.tBr(tt),new a.FiY],zs]},{provide:Yg,useFactory:_S,deps:[Vi,ru,zs]},{provide:e0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:SD},{provide:a.PXZ,multi:!0,useFactory:gS},[Th,{provide:a.ip1,multi:!0,useFactory:OD,deps:[Th]},{provide:a0,useFactory:o0,deps:[Th]},{provide:a.tb,multi:!0,useExisting:a0}]]}}static forChild(t){return{ngModule:n,providers:[r0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n0,8),a.LFG(Vi,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function _S(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Yg(n,e,t)}function AD(n,e,t={}){return t.useHash?new Se(n,e):new ze(n,e)}function kD(n){return"guarded"}function r0(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Au,multi:!0,useValue:n}]}let Th=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(Vi),c=this.injector.get(zs);return"disabled"===c.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(zs),i=this.injector.get(ID),l=this.injector.get(Yg),c=this.injector.get(Vi),f=this.injector.get(a.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),l.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function OD(n){return n.appInitializer.bind(n)}function o0(n){return n.bootstrapListener.bind(n)}const a0=new a.OlP("Router Initializer"),Zg=new a.OlP("GETS_ALL_EVENT_DTO");let RD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),zc=(()=>{class n extends RD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const bs=new a.OlP("NgValueAccessor"),aO={provide:bs,useExisting:(0,a.Gpc)(()=>Ks),multi:!0},yS=new a.OlP("CompositionEventMode");let Ks=(()=>{class n extends RD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ND(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(yS,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([aO]),a.qOj]}),n})();function xu(n){return null==n||0===n.length}function PD(n){return null!=n&&"number"==typeof n.length}const Nn=new a.OlP("NgValidators"),Ou=new a.OlP("NgAsyncValidators"),FD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ws{static min(e){return function VD(n){return e=>{if(xu(e.value)||xu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function BD(n){return e=>{if(xu(e.value)||xu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function UD(n){return xu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function d0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function HD(n){return xu(n.value)||FD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jD(n){return e=>xu(e.value)||!PD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function YD(n){return e=>PD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Nt(n){if(!n)return Dp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return qg(e)}static composeAsync(e){return Wg(e)}}function Dp(n){return null}function h0(n){return null!=n}function f0(n){const e=(0,a.QGY)(n)?(0,Xn.D)(n):n;return(0,a.CqO)(e),e}function Cp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vo(n,e){return e.map(t=>t(n))}function GD(n){return n.map(e=>function $D(n){return!n.validate}(e)?e:t=>e.validate(t))}function qg(n){if(!n)return null;const e=n.filter(h0);return 0==e.length?null:function(t){return Cp(Vo(t,e))}}function ma(n){return null!=n?qg(GD(n)):null}function Wg(n){if(!n)return null;const e=n.filter(h0);return 0==e.length?null:function(t){return function LD(...n){const e=(0,er.jO)(n),{args:t,keys:r}=es(n),i=new Tr.y(l=>{const{length:c}=t;if(!c)return void l.complete();const f=new Array(c);let _=c,D=c;for(let S=0;S<c;S++){let A=!1;(0,Ao.Xf)(t[S]).subscribe((0,$n.x)(l,N=>{A||(A=!0,D--),f[S]=N},()=>_--,void 0,()=>{(!_||!A)&&(D||l.next(r?oa(r,f):f),l.complete())}))}});return e?i.pipe(kc(e)):i}(Vo(t,e).map(f0)).pipe((0,Mt.U)(Cp))}}function zg(n){return null!=n?Wg(GD(n)):null}function Kg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vS(n){return n._rawValidators}function p0(n){return n._rawAsyncValidators}function ZD(n){return n?Array.isArray(n)?n:[n]:[]}function Kc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ep(n,e){const t=ZD(e);return ZD(n).forEach(i=>{Kc(t,i)||t.push(i)}),t}function Jg(n,e){return ZD(e).filter(t=>!Kc(n,t))}class Qg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ma(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Za extends Qg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ds extends Qg{get formDirective(){return null}get path(){return null}}class qD{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let qa=(()=>{class n extends qD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Za,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),ga=(()=>{class n extends qD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ds,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function Bo(n,e){Tp(n,e),e.valueAccessor.writeValue(n.value),function g0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Rl(n,e)})}(n,e),function QD(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function wS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Rl(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Sp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function t_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tp(n,e){const t=vS(n);null!==e.validator?n.setValidators(Kg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=p0(n);null!==e.asyncValidator?n.setAsyncValidators(Kg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();t_(e._rawValidators,i),t_(e._rawAsyncValidators,i)}function Sp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=vS(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=p0(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return t_(e._rawValidators,r),t_(e._rawAsyncValidators,r),t}function Rl(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Mh="VALID",Mp="INVALID",Ru="PENDING",Xc="DISABLED";function Ah(n){return(Ap(n)?n.validators:n)||null}function rC(n){return Array.isArray(n)?ma(n):n||null}function r_(n,e){return(Ap(e)?e.asyncValidators:n)||null}function DS(n){return Array.isArray(n)?zg(n):n||null}function Ap(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const v0=n=>n instanceof si,b0=n=>n instanceof _a;function sC(n){return v0(n)?n.value:n.getRawValue()}function oC(n,e){const t=b0(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[e])throw new a.vHH(1001,"")}function Cs(n,e){b0(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new a.vHH(1002,"")})}class w0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=rC(this._rawValidators),this._composedAsyncValidatorFn=DS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mh}get invalid(){return this.status===Mp}get pending(){return this.status==Ru}get disabled(){return this.status===Xc}get enabled(){return this.status!==Xc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=rC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=DS(e)}addValidators(e){this.setValidators(Ep(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ep(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jg(e,this._rawAsyncValidators))}hasValidator(e){return Kc(this._rawValidators,e)}hasAsyncValidator(e){return Kc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ru,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===Ru)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xc:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ru,this._hasOwnPendingAsyncValidator=!0;const t=f0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function nC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=b0(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof yO)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Xc:this.errors?Mp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ru)?Ru:this._anyControlsHaveStatus(Mp)?Mp:Mh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ap(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class si extends w0{constructor(e=null,t,r){super(Ah(t),r_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ap(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class _a extends w0{constructor(e,t,r){super(Ah(t),r_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cs(this,e),Object.keys(e).forEach(r=>{oC(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=sC(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yO extends w0{constructor(e,t,r){super(Ah(t),r_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cs(this,e),e.forEach((r,i)=>{oC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>sC(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const C0=new a.OlP("NgModelWithFormControlWarning"),IS={provide:Ds,useExisting:(0,a.Gpc)(()=>Uo)};let Uo=(()=>{class n extends Ds{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Bo(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Sh(t.control||null,t,!1),Qc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function n_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Sh(r||null,t),v0(i)&&(Bo(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function XD(n,e){Tp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function _0(n,e){return Sp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tp(this.form,this),this._oldForm&&Sp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nn,10),a.Y36(Ou,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([IS]),a.qOj,a.TTD]}),n})();const vC={provide:Za,useExisting:(0,a.Gpc)(()=>va)};let va=(()=>{class n extends Za{constructor(t,r,i,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Lu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Ks?t=l:function Ih(n){return Object.getPrototypeOf(n.constructor)===zc}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Jc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function m0(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(Ds,13),a.Y36(Nn,10),a.Y36(Ou,10),a.Y36(bs,10),a.Y36(C0,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([vC]),a.qOj,a.TTD]}),n})(),NS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[gC]]}),n})(),za=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:C0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[NS]}),n})();var p_=L(4986);const m_=new a.OlP("SEARCH_DTO_STORAGE");let FS=(()=>{class n{constructor(t){this._searchDtoStorage=t,this.searchedEvent=new _a({title:new si("")}),this.subscription=new ns.w0,this.subscription=this.searchedEvent.valueChanges.pipe(Pi({title:""}),function OC(n,e=p_.z){return(0,Pr.e)((t,r)=>{let i=null,l=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const D=l;l=null,r.next(D)}};function _(){const D=c+n,S=e.now();if(S<D)return i=this.schedule(void 0,D-S),void r.add(i);f()}t.subscribe((0,$n.x)(r,D=>{l=D,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{l=i=null}))})}(400)).subscribe(r=>this._searchDtoStorage.next({title:r.title}))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(m_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-search-event"]],decls:3,vars:1,consts:[[1,"mt-4","w-50"],[1,"d-flex","align-items-center",3,"formGroup"],["type","text","formControlName","title","placeholder","Search event",1,"me-3","ps-3","py-2","rounded","border-0","w-75"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"form",1),a._UZ(2,"input",2),a.qZA()()),2&t&&(a.xp6(1),a.Q6J("formGroup",r.searchedEvent))},directives:[ya,ga,Uo,Ks,qa,va],encapsulation:2,changeDetection:0}),n})();const M0=new a.OlP("REMOVES_EVENT_DTO"),Ui=new a.OlP("CONTEXT_DTO_STORAGE");class VS{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const LC={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function RC(n,e=LC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(l=>l.split(":")).map(l=>{const c=e[l[0]]||l;return new VS(c[0],c[1])}),i=r.filter(l=>l.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const ur="undefined"!=typeof window&&window||{};var g_=(()=>{return(n=g_||(g_={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",g_;var n})();let Ho;function __(){if(void 0===ur.document)return"bs4";const n=ur.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),ur.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=ur.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(ur.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(ur.document.head.removeChild(n),"bs4"):(ur.document.head.removeChild(n),"bs5")}function Pl(){return void 0===ur||(void 0===ur.__theme?(Ho||(Ho=__()),"bs3"===Ho):"bs3"===ur.__theme)}function y_(){return!Pl()&&(Ho||(Ho=__()),"bs4"===Ho)}function kh(){return{isBs3:Pl(),isBs4:y_(),isBs5:!Pl()&&!y_()&&(Ho||(Ho=__()),"bs5"===Ho)}}function zS(){const n="Change";return function(t,r){const i=` __${r}Value`;Object.defineProperty(t,r,{get(){return this[i]},set(l){const c=this[i];this[i]=l,c!==l&&this[r+n]&&this[r+n].emit(l)}})}}const Rp={},xh="undefined"==typeof console||!("warn"in console);function Js(n){!(0,a.X6Q)()||xh||n in Rp||(Rp[n]=!0,console.warn(n))}let A0,Np=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{A0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){A0=!1}let FC=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Gr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!A0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wa=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Hi(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Pp(n){try{return n.frameElement}catch(e){return null}}(function Nh(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===rd(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),l=rd(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Lh(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==l:"video"===i?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Rh(n){return!function v_(n){return function k0(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function td(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function jo(n){return function Oh(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nd(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(FC))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nd(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function rd(n){if(!nd(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function id(n){return null!=n&&"false"!=`${n}`}class Ph{constructor(e,t,r,i,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,js.q)(1)).subscribe(e)}}let Fh=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ph(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wa),a.LFG(a.R0b),a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BC=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=id(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=id(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Fh),a.Y36(se))},n.\u0275dir=a.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[a.TTD]}),n})(),x0=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Np,FC,wa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[qt]]}),n})();var O0=L(6451),UC=L(1144);const HC=["addListener","removeListener"],jC=["addEventListener","removeEventListener"],YC=["on","off"];function Fp(n,e,t,r){if((0,Ni.m)(t)&&(r=t,t=void 0),r)return Fp(n,e,t).pipe(kc(r));const[i,l]=function QS(n){return(0,Ni.m)(n.addEventListener)&&(0,Ni.m)(n.removeEventListener)}(n)?jC.map(c=>f=>n[c](e,f,t)):function JS(n){return(0,Ni.m)(n.addListener)&&(0,Ni.m)(n.removeListener)}(n)?HC.map(L0(n,e)):function $C(n){return(0,Ni.m)(n.on)&&(0,Ni.m)(n.off)}(n)?YC.map(L0(n,e)):[];if(!i&&(0,UC.z)(n))return(0,Bn.z)(c=>Fp(c,e,t))((0,Ao.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Tr.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function L0(n,e){return t=>r=>n[t](e,r)}var GC=L(4408);const Vh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Vh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new ns.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Vh;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vh;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var eI=L(7565);const tI=new class ZC extends eI.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class XS extends GC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Vh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Vh.cancelAnimationFrame(t),e._scheduled=void 0)}});var b_=(()=>{return(n=b_||(b_={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",b_;var n})(),Bh=(()=>{return(n=Bh||(Bh={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",Bh;var n})();function Uh(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function R0(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===Uh(t,"position")?R0(t):t:r?r.ownerDocument.documentElement:document.documentElement}function Vp(n){return null!==n.parentNode?Vp(n.parentNode):n}function w_(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,l=document.createRange();l.setStart(r,0),l.setEnd(i,0);const c=l.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function N0(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||R0(n.firstElementChild)===n)}(c)?c:R0(c);const f=Vp(n);return f.host?w_(f.host,e):w_(n,Vp(e).host)}function rI(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===Uh(e,"transform");)e=e.parentElement;return e||document.documentElement}function iI(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function sI(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function qC(n){const e=n.body,t=n.documentElement;return{height:sI("Height",e,t),width:sI("Width",e,t)}}function Hh(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function nr(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function sd(n){const e=n.getBoundingClientRect();if(!(e&&nr(e.top)&&nr(e.left)&&nr(e.bottom)&&nr(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?qC(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||nr(e.right)&&nr(t.left)&&e.right-t.left||0,l=(null==r?void 0:r.height)||n.clientHeight||nr(e.bottom)&&nr(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,f=n.offsetHeight-l;if(c||f){const _=Uh(n);c-=iI(_,"x"),f-=iI(_,"y"),t.width-=c,t.height-=f}return Hh(t)}function P0(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function D_(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=Uh(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:D_(P0(n))}function F0(n,e,t=!1){var r,i,l,c,f,_;const D="HTML"===e.nodeName,S=sd(n),A=sd(e),B=(D_(n),Uh(e)),$=parseFloat(B.borderTopWidth),ee=parseFloat(B.borderLeftWidth);t&&D&&(A.top=Math.max(null!==(r=A.top)&&void 0!==r?r:0,0),A.left=Math.max(null!==(i=A.left)&&void 0!==i?i:0,0));const _e=Hh({top:(null!==(l=S.top)&&void 0!==l?l:0)-(null!==(c=A.top)&&void 0!==c?c:0)-$,left:(null!==(f=S.left)&&void 0!==f?f:0)-(null!==(_=A.left)&&void 0!==_?_:0)-ee,width:S.width,height:S.height});if(_e.marginTop=0,_e.marginLeft=0,D){const Ve=parseFloat(B.marginTop),Oe=parseFloat(B.marginLeft);nr(_e.top)&&(_e.top-=$-Ve),nr(_e.bottom)&&(_e.bottom-=$-Ve),nr(_e.left)&&(_e.left-=ee-Oe),nr(_e.right)&&(_e.right-=ee-Oe),_e.marginTop=Ve,_e.marginLeft=Oe}return _e}function V0(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function WC(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===Uh(n,"position")||WC(P0(n)))}function E_(n,e,t=0,r,i=!1){let l={top:0,left:0};const c=i?rI(n):w_(n,e);if("viewport"===r)l=function C_(n,e=!1){const t=n.ownerDocument.documentElement,r=F0(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),l=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:V0(t),f=e?0:V0(t,"left");return Hh({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:l})}(c,i);else{let f;"scrollParent"===r?(f=D_(P0(e)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const _=F0(f,c,i);if(_&&"HTML"===f.nodeName&&!WC(c)){const{height:D,width:S}=qC(n.ownerDocument);nr(l.top)&&nr(_.top)&&nr(_.marginTop)&&(l.top+=_.top-_.marginTop),nr(l.top)&&(l.bottom=Number(D)+Number(_.top)),nr(l.left)&&nr(_.left)&&nr(_.marginLeft)&&(l.left+=_.left-_.marginLeft),nr(l.top)&&(l.right=Number(S)+Number(_.left))}else _&&(l=_)}return nr(l.left)&&(l.left+=t),nr(l.top)&&(l.top+=t),nr(l.right)&&(l.right-=t),nr(l.bottom)&&(l.bottom-=t),l}function oI({width:n,height:e}){return n*e}function zC(n,e,t,r,i=["top","bottom","right","left"],l="viewport",c=0){var f,_,D,S,A,N,B,$,ee,_e,Ve,Oe;if(-1===n.indexOf("auto"))return n;const We=E_(t,r,c,l),Ze={top:{width:null!==(f=null==We?void 0:We.width)&&void 0!==f?f:0,height:(null!==(_=null==e?void 0:e.top)&&void 0!==_?_:0)-(null!==(D=null==We?void 0:We.top)&&void 0!==D?D:0)},right:{width:(null!==(S=null==We?void 0:We.right)&&void 0!==S?S:0)-(null!==(A=null==e?void 0:e.right)&&void 0!==A?A:0),height:null!==(N=null==We?void 0:We.height)&&void 0!==N?N:0},bottom:{width:null!==(B=null==We?void 0:We.width)&&void 0!==B?B:0,height:(null!==($=null==We?void 0:We.bottom)&&void 0!==$?$:0)-(null!==(ee=null==e?void 0:e.bottom)&&void 0!==ee?ee:0)},left:{width:(null!==(_e=e.left)&&void 0!==_e?_e:0)-(null!==(Ve=null==We?void 0:We.left)&&void 0!==Ve?Ve:0),height:null!==(Oe=null==We?void 0:We.height)&&void 0!==Oe?Oe:0}},yt=Object.keys(Ze).map(On=>Object.assign(Object.assign({position:On},Ze[On]),{area:oI(Ze[On])})).sort((On,en)=>en.area-On.area);let ut=yt.filter(({width:On,height:en})=>On>=t.clientWidth&&en>=t.clientHeight);ut=ut.filter(({position:On})=>i.some(en=>en===On));const ln=ut.length>0?ut[0].position:yt[0].position,Pn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${kh().isBs5?Bh[ln]:ln}`),ln+(Pn?`-${Pn}`:"")}const Bp=(n,e=0)=>n?parseFloat(n):e;function KC(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=Bp(null==t?void 0:t.marginTop)+Bp(null==t?void 0:t.marginBottom),i=Bp(null==t?void 0:t.marginLeft)+Bp(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function B0(n,e,t){return F0(e,t?rI(n):w_(n,e),t)}function T_(n,e,t){var r,i,l;const c=t.split(" ")[0],f=KC(n),_={width:f.width,height:f.height},D=-1!==["right","left"].indexOf(c),S=D?"top":"left",A=D?"left":"top",N=D?"height":"width",B=D?"width":"height";return _[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[N]/2-f[N]/2,_[A]=c===A?(null!==(i=e[A])&&void 0!==i?i:0)-f[B]:null!==(l=e[function lI(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(A)])&&void 0!==l?l:0,_}function S_(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const kO={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function jh(n,e){return!!kh().isBs5&&kO[e].includes(n)}function Yh(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function AO(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function JC(n){var e,t,r,i,l,c;let f=n.offsets.target;const _=n.instance.target.querySelector(".arrow");if(!_)return n;const D=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=D?"height":"width",A=D?"Top":"Left",N=A.toLowerCase(),B=D?"left":"top",$=D?"bottom":"right",ee=KC(_)[S],_e=n.placement.split(" ")[1];(null!==(e=n.offsets.host[$])&&void 0!==e?e:0)-ee<(null!==(t=f[N])&&void 0!==t?t:0)&&(f[N]-=(null!==(r=f[N])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[$])&&void 0!==i?i:0)-ee)),Number(n.offsets.host[N])+Number(ee)>(null!==(l=f[$])&&void 0!==l?l:0)&&(f[N]+=Number(n.offsets.host[N])+Number(ee)-Number(f[$])),f=Hh(f);const Ve=Uh(n.instance.target),Oe=parseFloat(Ve[`margin${A}`])||0,We=parseFloat(Ve[`border${A}Width`])||0;let Ze;if(_e){const ut=parseFloat(Ve.borderRadius)||0,ln=Number(Oe+We+ut);Ze=N===_e?Number(n.offsets.host[N])+ln:Number(n.offsets.host[N])+Number(n.offsets.host[S]-ln)}else Ze=Number(n.offsets.host[N])+Number(n.offsets.host[S]/2-ee/2);let yt=Ze-(null!==(c=f[N])&&void 0!==c?c:0)-Oe-We;return yt=Math.max(Math.min(f[S]-(ee+5),yt),0),n.offsets.arrow={[N]:Math.round(yt),[B]:""},n.instance.arrow=_,n}function U0(n){if(n.offsets.target=Hh(n.offsets.target),!S_(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),T_(n.instance.target,n.offsets.host,n.placement)),n;const e=E_(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=zC("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),_=[t,f];return _.forEach((D,S)=>{var A,N,B,$,ee,_e,Ve,Oe,We,Ze,yt,ut,ln,Pn,On,en;if(t!==D||_.length===S+1)return;t=n.placement.split(" ")[0];const Fn="left"===t&&Math.floor(null!==(A=n.offsets.target.right)&&void 0!==A?A:0)>Math.floor(null!==(N=n.offsets.host.left)&&void 0!==N?N:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==($=n.offsets.host.right)&&void 0!==$?$:0)||"top"===t&&Math.floor(null!==(ee=n.offsets.target.bottom)&&void 0!==ee?ee:0)>Math.floor(null!==(_e=n.offsets.host.top)&&void 0!==_e?_e:0)||"bottom"===t&&Math.floor(null!==(Ve=n.offsets.target.top)&&void 0!==Ve?Ve:0)<Math.floor(null!==(Oe=n.offsets.host.bottom)&&void 0!==Oe?Oe:0),ao=Math.floor(null!==(We=n.offsets.target.left)&&void 0!==We?We:0)<Math.floor(null!==(Ze=e.left)&&void 0!==Ze?Ze:0),uc=Math.floor(null!==(yt=n.offsets.target.right)&&void 0!==yt?yt:0)>Math.floor(null!==(ut=e.right)&&void 0!==ut?ut:0),bD=Math.floor(null!==(ln=n.offsets.target.top)&&void 0!==ln?ln:0)<Math.floor(null!==(Pn=e.top)&&void 0!==Pn?Pn:0),wD=Math.floor(null!==(On=n.offsets.target.bottom)&&void 0!==On?On:0)>Math.floor(null!==(en=e.bottom)&&void 0!==en?en:0),it="left"===t&&ao||"right"===t&&uc||"top"===t&&bD||"bottom"===t&&wD,mt=-1!==["top","bottom"].indexOf(t),Ot=mt&&"left"===r&&ao||mt&&"right"===r&&uc||!mt&&"left"===r&&bD||!mt&&"right"===r&&wD;(Fn||it||Ot)&&((Fn||it)&&(t=_[S+1]),Ot&&(r=function uI(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),T_(n.instance.target,n.offsets.host,n.placement)))}),n}function dI(n){var e;if(!S_(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:l,[t]:c}=r;r.top="",r.left="",r[t]="";const f=E_(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=l,r[t]=c;const D={primary(S){var A,N,B,$;let ee=n.offsets.target[S];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)<(null!==(N=f[S])&&void 0!==N?N:0)&&(ee=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==($=f[S])&&void 0!==$?$:0)),{[S]:ee}},secondary(S){var A,N,B,$;const ee="right"===S,_e=ee?"left":"top";let Oe=n.offsets.target[_e];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)>(null!==(N=f[S])&&void 0!==N?N:0)&&(Oe=Math.min(null!==(B=n.offsets.target[_e])&&void 0!==B?B:0,(null!==($=f[S])&&void 0!==$?$:0)-n.offsets.target[ee?"width":"height"])),{[_e]:Oe}}};return["left","right","top","bottom"].forEach(S=>{const A=-1!==["left","top","start"].indexOf(S)?D.primary:D.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),A(S))}),n}function I_(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:l,target:c}=n.offsets,f=-1!==["bottom","top"].indexOf(r),_=f?"left":"top",D=f?"width":"height",S={start:{[_]:l[_]},end:{[_]:(null!==(e=l[_])&&void 0!==e?e:0)+l[D]-c[D]}};n.offsets.target=Object.assign(Object.assign({},c),{[_]:_===i?S.start[_]:S.end[_]})}return n}const j0=new class M_{position(e,t){return this.offset(e,t)}offset(e,t){return B0(t,e)}positionElements(e,t,r,i,l){const c=[U0,I_,dI,JC],_=function H0(n,e,t,r){if(!n||!e)return;const i=B0(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const l=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const f=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(c=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=zC(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:T_(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:l}}(t,e,b_[r],l);if(_)return c.reduce((D,S)=>S(D),_)}};function OO(n,e,t,r,i,l){const c=j0.positionElements(n,e,t,r,i);if(!c)return;const f=function aI(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);Yh(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},l),c.instance.arrow&&Yh(c.instance.arrow,c.offsets.arrow,l),function xO(n,e){const t=n.instance.target;let r=t.className;const i=kh().isBs5?Bh[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function cI(n){return kh().isBs5?jh(n,"end")?"ms-2":jh(n,"start")?"me-2":jh(n,"top")?"mb-2":jh(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,l)}let Fl=(()=>{class n{constructor(t,r,i){this.update$$=new Vn.x,this.positionElements=new Map,this.isDisabled=!1,Gr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,O0.T)(Fp(window,"scroll",{passive:!0}),Fp(window,"resize",{passive:!0}),pt(0,tI),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(l=>{OO(od(l.target),od(l.element),l.attachment,l.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(od(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(od(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(a.FYo),a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function od(n){return"string"==typeof n?document.querySelector(n):n instanceof a.SBq?n.nativeElement:null!=n?n:null}class $h{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class QC{constructor(e,t,r,i,l,c,f,_){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=l,this._ngZone=c,this._applicationRef=f,this._posService=_,this.onBeforeShow=new a.vpe,this.onShown=new a.vpe,this.onBeforeHide=new a.vpe,this.onHidden=new a.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=a.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof a.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,l,c,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const _=this._componentRef.location.nativeElement;return null===(t=_.parentNode)||void 0===t||t.removeChild(_),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(l=this._contentRef)||void 0===l?void 0:l.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function US(n,e){const t=RC(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],l=[],c=()=>{l.forEach(f=>i.push(f())),l.length=0};return t.forEach(f=>{const _=f.open===f.close,D=_?e.toggle:e.show;if(!_&&f.close&&e.hide){const S=n.listen(r,f.close,e.hide);l.push(()=>S)}D&&i.push(n.listen(r,f.open,()=>D(c)))}),()=>{i.forEach(f=>f())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function HS(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function SO(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new $h([]);if(e instanceof a.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new $h([c.rootNodes],c)}const l=e.createEmbeddedView({});return this._applicationRef.attachView(l),new $h([l.rootNodes],l)}if("function"==typeof e){const l=this._componentFactoryResolver.resolveComponentFactory(e),c=a.zs3.create({providers:this._providers,parent:this._injector}),f=l.create(c);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new $h([[f.location.nativeElement]],f.hostView,f)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new $h([i])}}let Yo=(()=>{class n{constructor(t,r,i,l,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=l,this._applicationRef=c}createLoader(t,r,i){return new QC(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a._Vd),a.LFG(a.R0b),a.LFG(a.zs3),a.LFG(Fl),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XC=["*"];let A_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),$0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const k_={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},tE=new a.OlP("override-default-config");let rE=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Pl()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Pl()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($0),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275cmp=a.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&a.NdJ("mousedown",function(l){return r.onClickStarted(l)})("click",function(l){return r.onClickStop(l)})("popstate",function(){return r.onPopState()},!1,a.Jf7)("keydown.esc",function(l){return r.onEsc(l)},!1,a.Jf7),2&t&&a.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:XC,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1),a.Hsn(2),a.qZA()()),2&t&&a.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[BC],encapsulation:2}),n})(),iE=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Pl()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class KS{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=ur),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function WS(){const n=kh(),e=Object.keys(n).find(t=>n[t]);return g_[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),aE=1,x_=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new a.vpe,this.onShown=new a.vpe,this.onHide=new a.vpe,this.onHidden=new a.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},k_,i):k_}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||aE++;return this.config=this.modalDefaultOption?Object.assign({},k_,this.modalDefaultOption,r):Object.assign({},k_,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(iE).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const f of this.config.providers)i.provide(f);const l=new A_,c=i.provide({provide:$0,useValue:this.config}).provide({provide:A_,useValue:l}).attach(rE).to("body");return l.hide=()=>{var f;return null===(f=c.instance)||void 0===f?void 0:f.hide()},l.setClass=f=>{c.instance&&(c.instance.config.class=f)},l.onHidden=new a.vpe,l.onHide=new a.vpe,this.copyEvent(i.onBeforeHide,l.onHide),this.copyEvent(i.onHidden,l.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),l.content=i.getInnerComponent(),l.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),l}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(l=>{var c;return(null===(c=l.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var l;return(null===(l=i.instance)||void 0===l?void 0:l.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,l)=>{i.instance&&(i.instance.level=l+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(Yo),a.LFG(tE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();x0.forRoot();let lE=(()=>{class n{static forRoot(){return{ngModule:n,providers:[x_,Yo,Fl]}}static forChild(){return{ngModule:n,providers:[x_,Yo,Fl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[x0]]}),n})();function uE(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const l=a.CHM(t).ngIf;return a.oxw().onConfirmDeleteTaskButtonClicked(l.eventId)}),a._uU(1," Yes, I am sure "),a.qZA()}}let cE=(()=>{class n{constructor(t,r,i){this._contextDtoStoragePort=t,this._removesEventDto=r,this.modalRef=i,this.event$=this._contextDtoStoragePort.asObservable()}onCancelButtonClicked(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}onConfirmDeleteTaskButtonClicked(t){var r;this._removesEventDto.remove(t),null===(r=this.modalRef)||void 0===r||r.hide()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ui),a.Y36(M0),a.Y36(A_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-confirm-delete-event-modal"]],decls:9,vars:3,consts:[[1,"bg-white","d-flex","justify-content-center","align-items-center","flex-column","py-4","mt-5"],[1,"my-5"],[1,"my-3","w-50"],["type","button","class","btn btn-danger w-100",3,"click",4,"ngIf"],[1,"mb-5","w-50"],["type","button",1,"btn","bg-gray-400","w-100",3,"click"],["type","button",1,"btn","btn-danger","w-100",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._uU(2,"Are you sure you want to delete your event?"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,uE,2,0,"button",3),a.ALo(5,"async"),a.qZA(),a.TgZ(6,"div",4)(7,"button",5),a.NdJ("click",function(){return r.onCancelButtonClicked()}),a._uU(8," Cancel "),a.qZA()()()),2&t&&(a.xp6(4),a.Q6J("ngIf",a.lcZ(5,1,r.event$)))},directives:[nn],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();function dE(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr",5)(1,"td",6),a.O4$(),a.TgZ(2,"svg",7),a._UZ(3,"path",8)(4,"path",9)(5,"path",10),a.qZA(),a.kcU(),a.TgZ(6,"p",11),a._uU(7),a.qZA()(),a.TgZ(8,"td")(9,"a",12),a._uU(10,"Go to Event"),a.qZA()(),a.TgZ(11,"td")(12,"p",11),a._uU(13),a.ALo(14,"date"),a.ALo(15,"date"),a.qZA()(),a.TgZ(16,"td")(17,"button",13)(18,"a",14),a._uU(19,"Edit"),a.qZA()()(),a.TgZ(20,"td")(21,"button",15),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).onDeleteButtonClicked(l.id)}),a.O4$(),a.TgZ(22,"svg",16),a._UZ(23,"path",17)(24,"path",18),a.qZA()()()()}if(2&n){const t=e.$implicit,r=a.oxw(2);a.xp6(7),a.Oqu(t.title),a.xp6(2),a.Q6J("routerLink","/event/"+t.id),a.xp6(4),a.AsE(" ",a.xi3(14,5,r.formatDate(t.date[0]),"dd.MM.YYYY")," - ",a.xi3(15,8,r.formatDate(t.date[1]),"dd.MM.YYYY")," "),a.xp6(5),a.Q6J("routerLink","/event/"+t.id+"/edit-event")}}function LO(n,e){if(1&n&&(a.TgZ(0,"table",2)(1,"thead",3)(2,"tr")(3,"th"),a._uU(4,"Event Title"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Link"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Date"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Manage"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Delete"),a.qZA()()(),a.TgZ(13,"tbody"),a.YNc(14,dE,25,11,"tr",4),a.ALo(15,"async"),a.qZA()()),2&n){const t=a.oxw();a.xp6(14),a.Q6J("ngForOf",a.lcZ(15,1,t.events$))}}let pI=(()=>{class n{constructor(t,r,i,l,c){this._getsAllEventDto=t,this._removesEventDto=r,this._searchDtoStorage=i,this._contextDtoStoragePort=l,this.modalService=c,this.events$=this._searchDtoStorage.asObservable().pipe(hn(f=>this._getsAllEventDto.getAll(f&&f.title&&f.title.length?{title:f.title}:{})))}onDeleteButtonClicked(t){this._contextDtoStoragePort.next({eventId:t}),this.modalRef=this.modalService.show(cE)}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Zg),a.Y36(M0),a.Y36(m_),a.Y36(Ui),a.Y36(x_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-events-list"]],decls:3,vars:3,consts:[[1,"container-fluid","bg-white","mx-auto","py-4","px-5","mt-5"],["class","table table-borderless text-center",4,"ngIf"],[1,"table","table-borderless","text-center"],[1,"bg-gray-400"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar2-minus","me-2"],["d","M5.5 10.5A.5.5 0 0 1 6 10h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"],["d","M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"],[1,"m-0","text-dark"],[1,"text-decoration-none",3,"routerLink"],["type","button",1,"btn","bg-gray-400","border-0"],[1,"text-decoration-none","text-dark",3,"routerLink"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-dark","g-col-2"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,LO,16,3,"table",1),a.ALo(2,"async"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,r.events$)))},directives:[nn,dn,Bi],pipes:[Jn,Ud],encapsulation:2,changeDetection:0}),n})();function mI(n,e){1&n&&(a.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p",6),a._uU(4,"Events"),a.qZA(),a.TgZ(5,"p",7),a._uU(6,"Users"),a.qZA()(),a.TgZ(7,"div",8)(8,"a",9)(9,"button",10),a._uU(10," Create new event "),a.qZA()()()(),a._UZ(11,"lib-search-event")(12,"lib-events-list"),a.qZA())}function hE(n,e){1&n&&(a.TgZ(0,"div",11)(1,"h1"),a._uU(2,"Start building your dashboard"),a.qZA(),a.TgZ(3,"p"),a._uU(4,"Create your first event"),a.qZA(),a.TgZ(5,"a",12),a._uU(6,"Create event"),a.qZA()())}let gI=(()=>{class n{constructor(t){this._getsAllEventDto=t,this.hasEvents$=this._getsAllEventDto.getAll().pipe((0,Mt.U)(r=>r.length>0))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home-page"]],decls:5,vars:4,consts:[[1,"h-100"],["class","container-fluid w-75 mx-auto",4,"ngIf","ngIfElse"],["template",""],[1,"container-fluid","w-75","mx-auto"],[1,"container","d-flex","align-items-center","justify-content-between","border-bottom","mx-auto","pt-3"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fs-3","fw-bold","me-5"],[1,"fs-3","fw-bold"],[1,"py-3"],["routerLink","/event-form"],["type","button",1,"btn","btn-success"],[1,"container-fluid","w-75","mx-auto","d-flex","justify-content-center","align-items-center","flex-column","my-auto","h-75"],["routerLink","/event-form","role","button",1,"btn","bg-success","text-white"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0),a.YNc(1,mI,13,0,"div",1),a.ALo(2,"async"),a.qZA(),a.YNc(3,hE,7,0,"ng-template",null,2,a.W1O)),2&t){const i=a.MAs(4);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,r.hasEvents$))("ngIfElse",i)}},directives:[nn,Bi,FS,pI],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),Jr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn,za,lE.forRoot()]]}),n})();var oi=L(6351);function Z0(){return(0,Pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,$n.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function O_(n,e=Li.y){return n=null!=n?n:fE,(0,Pr.e)((t,r)=>{let i,l=!0;t.subscribe((0,$n.x)(r,c=>{const f=e(c);(l||!n(i,f))&&(l=!1,i=f,r.next(c))}))})}function fE(n,e){return n===e}var et,Da=L(2011),pE=(L(4087),L(3942)),ye=L(5861),ad=L(9681),L_=L(4859),Vl=L(1877),Qt=L(2090),mE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nu={},Hp=Hp||{},vt=mE||self;function R_(){}function N_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Es(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qs="closure_uid_"+(1e9*Math.random()>>>0),gE=0;function _E(n,e,t){return n.call.apply(n.bind,arguments)}function yI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Di(n,e,t){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_E:yI).apply(null,arguments)}function P_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ci(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Qa(){this.s=this.s,this.o=this.o}var vI={};Qa.prototype.s=!1,Qa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ca(n){return Object.prototype.hasOwnProperty.call(n,Qs)&&n[Qs]||(n[Qs]=++gE)}(this);delete vI[n]}},Qa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const q0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},yE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function W0(n){return Array.prototype.concat.apply([],arguments)}function Gh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function F_(n){return/^[\s\xa0]*$/.test(n)}var ai,z0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ji(n,e){return-1!=n.indexOf(e)}function Yp(n,e){return n<e?-1:n>e?1:0}e:{var V_=vt.navigator;if(V_){var K0=V_.userAgent;if(K0){ai=K0;break e}}ai=""}function B_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function J0(n){const e={};for(const t in n)e[t]=n[t];return e}var Q0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X0(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Q0.length;l++)t=Q0[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function U_(n){return U_[" "](n),n}U_[" "]=R_;var H_,n,bI=ji(ai,"Opera"),Zh=ji(ai,"Trident")||ji(ai,"MSIE"),wE=ji(ai,"Edge"),eb=wE||Zh,DE=ji(ai,"Gecko")&&!(ji(ai.toLowerCase(),"webkit")&&!ji(ai,"Edge"))&&!(ji(ai,"Trident")||ji(ai,"MSIE"))&&!ji(ai,"Edge"),wI=ji(ai.toLowerCase(),"webkit")&&!ji(ai,"Edge");function CE(){var n=vt.document;return n?n.documentMode:void 0}e:{var tb="",nb=(n=ai,DE?/rv:([^\);]+)(\)|;)/.exec(n):wE?/Edge\/([\d\.]+)/.exec(n):Zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wI?/WebKit\/(\S+)/.exec(n):bI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nb&&(tb=nb?nb[1]:""),Zh){var rb=CE();if(null!=rb&&rb>parseFloat(tb)){H_=String(rb);break e}}H_=tb}var DI={};var EI=vt.document&&Zh&&(CE()||parseInt(H_,10))||void 0,TI=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",R_,e),vt.removeEventListener("test",R_,e)}catch(t){}return n}();function Yi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function qh(n,e){if(Yi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(DE){e:{try{U_(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qh.Z.h.call(this)}}Yi.prototype.h=function(){this.defaultPrevented=!0},Ci(qh,Yi);var TE={2:"touch",3:"pen",4:"mouse"};qh.prototype.h=function(){qh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wh="closure_listenable_"+(1e6*Math.random()|0),SE=0;function IE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++SE,this.ca=this.fa=!1}function $p(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Gp(n){this.src=n,this.g={},this.h=0}function j_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=q0(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&($p(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Y_(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Gp.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=Y_(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new IE(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var $_="closure_lm_"+(1e6*Math.random()|0),G_={};function Pu(n,e,t,r,i){if(r&&r.once)return ld(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Pu(n,e[l],t,r,i);return null}return t=bt(t),n&&n[Wh]?n.N(e,t,Es(r)?!!r.capture:!!r,i):ME(n,e,t,!1,r,i)}function ME(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=Es(i)?!!i.capture:!!i,f=Z_(n);if(f||(n[$_]=f=new Gp(n)),(t=f.add(e,t,r,c,l)).proxy)return t;if(r=function SI(){var e=AE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)TI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(MI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ld(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ld(n,e[l],t,r,i);return null}return t=bt(t),n&&n[Wh]?n.O(e,t,Es(r)?!!r.capture:!!r,i):ME(n,e,t,!0,r,i)}function II(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)II(n,e[l],t,r,i);else r=Es(r)?!!r.capture:!!r,t=bt(t),n&&n[Wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Y_(l=n.g[e],t,r,i))&&($p(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Z_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Y_(e,t,r,i)),(t=-1<n?e[n]:null)&&Zp(t))}function Zp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wh])j_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(MI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Z_(e))?(j_(t,n),0==t.h&&(t.src=null,e[$_]=null)):$p(n)}}}function MI(n){return n in G_?G_[n]:G_[n]="on"+n}function AE(n,e){if(n.ca)n=!0;else{e=new qh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Zp(n),n=t.call(r,e)}return n}function Z_(n){return(n=n[$_])instanceof Gp?n:null}var kE="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(n){return"function"==typeof n?n:(n[kE]||(n[kE]=function(e){return n.handleEvent(e)}),n[kE])}function li(){Qa.call(this),this.i=new Gp(this),this.P=this,this.I=null}function Ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Yi(e,n);else if(e instanceof Yi)e.target=e.target||n;else{var i=e;X0(e=new Yi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=q_(c,r,!0,e)&&i}if(i=q_(c=e.g=n,r,!0,e)&&i,i=q_(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=q_(c=e.g=t[l],r,!1,e)&&i}function q_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&j_(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ci(li,Qa),li.prototype[Wh]=!0,li.prototype.removeEventListener=function(n,e,t,r){II(this,n,e,t,r)},li.prototype.M=function(){if(li.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$p(t[r]);delete n.g[e],n.h--}}this.I=null},li.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},li.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zh=vt.JSON.stringify;function AI(){var n=ob;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sb,qp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yr,n=>n.reset());class yr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function RO(n){vt.setTimeout(()=>{throw n},0)}function z_(n,e){sb||function kI(){var n=vt.Promise.resolve(void 0);sb=function(){n.then(xE)}}(),K_||(sb(),K_=!0),ob.add(n,e)}var K_=!1,ob=new class W_{constructor(){this.h=this.g=null}add(e,t){const r=qp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function xE(){for(var n;n=AI();){try{n.h.call(n.g)}catch(t){RO(t)}var e=qp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}K_=!1}function Wp(n,e){li.call(this),this.h=n||1,this.g=e||vt,this.j=Di(this.kb,this),this.l=Date.now()}function ab(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function lb(n,e,t){if("function"==typeof n)t&&(n=Di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Di(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function OE(n){n.g=lb(()=>{n.g=null,n.i&&(n.i=!1,OE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ci(Wp,li),(et=Wp.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ei(this,"tick"),this.da&&(ab(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){Wp.Z.M.call(this),ab(this),delete this.g};class zp extends Qa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OE(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kp(n){Qa.call(this),this.h=n,this.g={}}Ci(Kp,Qa);var LE=[];function RE(n,e,t,r){Array.isArray(t)||(t&&(LE[0]=t.toString()),t=LE);for(var i=0;i<t.length;i++){var l=Pu(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Jp(n){B_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Zp(e)},n),n.g={}}function Qp(){this.g=!0}function Kh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function em(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return zh(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Kp.prototype.M=function(){Kp.Z.M.call(this),Jp(this)},Kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qp.prototype.Aa=function(){this.g=!1},Qp.prototype.info=function(){};var ud={},FE=null;function J_(){return FE=FE||new li}function ub(n){Yi.call(this,ud.Ma,n)}function Jh(n){const e=J_();Ei(e,new ub(e,n))}function cb(n,e){Yi.call(this,ud.STAT_EVENT,n),this.stat=e}function us(n){const e=J_();Ei(e,new cb(e,n))}function db(n,e){Yi.call(this,ud.Na,n),this.size=e}function tm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}ud.Ma="serverreachability",Ci(ub,Yi),ud.STAT_EVENT="statevent",Ci(cb,Yi),ud.Na="timingevent",Ci(db,Yi);var Q_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function VE(){}function LI(){}VE.prototype.h=null;var fb,Qh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xh(){Yi.call(this,"d")}function hb(){Yi.call(this,"c")}function nm(){}function Bl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Kp(this),this.P=RI,this.W=new Wp(n=eb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new BE}function BE(){this.i=null,this.g="",this.h=!1}Ci(Xh,Yi),Ci(hb,Yi),Ci(nm,VE),nm.prototype.g=function(){return new XMLHttpRequest},nm.prototype.i=function(){return{}},fb=new nm;var RI=45e3,pb={},X_={};function mb(n,e,t){n.K=1,n.v=sy(Ea(e)),n.s=t,n.U=!0,gb(n,null)}function gb(n,e){n.F=Date.now(),rm(n),n.A=Ea(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),vb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new BE,n.g=of(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zp(Di(n.Ia,n,n.g),n.O)),RE(n.V,n.g,"readystatechange",n.gb),e=n.H?J0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jh(1),function NE(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",f=l.split("&"),_=0;_<f.length;_++){var D=f[_].split("=");if(1<D.length){var S=D[0];D=D[1];var A=S.split("_");c=2<=A.length&&"type"==A[1]?c+(S+"=")+D+"&":c+(S+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function UE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function HE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ef(n,t),i==X_){4==e&&(n.o=4,us(14),r=!1),Kh(n.j,n.m,null,"[Incomplete Response]");break}if(i==pb){n.o=4,us(15),Kh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kh(n.j,n.m,i,null),ty(n,i)}UE(n)&&i!=X_&&i!=pb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,us(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pb(e),e.L=!0,us(11))):(Kh(n.j,n.m,t,"[Invalid Chunked Response]"),cd(n),tf(n))}function ef(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?X_:(t=Number(e.substring(t,r)),isNaN(t)?pb:(r+=1)+t>e.length?X_:(e=e.substr(r,t),n.C=r+t,e))}function rm(n){n.Y=Date.now()+n.P,_b(n,n.P)}function _b(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tm(Di(n.eb,n),e)}function ey(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function tf(n){0==n.l.G||n.I||JE(n.l,n)}function cd(n){ey(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ab(n.W),Jp(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ty(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||uy(t.i,n)))if(t.I=n.N,!n.J&&uy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=tm(Di(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_y(t),xb(t)}gy(t),us(18)}if(1>=ZE(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else hd(t,11)}else if((n.J||t.g==n)&&_y(t),!F_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const A=D[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const N=D[5];null!=N&&"number"==typeof N&&0<N&&(t.K=r=1.5*N,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var l=r.i;!l.g&&(ji($,"spdy")||ji($,"quic")||ji($,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(wb(l,l.h),l.h=null))}if(r.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,rr(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=eT(r,r.H?r.la:null,r.W),c.J){Db(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(ey(f),rm(f)),r.g=c}else Nb(r);0<t.l.length&&Rb(t)}else"stop"!=D[0]&&"close"!=D[0]||hd(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?hd(t,7):Hu(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}Jh(4)}catch(D){}}function im(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(N_(n)||"string"==typeof n)yE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(N_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function NI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(N_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function nf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof nf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ny(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Fu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Fu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Fu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=Bl.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Ul(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const S=Ul(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>S)&&(3!=S||eb||this.g&&(this.h.h||this.g.ga()||zI(this.g)))){this.I||4!=S||7==e||Jh(8==e||0>=A?3:2),ey(this);var t=this.g.ba();this.N=t;t:if(UE(this)){var r=zI(this.g);n="";var i=r.length,l=4==Ul(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cd(this),tf(this);var c="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function PE(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F_(f)){var D=f;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,us(12),cd(this),tf(this);break e}Kh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ty(this,t)}this.U?(HE(this,S,c),eb&&this.i&&3==S&&(RE(this.V,this.W,"tick",this.fb),this.W.start())):(Kh(this.j,this.m,c,null),ty(this,c)),4==S&&cd(this),this.i&&!this.I&&(4==S?JE(this.l,this):(this.i=!1,rm(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,us(12)):(this.o=0,us(13)),cd(this),tf(this)}}}catch(S){}},et.fb=function(){if(this.g){var n=Ul(this.g),e=this.g.ga();this.C<e.length&&(ey(this),HE(this,n,e),this.i&&4!=n&&rm(this))}},et.cancel=function(){this.I=!0,cd(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Xp(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jh(3),us(17)),cd(this),this.o=2,tf(this)):_b(this,this.Y-n)},(et=nf.prototype).R=function(){ny(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return ny(this),this.g.concat()},et.get=function(n,e){return Fu(this.h,n)?this.h[n]:e},et.set=function(n,e){Fu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var jE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof dd){this.g=void 0!==e?e:n.g,ry(this,n.j),this.s=n.s,sm(this,n.i),iy(this,n.m),this.l=n.l,e=n.h;var t=new lm;t.i=e.i,e.g&&(t.g=new nf(e.g),t.h=e.h),YE(this,t),this.o=n.o}else n&&(t=String(n).match(jE))?(this.g=!!e,ry(this,t[1]||"",!0),this.s=om(t[2]||""),sm(this,t[3]||"",!0),iy(this,t[4]),this.l=om(t[5]||"",!0),YE(this,t[6]||"",!0),this.o=om(t[7]||"")):(this.g=!!e,this.h=new lm(null,this.g))}function Ea(n){return new dd(n)}function ry(n,e,t){n.j=t?om(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sm(n,e,t){n.i=t?om(e,!0):e}function iy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YE(n,e,t){e instanceof lm?(n.h=e,function jI(n,e){e&&!n.j&&(Vu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(oy(this,r),vb(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=am(e,GE)),n.h=new lm(e,n.g))}function rr(n,e,t){n.h.set(e,t)}function sy(n){return rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function om(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function am(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$E),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $E(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(am(e,yb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(am(e,yb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(am(t,"/"==t.charAt(0)?UI:BI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",am(t,HI)),n.join("")};var yb=/[#\/\?@]/g,BI=/[#\?:]/g,UI=/[#\?]/g,GE=/[#\?@]/g,HI=/#/g;function lm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vu(n){n.g||(n.g=new nf,n.h=0,n.i&&function PI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function oy(n,e){Vu(n),e=Bu(n,e),Fu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Fu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ny(n)))}function ay(n,e){return Vu(n),e=Bu(n,e),Fu(n.g.h,e)}function vb(n,e,t){oy(n,e),0<t.length&&(n.i=null,n.g.set(Bu(n,e),Gh(t)),n.h+=t.length)}function Bu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ly(n){this.l=n||$I,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=lm.prototype).add=function(n,e){Vu(this),this.i=null,n=Bu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){Vu(this),this.g.forEach(function(t,r){yE(t,function(i){n.call(e,i,r,this)},this)},this)},et.T=function(){Vu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},et.R=function(n){Vu(this);var e=[];if("string"==typeof n)ay(this,n)&&(e=W0(e,this.g.get(Bu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=W0(e,n[t])}return e},et.set=function(n,e){return Vu(this),this.i=null,ay(this,n=Bu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=i;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var $I=10;function bb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZE(n){return n.h?1:n.g?n.g.size:0}function uy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wb(n,e){n.g?n.g.add(e):n.h=e}function Db(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function GI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Gh(n.i)}function Cb(){}function cy(){this.g=new Cb}function ZI(n,e,t){const r=t||"";try{im(n,function(i,l){let c=i;Es(i)&&(c=zh(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uu(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function um(n){this.l=n.$b||null,this.j=n.ib||!1}function Eb(n,e){li.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ly.prototype.cancel=function(){if(this.i=GI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Cb.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},Cb.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Ci(um,VE),um.prototype.g=function(){return new Eb(this.l,this.j)},um.prototype.i=function(n){return function(){return n}}({}),Ci(Eb,li);var dy=0;function qE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function cm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dm(n)}function dm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Eb.prototype).open=function(n,e){if(this.readyState!=dy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dm(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cm(this)),this.readyState=dy},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dm(this)),this.g&&(this.readyState=3,dm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cm(this):dm(this),3==this.readyState&&qE(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,cm(this))},et.Ta=function(n){this.g&&(this.response=n,cm(this))},et.ha=function(){this.g&&cm(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Eb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qI=vt.JSON.parse;function Ir(n){li.call(this),this.headers=new nf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tb,this.K=this.L=!1}Ci(Ir,li);var Tb="",Sb=/^https?$/i,hy=["POST","PUT"];function WI(n){return"content-type"==n.toLowerCase()}function Ib(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Mb(n),fy(n)}function Mb(n){n.D||(n.D=!0,Ei(n,"complete"),Ei(n,"error"))}function WE(n){if(n.h&&void 0!==Hp&&(!n.C[1]||4!=Ul(n)||2!=n.ba()))if(n.v&&4==Ul(n))lb(n.Fa,0,n);else if(Ei(n,"readystatechange"),4==Ul(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(jE)[1]||null;if(!i&&vt.self&&vt.self.location){var l=vt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Sb.test(i?i.toLowerCase():"")}t=r}if(t)Ei(n,"complete"),Ei(n,"success");else{n.m=6;try{var c=2<Ul(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.ba()+"]",Mb(n)}}finally{fy(n)}}}function fy(n,e){if(n.g){py(n);const t=n.g,r=n.C[0]?R_:null;n.g=null,n.C=null,e||Ei(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function py(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function Ul(n){return n.g?n.g.readyState:0}function zI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Tb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ab(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function KI(n){let e="";return B_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rr(n,e,t))}function Xa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kb(n){this.za=0,this.l=[],this.h=new Qp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xa("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xa("baseRetryDelayMs",5e3,n),this.$a=Xa("retryDelaySeedMs",1e4,n),this.Ya=Xa("forwardChannelMaxRetries",2,n),this.ra=Xa("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ly(n&&n.concurrentRequestLimit),this.Ca=new cy,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Hu(n){if(Ob(n),3==n.G){var e=n.V++,t=Ea(n.F);rr(t,"SID",n.J),rr(t,"RID",e),rr(t,"TYPE","terminate"),sf(n,t),(e=new Bl(n,n.h,e,void 0)).K=2,e.v=sy(Ea(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=of(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rm(e)}XE(n)}function xb(n){n.g&&(Pb(n),n.g.cancel(),n.g=null)}function Ob(n){xb(n),n.u&&(vt.clearTimeout(n.u),n.u=null),_y(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function Lb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Rb(n)}function Rb(n){bb(n.i)||n.m||(n.m=!0,z_(n.Ha,n),n.C=0)}function JI(n,e){var t;t=e?e.m:n.V++;const r=Ea(n.F);rr(r,"SID",n.J),rr(r,"RID",t),rr(r,"AID",n.U),sf(n,r),n.o&&n.s&&Ab(r,n.o,n.s),t=new Bl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=my(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),wb(n.i,t),mb(t,r,e)}function sf(n,e){n.j&&im({},function(t,r){rr(e,r,t)})}function my(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Di(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let D=i[_].h;const S=i[_].g;if(D-=l,0>D)l=Math.max(0,i[_].h-100),f=!1;else try{ZI(S,c,"req"+D+"_")}catch(A){r&&r(S)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Nb(n){n.g||n.u||(n.Y=1,z_(n.Ga,n),n.A=0)}function gy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=tm(Di(n.Ga,n),QE(n,n.A)),n.A++,0))}function Pb(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function KE(n){n.g=new Bl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ea(n.oa);rr(e,"RID","rpc"),rr(e,"SID",n.J),rr(e,"CI",n.N?"0":"1"),rr(e,"AID",n.U),sf(n,e),rr(e,"TYPE","xmlhttp"),n.o&&n.s&&Ab(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=sy(Ea(e)),t.s=null,t.U=!0,gb(t,n)}function _y(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function JE(n,e){var t=null;if(n.g==e){_y(n),Pb(n),n.g=null;var r=2}else{if(!uy(n.i,e))return;t=e.D,Db(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ei(r=J_(),new db(r,t,e,i)),Rb(n)}else Nb(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function zE(n,e){return!(ZE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=tm(Di(n.Ha,n,e),QE(n,n.C)),n.C++,0)))}(n,e)||2==r&&gy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:hd(n,5);break;case 4:hd(n,10);break;case 3:hd(n,6);break;default:hd(n,2)}}function QE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function hd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Di(n.jb,n);t||(t=new dd("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||ry(t,"https"),sy(t)),function rf(n,e){const t=new Qp;if(vt.Image){const r=new Image;r.onload=P_(Uu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=P_(Uu,t,r,"TestLoadImage: error",!1,e),r.onabort=P_(Uu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=P_(Uu,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else us(2);n.G=0,n.j&&n.j.va(e),XE(n),Ob(n)}function XE(n){n.G=0,n.I=-1,n.j&&((0!=GI(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Gh(n.l),n.l.length=0),n.j.ua())}function eT(n,e,t){let r=function FI(n){return n instanceof dd?Ea(n):new dd(n,void 0)}(t);if(""!=r.i)e&&sm(r,e+"."+r.i),iy(r,r.m);else{const i=vt.location;r=function VI(n,e,t,r){var i=new dd(null,void 0);return n&&ry(i,n),e&&sm(i,e),t&&iy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&B_(n.aa,function(i,l){rr(r,l,i)}),t=n.sa,(e=n.D)&&t&&rr(r,e,t),rr(r,"VER",n.ma),sf(n,r),r}function of(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(t&&n.Ba&&!n.qa?new um({ib:!0}):n.qa)).L=n.H,e}function Fb(){}function fm(){if(Zh&&!(10<=Number(EI)))throw Error("Environmental error: no available transport.")}function Ts(n,e){li.call(this),this.g=new kb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!F_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fd(this)}function Vb(n){Xh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Bb(){hb.call(this),this.status=1}function fd(n){this.g=n}(et=Ir.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fb.g(),this.C=function OI(n){return n.h||(n.h=n.i())}(this.u?this.u:fb),this.g.onreadystatechange=Di(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Ib(this,l)}n=t||"";const i=new nf(this.headers);r&&im(r,function(l,c){i.set(c,l)}),r=function vE(n){e:{var e=WI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=vt.FormData&&n instanceof vt.FormData,!(0<=q0(hy,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{py(this),0<this.B&&((this.K=function hm(n){return Zh&&function CI(){return function bE(n){var e=DI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=z0(String(H_)).split("."),t=z0("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Yp(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Yp(0==i[2].length,0==l[2].length)||Yp(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.pa,this)):this.A=lb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Ib(this,l)}},et.pa=function(){void 0!==Hp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ei(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ei(this,"complete"),Ei(this,"abort"),fy(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fy(this,!0)),Ir.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?WE(this):this.cb())},et.cb=function(){WE(this)},et.ba=function(){try{return 2<Ul(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qI(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=kb.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=J0(l),X0(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=my(this,i,e),rr(t=Ea(this.F),"RID",n),rr(t,"CVER",22),this.D&&rr(t,"X-HTTP-Session-Id",this.D),sf(this,t),this.o&&l&&Ab(t,this.o,l),wb(this.i,i),this.Ra&&rr(t,"TYPE","init"),this.ja?(rr(t,"$req",e),rr(t,"SID","null"),i.$=!0,mb(i,t,null)):mb(i,t,e),this.G=2}}else 3==this.G&&(n?JI(this,n):0==this.l.length||bb(this.i)||JI(this))},et.Ga=function(){if(this.u=null,KE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=tm(Di(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,us(10),xb(this),KE(this))},et.ab=function(){null!=this.v&&(this.v=null,xb(this),gy(this),us(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),us(2)):(this.h.info("Failed to ping google.com"),us(1))},(et=Fb.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},fm.prototype.g=function(n,e){return new Ts(n,e)},Ci(Ts,li),Ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),z_(Di(n.hb,n,e))),us(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=eT(n,null,n.W),Rb(n)},Ts.prototype.close=function(){Hu(this.g)},Ts.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Lb(this.g,e)}else this.v?((e={}).__data__=zh(n),Lb(this.g,e)):Lb(this.g,n)},Ts.prototype.M=function(){this.g.j=null,delete this.j,Hu(this.g),delete this.g,Ts.Z.M.call(this)},Ci(Vb,Xh),Ci(Bb,hb),Ci(fd,Fb),fd.prototype.xa=function(){Ei(this.g,"a")},fd.prototype.wa=function(n){Ei(this.g,new Vb(n))},fd.prototype.va=function(n){Ei(this.g,new Bb(n))},fd.prototype.ua=function(){Ei(this.g,"b")},fm.prototype.createWebChannel=fm.prototype.g,Ts.prototype.send=Ts.prototype.u,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,Q_.NO_ERROR=0,Q_.TIMEOUT=8,Q_.HTTP_ERROR=6,xI.COMPLETE="complete",LI.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",li.prototype.listen=li.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var QI=Nu.createWebChannelTransport=function(){return new fm},tT=Nu.getStatEventTarget=function(){return J_()},yy=Nu.ErrorCode=Q_,XI=Nu.EventType=xI,eM=Nu.Event=ud,nT=Nu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pm=Nu.FetchXmlHttpFactory=um,vy=Nu.WebChannel=LI,Ub=Nu.XhrIo=Ir;const Ta="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let ju="9.6.10";const $o=new Vl.Yd("@firebase/firestore");function Hb(){return $o.logLevel}function Pe(n,...e){if($o.logLevel<=Vl.in.DEBUG){const t=e.map(jb);$o.debug(`Firestore (${ju}): ${n}`,...t)}}function cr(n,...e){if($o.logLevel<=Vl.in.ERROR){const t=e.map(jb);$o.error(`Firestore (${ju}): ${n}`,...t)}}function Yu(n,...e){if($o.logLevel<=Vl.in.WARN){const t=e.map(jb);$o.warn(`Firestore (${ju}): ${n}`,...t)}}function jb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function Lt(n,e){n||rt()}function Ge(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class $b{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iT{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let c=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ui,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const D=c;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},_=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ui)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new nM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Ti(e)}}class Gb{constructor(e,t,r){this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Zb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Gb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rM{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.p=t.token,new sT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function oT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Xs.A=-1;class by{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oT(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function pd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function qb(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new vr(0,0))}static max(){return new kt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Wb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $u(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class af{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===af.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof af?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rn extends af{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rn(t)}static emptyPath(){return new rn([])}}const cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends af{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return cs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(l(),i++)}if(l(),c)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class lf{constructor(e){this.fields=e,e.sort(dr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ci(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const mm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=mm.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function md(n){return"string"==typeof n?ci.fromBase64String(n):ci.fromUint8Array(n)}function wy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lT(n){const e=n.mapValue.fields.__previous_value__;return wy(e)?lT(e):e}function gm(n){const e=Gu(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class zb{constructor(e,t,r,i,l,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}function Zu(n){return null==n}function qu(n){return 0===n&&1/n==-1/0}function Dy(n){return"number"==typeof n&&Number.isInteger(n)&&!qu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(rn.fromString(e))}static fromName(e){return new Ye(rn.fromString(e).popFirst(5))}static empty(){return new Ye(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new rn(e.slice()))}}const Kb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uT={nullValue:"NULL_VALUE"};function Wu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wy(n)?4:hT(n)?9:10:rt()}function eo(n,e){if(n===e)return!0;const t=Wu(n);if(t!==Wu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gm(n).isEqual(gm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Gu(r.timestampValue),c=Gu(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,md(n.bytesValue).isEqual(md(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ir(r.geoPointValue.latitude)===ir(i.geoPointValue.latitude)&&ir(r.geoPointValue.longitude)===ir(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ir(r.integerValue)===ir(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=ir(r.doubleValue),c=ir(i.doubleValue);return l===c?qu(l)===qu(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Wb(l)!==Wb(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===c[f]||!eo(l[f],c[f])))return!1;return!0}(n,e);default:return rt()}var i}function uf(n,e){return void 0!==(n.values||[]).find(t=>eo(t,e))}function zu(n,e){if(n===e)return 0;const t=Wu(n),r=Wu(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=ir(i.integerValue||i.doubleValue),f=ir(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Cy(n.timestampValue,e.timestampValue);case 4:return Cy(gm(n),gm(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,l){const c=md(i),f=md(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),f=l.split("/");for(let _=0;_<c.length&&_<f.length;_++){const D=Wt(c[_],f[_]);if(0!==D)return D}return Wt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Wt(ir(i.latitude),ir(l.latitude));return 0!==c?c:Wt(ir(i.longitude),ir(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],f=l.values||[];for(let _=0;_<c.length&&_<f.length;++_){const D=zu(c[_],f[_]);if(D)return D}return Wt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const c=i.fields||{},f=Object.keys(c),_=l.fields||{},D=Object.keys(_);f.sort(),D.sort();for(let S=0;S<f.length&&S<D.length;++S){const A=Wt(f[S],D[S]);if(0!==A)return A;const N=zu(c[f[S]],_[D[S]]);if(0!==N)return N}return Wt(f.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Cy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Gu(n),r=Gu(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function Ku(n){return cT(n)}function cT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Gu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?md(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=cT(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of i)c?c=!1:l+=",",l+=`${f}:${cT(r.fields[f])}`;return l+"}"}(n.mapValue):rt();var e}function cf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jb(n){return!!n&&"integerValue"in n}function df(n){return!!n&&"arrayValue"in n}function Qb(n){return!!n&&"nullValue"in n}function dT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _m(n){return!!n&&"mapValue"in n}function hf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $u(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fT(n,e){return void 0===n?e:void 0===e||zu(n,e)>0?n:e}function Xb(n,e){return void 0===n?e:void 0===e||zu(n,e)<0?n:e}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(t)}setAll(e){let t=dr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=hf(c):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());_m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$u(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new $i(hf(this.value))}}function ew(n){const e=[];return $u(n.fields,(t,r)=>{const i=new dr([t]);if(_m(r)){const l=ew(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new lf(e)}class Hn{constructor(e,t,r,i,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Hn(e,0,kt.min(),kt.min(),$i.empty(),0)}static newFoundDocument(e,t,r){return new Hn(e,1,t,kt.min(),r,0)}static newNoDocument(e,t){return new Hn(e,2,t,kt.min(),$i.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,kt.min(),$i.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ym{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Ey(n){return n.fields.find(e=>2===e.kind)}function ff(n){return n.fields.filter(e=>2!==e.kind)}ym.UNKNOWN_ID=-1;class Ty{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sy{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sy(0,Ju.min())}}function tw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new Ju(i,Ye.empty(),e)}function PO(n){return new Ju(n.readTime,n.key,-1)}class Ju{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ju(kt.min(),Ye.empty(),-1)}static max(){return new Ju(kt.max(),Ye.empty(),-1)}}function FO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}class VO{constructor(e,t=null,r=[],i=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=f,this.P=null}}function sM(n,e=null,t=[],r=[],i=null,l=null,c=null){return new VO(n,e,t,r,i,l,c)}function pf(n){const e=Ge(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ku(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ku(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ku(r)).join(",")),e.P=t}return e.P}function Iy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!aM(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!eo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vT(n.startAt,e.startAt)&&vT(n.endAt,e.endAt)}function gd(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nw(n,e){return n.filters.filter(t=>t instanceof di&&t.field.isEqual(e))}class di extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new rw(e,t,r):"array-contains"===t?new iw(e,r):"in"===t?new gT(e,r):"not-in"===t?new _T(e,r):"array-contains-any"===t?new yT(e,r):new di(e,t,r)}static V(e,t,r){return"in"===t?new pT(e,r):new mT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zu(t,this.value)):null!==t&&Wu(this.value)===Wu(t)&&this.v(zu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rw extends di{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class pT extends di{constructor(e,t){super(e,"in",t),this.keys=oM(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mT extends di{constructor(e,t){super(e,"not-in",t),this.keys=oM(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oM(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class iw extends di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return df(t)&&uf(t.arrayValue,this.value)}}class gT extends di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uf(this.value.arrayValue,t)}}class _T extends di{constructor(e,t){super(e,"not-in",t)}matches(e){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uf(this.value.arrayValue,t)}}class yT extends di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!df(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uf(this.value.arrayValue,r))}}class _d{constructor(e,t){this.position=e,this.inclusive=t}}class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function aM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function My(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),t.key):zu(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function vT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eo(n.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t=null,r=[],i=[],l=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function lM(n,e,t,r,i,l,c,f){return new Qu(n,e,t,r,i,l,c,f)}function vm(n){return new Qu(n)}function Ay(n){return!Zu(n.limit)&&"F"===n.limitType}function ky(n){return!Zu(n.limit)&&"L"===n.limitType}function sw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bT(n){for(const e of n.filters)if(e.S())return e.field;return null}function ow(n){return null!==n.collectionGroup}function Xu(n){const e=Ge(n);if(null===e.D){e.D=[];const t=bT(e),r=sw(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yd(t)),e.D.push(new yd(dr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yd(dr.keyField(),l))}}}return e.D}function Go(n){const e=Ge(n);if(!e.C)if("F"===e.limitType)e.C=sM(e.path,e.collectionGroup,Xu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xu(e))t.push(new yd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new _d(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new _d(e.startAt.position,!e.startAt.inclusive):null;e.C=sM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Zo(n,e,t){return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bm(n,e){return Iy(Go(n),Go(e))&&n.limitType===e.limitType}function xy(n){return`${pf(Go(n))}|lt:${n.limitType}`}function aw(n){return`Query(target=${function BO(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ku(r.value)}`;var r}).join(", ")}]`),Zu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ku(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ku(t)).join(",")),`Target(${e})`}(Go(n))}; limitType=${n.limitType})`}function lw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const f=My(i,l,c);return i.inclusive?f<=0:f<0}(t.startAt,Xu(t),r)||t.endAt&&!function(i,l,c){const f=My(i,l,c);return i.inclusive?f>=0:f>0}(t.endAt,Xu(t),r)));var t,r}function Oy(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uw(n){return(e,t)=>{let r=!1;for(const i of Xu(n)){const l=wT(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function wT(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,l,c){const f=l.data.field(i),_=c.data.field(i);return null!==f&&null!==_?zu(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function DT(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function cw(n){return{integerValue:""+n}}function dw(n,e){return Dy(e)?cw(e):DT(n,e)}class Ly{constructor(){this._=void 0}}function uM(n,e,t){return n instanceof mf?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof gf?CT(n,e):n instanceof ec?ET(n,e):function(r,i){const l=qo(r,i),c=fw(l)+fw(r.k);return Jb(l)&&Jb(r.k)?cw(c):DT(r.M,c)}(n,e)}function hw(n,e,t){return n instanceof gf?CT(n,e):n instanceof ec?ET(n,e):t}function qo(n,e){return n instanceof _f?Jb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mf extends Ly{}class gf extends Ly{constructor(e){super(),this.elements=e}}function CT(n,e){const t=TT(e);for(const r of n.elements)t.some(i=>eo(i,r))||t.push(r);return{arrayValue:{values:t}}}class ec extends Ly{constructor(e){super(),this.elements=e}}function ET(n,e){let t=TT(e);for(const r of n.elements)t=t.filter(i=>!eo(i,r));return{arrayValue:{values:t}}}class _f extends Ly{constructor(e,t){super(),this.M=e,this.k=t}}function fw(n){return ir(n.integerValue||n.doubleValue)}function TT(n){return df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ry{constructor(e,t){this.field=e,this.transform=t}}class IT{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ny(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wm{}function pw(n,e,t){n instanceof yf?function(r,i,l){const c=r.value.clone(),f=cM(r.fieldTransforms,i,l.transformResults);c.setAll(f),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof vd?function(r,i,l){if(!Ny(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=cM(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(kT(r)),f.setAll(c),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dm(n,e,t){var i;n instanceof yf?function(r,i,l){if(!Ny(r.precondition,i))return;const c=r.value.clone(),f=dM(r.fieldTransforms,l,i);c.setAll(f),i.convertToFoundDocument(mw(i),c).setHasLocalMutations()}(n,e,t):n instanceof vd?function(r,i,l){if(!Ny(r.precondition,i))return;const c=dM(r.fieldTransforms,l,i),f=i.data;f.setAll(kT(r)),f.setAll(c),i.convertToFoundDocument(mw(i),f).setHasLocalMutations()}(n,e,t):Ny(n.precondition,i=e)&&i.convertToNoDocument(kt.min())}function MT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=qo(r.transform,i||null);null!=l&&(null==t&&(t=$i.empty()),t.set(r.field,l))}return t||null}function AT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&pd(t,r,(i,l)=>function ST(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof gf&&r instanceof gf||t instanceof ec&&r instanceof ec?pd(t.elements,r.elements,eo):t instanceof _f&&r instanceof _f?eo(t.k,r.k):t instanceof mf&&r instanceof mf);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function mw(n){return n.isFoundDocument()?n.version:kt.min()}class yf extends wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class vd extends wm{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function kT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function cM(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,f=e.data.field(l.field);r.set(l.field,hw(c,f,t[i]))}return r}function dM(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,uM(l,c,e))}return r}class vf extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class gw extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class hM{constructor(e){this.count=e}}var Br,mn;function fM(n){switch(n){default:return rt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function pM(n){if(void 0===n)return cr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Br.OK:return de.OK;case Br.CANCELLED:return de.CANCELLED;case Br.UNKNOWN:return de.UNKNOWN;case Br.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Br.INTERNAL:return de.INTERNAL;case Br.UNAVAILABLE:return de.UNAVAILABLE;case Br.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Br.NOT_FOUND:return de.NOT_FOUND;case Br.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Br.ABORTED:return de.ABORTED;case Br.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Br.DATA_LOSS:return de.DATA_LOSS;default:return rt()}}(mn=Br||(Br={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class bd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$u(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}class Ur{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Py(this.root,e,this.comparator,!1)}getReverseIterator(){return new Py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Py(this.root,e,this.comparator,!0)}}class Py{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Hr.RED,this.left=null!=i?i:Hr.EMPTY,this.right=null!=l?l:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xT(this.data.getIterator())}getIteratorFrom(e){return new xT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class xT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wd(n){return n.hasNext()?n.getNext():void 0}const Dd=new Ur(Ye.comparator);function to(){return Dd}const _w=new Ur(Ye.comparator);function Cm(){return _w}function Em(){return new bd(n=>n.toString(),(n,e)=>n.isEqual(e))}const yw=new Ur(Ye.comparator),vw=new Wn(Ye.comparator);function gn(...n){let e=vw;for(const t of n)e=e.add(t);return e}const UO=new Wn(Wt);function bw(){return UO}class Fy{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Vy.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fy(kt.min(),r,bw(),to(),gn())}}class Vy{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Vy(ci.EMPTY_BYTE_STRING,t,gn(),gn(),gn())}}class Tm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class OT{constructor(e,t){this.targetId=e,this.$=t}}class LT{constructor(e,t,r=ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RT{constructor(){this.B=0,this.L=Dw(),this.U=ci.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=gn(),t=gn(),r=gn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Vy(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=Dw()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class mM{constructor(e){this.nt=e,this.st=new Map,this.it=to(),this.rt=ww(),this.ot=new Wn(Wt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(gd(l))if(0===r){const c=new Ye(l.path);this.ct(t,c,Hn.newNoDocument(c,kt.min()))}else Lt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,c)=>{const f=this.wt(c);if(f){if(l.current&&gd(f.target)){const _=new Ye(f.target.path);null!==this.it.get(_)||this.It(c,_)||this.ct(c,_,Hn.newNoDocument(_,e))}l.j&&(t.set(c,l.H()),l.J())}});let r=gn();this.rt.forEach((l,c)=>{let f=!0;c.forEachWhile(_=>{const D=this.wt(_);return!D||2===D.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.it.forEach((l,c)=>c.setReadTime(e));const i=new Fy(e,t,this.ot,this.it,r);return this.it=to(),this.rt=ww(),this.ot=new Wn(Wt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new RT,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Wn(Wt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new RT),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ww(){return new Ur(Ye.comparator)}function Dw(){return new Ur(Ye.comparator)}const NT={asc:"ASCENDING",desc:"DESCENDING"},gM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _M{constructor(e,t){this.databaseId=e,this.N=t}}function bf(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function By(n,e){return n.N?e.toBase64():e.toUint8Array()}function HO(n,e){return bf(n,e.toTimestamp())}function Qr(n){return Lt(!!n),kt.fromTimestamp(function(e){const t=Gu(e);return new vr(t.seconds,t.nanos)}(n))}function Sm(n,e){return(t=n,new rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PT(n){const e=rn.fromString(n);return Lt(M(e)),e}function Im(n,e){return Sm(n.databaseId,e.path)}function Hl(n,e){const t=PT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(VT(t))}function FT(n,e){return Sm(n.databaseId,e)}function yM(n){const e=PT(n);return 4===e.length?rn.emptyPath():VT(e)}function Mm(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VT(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vM(n,e,t){return{name:Im(n,e),fields:t.value.mapValue.fields}}function bM(n,e,t){const r=Hl(n,e.name),i=Qr(e.updateTime),l=new $i({mapValue:{fields:e.fields}}),c=Hn.newFoundDocument(r,i,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Uy(n,e){let t;if(e instanceof yf)t={update:vM(n,e.key,e.value)};else if(e instanceof vf)t={delete:Im(n,e.key)};else if(e instanceof vd)t={update:vM(n,e.key,e.data),updateMask:C(e.fieldMask)};else{if(!(e instanceof gw))return rt();t={verify:Im(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _f)return{fieldPath:l.field.canonicalString(),increment:c.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:HO(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function Cw(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vr.updateTime(Qr(i.updateTime)):void 0!==i.exists?Vr.exists(i.exists):Vr.none():Vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let f=null;"setToServerValue"in c?(Lt("REQUEST_TIME"===c.setToServerValue),f=new mf):"appendMissingElements"in c?f=new gf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new ec(c.removeAllFromArray.values||[]):"increment"in c?f=new _f(l,c.increment):rt();const _=dr.fromServerFormat(c.fieldPath);return new Ry(_,f)}(n,i)):[];var i;if(e.update){const i=Hl(n,e.update.name),l=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new lf((e.updateMask.fieldPaths||[]).map(D=>dr.fromServerFormat(D)));return new vd(i,l,c,t,r)}return new yf(i,l,t,r)}if(e.delete){const i=Hl(n,e.delete);return new vf(i,t)}if(e.verify){const i=Hl(n,e.verify);return new gw(i,t)}return rt()}function wM(n,e){return{documents:[FT(n,e.path)]}}function DM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=FT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const D=_.map(S=>function(A){if("=="===A.op){if(dT(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NAN"}};if(Qb(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(dT(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NOT_NAN"}};if(Qb(A.value))return{unaryFilter:{field:h(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:h(A.field),op:d(A.op),value:A.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(D=>{return{field:h((S=D).field),direction:u(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(D=e.limit,n.N||Zu(D)?D:{value:D});var D,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function CM(n){let e=yM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=o(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new yd(m((A=S).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(S){let A;return A="object"==typeof S?S.value:S,Zu(A)?null:A}(t.limit));let _=null;var S;t.startAt&&(_=new _d((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new _d(S.values||[],!S.before)}(t.endAt)),lM(e,i,c,l,f,"F",_,D)}function o(n){return n?void 0!==n.unaryFilter?[w(n)]:void 0!==n.fieldFilter?[v(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>o(e)).reduce((e,t)=>e.concat(t)):rt():[]}function u(n){return NT[n]}function d(n){return gM[n]}function h(n){return{fieldPath:n.canonicalString()}}function m(n){return dr.fromServerFormat(n.fieldPath)}function v(n){return di.create(m(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function w(n){switch(n.unaryFilter.op){case"IS_NAN":const e=m(n.unaryFilter.field);return di.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=m(n.unaryFilter.field);return di.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=m(n.unaryFilter.field);return di.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=m(n.unaryFilter.field);return di.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function C(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function M(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function k(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U(e)),e=P(n.get(t),e);return U(e)}function P(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function U(n){return n+"\x01\x01"}function q(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),rn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&rt(),n.charAt(c+1)){case"\x01":const f=n.substring(l,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:rt()}l=c+2}return new rn(r)}const ve=["userId","batchId"];function Ne(n,e){return[n,k(e)]}function He(n,e,t){return[n,k(e),t]}const nt={},Te=["prefixPath","collectionGroup","readTime","documentId"],gt=["prefixPath","collectionGroup","documentId"],Xt=["collectionGroup","readTime","prefixPath","documentId"],An=["canonicalId","targetId"],no=["targetId","path"],Cd=["path","targetId"],Ew=["collectionId","parent"],Tw=["indexId","uid"],Sw=["uid","sequenceNumber"],Iw=["indexId","uid","arrayValue","directionalValue","documentKey"],Mw=["indexId","uid","documentKey"],Aw=["userId","collectionPath","documentId"],kw=["userId","collectionPath","largestBatchId"],xw=["userId","collectionGroup","largestBatchId"],Hy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],q2=[...Hy,"documentOverlays"],GO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],W2=[...GO,"indexConfiguration","indexState","indexEntries"],ZO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,l=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++l,c&&l===i&&t()},_=>r(_))}),c=!0,l===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class BT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ui,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ow(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=EM(r.target.error);this.At.reject(new Ow(e,i))}}static open(e,t,r,i){try{return new BT(t,e.transaction(i,r))}catch(l){throw new Ow(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new K2(t)}}class jl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===jl.Vt((0,Qt.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),km(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Qt.hl)())return!1;if(jl.St())return!0;const e=(0,Qt.z$)(),t=jl.Vt(e),r=0<t&&t<10,i=jl.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new Ow(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Ae(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ae(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ow(e,f))},l.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=BT.open(l.db,e,c?"readonly":"readwrite",r),D=i(_).next(S=>(_.bt(),S)).catch(S=>(_.abort(S),me.reject(S))).toPromise();return D.catch(()=>{}),yield _.Rt,D}catch(_){const D="FirebaseError"!==_.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),l.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class z2{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return km(this.Ft.delete())}}class Ow extends Ae{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Am(n){return"IndexedDbTransactionError"===n.name}class K2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),km(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),km(this.store.add(e))}get(e){return km(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),km(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),km(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Gt(i,(c,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new me((l,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(l,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=l=>{const c=EM(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new me((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new z2(f),D=t(f.primaryKey,f.value,_);if(D instanceof me){const S=D.catch(A=>(_.done(),me.reject(A)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function km(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=EM(r.target.error);t(i)}})}let WO=!1;function EM(n){const e=jl.Vt((0,Qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WO||(WO=!0,setTimeout(()=>{throw r},0)),r}}return n}class zO extends qO{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Gi(n,e){const t=Ge(n);return jl.xt(t.Ht,e)}class TM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&pw(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Dm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Dm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gn())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,r)=>AT(t,r))&&pd(this.baseMutations,e.baseMutations,(t,r)=>AT(t,r))}}class SM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=yw;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new SM(e,t,r,i)}}class IM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wf{constructor(e,t,r,i,l=kt.min(),c=kt.min(),f=ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new wf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KO{constructor(e){this.Jt=e}}function JO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:UT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Im(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:bf(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xm(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:xm(e.version)}}var i,l;return r}function UT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Om(n){const e=new vr(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function jy(n,e){const t=(e.baseMutations||[]).map(l=>Cw(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Cw(n.Jt,l)),i=vr.fromMillis(e.localWriteTimeMs);return new TM(e.batchId,i,t,r)}function Lw(n){const e=Om(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Om(n.lastLimboFreeSnapshotVersion):kt.min();let r;var i;return void 0!==n.query.documents?(Lt(1===(i=n.query).documents.length),r=Go(vm(yM(i.documents[0])))):r=Go(CM(n.query)),new wf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ci.fromBase64String(n.resumeToken))}function QO(n,e){const t=xm(e.snapshotVersion),r=xm(e.lastLimboFreeSnapshotVersion);let i;i=gd(e.target)?wM(n.Jt,e.target):DM(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MM(n){const e=CM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zo(e,e.limit,"L"):e}function AM(n,e){return new IM(e.largestBatchId,Cw(n.Jt,e.overlayMutation))}function XO(n,e){const t=e.path.lastSegment();return[n,k(e.path.popLast()),t]}class Q2{getBundleMetadata(e,t){return eL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Om(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return eL(e).put({bundleId:(r=t).id,createTime:xm(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return tL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:MM(i.bundledQuery),readTime:Om(i.readTime)};var i})}saveNamedQuery(e,t){return tL(e).put({name:(r=t).name,readTime:xm(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function eL(n){return Gi(n,"bundles")}function tL(n){return Gi(n,"namedQueries")}class kM{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new kM(e,t.uid||"")}getOverlay(e,t){return Rw(e).get(XO(this.userId,t)).next(r=>r?AM(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const f=new IM(t,c);i.push(this.Xt(e,f))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(k(c.getCollectionPath())));const l=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Rw(e).Qt("collectionPathOverlayIndex",f))}),me.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Em(),l=k(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Rw(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const D=AM(this.M,_);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Em();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rw(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,D,S)=>{const A=AM(this.M,D);l.size()<i||A.largestBatchId===c?(l.set(A.getKey(),A),c=A.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return Rw(e).put(function(r,i,l){const[c,f,_]=XO(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Uy(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Rw(n){return Gi(n,"documentOverlays")}class Yy{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ir(e.integerValue));else if("doubleValue"in e){const r=ir(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),qu(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(md(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?hT(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function X2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function nL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=X2(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Yy.fe=new Yy;class eV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=nL(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=nL(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class tV{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class nV{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class HT{constructor(){this.De=new eV,this.Ce=new tV(this.De),this.xe=new nV(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Df{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Df(this.indexId,this.documentKey,this.arrayValue,r)}}function Lm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rL(n.arrayValue,e.arrayValue),0!==t?t:(t=rL(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function rL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class rV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Ey(e);if(void 0!==t&&!this.Be(t))return!1;const r=ff(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[l++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class iV{constructor(){this.qe=new xM}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class xM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wn(rn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(rn.comparator)).toArray()}}const jT=new Uint8Array(0);class sV{constructor(e){this.user=e,this.Ge=new xM,this.Ke=new bd(t=>pf(t),(t,r)=>Iy(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:k(i)};return iL(e).put(l)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[qb(t),""],!1,!0);return iL(e).qt(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(q(c.parent))}return r})}addFieldIndex(e,t){const r=YT(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=YT(e),i=$T(e),l=Nw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Nw(e);let i=!0;const l=new Map;return me.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),l.set(c,f)})).next(()=>{if(i){let c=gn();return me.forEach(l,(f,_)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=f,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${pf(t)}`);const S=function(Oe,We){const Ze=Ey(We);if(void 0===Ze)return null;for(const yt of nw(Oe,Ze.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(_,f),A=function(Oe,We){const Ze=new Map;for(const yt of ff(We))for(const ut of nw(Oe,yt.fieldPath))switch(ut.op){case"==":case"in":Ze.set(yt.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return Ze.set(yt.fieldPath.canonicalString(),ut.value),Array.from(Ze.values())}return null}(_,f),N=function(Oe,We){const Ze=[];let yt=!0;for(const ln of ff(We)){let Pn,On=!0;for(const en of nw(Oe,ln.fieldPath)){let Fn,ao=!0;switch(en.op){case"<":case"<=":Fn="nullValue"in(ut=en.value)?uT:"booleanValue"in ut?{booleanValue:!1}:"integerValue"in ut||"doubleValue"in ut?{doubleValue:NaN}:"timestampValue"in ut?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ut?{stringValue:""}:"bytesValue"in ut?{bytesValue:""}:"referenceValue"in ut?cf(el.empty(),Ye.empty()):"geoPointValue"in ut?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ut?{arrayValue:{}}:"mapValue"in ut?{mapValue:{}}:rt();break;case"==":case"in":case">=":Fn=en.value;break;case">":Fn=en.value,ao=!1;break;case"!=":case"not-in":Fn=uT}fT(Pn,Fn)===Fn&&(Pn=Fn,On=ao)}if(null!==Oe.startAt)for(let en=0;en<Oe.orderBy.length;++en)if(Oe.orderBy[en].field.isEqual(ln.fieldPath)){const Fn=Oe.startAt.position[en];fT(Pn,Fn)===Fn&&(Pn=Fn,On=Oe.startAt.inclusive);break}if(void 0===Pn)return null;Ze.push(Pn),yt&&(yt=On)}var ut;return new _d(Ze,yt)}(_,f),B=function(Oe,We){const Ze=[];let yt=!0;for(const ln of ff(We)){let Pn,On=!0;for(const en of nw(Oe,ln.fieldPath)){let Fn,ao=!0;switch(en.op){case">=":case">":Fn="nullValue"in(ut=en.value)?{booleanValue:!1}:"booleanValue"in ut?{doubleValue:NaN}:"integerValue"in ut||"doubleValue"in ut?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ut?{stringValue:""}:"stringValue"in ut?{bytesValue:""}:"bytesValue"in ut?cf(el.empty(),Ye.empty()):"referenceValue"in ut?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ut?{arrayValue:{}}:"arrayValue"in ut?{mapValue:{}}:"mapValue"in ut?Kb:rt(),ao=!1;break;case"==":case"in":case"<=":Fn=en.value;break;case"<":Fn=en.value,ao=!1;break;case"!=":case"not-in":Fn=Kb}Xb(Pn,Fn)===Fn&&(Pn=Fn,On=ao)}if(null!==Oe.endAt)for(let en=0;en<Oe.orderBy.length;++en)if(Oe.orderBy[en].field.isEqual(ln.fieldPath)){const Fn=Oe.endAt.position[en];Xb(Pn,Fn)===Fn&&(Pn=Fn,On=Oe.endAt.inclusive);break}if(void 0===Pn)return null;Ze.push(Pn),yt&&(yt=On)}var ut;return new _d(Ze,yt)}(_,f),$=this.je(f,_,N),ee=this.je(f,_,B),_e=this.We(f,_,A),Ve=this.ze(f.indexId,S,$,!!N&&N.inclusive,ee,!!B&&B.inclusive,_e);return me.forEach(Ve,Oe=>r.Kt(Oe,t.limit).next(We=>{We.forEach(Ze=>{c=c.add(new Ye(q(Ze.documentKey)))})}))}).next(()=>c)}return me.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,l,c,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),D=_/(null!=t?t.length:1),S=[];for(let A=0;A<_;++A){const N=t?this.He(t[A/D]):jT,B=r?this.Je(e,N,r[A%D],i):this.Ye(e),$=l?this.Xe(e,N,l[A%D],c):this.Ye(e+1);S.push(...this.createRange(B,$,f.map(ee=>this.Je(e,N,ee,!0))))}return S}Je(e,t,r,i){const l=new Df(e,Ye.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Df(e,Ye.empty(),t,r);return i?l.ke():l}Ye(e){return new Df(e,Ye.empty(),jT,jT)}getFieldIndex(e,t){const r=new rV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const c=l.filter(f=>r.$e(f));return c.sort((f,_)=>_.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new HT;for(const i of ff(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.Ne(i.kind);Yy.fe.Zt(l,c)}return r.Se()}He(e){const t=new HT;return Yy.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new HT);let l=0;for(const c of ff(e)){const f=r[l++];for(const _ of i)if(this.tn(t,c.fieldPath)&&df(f))i=this.en(i,c,f);else{const D=_.Ne(c.kind);Yy.fe.Zt(f,D)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new HT;_.seed(f.Se()),Yy.fe.Zt(c,_.Ne(t.kind)),l.push(_)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof di&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=YT(e),i=$T(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const c=[];return me.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(D,S){const A=S?new Sy(S.sequenceNumber,new Ju(Om(S.readTime),new Ye(q(S.documentKey)),S.largestBatchId)):Sy.empty(),N=D.fields.map(([B,$])=>new Ty(dr.fromServerFormat(B),$));return new ym(D.indexId,D.collectionGroup,N,A)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=YT(e),l=$T(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>me.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:xm((N=r).readTime),documentKey:k(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),me.forEach(f,_=>this.rn(e,i,_).next(D=>{const S=this.on(l,_);return D.isEqual(S)?me.resolve():this.un(e,l,D,S)}))))})}an(e,t,r){return Nw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:k(t.key.path)})}cn(e,t,r){return Nw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,k(t.key.path)])}rn(e,t,r){const i=Nw(e);let l=new Wn(Lm);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,k(t.path)])},(c,f)=>{l=l.add(new Df(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}on(e,t){let r=new Wn(Lm);const i=this.Ze(t,e);if(null==i)return r;const l=Ey(t);if(null!=l){const c=e.data.field(l.fieldPath);if(df(c))for(const f of c.arrayValue.values||[])r=r.add(new Df(t.indexId,e.key,this.He(f),i))}else r=r.add(new Df(t.indexId,e.key,jT,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(c,f,_,D,S){const A=c.getIterator(),N=f.getIterator();let B=wd(A),$=wd(N);for(;B||$;){let ee=!1,_e=!1;if(B&&$){const Ve=_(B,$);Ve<0?_e=!0:Ve>0&&(ee=!0)}else null!=B?_e=!0:ee=!0;ee?(D($),$=wd(N)):_e?(S(B),B=wd(A)):(B=wd(A),$=wd(N))}}(r,i,Lm,c=>{l.push(this.an(e,t,c))},c=>{l.push(this.cn(e,t,c))}),me.waitFor(l)}sn(e){let t=1;return $T(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Lm(c,f)).filter((c,f,_)=>!f||0!==Lm(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=Lm(c,e),_=Lm(c,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(c),i.push(c.ke());else if(_>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2)l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return l}}function iL(n){return Gi(n,"collectionParents")}function Nw(n){return Gi(n,"indexEntries")}function YT(n){return Gi(n,"indexConfiguration")}function $T(n){return Gi(n,"indexState")}const sL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wo(e,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:c},(S,A,N)=>(f++,N.delete()));l.push(_.next(()=>{Lt(1===f)}));const D=[];for(const S of t.mutations){const A=He(e,S.key.path,t.batchId);l.push(i.delete(A)),D.push(S.key)}return me.waitFor(l).next(()=>D)}function GT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class OM{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new OM(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cf(e).Wt({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=$y(e),c=Cf(e);return c.add({}).next(f=>{Lt("number"==typeof f);const _=new TM(f,t,r,i),D=function(N,B,$){const ee=$.baseMutations.map(Ve=>Uy(N.Jt,Ve)),_e=$.mutations.map(Ve=>Uy(N.Jt,Ve));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:_e}}(this.M,this.userId,_),S=[];let A=new Wn((N,B)=>Wt(N.canonicalString(),B.canonicalString()));for(const N of i){const B=He(this.userId,N.key.path,f);A=A.add(N.key.path.popLast()),S.push(c.put(D)),S.push(l.put(B,nt))}return A.forEach(N=>{S.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),me.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Cf(e).get(t).next(r=>r?(Lt(r.userId===this.userId),jy(this.M,r)):null)}ln(e,t){return this.hn[t]?me.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Cf(e).Wt({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Lt(f.batchId>=r),l=jy(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>jy(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ne(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return $y(e).Wt({range:i},(c,f,_)=>{const[D,S,A]=c,N=q(S);if(D===this.userId&&t.path.isEqual(N))return Cf(e).get(A).next(B=>{if(!B)throw rt();Lt(B.userId===this.userId),l.push(jy(this.M,B))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Wt);const i=[];return t.forEach(l=>{const c=Ne(this.userId,l.path),f=IDBKeyRange.lowerBound(c),_=$y(e).Wt({range:f},(D,S,A)=>{const[N,B,$]=D,ee=q(B);N===this.userId&&l.path.isEqual(ee)?r=r.add($):A.done()});i.push(_)}),me.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Ne(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new Wn(Wt);return $y(e).Wt({range:c},(_,D,S)=>{const[A,N,B]=_,$=q(N);A===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(B)):S.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Cf(e).get(l).next(c=>{if(null===c)throw rt();Lt(c.userId===this.userId),r.push(jy(this.M,c))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return oL(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return $y(e).Wt({range:r},(l,c,f)=>{if(l[0]===this.userId){const _=q(l[1]);i.push(_)}else f.done()}).next(()=>{Lt(0===i.length)})})}containsKey(e,t){return aL(e,this.userId,t)}_n(e){return lL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function aL(n,e,t){const r=Ne(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return $y(n).Wt({range:l,jt:!0},(f,_,D)=>{const[S,A,N]=f;S===e&&A===i&&(c=!0),D.done()}).next(()=>c)}function Cf(n){return Gi(n,"mutations")}function $y(n){return Gi(n,"documentMutations")}function lL(n){return Gi(n,"mutationQueues")}class Rm{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Rm(0)}static gn(){return new Rm(-1)}}class oV{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Rm(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>kt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gy(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Lt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Gy(e).Wt((c,f)=>{const _=Lw(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>me.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Gy(e).Wt((r,i)=>{const l=Lw(i);t(l)})}yn(e){return uL(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}pn(e,t){return uL(e).put("targetGlobalKey",t)}In(e,t){return Gy(e).put(QO(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=pf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Gy(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const D=Lw(f);Iy(t,D.target)&&(l=D,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Ef(e);return t.forEach(c=>{const f=k(c.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ef(e);return me.forEach(t,l=>{const c=k(l.path);return me.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ef(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ef(e);let l=gn();return i.Wt({range:r,jt:!0},(c,f,_)=>{const D=q(c[1]),S=new Ye(D);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=k(t.path),i=IDBKeyRange.bound([r],[qb(r)],!1,!0);let l=0;return Ef(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],_,D)=>{0!==c&&(l++,D.done())}).next(()=>l>0)}Et(e,t){return Gy(e).get(t).next(r=>r?Lw(r):null)}}function Gy(n){return Gi(n,"targets")}function uL(n){return Gi(n,"targetGlobal")}function Ef(n){return Gi(n,"targetDocuments")}function Nm(n){return LM.apply(this,arguments)}function LM(){return LM=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==ZO)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),LM.apply(this,arguments)}function cL([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class aV{constructor(e){this.En=e,this.buffer=new Wn(cL),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lV{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Am(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Nm(i)}yield t.vn(e)}))}}class uV{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(Xs.A);const r=new aV(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(sL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sL):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,l,c,f,_,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(D=Date.now(),Hb()<=Vl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-S}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class cV{constructor(e,t){this.db=e,this.garbageCollector=new uV(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return ZT(e,r)}removeReference(e,t,r){return ZT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ZT(e,t)}Mn(e,t){return function(r,i){let l=!1;return lL(r).zt(c=>aL(r,c,i).next(f=>(f&&(l=!0),me.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.kn(e,(c,f)=>{if(f<=t){const _=this.Mn(e,c).next(D=>{if(!D)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,kt.min()),Ef(e).delete([0,k(c.path)])))});i.push(_)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ZT(e,t)}kn(e,t){const r=Ef(e);let i,l=Xs.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:D})=>{0===c?(l!==Xs.A&&t(new Ye(q(i)),l),l=D,i=_):l=Xs.A}).next(()=>{l!==Xs.A&&t(new Ye(q(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ZT(n,e){return Ef(n).put((r=n.currentSequenceNumber,{targetId:0,path:k(e.path),sequenceNumber:r}));var r}class dL{constructor(){this.changes=new bd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dV{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Pm(e).put(r)}removeEntry(e,t,r){return Pm(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],UT(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Hn.newInvalidDocument(t);return Pm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Pw(t))},(i,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Hn.newInvalidDocument(t)};return Pm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Pw(t))},(i,l)=>{r={document:this.Fn(t,l),size:GT(l)}}).next(()=>r)}getEntries(e,t){let r=to();return this.Bn(e,t,(i,l)=>{const c=this.Fn(i,l);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=to(),i=new Ur(Ye.comparator);return this.Bn(e,t,(l,c)=>{const f=this.Fn(l,c);r=r.insert(l,f),i=i.insert(l,GT(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return me.resolve();let i=new Wn(pL);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(Pw(i.first()),Pw(i.last())),c=i.getIterator();let f=c.getNext();return Pm(e).Wt({index:"documentKeyIndex",range:l},(_,D,S)=>{const A=Ye.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;f&&pL(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,D),f=c.hasNext()?c.getNext():null),f?S.Ut(Pw(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),UT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pm(e).qt(IDBKeyRange.bound(i,l,!0)).next(c=>{let f=to();for(const _ of c){const D=this.Fn(Ye.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(D.key,D)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=to();const c=fL(t,r),f=fL(t,Ju.max());return Pm(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,D,S)=>{const A=this.Fn(Ye.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(A.key,A),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new hV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hL(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}On(e,t){return hL(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function J2(n,e){let t;if(e.document)t=bM(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=Om(e.noDocument.readTime);t=Hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=Ye.fromSegments(e.unknownDocument.path),i=Om(e.unknownDocument.version);t=Hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new vr(r[0],r[1]);return kt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return Hn.newInvalidDocument(e)}}class hV extends dL{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new bd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wn((l,c)=>Wt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const f=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,f.readTime)),c.isValidDocument()){const _=JO(this.qn.M,c);i=i.add(l.path.popLast()),r+=GT(_)-f.size,t.push(this.qn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=JO(this.qn.M,c.convertToNoDocument(kt.min()));t.push(this.qn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((l,c)=>{this.Gn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function hL(n){return Gi(n,"remoteDocumentGlobal")}function Pm(n){return Gi(n,"remoteDocumentsV14")}function Pw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fL(n,e){const t=e.documentKey.path.toArray();return[n,UT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pL(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ye.comparator(n,e)}class fV{constructor(e){this.M=e}kt(e,t,r,i){const l=new BT("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ve,{unique:!0}),f.createObjectStore("documentMutations"),mL(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=me.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),mL(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",D)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").qt().next(D=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ve,{unique:!0});const S=_.store("mutations"),A=D.map(N=>S.put(N));return me.waitFor(A)})}(e,l))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(l))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&i>=7&&(c=c.next(()=>this.jn(l))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(l))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Aw});_.createIndex("collectionPathOverlayIndex",kw,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",xw,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Te});_.createIndex("documentKeyIndex",gt),_.createIndex("collectionGroupIndex",Xt)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Tw}).createIndex("sequenceNumberIndex",Sw,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Iw}).createIndex("documentKeyIndex",Mw,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=GT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>me.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>me.forEach(f,_=>{Lt(_.userId===l.userId);const D=jy(this.M,_);return oL(e,l.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((c,f)=>{const _=new rn(c),D=[0,k(_)];l.push(t.get(D).next(S=>S?me.resolve():t.put({targetId:0,path:k(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Ew});const r=t.store("collectionParents"),i=new xM,l=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:k(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const _=new rn(c);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,_],D)=>{const S=q(f);return l(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Lw(i),c=QO(this.M,l);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,c)=>{const f=t.store("remoteDocumentsV14"),_=(D=c,D.document?new Ye(rn.fromString(D.document.name).popFirst(5)):D.noDocument?Ye.fromSegments(D.noDocument.path):D.unknownDocument?Ye.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(S))}).next(()=>me.waitFor(i))}}function mL(n){n.createObjectStore("targetDocuments",{keyPath:no}).createIndex("documentTargetsIndex",Cd,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",An,{unique:!0}),n.createObjectStore("targetGlobal")}const RM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NM{constructor(e,t,r,i,l,c,f,_,D,S,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=c,this.document=f,this.Yn=D,this.Xn=S,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=N=>Promise.resolve(),!NM.vt())throw new Ae(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cV(this,i),this.cs=t+"main",this.M=new KO(_),this.hs=new jl(this.cs,this.Zn,new fV(this.M)),this.ls=new oV(this.referenceDelegate,this.M),this.fs=new dV(this.M),this.ds=new Q2,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,RM);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Xs(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Am(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Fw(e).get("owner").next(t=>me.resolve(this.bs(t)))}Ps(e){return qT(e).delete(this.clientId)}Vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Gi(r,"clientMetadata");return i.qt().next(l=>{const c=e.Ss(l,18e5),f=l.filter(_=>-1===c.indexOf(_));return me.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?me.resolve(!0):Fw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,RM);return!1}}return!(!this.networkEnabled||!this.inForeground)||qT(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new zO(t,Xs.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>qT(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return OM.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new sV(e)}getDocumentOverlayCache(e){return kM.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(c=this.Zn)?W2:13===c?GO:12===c?q2:11===c?Hy:void rt();var c;let f;return this.hs.runTransaction(e,i,l,_=>(f=new zO(_,this.ts?this.ts.next():Xs.A),"readwrite-primary"===t?this.Ts(f).next(D=>!!D||this.Es(f)).next(D=>{if(!D)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(de.FAILED_PRECONDITION,ZO);return r(f)}).next(D=>this.Rs(f).next(()=>D)):this.Fs(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return Fw(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(de.FAILED_PRECONDITION,RM)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fw(e).put("owner",t)}static vt(){return jl.vt()}As(e){const t=Fw(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fw(n){return Gi(n,"owner")}function qT(n){return Gi(n,"clientMetadata")}function PM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pV{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):ow(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new Ye(t)).next(r=>{let i=Cm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let l=Cm();return this.indexManager.getCollectionParents(e,i).next(c=>me.forEach(c,f=>{const _=(D=t,S=f.child(i),new Qu(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Ws(e,_,r).next(D=>{D.forEach((S,A)=>{l=l.insert(S,A)})})}).next(()=>l))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const c of l)for(const f of c.mutations){const _=f.key;let D=i.get(_);null==D&&(D=Hn.newInvalidDocument(_),i=i.insert(_,D)),Dm(f,D,c.localWriteTime),D.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((l,c)=>{lw(t,c)||(i=i.remove(l))}),i))}}class FM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=gn(),i=gn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new FM(e,t.fromCache,r,i)}}class gL{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(kt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(l=>{const c=this.ti(t,l);return(Ay(t)||ky(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(Hb()<=Vl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aw(t)),this.Xs.Ks(e,t,tw(r,-1)).next(f=>(c.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ti(e,t){let r=new Wn(uw(e));return t.forEach((i,l)=>{lw(e,l)&&(r=r.add(l))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Zs(e,t){return Hb()<=Vl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",aw(t)),this.Xs.Ks(e,t,Ju.min())}}class mV{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Ur(Wt),this.ii=new bd(l=>pf(l),Iy),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new pV(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function _L(n,e,t,r){return new mV(n,e,t,r)}function yL(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,ye.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(l=>(i=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let _=gn();for(const D of i){c.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}for(const D of l){f.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}return t.ai.qs(r,_).next(D=>({ci:D,removedBatchIds:c,addedBatchIds:f}))})})}),VM.apply(this,arguments)}function gV(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,D){const S=_.batch,A=S.keys();let N=me.resolve();return A.forEach(B=>{N=N.next(()=>D.getEntry(f,B)).next($=>{const ee=_.docVersions.get(B);Lt(null!==ee),$.version.compareTo(ee)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),D.addEntry($)))})}),N.next(()=>c.$s.removeMutationBatch(f,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function vL(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function _V(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((D,S)=>{const A=i.get(S);if(!A)return;f.push(t.ls.removeMatchingKeys(l,D.removedDocuments,S).next(()=>t.ls.addMatchingKeys(l,D.addedDocuments,S)));let N=A.withSequenceNumber(l.currentSequenceNumber);var B,$,ee;e.targetMismatches.has(S)?N=N.withResumeToken(ci.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):D.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(D.resumeToken,r)),i=i.insert(S,N),$=N,ee=D,(0===(B=A).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(l,N))});let _=to();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),f.push(bL(l,c,e.documentUpdates).next(D=>{_=D})),!r.isEqual(kt.min())){const D=t.ls.getLastRemoteSnapshotVersion(l).next(S=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(D)}return me.waitFor(f).next(()=>c.apply(l)).next(()=>t.ai.Gs(l,_)).next(()=>_)}).then(l=>(t.si=i,l))}function bL(n,e,t){let r=gn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=to();return t.forEach((c,f)=>{const _=i.get(c);f.isNoDocument()&&f.version.isEqual(kt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",_.version," Watch version:",f.version)}),l})}function yV(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Zy(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(l=>l?(i=l,me.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new wf(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function qy(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,ye.Z)(function*(n,e,t){const r=Ge(n),i=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Am(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),BM.apply(this,arguments)}function WT(n,e,t){const r=Ge(n);let i=kt.min(),l=gn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,D){const S=Ge(f),A=S.ii.get(D);return void 0!==A?me.resolve(S.si.get(A)):S.ls.getTargetData(_,D)}(r,c,Go(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,f.targetId).next(_=>{l=_})}).next(()=>r.ni.Ks(c,e,t?i:kt.min(),t?l:gn())).next(f=>(CL(r,Oy(e),f),{documents:f,hi:l})))}function wL(n,e){const t=Ge(n),r=Ge(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(c=>c?c.target:null))}function DL(n,e){const t=Ge(n),r=t.ri.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,tw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(CL(t,e,i),i))}function CL(n,e,t){let r=kt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function UM(){return UM=(0,ye.Z)(function*(n,e,t,r){const i=Ge(n);let l=gn(),c=to();for(const D of t){const S=e.li(D.metadata.name);D.document&&(l=l.add(S));const A=e.fi(D);A.setReadTime(e.di(D.metadata.readTime)),c=c.insert(S,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),_=yield Zy(i,(D=r,Go(vm(rn.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>bL(D,f,c).next(S=>(f.apply(D),S)).next(S=>i.ls.removeMatchingKeysForTargetId(D,_.targetId).next(()=>i.ls.addMatchingKeys(D,l,_.targetId)).next(()=>i.ai.Gs(D,S)).next(()=>S)))}),UM.apply(this,arguments)}function bV(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,ye.Z)(function*(n,e,t=gn()){const r=yield Zy(n,Go(MM(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=Qr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(l,e);const f=r.withResumeToken(ci.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(l,f).next(()=>i.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.ls.addMatchingKeys(l,t,r.targetId)).next(()=>i.ds.saveNamedQuery(l,e))})}),HM.apply(this,arguments)}class wV{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return me.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:MM(r.bundledQuery),readTime:Qr(r.readTime)}),me.resolve();var r}}class DV{constructor(){this.overlays=new Ur(Ye.comparator),this.mi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=Em(),l=t.length+1,c=new Ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Ur((D,S)=>D-S);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=l.get(D.largestBatchId);null===S&&(S=Em(),l=l.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const f=Em(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,S)=>f.set(D,S)),!(f.size()>=i)););return me.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new IM(t,r));let l=this.mi.get(t);void 0===l&&(l=gn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class jM{constructor(){this.gi=new Wn(Zi.yi),this.pi=new Wn(Zi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Zi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Zi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ye(new rn([])),r=new Zi(t,e),i=new Zi(t,e+1),l=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),l.push(c.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ye(new rn([])),r=new Zi(t,e),i=new Zi(t,e+1);let l=gn();return this.pi.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Zi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ye.comparator(e.key,t.key)||Wt(e.Vi,t.Vi)}static Ii(e,t){return Wt(e.Vi,t.Vi)||Ye.comparator(e.key,t.key)}}class CV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Wn(Zi.yi)}checkEmpty(e){return me.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const l=this.vi;this.vi++;const c=new TM(l,t,r,i);this.$s.push(c);for(const f of i)this.Si=this.Si.add(new Zi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,t){return me.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),l=i<0?0:i;return me.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return me.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zi(t,0),i=new Zi(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,i],c=>{const f=this.Di(c.Vi);l.push(f)}),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Wt);return t.forEach(i=>{const l=new Zi(i,0),c=new Zi(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,c],f=>{r=r.add(f.Vi)})}),me.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const c=new Zi(new Ye(l),0);let f=new Wn(Wt);return this.Si.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(f=f.add(_.Vi)),!0)},c),me.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return me.forEach(t.mutations,i=>{const l=new Zi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Zi(t,0),i=this.Si.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class EV{constructor(e){this.ki=e,this.docs=new Ur(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=to();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Hn.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=to();const l=new Ye(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||FO(PO(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}Mi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TV(this)}getSize(e){return me.resolve(this.size)}}class TV extends dL{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class SV{constructor(e){this.persistence=e,this.Oi=new bd(t=>pf(t),Iy),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new jM,this.targetCount=0,this.Bi=Rm.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),me.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Rm(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.In(t),me.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Oi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),me.waitFor(l).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.$i.containsKey(t))}}class IV{constructor(e,t){this.Li={},this.overlays={},this.ts=new Xs(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new SV(this),this.indexManager=new iV,this.fs=new EV(r=>this.referenceDelegate.Ui(r)),this.M=new KO(t),this.ds=new wV(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new CV(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new MV(this.ts.next());return this.referenceDelegate.qi(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ki(e,t){return me.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class MV extends qO{constructor(e){super(),this.currentSequenceNumber=e}}class YM{constructor(e){this.persistence=e,this.Qi=new jM,this.ji=null}static Wi(e){return new YM(e)}get zi(){if(this.ji)return this.ji;throw rt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.zi,r=>{const i=Ye.fromPath(r);return this.Hi(e,i).next(l=>{l||t.removeEntry(i,kt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return me.or([()=>me.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function EL(n,e){return`firestore_clients_${n}_${e}`}function TL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $M(n,e){return`firestore_targets_${n}_${e}`}class zT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Ae(i.error.code,i.error.message))),c?new zT(e,t,i.state,l):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ae(r.error.code,r.error.message))),l?new Vw(e,r.state,i):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class KT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=bw();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Dy(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new KT(e,l):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class GM{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new GM(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ZM{constructor(){this.activeTargetIds=bw()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qM{constructor(e,t,r,i,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ur(Wt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=EL(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new ZM),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const l=e.getItem(EL(e.persistenceKey,i));if(l){const c=KT.Ji(i,l);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($M(this.persistenceKey,e));if(r){const i=Vw.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($M(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let c=Xs.A;if(null!=l)try{const f=JSON.parse(l);Lt("number"==typeof f),c=f}catch(f){cr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Xs.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new zT(this.currentUser,e,t,r),l=TL(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=TL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=$M(this.persistenceKey,e),l=new Vw(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return KT.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return zT.Ji(new Ti(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Vw.Ji(i,t)}wr(e){return GM.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),c=[],f=[];return l.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Or(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=bw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class SL{constructor(){this.Fr=new ZM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new ZM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AV{Br(e){}shutdown(){}}class IL{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xV{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class OV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,l),this.ao(e,c,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Yu("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}co(e,t,r,i,l){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ju,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${kV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((l,c)=>{const f=new Ub;f.listenOnce(XI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case yy.NO_ERROR:const D=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),l(D);break;case yy.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case yy.HTTP_ERROR:const S=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const N=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN}(A.status);c(new Ae(N,A.message))}else c(new Ae(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QI(),c=tT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new pm({})),this.uo(f.initMessageHeaders,t,r),(0,Qt.uI)()||(0,Qt.b$)()||(0,Qt.d)()||(0,Qt.w1)()||(0,Qt.Mn)()||(0,Qt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const D=l.createWebChannel(_,f);let S=!1,A=!1;const N=new xV({jr:$=>{A?Pe("Connection","Not sending because WebChannel is closed:",$):(S||(Pe("Connection","Opening WebChannel transport."),D.open(),S=!0),Pe("Connection","WebChannel sending:",$),D.send($))},Wr:()=>D.close()}),B=($,ee,_e)=>{$.listen(ee,Ve=>{try{_e(Ve)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return B(D,vy.EventType.OPEN,()=>{A||Pe("Connection","WebChannel transport opened.")}),B(D,vy.EventType.CLOSE,()=>{A||(A=!0,Pe("Connection","WebChannel transport closed"),N.eo())}),B(D,vy.EventType.ERROR,$=>{A||(A=!0,Yu("Connection","WebChannel transport errored:",$),N.eo(new Ae(de.UNAVAILABLE,"The operation could not be completed")))}),B(D,vy.EventType.MESSAGE,$=>{var ee;if(!A){const _e=$.data[0];Lt(!!_e);const Ve=_e,Oe=Ve.error||(null===(ee=Ve[0])||void 0===ee?void 0:ee.error);if(Oe){Pe("Connection","WebChannel received error:",Oe);const We=Oe.status;let Ze=function(ut){const ln=Br[ut];if(void 0!==ln)return pM(ln)}(We),yt=Oe.message;void 0===Ze&&(Ze=de.INTERNAL,yt="Unknown error status: "+We+" with message "+Oe.message),A=!0,N.eo(new Ae(Ze,yt)),D.close()}else Pe("Connection","WebChannel received:",_e),N.no(_e)}}),B(c,eM.STAT_EVENT,$=>{$.stat===nT.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===nT.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.Zr()},0),N}}function ML(){return"undefined"!=typeof window?window:null}function JT(){return"undefined"!=typeof document?document:null}function Bw(n){return new _M(n,!0)}class WM{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class AL{constructor(e,t,r,i,l,c,f,_){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new WM(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LV extends AL{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function YO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),i=e.targetChange.targetIds||[],l=function(_,D){return _.N?(Lt(void 0===D||"string"==typeof D),ci.fromBase64String(D||"")):(Lt(void 0===D||D instanceof Uint8Array),ci.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const D=void 0===_.code?de.UNKNOWN:pM(_.code);return new Ae(D,_.message||"")}(c);t=new LT(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Hl(n,r.document.name),l=Qr(r.document.updateTime),c=new $i({mapValue:{fields:r.document.fields}}),f=Hn.newFoundDocument(i,l,c);t=new Tm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Hl(n,r.document),l=r.readTime?Qr(r.readTime):kt.min(),c=Hn.newNoDocument(i,l);t=new Tm([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Hl(n,r.document);t=new Tm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new hM(r.count||0);t=new OT(r.targetId,l)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return kt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?Qr(l.readTime):kt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Mm(this.M),t.addTarget=function(i,l){let c;const f=l.target;return c=gd(f)?{documents:wM(i,f)}:{query:DM(i,f)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=By(i,l.resumeToken):l.snapshotVersion.compareTo(kt.min())>0&&(c.readTime=bf(i,l.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function s(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Mm(this.M),t.removeTarget=e,this.Oo(t)}}class RV extends AL{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function $O(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let l=Qr(r.updateTime?r.updateTime:i);return l.isEqual(kt.min())&&(l=Qr(i)),new IT(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.Jo(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Mm(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Uy(this.M,r))};this.Oo(t)}}class NV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class PV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(cr(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class FV{constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{r.enqueueAndForget((0,ye.Z)(function*(){var _;Tf(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(D){const S=Ge(D);S.lu.add(4),yield Wy(S),S._u.set("Unknown"),S.lu.delete(4),yield Uw(S)}),function(D){return _.apply(this,arguments)})(c))}))}),this._u=new PV(r,i)}}function Uw(n){return zM.apply(this,arguments)}function zM(){return zM=(0,ye.Z)(function*(n){if(Tf(n))for(const e of n.fu)yield e(!0)}),zM.apply(this,arguments)}function Wy(n){return KM.apply(this,arguments)}function KM(){return KM=(0,ye.Z)(function*(n){for(const e of n.fu)yield e(!1)}),KM.apply(this,arguments)}function QT(n,e){const t=Ge(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),XM(t)?QM(t):Ky(t).Co()&&JM(t,e))}function Hw(n,e){const t=Ge(n),r=Ky(t);t.hu.delete(e),r.Co()&&kL(t,e),0===t.hu.size&&(r.Co()?r.ko():Tf(t)&&t._u.set("Unknown"))}function JM(n,e){n.wu.Z(e.targetId),Ky(n).Qo(e)}function kL(n,e){n.wu.Z(e),Ky(n).jo(e)}function QM(n){n.wu=new mM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Ky(n).start(),n._u.iu()}function XM(n){return Tf(n)&&!Ky(n).Do()&&n.hu.size>0}function Tf(n){return 0===Ge(n).lu.size}function xL(n){n.wu=void 0}function VV(n){return eA.apply(this,arguments)}function eA(){return eA=(0,ye.Z)(function*(n){n.hu.forEach((e,t)=>{JM(n,e)})}),eA.apply(this,arguments)}function BV(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,ye.Z)(function*(n,e){xL(n),XM(n)?(n._u.uu(e),QM(n)):n._u.set("Unknown")}),tA.apply(this,arguments)}function UV(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,ye.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof LT&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const c=l.cause;for(const f of l.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield XT(n,r)}else if(e instanceof Tm?n.wu.ut(e):e instanceof OT?n.wu._t(e):n.wu.ht(e),!t.isEqual(kt.min()))try{const r=yield vL(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.wu.yt(l);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const D=i.hu.get(_);D&&i.hu.set(_,D.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(ci.EMPTY_BYTE_STRING,_.snapshotVersion)),kL(i,f);const D=new wf(_.target,f,1,_.sequenceNumber);JM(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield XT(n,r)}var r}),nA.apply(this,arguments)}function XT(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,ye.Z)(function*(n,e,t){if(!Am(e))throw e;n.lu.add(1),yield Wy(n),n._u.set("Offline"),t||(t=()=>vL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Uw(n)}))}),rA.apply(this,arguments)}function OL(n,e){return e().catch(t=>XT(n,t,e))}function zy(n){return iA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*(n){const e=Ge(n),t=Sf(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;HV(e);)try{const i=yield yV(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,jV(e,i)}catch(i){yield XT(e,i)}LL(e)&&RL(e)}),iA.apply(this,arguments)}function HV(n){return Tf(n)&&n.cu.length<10}function jV(n,e){n.cu.push(e);const t=Sf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function LL(n){return Tf(n)&&!Sf(n).Do()&&n.cu.length>0}function RL(n){Sf(n).start()}function YV(n){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n){Sf(n).Xo()}),sA.apply(this,arguments)}function $V(n){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n){const e=Sf(n);for(const t of n.cu)e.Ho(t.mutations)}),oA.apply(this,arguments)}function GV(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n,e,t){const r=n.cu.shift(),i=SM.from(r,e,t);yield OL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zy(n)}),aA.apply(this,arguments)}function ZV(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n,e){var t;e&&Sf(n).zo&&(yield(t=(0,ye.Z)(function*(r,i){if(fM(l=i.code)&&l!==de.ABORTED){const c=r.cu.shift();Sf(r).No(),yield OL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield zy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),LL(n)&&RL(n)}),lA.apply(this,arguments)}function NL(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ye.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Tf(t);t.lu.add(3),yield Wy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Uw(t)}),uA.apply(this,arguments)}function cA(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,ye.Z)(function*(n,e){const t=Ge(n);e?(t.lu.delete(2),yield Uw(t)):e||(t.lu.add(2),yield Wy(t),t._u.set("Unknown"))}),dA.apply(this,arguments)}function Ky(n){return n.mu||(n.mu=function(e,t,r){const i=Ge(e);return i.tu(),new LV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:VV.bind(null,n),Jr:BV.bind(null,n),Ko:UV.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.mu.No(),XM(n)?QM(n):n._u.set("Unknown")):(yield n.mu.stop(),xL(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Sf(n){return n.gu||(n.gu=function(e,t,r){const i=Ge(e);return i.tu(),new RV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:YV.bind(null,n),Jr:ZV.bind(null,n),Yo:$V.bind(null,n),Jo:GV.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.No(),yield zy(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class hA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,f=new hA(e,t,c,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Am(n))return new Ae(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Qy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Cm(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new Qy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class PL{constructor(){this.yu=new Ur(Ye.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xy{constructor(e,t,r,i,l,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Xy(e,t,Qy.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class qV{constructor(){this.Iu=void 0,this.listeners=[]}}class WV{constructor(){this.queries=new bd(e=>xy(e),bm),this.onlineState="Unknown",this.Tu=new Set}}function fA(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new qV),i)try{l.Iu=yield t.onListen(r)}catch(c){const f=Jy(c,`Initialization of query '${aw(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&_A(t)}),pA.apply(this,arguments)}function mA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),gA.apply(this,arguments)}function zV(n,e){const t=Ge(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&_A(t)}function KV(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function _A(n){n.Tu.forEach(e=>{e.next()})}class yA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Xy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class JV{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class FL{constructor(e){this.M=e}li(e){return Hl(this.M,e)}fi(e){return e.metadata.exists?bM(this.M,e.document,!1):Hn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Qr(e)}}class QV{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=VL(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=rn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new FL(this.M);for(const i of e)if(i.metadata.queries){const l=r.li(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||gn()).add(l);t.set(c,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function vV(n,e,t,r){return UM.apply(this,arguments)}(e.localStore,new FL(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield bV(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function VL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BL{constructor(e){this.key=e}}class UL{constructor(e){this.key=e}}class HL{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=gn(),this.mutatedKeys=gn(),this.Lu=uw(e),this.Uu=new Qy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new PL,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _=Ay(this.query)&&i.size===this.query.limit?i.last():null,D=ky(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,A)=>{const N=i.get(S),B=lw(this.query,A)?A:null,$=!!N&&this.mutatedKeys.has(N.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;N&&B?N.data.isEqual(B.data)?$!==ee&&(r.track({type:3,doc:B}),_e=!0):this.Qu(N,B)||(r.track({type:2,doc:B}),_e=!0,(_&&this.Lu(B,_)>0||D&&this.Lu(B,D)<0)&&(f=!0)):!N&&B?(r.track({type:0,doc:B}),_e=!0):N&&!B&&(r.track({type:1,doc:N}),_e=!0,(_||D)&&(f=!0)),_e&&(B?(c=c.add(B),l=ee?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))}),Ay(this.query)||ky(this.query))for(;c.size>this.query.limit;){const S=Ay(this.query)?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Ku:r,ei:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((D,S)=>function(A,N){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(A)-B(N)}(D.type,S.type)||this.Lu(D.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==l.length||_?{snapshot:new Xy(this.query,e.Uu,i,l,e.mutatedKeys,0===f,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new PL,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=gn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new UL(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new BL(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=gn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Xy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class XV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eB{constructor(e){this.key=e,this.Xu=!1}}class tB{constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new bd(f=>xy(f),bm),this.ea=new Map,this.na=new Set,this.sa=new Ur(Ye.comparator),this.ia=new Map,this.ra=new jM,this.oa={},this.ua=new Map,this.aa=Rm.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function nB(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,ye.Z)(function*(n,e){const t=jA(n);let r,i;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const c=yield Zy(t.localStore,Go(e));t.isPrimaryClient&&QT(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield bA(t,e,r,"current"===f)}return i}),vA.apply(this,arguments)}function bA(n,e,t,r){return wA.apply(this,arguments)}function wA(){return wA=(0,ye.Z)(function*(n,e,t,r){n.ha=(S,A,N)=>{return(B=(0,ye.Z)(function*($,ee,_e,Ve){let Oe=ee.view.Gu(_e);Oe.ei&&(Oe=yield WT($.localStore,ee.query,!1).then(({documents:yt})=>ee.view.Gu(yt,Oe)));const We=Ve&&Ve.targetChanges.get(ee.targetId),Ze=ee.view.applyChanges(Oe,$.isPrimaryClient,We);return xA($,ee.targetId,Ze.zu),Ze.snapshot}),function($,ee,_e,Ve){return B.apply(this,arguments)})(n,S,A,N);var B};const i=yield WT(n.localStore,e,!0),l=new HL(e,i.hi),c=l.Gu(i.documents),f=Vy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(c,n.isPrimaryClient,f);xA(n,t,_.zu);const D=new XV(e,t,l);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),wA.apply(this,arguments)}function rB(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(l=>!bm(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hw(t.remoteStore,r.targetId),ev(t,r.targetId)}).catch(Nm))):(ev(t,r.targetId),yield qy(t.localStore,r.targetId,!0))}),DA.apply(this,arguments)}function CA(){return CA=(0,ye.Z)(function*(n,e,t){const r=YA(n);try{const i=yield function(l,c){const f=Ge(l),_=vr.now(),D=c.reduce((A,N)=>A.add(N.key),gn());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,D).next(N=>{S=N;const B=[];for(const $ of c){const ee=MT($,S.get($.key));null!=ee&&B.push(new vd($.key,ee,ew(ee.value.mapValue),Vr.exists(!0)))}return f.$s.addMutationBatch(A,_,B,c)})).then(A=>(A.applyToLocalDocumentSet(S),{batchId:A.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let _=l.oa[l.currentUser.toKey()];_||(_=new Ur(Wt)),_=_.insert(c,f),l.oa[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Ed(r,i.changes),yield zy(r.remoteStore)}catch(i){const l=Jy(i,"Failed to persist write");t.reject(l)}}),CA.apply(this,arguments)}function jL(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,ye.Z)(function*(n,e){const t=Ge(n);try{const r=yield _V(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.ia.get(l);c&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Lt(c.Xu):i.removedDocuments.size>0&&(Lt(c.Xu),c.Xu=!1))}),yield Ed(t,r,e)}catch(r){yield Nm(r)}}),EA.apply(this,arguments)}function YL(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((l,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(l,c){const f=Ge(l);f.onlineState=c;let _=!1;f.queries.forEach((D,S)=>{for(const A of S.listeners)A.Eu(c)&&(_=!0)}),_&&_A(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sB(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),l=i&&i.key;if(l){let c=new Ur(Ye.comparator);c=c.insert(l,Hn.newNoDocument(l,kt.min()));const f=gn().add(l),_=new Fy(kt.min(),new Map,new Wn(Wt),c,f);yield jL(r,_),r.sa=r.sa.remove(l),r.ia.delete(e),OA(r)}else yield qy(r.localStore,e,!1).then(()=>ev(r,e,t)).catch(Nm)}),TA.apply(this,arguments)}function oB(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield gV(t.localStore,e);kA(t,r,null),AA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ed(t,i)}catch(i){yield Nm(i)}}),SA.apply(this,arguments)}function aB(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,ye.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(l,c){const f=Ge(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return f.$s.lookupMutationBatch(_,c).next(S=>(Lt(null!==S),D=S.keys(),f.$s.removeMutationBatch(_,S))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,D))})}(r.localStore,e);kA(r,e,t),AA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ed(r,i)}catch(i){yield Nm(i)}}),IA.apply(this,arguments)}function MA(){return MA=(0,ye.Z)(function*(n,e){const t=Ge(n);Tf(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=Ge(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Jy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),MA.apply(this,arguments)}function AA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function kA(n,e,t){const r=Ge(n);let i=r.oa[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function ev(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||$L(n,r)})}function $L(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Hw(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),OA(n))}function xA(n,e,t){for(const r of t)r instanceof BL?(n.ra.addReference(r.key,e),uB(n,r)):r instanceof UL?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||$L(n,r.key)):rt()}function uB(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),OA(n))}function OA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ye(rn.fromString(e)),r=n.aa.next();n.ia.set(r,new eB(t)),n.sa=n.sa.insert(t,r),QT(n.remoteStore,new wf(Go(vm(t.path)),r,2,Xs.A))}}function Ed(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,ye.Z)(function*(n,e,t){const r=Ge(n),i=[],l=[],c=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,_)=>{c.push(r.ha(_,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),i.push(D);const S=FM.Js(_.targetId,D);l.push(S)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(f=(0,ye.Z)(function*(_,D){const S=Ge(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>me.forEach(D,N=>me.forEach(N.zs,B=>S.persistence.referenceDelegate.addReference(A,N.targetId,B)).next(()=>me.forEach(N.Hs,B=>S.persistence.referenceDelegate.removeReference(A,N.targetId,B)))))}catch(A){if(!Am(A))throw A;Pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const N=A.targetId;if(!A.fromCache){const B=S.si.get(N),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(N,ee)}}}),function(_,D){return f.apply(this,arguments)})(r.localStore,l))}),LA.apply(this,arguments)}function cB(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,ye.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield yL(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(f=>{f.reject(new Ae(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ed(t,r.ci)}var i}),RA.apply(this,arguments)}function dB(n,e){const t=Ge(n),r=t.ia.get(e);if(r&&r.Xu)return gn().add(r.key);{let i=gn();const l=t.ea.get(e);if(!l)return i;for(const c of l){const f=t.ta.get(c);i=i.unionWith(f.view.qu)}return i}}function hB(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ye.Z)(function*(n,e){const t=Ge(n),r=yield WT(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&xA(t,e.targetId,i.zu),i}),NA.apply(this,arguments)}function fB(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,ye.Z)(function*(n,e){const t=Ge(n);return DL(t.localStore,e).then(r=>Ed(t,r))}),PA.apply(this,arguments)}function pB(n,e,t,r){return FA.apply(this,arguments)}function FA(){return FA=(0,ye.Z)(function*(n,e,t,r){const i=Ge(n),l=yield function(c,f){const _=Ge(c),D=Ge(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.ln(S,f).next(A=>A?_.ai.qs(S,A):me.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield zy(i.remoteStore):"acknowledged"===t||"rejected"===t?(kA(i,e,r||null),AA(i,e),f=e,Ge(Ge(i.localStore).$s).dn(f)):rt(),yield Ed(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),FA.apply(this,arguments)}function VA(){return VA=(0,ye.Z)(function*(n,e){const t=Ge(n);if(jA(t),YA(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield GL(t,r.toArray());t.ca=!0,yield cA(t.remoteStore,!0);for(const l of i)QT(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(ev(t,c),qy(t.localStore,c,!0))),Hw(t.remoteStore,c)}),yield i,yield GL(t,r),function(l){const c=Ge(l);c.ia.forEach((f,_)=>{Hw(c.remoteStore,_)}),c.ra.bi(),c.ia=new Map,c.sa=new Ur(Ye.comparator)}(t),t.ca=!1,yield cA(t.remoteStore,!1)}}),VA.apply(this,arguments)}function GL(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,ye.Z)(function*(n,e,t){const r=Ge(n),i=[],l=[];for(const c of e){let f;const _=r.ea.get(c);if(_&&0!==_.length){f=yield Zy(r.localStore,Go(_[0]));for(const D of _){const S=r.ta.get(D),A=yield hB(r,S);A.snapshot&&l.push(A.snapshot)}}else{const D=yield wL(r.localStore,c);f=yield Zy(r.localStore,D),yield bA(r,ZL(D),c,!1)}i.push(f)}return r.Zu.Ko(l),i}),BA.apply(this,arguments)}function ZL(n){return lM(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gB(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Os()}function _B(n,e,t,r){return UA.apply(this,arguments)}function UA(){return UA=(0,ye.Z)(function*(n,e,t,r){const i=Ge(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield DL(i.localStore,Oy(l[0])),f=Fy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ed(i,c,f);break}case"rejected":yield qy(i.localStore,e,!0),ev(i,e,r);break;default:rt()}}),UA.apply(this,arguments)}function yB(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,ye.Z)(function*(n,e,t){const r=jA(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield wL(r.localStore,i),c=yield Zy(r.localStore,l);yield bA(r,ZL(l),c.targetId,!1),QT(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield qy(r.localStore,i,!1).then(()=>{Hw(r.remoteStore,i),ev(r,i)}).catch(Nm))}}),HA.apply(this,arguments)}function jA(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sB.bind(null,e),e.Zu.Ko=zV.bind(null,e.eventManager),e.Zu.la=KV.bind(null,e.eventManager),e}function YA(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aB.bind(null,e),e}class qL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Bw(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return _L(this.persistence,new gL,e.initialUser,this.M)}_a(e){return new IV(YM.Wi,this.M)}da(e){return new SL}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WL extends qL{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield YA(r.ga.syncEngine),yield zy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return _L(this.persistence,new gL,e.initialUser,this.M)}wa(e){return new lV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=PM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new NM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ML(),JT(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new SL}}class bB extends WL{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof qM&&(r.sharedClientState.syncEngine={kr:pB.bind(null,i),Mr:_B.bind(null,i),Or:yB.bind(null,i),Os:gB.bind(null,i),Nr:fB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ye.Z)(function*(c){yield function mB(n,e){return VA.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}da(e){const t=ML();if(!qM.vt(t))throw new Ae(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=PM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class $A{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>YL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cB.bind(null,r.syncEngine),yield cA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new WV}createDatastore(e){const t=Bw(e.databaseInfo.databaseId),r=new OV(e.databaseInfo);return new NV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>YL(this.syncEngine,f,0),c=IL.vt()?new IL:new AV,new FV(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,f,_,D){const S=new tB(r,i,l,c,f,_);return D&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ge(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Wy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function zL(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class e1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wB{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new ui,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new JV(JSON.parse(l),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ye.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class DB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,c){const f=Ge(l),_=Mm(f.M)+"/documents",D={documents:c.map(B=>Im(f.M,B))},S=yield f.co("BatchGetDocuments",_,D),A=new Map;S.forEach(B=>{const $=function jO(n,e){return"found"in e?function(t,r){Lt(!!r.found);const i=Hl(t,r.found.name),l=Qr(r.found.updateTime),c=new $i({mapValue:{fields:r.found.fields}});return Hn.newFoundDocument(i,l,c)}(n,e):"missing"in e?function(t,r){Lt(!!r.missing),Lt(!!r.readTime);const i=Hl(t,r.missing),l=Qr(r.readTime);return Hn.newNoDocument(i,l)}(n,e):rt()}(f.M,B);A.set($.key.toString(),$)});const N=[];return c.forEach(B=>{const $=A.get(B.toString());Lt(!!$),N.push($)}),N}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Ye.fromPath(i);e.mutations.push(new gw(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const c=Ge(i),f=Mm(c.M)+"/documents",_={writes:l.map(D=>Uy(c.M,D))};yield c.ro("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vr.updateTime(t):Vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Ae(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vr.updateTime(t)}return Vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CB{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new WM(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ye.Z)(function*(){const t=new DB(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ca(l)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Zu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fM(t)}return!1}}class EB{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=by.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ye.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Jy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KL(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield yL(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),GA.apply(this,arguments)}function JL(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>NL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>NL(e.remoteStore,l)),n.onlineComponents=e}),ZA.apply(this,arguments)}function qA(n){return WA.apply(this,arguments)}function WA(){return WA=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield KL(n,new qL)),n.offlineComponents}),WA.apply(this,arguments)}function t1(n){return zA.apply(this,arguments)}function zA(){return zA=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield JL(n,new $A)),n.onlineComponents}),zA.apply(this,arguments)}function QL(n){return qA(n).then(e=>e.persistence)}function KA(n){return qA(n).then(e=>e.localStore)}function XL(n){return t1(n).then(e=>e.remoteStore)}function JA(n){return t1(n).then(e=>e.syncEngine)}function tv(n){return QA.apply(this,arguments)}function QA(){return QA=(0,ye.Z)(function*(n){const e=yield t1(n),t=e.eventManager;return t.onListen=nB.bind(null,e.syncEngine),t.onUnlisten=rB.bind(null,e.syncEngine),t}),QA.apply(this,arguments)}function eR(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,c,f,_){const D=new e1({next:A=>{l.enqueueAndForget(()=>mA(i,S));const N=A.docs.has(c);!N&&A.fromCache?_.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&f&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new yA(vm(c.path),D,{includeMetadataChanges:!0,Du:!0});return fA(i,S)}(yield tv(n),n.asyncQueue,e,t,r)})),r.promise}function tR(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,c,f,_){const D=new e1({next:A=>{l.enqueueAndForget(()=>mA(i,S)),A.fromCache&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new yA(c,D,{includeMetadataChanges:!0,Du:!0});return fA(i,S)}(yield tv(n),n.asyncQueue,e,t,r)})),r.promise}const nR=new Map;function XA(n,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rR(n,e,t,r){if(!0===e&&!0===r)throw new Ae(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iR(n){if(!Ye.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sR(n){if(Ye.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function n1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n1(n);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oR(n,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class aR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aR({}),this._settingsFrozen=!1,e instanceof el?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yb;switch(t.type){case"gapi":const r=t.client;return Lt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Zb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nR.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),nR.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Ss{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class tc extends Ss{constructor(e,t,r){super(e,t,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Ye(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function lR(n,e,...t){if(n=(0,Qt.m9)(n),XA("collection","path",e),n instanceof jw){const r=rn.fromString(e,...t);return sR(r),new tc(n,null,r)}{if(!(n instanceof hr||n instanceof tc))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return sR(r),new tc(n.firestore,null,r)}}function r1(n,e,...t){if(n=(0,Qt.m9)(n),1===arguments.length&&(e=by.R()),XA("doc","path",e),n instanceof jw){const r=rn.fromString(e,...t);return iR(r),new hr(n,null,new Ye(r))}{if(!(n instanceof hr||n instanceof tc))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return iR(r),new hr(n.firestore,n instanceof tc?n.converter:null,new Ye(r))}}function uR(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),(n instanceof hr||n instanceof tc)&&(e instanceof hr||e instanceof tc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cR(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),n instanceof Ss&&e instanceof Ss&&n.firestore===e.firestore&&bm(n._query,e._query)&&n.converter===e.converter}class NB{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new WM(this,"async_queue_retry"),this.Ua=()=>{const t=JT();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=JT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=JT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new ui;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ye.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Am(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,cr("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=hA.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(i),i}qa(){this.Fa&&rt()}verifyOperationInProgress(){}ja(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function ek(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class PB{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class br extends jw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new NB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dR(this),this._firestoreClient.terminate()}}function hi(n){return n._firestoreClient||dR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dR(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zb(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new EB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hR(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield KL(n,t),yield JL(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function fR(n){if(n._initialized||n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(ci.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nc(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fm{constructor(e){this._methodName=e}}class s1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const ZB=/^__.*__$/;class qB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vd(e,this.data,this.fieldMask,t,this.fieldTransforms):new yf(e,this.data,t,this.fieldTransforms)}}class pR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class o1{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new o1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return u1(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(mR(this.Ya)&&ZB.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class WB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Bw(e)}uc(e,t,r,i=!1){return new o1({Ya:e,methodName:t,oc:r,path:dr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Vm(n){const e=n._freezeSettings(),t=Bw(n._databaseId);return new WB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function a1(n,e,t,r,i,l={}){const c=n.uc(l.merge||l.mergeFields?2:0,e,t,i);ik("Data must be an object, but it was:",c,r);const f=yR(r,c);let _,D;if(l.merge)_=new lf(c.fieldMask),D=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const A of l.mergeFields){const N=sk(e,A,t);if(!c.contains(N))throw new Ae(de.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);bR(S,N)||S.push(N)}_=new lf(S),D=c.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=c.fieldTransforms;return new qB(new $i(f),_,D)}class Yw extends Fm{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yw}}function gR(n,e,t){return new o1({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class tk extends Fm{_toFieldTransform(e){return new Ry(e.path,new mf)}isEqual(e){return e instanceof tk}}class zB extends Fm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=gR(this,e,!0),r=this.ac.map(l=>Bm(l,t)),i=new gf(r);return new Ry(e.path,i)}isEqual(e){return this===e}}class KB extends Fm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=gR(this,e,!0),r=this.ac.map(l=>Bm(l,t)),i=new ec(r);return new Ry(e.path,i)}isEqual(e){return this===e}}class JB extends Fm{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new _f(e.M,dw(e.M,this.cc));return new Ry(e.path,t)}isEqual(e){return this===e}}function nk(n,e,t,r){const i=n.uc(1,e,t);ik("Data must be an object, but it was:",i,r);const l=[],c=$i.empty();$u(r,(_,D)=>{const S=l1(e,_,t);D=(0,Qt.m9)(D);const A=i.nc(S);if(D instanceof Yw)l.push(S);else{const N=Bm(D,A);null!=N&&(l.push(S),c.set(S,N))}});const f=new lf(l);return new pR(c,f,i.fieldTransforms)}function rk(n,e,t,r,i,l){const c=n.uc(1,e,t),f=[sk(e,r,t)],_=[i];if(l.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<l.length;N+=2)f.push(sk(e,l[N])),_.push(l[N+1]);const D=[],S=$i.empty();for(let N=f.length-1;N>=0;--N)if(!bR(D,f[N])){const B=f[N];let $=_[N];$=(0,Qt.m9)($);const ee=c.nc(B);if($ instanceof Yw)D.push(B);else{const _e=Bm($,ee);null!=_e&&(D.push(B),S.set(B,_e))}}const A=new lf(D);return new pR(S,A,c.fieldTransforms)}function _R(n,e,t,r=!1){return Bm(t,n.uc(r?4:3,e))}function Bm(n,e){if(vR(n=(0,Qt.m9)(n)))return ik("Unsupported field value:",e,n),yR(n,e);if(n instanceof Fm)return function(t,r){if(!mR(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let f=Bm(c,r.sc(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=vr.fromDate(t);return{timestampValue:bf(r.M,i)}}if(t instanceof vr){const i=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bf(r.M,i)}}if(t instanceof s1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nc)return{bytesValue:By(r.M,t._byteString)};if(t instanceof hr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${n1(t)}`)}(n,e)}function yR(n,e){const t={};return aT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$u(n,(r,i)=>{const l=Bm(i,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function vR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof s1||n instanceof nc||n instanceof hr||n instanceof Fm)}function ik(n,e,t){if(!vR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=n1(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function sk(n,e,t){if((e=(0,Qt.m9)(e))instanceof Td)return e._internalPath;if("string"==typeof e)return l1(n,e);throw u1("Field path arguments must be of type string or ",n,!1,void 0,t)}const QB=new RegExp("[~\\*/\\[\\]]");function l1(n,e,t){if(e.search(QB)>=0)throw u1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch(r){throw u1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function u1(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ae(de.INVALID_ARGUMENT,f+n+_)}function bR(n,e){return n.some(t=>t.isEqual(e))}class $w{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XB extends $w{data(){return super.data()}}function c1(n,e){return"string"==typeof e?l1(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}class Um{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends $w{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gw extends Sd{data(e={}){return super.data(e)}}class If{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Um(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gw(this._firestore,this._userDataWriter,r.key,r,new Um(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Gw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Um(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Gw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Um(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),D=l.indexOf(c.doc.key)),{type:e3(c.type),doc:f,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function wR(n,e){return n instanceof Sd&&e instanceof Sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof If&&e instanceof If&&n._firestore===e._firestore&&cR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function DR(n){if(ky(n)&&0===n.explicitOrderBy.length)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zw{}function Mf(n,...e){for(const t of e)n=t._apply(n);return n}class t3 extends Zw{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Vm(e.firestore),r=function(i,l,c,f,_,D,S){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){MR(S,D);const B=[];for(const $ of S)B.push(IR(f,i,$));A={arrayValue:{values:B}}}else A=IR(f,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||MR(S,D),A=_R(c,"where",S,"in"===D||"not-in"===D);const N=di.create(_,D,A);return function(B,$){if($.S()){const _e=bT(B);if(null!==_e&&!_e.isEqual($.field))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${$.field.toString()}'`);const Ve=sw(B);null!==Ve&&AR(0,$.field,Ve)}const ee=function(_e,Ve){for(const Oe of _e.filters)if(Ve.indexOf(Oe.op)>=0)return Oe.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ee)throw new Ae(de.INVALID_ARGUMENT,ee===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,N),N}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ss(e.firestore,e.converter,function(i,l){const c=i.filters.concat([l]);return new Qu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class r3 extends Zw{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new yd(i,l);return function(f,_){if(null===sw(f)){const D=bT(f);null!==D&&AR(0,D,_.field)}}(r,c),c}(e._query,this.hc,this.dc);return new Ss(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Qu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class CR extends Zw{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ss(e.firestore,e.converter,Zo(e._query,this._c,this.wc))}}class ER extends Zw{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=SR(e,this.type,this.mc,this.gc);return new Ss(e.firestore,e.converter,(i=t,new Qu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class TR extends Zw{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=SR(e,this.type,this.mc,this.gc);return new Ss(e.firestore,e.converter,(i=t,new Qu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function SR(n,e,t,r){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof $w)return function(i,l,c,f,_){if(!f)throw new Ae(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const D=[];for(const S of Xu(i))if(S.field.isKeyField())D.push(cf(l,f.key));else{const A=f.data.field(S.field);if(wy(A))throw new Ae(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const N=S.field.canonicalString();throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}D.push(A)}return new _d(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Vm(n.firestore);return function(l,c,f,_,D,S){const A=l.explicitOrderBy;if(D.length>A.length)throw new Ae(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let B=0;B<D.length;B++){const $=D[B];if(A[B].field.isKeyField()){if("string"!=typeof $)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!ow(l)&&-1!==$.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ee=l.path.child(rn.fromString($));if(!Ye.isDocumentKey(ee))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const _e=new Ye(ee);N.push(cf(c,_e))}else{const ee=_R(f,_,$);N.push(ee)}}return new _d(N,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function IR(n,e,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ow(e)&&-1!==t.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!Ye.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cf(n,new Ye(r))}if(t instanceof hr)return cf(n,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n1(t)}.`)}function MR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function AR(n,e,t){if(!t.isEqual(e))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ok{convertValue(e,t="none"){switch(Wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return $u(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new s1(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gm(e));default:return null}}convertTimestamp(e){const t=Gu(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);Lt(M(r));const i=new el(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return i.isEqual(t)||cr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function d1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class d3 extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class kR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vm(e)}set(e,t,r){this._verifyNotCommitted();const i=Af(e,this._firestore),l=d1(i.converter,t,r),c=a1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Af(e,this._firestore);let c;return c="string"==typeof(t=(0,Qt.m9)(t))||t instanceof Td?rk(this._dataReader,"WriteBatch.update",l._key,t,r,i):nk(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Af(e,this._firestore);return this._mutations=this._mutations.concat(new vf(t._key,Vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(n,e){if((n=(0,Qt.m9)(n)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hm extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function xR(n,e,t){n=_n(n,hr);const r=_n(n.firestore,br),i=d1(n.converter,e,t);return nv(r,[a1(Vm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vr.none())])}function OR(n,e,t,...r){n=_n(n,hr);const i=_n(n.firestore,br),l=Vm(i);let c;return c="string"==typeof(e=(0,Qt.m9)(e))||e instanceof Td?rk(l,"updateDoc",n._key,e,t,r):nk(l,"updateDoc",n._key,e),nv(i,[c.toMutation(n._key,Vr.exists(!0))])}function LR(n,...e){var t,r,i;n=(0,Qt.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||ek(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges};if(ek(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,D,S;if(n instanceof hr)D=_n(n.firestore,br),S=vm(n._key.path),_={next:A=>{e[c]&&e[c](ak(D,n,A))},error:e[c+1],complete:e[c+2]};else{const A=_n(n,Ss);D=_n(A.firestore,br),S=A._query;const N=new Hm(D);_={next:B=>{e[c]&&e[c](new If(D,N,A,B))},error:e[c+1],complete:e[c+2]},DR(n._query)}return function(A,N,B,$){const ee=new e1($),_e=new yA(N,ee,B);return A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return fA(yield tv(A),_e)})),()=>{ee.pa(),A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return mA(yield tv(A),_e)}))}}(hi(D),S,f,_)}function nv(n,e){return function(t,r){const i=new ui;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function iB(n,e,t){return CA.apply(this,arguments)}(yield JA(t),r,i)})),i.promise}(hi(n),e)}function ak(n,e,t){const r=t.docs.get(e._key),i=new Hm(n);return new Sd(n,i,e._key,r,new Um(t.hasPendingWrites,t.fromCache),e.converter)}class w3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vm(e)}get(e){const t=Af(e,this._firestore),r=new d3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const l=i[0];if(l.isFoundDocument())return new $w(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new $w(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const i=Af(e,this._firestore),l=d1(i.converter,t,r),c=a1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=Af(e,this._firestore);let c;return c="string"==typeof(t=(0,Qt.m9)(t))||t instanceof Td?rk(this._dataReader,"Transaction.update",l._key,t,r,i):nk(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Af(e,this._firestore),r=new Hm(this._firestore);return super.get(e).then(i=>new Sd(this._firestore,r,t._key,i._document,new Um(!1,!1),t.converter))}}function lk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function NR(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function PR(){if(!function iM(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ju=ad.SDK_VERSION,(0,ad._registerComponent)(new L_.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new br(i,new iT(t.getProvider("auth-internal")),new rM(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ad.registerVersion)(Ta,"3.4.7",n),(0,ad.registerVersion)(Ta,"3.4.7","esm2017")}();class qw{constructor(e){this._delegate=e}static fromBase64String(e){return PR(),new qw(nc.fromBase64String(e))}static fromUint8Array(e){return NR(),new qw(nc.fromUint8Array(e))}toBase64(){return PR(),this._delegate.toBase64()}toUint8Array(){return NR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uk(n){return function k3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class x3{enableIndexedDbPersistence(e,t){return function VB(n,e){fR(n=_n(n,br));const t=hi(n),r=n._freezeSettings(),i=new $A;return hR(t,i,new WL(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function BB(n){fR(n=_n(n,br));const e=hi(n),t=n._freezeSettings(),r=new $A;return hR(e,r,new bB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function UB(n){if(n._initialized&&!n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!jl.vt())return Promise.resolve();const i=r+"main";yield jl.delete(i)}),function(r){return t.apply(this,arguments)})(PM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class FR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof el||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function LB(n,e,t,r={}){var i;const l=(n=_n(n,jw))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Yu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Ti.MOCK_USER;else{c=(0,Qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ti(_)}n._authCredentials=new $b(new nM(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function jB(n){return function TB(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield QL(n),t=yield XL(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i.lu.delete(0),Uw(i)}(t)}))}(hi(n=_n(n,br)))}(this._delegate)}disableNetwork(){return function YB(n){return function SB(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield QL(n),t=yield XL(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=Ge(i);l.lu.add(0),yield Wy(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(hi(n=_n(n,br)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function HB(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function lB(n,e){return MA.apply(this,arguments)}(yield JA(e),t)})),t.promise}(hi(n=_n(n,br)))}(this._delegate)}onSnapshotsInSync(e){return function b3(n,e){return function AB(n,e){const t=new e1(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield tv(n),i=t,Ge(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield tv(n),i=t,void Ge(r).Tu.delete(i);var r,i}))}}(hi(n=_n(n,br)),ek(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rv(this,lR(this._delegate,e))}catch(t){throw ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new tl(this,r1(this._delegate,e))}catch(t){throw ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function RB(n,e){if(n=_n(n,jw),XA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ss(n,null,(t=e,new Qu(rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function D3(n,e){return function kB(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,t1(i).then(l=>l.datastore));var i;new CB(n.asyncQueue,r,e,t).run()})),t.promise}(hi(n=_n(n,br)),t=>e(new w3(n,t)))}(this._delegate,t=>e(new VR(this,t)))}batch(){return hi(this._delegate),new BR(new kR(this._delegate,e=>nv(this._delegate,e)))}loadBundle(e){return function $B(n,e){const t=hi(n=_n(n,br)),r=new PB;return function xB(n,e,t,r){const i=function(l,c){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,D){if(_ instanceof Uint8Array)return zL(_,D);if(_ instanceof ArrayBuffer)return zL(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new wB(_,c);var _}(t,Bw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function vB(n,e,t){const r=Ge(n);var i;(i=(0,ye.Z)(function*(l,c,f){try{const _=yield c.getMetadata();if(yield function(N,B){const $=Ge(N),ee=Qr(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",_e=>$.ds.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ee)>=0)}(l.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(VL(_));const D=new QV(_,l.localStore,c.M);let S=yield c.fa();for(;S;){const N=yield D.Nu(S);N&&f._updateProgress(N),S=yield c.fa()}const A=yield D.complete();return yield Ed(l,A.Ou,void 0),yield function(N,B){const $=Ge(N);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.ds.saveBundleMetadata(ee,B))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(_){return Yu("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var N}),function(l,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function GB(n,e){return function OB(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.ds.getNamedQuery(l,r))}(yield KA(n),e)}))}(hi(n=_n(n,br)),e).then(t=>t?new Ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class h1 extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new qw(new nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tl.forKey(t,this.firestore,null)}}class VR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new h1(e)}get(e){const t=Ym(e);return this._delegate.get(t).then(r=>new Ww(this._firestore,new Sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ym(e);return r?(lk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Ym(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Ym(e);return this._delegate.delete(t),this}}class BR{constructor(e){this._delegate=e}set(e,t,r){const i=Ym(e);return r?(lk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Ym(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Ym(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Gw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=jm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new jm(e,new h1(e),t),i.set(t,l)),l}}jm.INSTANCES=new WeakMap;class tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new h1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tl(t,new hr(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new tl(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rv(this.firestore,lR(this._delegate,e))}catch(t){throw ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof hr&&uR(this._delegate,e)}set(e,t){t=lk("DocumentReference.set",t);try{return t?xR(this._delegate,e,t):xR(this._delegate,e)}catch(r){throw ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?OR(this._delegate,e):OR(this._delegate,e,t,...r)}catch(i){throw ro(i,"updateDoc()","DocumentReference.update()")}}delete(){return function y3(n){return nv(_n(n.firestore,br),[new vf(n._key,Vr.none())])}(this._delegate)}onSnapshot(...e){const t=UR(e),r=HR(e,i=>new Ww(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return LR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function f3(n){n=_n(n,hr);const e=_n(n.firestore,br),t=hi(e),r=new Hm(e);return function IB(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,c){try{const f=yield function(_,D){const S=Ge(_);return S.persistence.runTransaction("read document","readonly",A=>S.ai.Bs(A,D))}(i,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ae(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Jy(f,`Failed to get document '${l} from cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield KA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Sd(e,r,n._key,i,new Um(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function p3(n){n=_n(n,hr);const e=_n(n.firestore,br);return eR(hi(e),n._key,{source:"server"}).then(t=>ak(e,n,t))}(this._delegate):function h3(n){n=_n(n,hr);const e=_n(n.firestore,br);return eR(hi(e),n._key).then(t=>ak(e,n,t))}(this._delegate),t.then(r=>new Ww(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tl(this.firestore,this._delegate.withConverter(e?jm.getInstance(this.firestore,e):null))}}function ro(n,e,t){return n.message=n.message.replace(e,t),n}function UR(n){for(const e of n)if("object"==typeof e&&!uk(e))return e;return{}}function HR(n,e){var t,r;let i;return i=uk(n[0])?n[0]:uk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ww{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wR(this._delegate,e._delegate)}}class zw extends Ww{data(e){const t=this._delegate.data(e);return function rT(n,e){n||rt()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new h1(e)}where(e,t,r){try{return new io(this.firestore,Mf(this._delegate,function n3(n,e,t){const r=e,i=c1("where",n);return new t3(i,r,t)}(e,t,r)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,Mf(this._delegate,function i3(n,e="asc"){const t=e,r=c1("orderBy",n);return new r3(r,t)}(e,t)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,Mf(this._delegate,function s3(n){return oR("limit",n),new CR("limit",n,"F")}(e)))}catch(t){throw ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,Mf(this._delegate,function o3(n){return oR("limitToLast",n),new CR("limitToLast",n,"L")}(e)))}catch(t){throw ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,Mf(this._delegate,function a3(...n){return new ER("startAt",n,!0)}(...e)))}catch(t){throw ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,Mf(this._delegate,function l3(...n){return new ER("startAfter",n,!1)}(...e)))}catch(t){throw ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,Mf(this._delegate,function u3(...n){return new TR("endBefore",n,!1)}(...e)))}catch(t){throw ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,Mf(this._delegate,function c3(...n){return new TR("endAt",n,!0)}(...e)))}catch(t){throw ro(t,"endAt()","Query.endAt()")}}isEqual(e){return cR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function g3(n){n=_n(n,Ss);const e=_n(n.firestore,br),t=hi(e),r=new Hm(e);return function MB(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,c){try{const f=yield WT(i,l,!0),_=new HL(l,f.hi),D=_.Gu(f.documents),S=_.applyChanges(D,!1);c.resolve(S.snapshot)}catch(f){const _=Jy(f,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield KA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new If(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function _3(n){n=_n(n,Ss);const e=_n(n.firestore,br),t=hi(e),r=new Hm(e);return tR(t,n._query,{source:"server"}).then(i=>new If(e,r,n,i))}(this._delegate):function m3(n){n=_n(n,Ss);const e=_n(n.firestore,br),t=hi(e),r=new Hm(e);return DR(n._query),tR(t,n._query).then(i=>new If(e,r,n,i))}(this._delegate),t.then(r=>new ck(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UR(e),r=HR(e,i=>new ck(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return LR(this._delegate,t,r)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?jm.getInstance(this.firestore,e):null))}}class L3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ck{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new L3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new zw(this._firestore,r))})}isEqual(e){return wR(this._delegate,e._delegate)}}class rv extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tl(this.firestore,e):null}doc(e){try{return new tl(this.firestore,void 0===e?r1(this._delegate):r1(this._delegate,e))}catch(t){throw ro(t,"doc()","CollectionReference.doc()")}}add(e){return function v3(n,e){const t=_n(n.firestore,br),r=r1(n),i=d1(n.converter,e);return nv(t,[a1(Vm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new tl(this.firestore,t))}isEqual(e){return uR(this._delegate,e._delegate)}withConverter(e){return new rv(this.firestore,this._delegate.withConverter(e?jm.getInstance(this.firestore,e):null))}}function Ym(n){return _n(n,hr)}class dk{constructor(...e){this._delegate=new Td(...e)}static documentId(){return new dk(dr.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof Td&&this._delegate._internalPath.isEqual(e._internalPath)}}class $m{constructor(e){this._delegate=e}static serverTimestamp(){const e=function E3(){return new tk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $m(e)}static delete(){const e=function C3(){return new Yw("deleteField")}();return e._methodName="FieldValue.delete",new $m(e)}static arrayUnion(...e){const t=function T3(...n){return new zB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $m(t)}static arrayRemove(...e){const t=function S3(...n){return new KB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $m(t)}static increment(e){const t=function I3(n){return new JB("increment",n)}(e);return t._methodName="FieldValue.increment",new $m(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const R3={Firestore:FR,GeoPoint:s1,Timestamp:vr,Blob:qw,Transaction:VR,WriteBatch:BR,DocumentReference:tl,DocumentSnapshot:Ww,Query:io,QueryDocumentSnapshot:zw,QuerySnapshot:ck,CollectionReference:rv,FieldPath:dk,FieldValue:$m,setLogLevel:function O3(n){!function tM(n){$o.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function P3(n){(function N3(n,e){n.INTERNAL.registerComponent(new L_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},R3)))})(n,(e,t)=>new FR(e,t,new x3)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(pE.Z);var Kw=L(5363),F3=L(6063);class iv extends Vn.x{constructor(e=1/0,t=1/0,r=F3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var V3=L(3099);function jR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,V3.B)({connector:()=>new iv(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function YR(n,e){return(0,Ni.m)(e)?hn(()=>n,e):hn(()=>n)}var hk=L(9468);L(5867);const GR=new Map,Y3={activated:!1,tokenObservers:[]},$3={initialized:!1,enabled:!1};function qi(n){return GR.get(n)||Y3}function Yl(n,e){GR.set(n,e)}function p1(){return $3}class z3{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function K3(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const so=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qR(n){if(!qi(n).activated)throw so.create("use-before-activation",{appName:n.name})}function gk(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,l)}catch(A){throw so.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw so.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw so.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const D=1e3*Number(_[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),_k.apply(this,arguments)}function tU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Jw="firebase-app-check-store";let _1=null;function zR(){return _1||(_1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(so.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Jw,{keyPath:"compositeKey"})}}catch(t){e(so.create("storage-open",{originalErrorMessage:t.message}))}}),_1)}function yk(){return yk=(0,ye.Z)(function*(n,e){const r=(yield zR()).transaction(Jw,"readwrite"),l=r.objectStore(Jw).put({compositeKey:n,value:e});return new Promise((c,f)=>{l.onsuccess=_=>{c()},r.onerror=_=>{var D;f(so.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})}),yk.apply(this,arguments)}const Qw=new Vl.Yd("@firebase/app-check");function XR(n,e){return(0,Qt.hl)()?function sU(n,e){return function KR(n,e){return yk.apply(this,arguments)}(function QR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eN(){return p1().enabled}function tN(){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,ye.Z)(function*(){const n=p1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Dk.apply(this,arguments)}const dU={error:"UNKNOWN_ERROR"};function hU(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function y1(n){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,ye.Z)(function*(n,e=!1){const t=n.app;qR(t);const r=qi(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&v1(_)&&(i=_)}if(!e&&i&&v1(i))return{token:i.token};let f,c=!1;if(eN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gk(tU(t,yield tN()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),c=!0);const _=yield r.exchangeTokenPromise;return yield XR(t,_),Yl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Qw.warn(_.message):Qw.error(_),l=_}return i?(f={token:i.token},Yl(t,Object.assign(Object.assign({},r),{token:i})),yield XR(t,i)):f=pU(l),c&&rN(t,f),f}),Ck.apply(this,arguments)}function Tk(n,e){const t=qi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function nN(n){const{app:e}=n,t=qi(e);let r=t.tokenRefresher;r||(r=function fU(n){const{app:e}=n;return new z3((0,ye.Z)(function*(){let r;if(r=qi(e).token?yield y1(n,!0):yield y1(n),r.error)throw r.error}),()=>!0,()=>{const t=qi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Yl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rN(n,e){const t=qi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function v1(n){return n.expireTimeMillis-Date.now()>0}function pU(n){return{token:hU(dU),error:n}}class mU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qi(this.app);for(const t of e)Tk(this.app,t.next);return Promise.resolve()}}const dN="app-check-internal";!function AU(){(0,ad._registerComponent)(new L_.wA("app-check",n=>function gU(n,e){return new mU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dN).initialize()})),(0,ad._registerComponent)(new L_.wA(dN,n=>function _U(n){return{getToken:e=>y1(n,e),addTokenListener:e=>function Ek(n,e,t,r){const{app:i}=n,l=qi(i),c={next:t,error:r,type:e};if(Yl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&v1(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),nN(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>nN(n))}(n,"INTERNAL",e),removeTokenListener:e=>Tk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ad.registerVersion)("@firebase/app-check","0.5.5")}();class Ak{constructor(){return(0,oi.vb)("app-check")}}"undefined"!=typeof window&&window;var RU=L(127);const fN=new a.OlP("angularfire2.auth.use-emulator"),pN=new a.OlP("angularfire2.auth.settings"),mN=new a.OlP("angularfire2.auth.tenant-id"),gN=new a.OlP("angularfire2.auth.langugage-code"),_N=new a.OlP("angularfire2.auth.use-device-language"),yN=new a.OlP("angularfire.auth.persistence"),vN=(n,e,t,r,i,l,c,f)=>(0,Da.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),c)for(const[D,S]of Object.entries(c))_.settings[D]=S;return f&&_.setPersistence(f),_},[t,r,i,l,c,f]);let bN=(()=>{class n{constructor(t,r,i,l,c,f,_,D,S,A,N,B){const $=new Vn.x,ee=pt(void 0).pipe((0,Kw.Q)(c.outsideAngular),hn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4087)))),(0,Mt.U)(()=>(0,Da.on)(t,l,r)),(0,Mt.U)(_e=>vN(_e,l,f,D,S,A,_,N)),jR({bufferSize:1,refCount:!1}));if(Rr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{ee.pipe(xo()).subscribe();const Ve=ee.pipe(hn(Ze=>Ze.getRedirectResult().then(yt=>yt,()=>null)),oi.iC,jR({bufferSize:1,refCount:!1})),Oe=ee.pipe(hn(Ze=>new Tr.y(yt=>({unsubscribe:l.runOutsideAngular(()=>Ze.onAuthStateChanged(ut=>yt.next(ut),ut=>yt.error(ut),()=>yt.complete()))})))),We=ee.pipe(hn(Ze=>new Tr.y(yt=>({unsubscribe:l.runOutsideAngular(()=>Ze.onIdTokenChanged(ut=>yt.next(ut),ut=>yt.error(ut),()=>yt.complete()))}))));this.authState=Ve.pipe(YR(Oe),(0,hk.R)(c.outsideAngular),(0,Kw.Q)(c.insideAngular)),this.user=Ve.pipe(YR(We),(0,hk.R)(c.outsideAngular),(0,Kw.Q)(c.insideAngular)),this.idToken=this.user.pipe(hn(Ze=>Ze?(0,Xn.D)(Ze.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(hn(Ze=>Ze?(0,Xn.D)(Ze.getIdTokenResult()):pt(null))),this.credential=(0,O0.T)(Ve,$,this.authState.pipe(xn(Ze=>!Ze))).pipe((0,Mt.U)(Ze=>(null==Ze?void 0:Ze.user)?Ze:null),(0,hk.R)(c.outsideAngular),(0,Kw.Q)(c.insideAngular))}return(0,Da.pX)(this,ee,l,{spy:{apply:(_e,Ve,Oe)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Oe.then(We=>$.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Da.Dh),a.LFG(Da.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(oi.HU),a.LFG(fN,8),a.LFG(pN,8),a.LFG(mN,8),a.LFG(gN,8),a.LFG(_N,8),a.LFG(yN,8),a.LFG(Ak,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wN(n,e){return function PU(n,e=p_.z){return new Tr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function xk(n,e){return wN(n,e).pipe((0,Mt.U)(t=>({payload:t,type:"query"})))}function w1(n,e){return xk(n,e).pipe(Pi(void 0),Z0(),(0,Mt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),l}))}function DN(n,e,t){return w1(n,t).pipe(Fr((r,i)=>function VU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function BU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ok(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ok(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ok(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),O_(),(0,Mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Ok(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function CN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=w1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Pi(void 0),Z0(),xn(([r,i])=>i.length>0||!r),(0,Mt.U)(([r,i])=>i),oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CN(e);return DN(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),oi.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(oi.iC)}add(e){return this.ref.add(e)}doc(e){return new TN(this.ref.doc(e),this.afs)}}class TN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=MN(r,t);return new EN(i,l,this.afs)}snapshotChanges(){return function FU(n,e){return wN(n,e).pipe(Pi(void 0),Z0(),(0,Mt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xn.D)(this.ref.get(e)).pipe(oi.iC)}}class UU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?w1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xn(t=>t.length>0),oi.iC):w1(this.query,this.afs.schedulers.outsideAngular).pipe(oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CN(e);return DN(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),oi.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(oi.iC)}}const SN=new a.OlP("angularfire2.enableFirestorePersistence"),IN=new a.OlP("angularfire2.firestore.persistenceSettings"),HU=new a.OlP("angularfire2.firestore.settings"),jU=new a.OlP("angularfire2.firestore.use-emulator");function MN(n,e=(t=>t)){return{query:e(n),ref:n}}let sv=(()=>{class n{constructor(t,r,i,l,c,f,_,D,S,A,N,B,$,ee,_e,Ve,Oe){this.schedulers=_;const We=(0,Da.on)(t,f,r),Ze=S;A&&vN(We,f,N,$,ee,_e,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,Da.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const yt=f.runOutsideAngular(()=>We.firestore());if(l&&yt.settings(l),Ze&&yt.useEmulator(...Ze),i&&!Rr(c)){const ut=()=>{try{return(0,Xn.D)(yt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(ln){return"undefined"!=typeof console&&console.warn(ln),pt(!1)}};return[yt,f.runOutsideAngular(ut)]}return[yt,pt(!1)]},[l,Ze,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=MN(i,r),f=this.schedulers.ngZone.run(()=>l);return new EN(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new UU(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new TN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Da.Dh),a.LFG(Da.xv,8),a.LFG(SN,8),a.LFG(HU,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(oi.HU),a.LFG(IN,8),a.LFG(jU,8),a.LFG(bN,8),a.LFG(fN,8),a.LFG(pN,8),a.LFG(mN,8),a.LFG(gN,8),a.LFG(_N,8),a.LFG(yN,8),a.LFG(Ak,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xw=(()=>{class n{constructor(){RU.Z.registerVersion("angularfire",oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:SN,useValue:!0},{provide:IN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[sv]}),n})(),ov=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("events").add(t)}getAll(t){return this._client.collection("events").valueChanges({idField:"id"}).pipe((0,Mt.U)(r=>t&&t.title?r.filter(i=>{var l;return i.title.toLowerCase().includes(null===(l=null==t?void 0:t.title)||void 0===l?void 0:l.toLowerCase())}):r))}getOne(t){return this._client.doc("events/"+t).valueChanges({idField:"id"})}remove(t){this._client.doc("events/"+t).delete()}set(t){this._client.doc("events/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const AN=new a.OlP("ADDS_EVENT_DTO"),D1=new a.OlP("GETS_ONE_EVENT_DTO"),kN=new a.OlP("SETS_EVENT_DTO");let C1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ov,{provide:AN,useExisting:ov},{provide:Zg,useExisting:ov},{provide:D1,useExisting:ov},{provide:M0,useExisting:ov},{provide:kN,useExisting:ov}],imports:[[Xw]]}),n})(),YU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),xN=(()=>{class n extends iv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[xN,{provide:m_,useExisting:xN}],imports:[[]]}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn.forChild([{path:"",component:gI}]),Jr,C1,YU,$U]]}),n})();var ZU=L(5032);function ON(n){return(0,Pr.e)((e,t)=>{(0,Ao.Xf)(n).subscribe((0,$n.x)(t,()=>t.complete(),ZU.Z)),!t.closed&&e.subscribe(t)})}function Gm(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function oo(n){return"string"==typeof n}function E1(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function kf(n){return n&&n.getTime&&!isNaN(n.getTime())}function Zm(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function qm(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function wr(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Is(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Wm(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function LN(n){return void 0===n}function sn(n){const e=+n;let t=0;return 0!==e&&isFinite(e)&&(t=Gm(e)),t}const eD={},RN={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Ms(n,e){const t=n.toLowerCase();let r=n;t in RN&&(r=RN[t]),eD[t]=eD[`${t}s`]=eD[e]=r}function NN(n){return oo(n)?eD[n]||eD[n.toLowerCase()]:void 0}function Ad(n,e,t){const r=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}const Lk={},av={},PN=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Ft(n,e,t,r){n&&(av[n]=r),e&&(av[e[0]]=function(){return Ad(r.apply(null,arguments),e[1],e[2])}),t&&(av[t]=function(i,l){return l.locale.ordinal(r.apply(null,arguments),n)})}function XU(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function T1(n,e,t){const r=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(r.getUTCFullYear())&&r.setUTCFullYear(n),r}function S1(n,e=0,t=1,r=0,i=0,l=0,c=0){const f=new Date(n,e,t,r,i,l,c);return n<100&&n>=0&&isFinite(f.getFullYear())&&f.setFullYear(n),f}function on(n,e=!1){return e?n.getUTCHours():n.getHours()}function lv(n,e=!1){return e?n.getUTCMinutes():n.getMinutes()}function Rk(n,e=!1){return e?n.getUTCSeconds():n.getSeconds()}function kd(n,e=!1){return e?n.getUTCMilliseconds():n.getMilliseconds()}function ic(n,e=!1){return e?n.getUTCDay():n.getDay()}function Km(n,e=!1){return e?n.getUTCDate():n.getDate()}function an(n,e=!1){return e?n.getUTCMonth():n.getMonth()}function Mr(n,e=!1){return e?n.getUTCFullYear():n.getFullYear()}function uv(n,e){return!(!n||!e)&&cv(n,e)&&an(n)===an(e)}function cv(n,e){return!(!n||!e)&&Mr(n)===Mr(e)}function xf(n,e){return!(!n||!e)&&cv(n,e)&&uv(n,e)&&Km(n)===Km(e)}const FN=/\d/,Sa=/\d\d/,VN=/\d{3}/,Nk=/\d{4}/,I1=/[+-]?\d{6}/,fr=/\d\d?/,BN=/\d\d\d\d?/,UN=/\d\d\d\d\d\d?/,M1=/\d{1,3}/,Pk=/\d{1,4}/,A1=/[+-]?\d{1,6}/,sH=/\d+/,k1=/[+-]?\d+/,x1=/Z|[+-]\d\d(?::?\d\d)?/gi,aH=/[+-]?\d+(\.\d{1,3})?/,tD=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,O1={};function _t(n,e,t){O1[n]=Zm(e)?e:function(r,i){return r&&t?t:e}}function lH(n,e){return Is(O1,n)?O1[n](!1,e):new RegExp(function uH(n){return Jm(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,r,i,l)=>t||r||i||l))}(n))}function Jm(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Fk={};function pr(n,e){const t=oo(n)?[n]:n;let r=e;if(qm(e)&&(r=function(i,l,c){return l[e]=sn(i),c}),wr(t)&&Zm(r)){let i;for(i=0;i<t.length;i++)Fk[t[i]]=r}}function nD(n,e){pr(n,function(t,r,i,l){return i._w=i._w||{},e(t,i._w,i,l)})}function cH(n,e,t){return null!=e&&Is(Fk,n)&&Fk[n](e,t._a,t,n),t}const dH={};function As(n,e){dH[n]=e}function En(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function Vk(n,e){return e.locale.getFullYear?e.locale.getFullYear(n,e.isUTC).toString():Mr(n,e.isUTC).toString()}function Bk(n){return sn(n)+(sn(n)>68?1900:2e3)}function rD(n){return Uk(n)?366:365}function Uk(n){return n%4==0&&n%100!=0||n%400==0}function L1(n,e){if(isNaN(n)||isNaN(e))return NaN;const t=function qU(n,e){return(n%e+e)%e}(e,12);return 1===t?Uk(n+(e-t)/12)?29:28:31-t%7%2}const gH={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Wi(n,e){const t=Object.assign({},gH,e),r=n.getFullYear()+(t.year||0),i=n.getMonth()+(t.month||0);let l=n.getDate()+(t.day||0);return t.month&&!t.day&&(l=Math.min(l,L1(r,i))),S1(r,i,l,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function dv(n,e){return qm(e)?e:n}function Qm(n,e,t){const r=Math.min(Km(n),L1(Mr(n),e));return t?n.setUTCMonth(e,r):n.setMonth(e,r),n}function Hk(n,e,t){return t?n.setUTCDate(e):n.setDate(e),n}function xd(n){return new Date(n.getTime())}function Od(n,e,t){const r=xd(n);switch(e){case"year":Qm(r,0,t);case"quarter":case"month":Hk(r,1,t);case"week":case"isoWeek":case"day":case"date":!function vH(n,e,t){t?n.setUTCHours(e):n.setHours(e)}(r,0,t);case"hours":!function bH(n,e,t){t?n.setUTCMinutes(e):n.setMinutes(e)}(r,0,t);case"minutes":!function wH(n,e,t){t?n.setUTCSeconds(e):n.setSeconds(e)}(r,0,t);case"seconds":!function DH(n,e,t){t?n.setUTCMilliseconds(e):n.setMilliseconds(e)}(r,0,t)}return"week"===e&&function Nj(n,e,t={}){ac(n,e-ex(n,t.locale,t.isUTC),"day")}(r,0,{isUTC:t}),"isoWeek"===e&&function Pj(n,e,t={}){const r=function Rj(n,e=Ii()){return oo(n)?e.weekdaysParse(n)%7||7:qm(n)&&isNaN(n)?null:n}(e,t.locale);lD(n,function fi(n,e){return ic(n,e)}(n)%7?r:r-7)}(r,1),"quarter"===e&&Qm(r,3*Math.floor(an(r,t)/3),t),r}function R1(n,e,t){let r=e;return"date"===r&&(r="day"),function xj(n,e,t,r){return fP(n,Xk(e,t),-1,r)}(ac(Od(n,r,t),1,"isoWeek"===r?"week":r,t),1,"milliseconds",t)}function jk(n,e){const t=+Od(n,"day",e),r=+Od(n,"year",e);return Math.round((t-r)/864e5)+1}function N1(n,e,t){const r=e-t+7;return-(T1(n,0,r).getUTCDay()-e+7)%7+r-1}function hv(n,e,t,r){const i=N1(Mr(n,r),e,t),l=Math.floor((jk(n,r)-i-1)/7)+1;let c,f;return l<1?(f=Mr(n,r)-1,c=l+Xm(f,e,t)):l>Xm(Mr(n,r),e,t)?(c=l-Xm(Mr(n,r),e,t),f=Mr(n,r)+1):(f=Mr(n,r),c=l),{week:c,year:f}}function Xm(n,e,t){const r=N1(n,e,t),i=N1(n+1,e,t);return(rD(n)-r+i)/7}const jN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,TH="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),YN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),SH="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$N="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),IH="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),GN={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},kH=tD,xH=tD;class ZN{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];this[Zm(r)?t:`_${t}`]=r}this._config=e}calendar(e,t,r){const i=this._calendar[e]||this._calendar.sameElse;return Zm(i)?i.call(null,t,r):i}longDateFormat(e){const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(i){return i.slice(1)}),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return Mr(e,t)}postformat(e){return e}relativeTime(e,t,r,i){const l=this._relativeTime[r];return Zm(l)?l(e,t,r,i):l.replace(/%d/i,e.toString(10))}pastFuture(e,t){const r=this._relativeTime[e>0?"future":"past"];return Zm(r)?r(t):r.replace(/%s/i,t)}months(e,t,r=!1){if(!e)return wr(this._months)?this._months:this._months.standalone;if(wr(this._months))return this._months[an(e,r)];const i=(this._months.isFormat||jN).test(t)?"format":"standalone";return this._months[i][an(e,r)]}monthsShort(e,t,r=!1){if(!e)return wr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(wr(this._monthsShort))return this._monthsShort[an(e,r)];const i=jN.test(t)?"format":"standalone";return this._monthsShort[i][an(e,r)]}monthsParse(e,t,r){let i,l,c;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),c=0;c<12;c++){if(i=new Date(Date.UTC(2e3,c)),r&&!this._longMonthsParse[c]){const f=this.months(i,"",!0).replace(".",""),_=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[c]=new RegExp(`^${f}$`,"i"),this._shortMonthsParse[c]=new RegExp(`^${_}$`,"i")}if(!r&&!this._monthsParse[c]&&(l=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[c]=new RegExp(l.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[c].test(e)||r&&"MMM"===t&&this._shortMonthsParse[c].test(e)||!r&&this._monthsParse[c].test(e))return c}}monthsRegex(e){return this._monthsParseExact?(Is(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(Is(this,"_monthsRegex")||(this._monthsRegex=xH),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(Is(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Is(this,"_monthsShortRegex")||(this._monthsShortRegex=kH),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return hv(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,r){if(!e)return wr(this._weekdays)?this._weekdays:this._weekdays.standalone;if(wr(this._weekdays))return this._weekdays[ic(e,r)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][ic(e,r)]}weekdaysMin(e,t,r){return e?this._weekdaysMin[ic(e,r)]:this._weekdaysMin}weekdaysShort(e,t,r){return e?this._weekdaysShort[ic(e,r)]:this._weekdaysShort}weekdaysParse(e,t,r){let i,l;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const c=lD(new Date(Date.UTC(2e3,1)),i,null,!0);if(r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(c,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(c,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(c,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(l=`^${this.weekdays(c,"",!0)}|^${this.weekdaysShort(c,"",!0)}|^${this.weekdaysMin(c,"",!0)}`,this._weekdaysParse[i]=new RegExp(l.replace(".",""),"i")),!(wr(this._fullWeekdaysParse)&&wr(this._shortWeekdaysParse)&&wr(this._minWeekdaysParse)&&wr(this._weekdaysParse)))return;if(r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(Is(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Is(this,"_weekdaysRegex")||(this._weekdaysRegex=tD),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(Is(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Is(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tD),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(Is(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Is(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tD),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:GN;const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,i=>i.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,r){const i=e.toLocaleLowerCase();let l,c,f;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)f=new Date(2e3,l),this._shortMonthsParse[l]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(f,"").toLocaleLowerCase();return r?"MMM"===t?(c=this._shortMonthsParse.indexOf(i),-1!==c?c:null):(c=this._longMonthsParse.indexOf(i),-1!==c?c:null):"MMM"===t?(c=this._shortMonthsParse.indexOf(i),-1!==c?c:(c=this._longMonthsParse.indexOf(i),-1!==c?c:null)):(c=this._longMonthsParse.indexOf(i),-1!==c?c:(c=this._shortMonthsParse.indexOf(i),-1!==c?c:null))}handleWeekStrictParse(e,t,r){let i;const l=e.toLocaleLowerCase();if(!this._weekdaysParse){let c;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],c=0;c<7;++c){const f=lD(new Date(Date.UTC(2e3,1)),c,null,!0);this._minWeekdaysParse[c]=this.weekdaysMin(f).toLocaleLowerCase(),this._shortWeekdaysParse[c]=this.weekdaysShort(f).toLocaleLowerCase(),this._weekdaysParse[c]=this.weekdays(f,"").toLocaleLowerCase()}}if(wr(this._weekdaysParse)&&wr(this._shortWeekdaysParse)&&wr(this._minWeekdaysParse))return r?"dddd"===t?(i=this._weekdaysParse.indexOf(l),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(l),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(l),-1!==i||(i=this._shortWeekdaysParse.indexOf(l),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null)):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(l),-1!==i||(i=this._weekdaysParse.indexOf(l),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(l),-1!==i?i:null)):(i=this._minWeekdaysParse.indexOf(l),-1!==i||(i=this._weekdaysParse.indexOf(l),-1!==i)?i:(i=this._shortWeekdaysParse.indexOf(l),-1!==i?i:null))}computeMonthsParse(){const e=[],t=[],r=[];let i,l;for(l=0;l<12;l++)i=new Date(2e3,l),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(eg),t.sort(eg),r.sort(eg),l=0;l<12;l++)e[l]=Jm(e[l]),t[l]=Jm(t[l]);for(l=0;l<24;l++)r[l]=Jm(r[l]);this._monthsRegex=new RegExp(`^(${r.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],r=[],i=[];let l;for(l=0;l<7;l++){const c=lD(new Date(Date.UTC(2e3,1)),l,null,!0),f=this.weekdaysMin(c),_=this.weekdaysShort(c),D=this.weekdays(c);e.push(f),t.push(_),r.push(D),i.push(f),i.push(_),i.push(D)}for(e.sort(eg),t.sort(eg),r.sort(eg),i.sort(eg),l=0;l<7;l++)t[l]=Jm(t[l]),r[l]=Jm(r[l]),i[l]=Jm(i[l]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function eg(n,e){return e.length-n.length}const qN={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:GN,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:TH,monthsShort:YN,week:{dow:0,doy:6},weekdays:SH,weekdaysMin:IH,weekdaysShort:$N,meridiemParse:/[ap]\.?m?\.?/i};function OH(n,e,t){const r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length);let c,l=0;for(c=0;c<r;c++)(t&&n[c]!==e[c]||!t&&sn(n[c])!==sn(e[c]))&&l++;return l+i}function P1(n,e){Ft(null,[n,n.length,!1],null,e)}function WN(n,e){return $k(n,e.locale).toString()}function zN(n){return KN(n).toString()}function $k(n,e=Ii(),t){return hv(n,e.firstDayOfWeek(),e.firstDayOfYear(),t).year}function KN(n,e){return hv(n,1,4,e).year}function QN(n,e){Ft(n,null,null,function(t,r){let i=function ng(n,e={}){return e._isUTC?e._offset||0:function XN(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:r.isUTC,_offset:r.offset}),l="+";return i<0&&(i=-i,l="-"),l+Ad(~~(i/60),2)+e+Ad(~~i%60,2)})}const jH=/([\+\-]|\d\d)/gi;const zi={},iD={};let sD;function eP(n){return n&&n.toLowerCase().replace("_","-")}function nP(n){return zi[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),zi[n]}function Zk(n,e){let t;return n&&(LN(e)?t=Ii(n):oo(n)&&(t=rP(n,e)),t&&(sD=t)),sD&&sD._abbr}function rP(n,e){if(null===e)return delete zi[n],sD=Ii("en"),null;if(!e)return;let t=qN;if(e.abbr=n,null!=e.parentLocale){if(null==zi[e.parentLocale])return iD[e.parentLocale]||(iD[e.parentLocale]=[]),iD[e.parentLocale].push({name:n,config:e}),null;t=zi[e.parentLocale]._config}return zi[n]=new ZN(function tP(n,e){const t=Object.assign({},n);for(const r in e)!Is(e,r)||(Wm(n[r])&&Wm(e[r])?(t[r]={},Object.assign(t[r],n[r]),Object.assign(t[r],e[r])):null!=e[r]?t[r]=e[r]:delete t[r]);for(const r in n)Is(n,r)&&!Is(e,r)&&Wm(n[r])&&(t[r]=Object.assign({},t[r]));return t}(t,e)),iD[n]&&iD[n].forEach(function(r){rP(r.name,r.config)}),Zk(n),zi[n]}function Ii(n){return function WH(){zi.en||(Zk("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const e=n%10;return n+(1===sn(n%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function LH(){Ft("w",["ww",2,!1],"wo",function(n,e){return function tg(n,e=Ii(),t){return e.week(n,t)}(n,e.locale).toString(10)}),Ft("W",["WW",2,!1],"Wo",function(n){return function Yk(n,e){return hv(n,1,4,e).week}(n).toString(10)}),Ms("week","w"),Ms("isoWeek","W"),As("week",5),As("isoWeek",5),_t("w",fr),_t("ww",fr,Sa),_t("W",fr),_t("WW",fr,Sa),nD(["w","ww","W","WW"],function(n,e,t,r){return e[r.substr(0,1)]=sn(n),t})}(),function RH(){Ft(null,["gg",2,!1],null,function(n,e){return($k(n,e.locale)%100).toString()}),Ft(null,["GG",2,!1],null,function(n){return(KN(n)%100).toString()}),P1("gggg",WN),P1("ggggg",WN),P1("GGGG",zN),P1("GGGGG",zN),Ms("weekYear","gg"),Ms("isoWeekYear","GG"),As("weekYear",1),As("isoWeekYear",1),_t("G",k1),_t("g",k1),_t("GG",fr,Sa),_t("gg",fr,Sa),_t("GGGG",Pk,Nk),_t("gggg",Pk,Nk),_t("GGGGG",A1,I1),_t("ggggg",A1,I1),nD(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){return e[r.substr(0,2)]=sn(n),t}),nD(["gg","GG"],function(n,e,t,r){return e[r]=Bk(n),t})}(),function pH(){Ft("Y",null,null,function(n,e){const t=Mr(n,e.isUTC);return t<=9999?t.toString(10):`+${t}`}),Ft(null,["YY",2,!1],null,function(n,e){return(Mr(n,e.isUTC)%100).toString(10)}),Ft(null,["YYYY",4,!1],null,Vk),Ft(null,["YYYYY",5,!1],null,Vk),Ft(null,["YYYYYY",6,!0],null,Vk),Ms("year","y"),As("year",1),_t("Y",k1),_t("YY",fr,Sa),_t("YYYY",Pk,Nk),_t("YYYYY",A1,I1),_t("YYYYYY",A1,I1),pr(["YYYYY","YYYYYY"],0),pr("YYYY",function(n,e,t){return e[0]=2===n.length?Bk(n):sn(n),t}),pr("YY",function(n,e,t){return e[0]=Bk(n),t}),pr("Y",function(n,e,t){return e[0]=parseInt(n,10),t})}(),function PH(){Ft("z",null,null,function(n,e){return e.isUTC?"UTC":""}),Ft("zz",null,null,function(n,e){return e.isUTC?"Coordinated Universal Time":""})}(),function FH(){Ft("X",null,null,function(n){return function tH(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Ft("x",null,null,function(n){return n.valueOf().toString(10)}),_t("x",k1),_t("X",aH),pr("X",function(n,e,t){return t._d=new Date(1e3*parseFloat(n)),t}),pr("x",function(n,e,t){return t._d=new Date(sn(n)),t})}(),function VH(){Ft("s",["ss",2,!1],null,function(n,e){return Rk(n,e.isUTC).toString(10)}),Ms("second","s"),As("second",15),_t("s",fr),_t("ss",fr,Sa),pr(["s","ss"],5)}(),function BH(){Ft("Q",null,"Qo",function(n,e){return function UH(n,e=!1){return Math.ceil((an(n,e)+1)/3)}(n,e.isUTC).toString(10)}),Ms("quarter","Q"),As("quarter",7),_t("Q",FN),pr("Q",function(n,e,t){return e[1]=3*(sn(n)-1),t})}(),function HH(){QN("Z",":"),QN("ZZ",""),_t("Z",x1),_t("ZZ",x1),pr(["Z","ZZ"],function(n,e,t){return t._useUTC=!0,t._tzm=function Gk(n,e){const t=(e||"").match(n);if(null===t)return null;const i=t[t.length-1].match(jH)||["-","0","0"],l=60*parseInt(i[1],10)+sn(i[2]);return 0===l?0:"+"===i[0]?l:-l}(x1,n),t})}(),function mH(){Ft("M",["MM",2,!1],"Mo",function(n,e){return(an(n,e.isUTC)+1).toString(10)}),Ft("MMM",null,null,function(n,e){return e.locale.monthsShort(n,e.format,e.isUTC)}),Ft("MMMM",null,null,function(n,e){return e.locale.months(n,e.format,e.isUTC)}),Ms("month","M"),As("month",8),_t("M",fr),_t("MM",fr,Sa),_t("MMM",function(n,e){return e.monthsShortRegex(n)}),_t("MMMM",function(n,e){return e.monthsRegex(n)}),pr(["M","MM"],function(n,e,t){return e[1]=sn(n)-1,t}),pr(["MMM","MMMM"],function(n,e,t,r){const i=t._locale.monthsParse(n,r,t._strict);return null!=i?e[1]=i:En(t).invalidMonth=!!n,t})}(),function $H(){Ft("m",["mm",2,!1],null,function(n,e){return lv(n,e.isUTC).toString(10)}),Ms("minute","m"),As("minute",14),_t("m",fr),_t("mm",fr,Sa),pr(["m","mm"],4)}(),function GH(){let n;for(Ft("S",null,null,function(t,r){return(~~(kd(t,r.isUTC)/100)).toString(10)}),Ft(null,["SS",2,!1],null,function(t,r){return(~~(kd(t,r.isUTC)/10)).toString(10)}),Ft(null,["SSS",3,!1],null,function(t,r){return kd(t,r.isUTC).toString(10)}),Ft(null,["SSSS",4,!1],null,function(t,r){return(10*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSS",5,!1],null,function(t,r){return(100*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSS",6,!1],null,function(t,r){return(1e3*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSS",7,!1],null,function(t,r){return(1e4*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSSS",8,!1],null,function(t,r){return(1e5*kd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSSSS",9,!1],null,function(t,r){return(1e6*kd(t,r.isUTC)).toString(10)}),Ms("millisecond","ms"),As("millisecond",16),_t("S",M1,FN),_t("SS",M1,Sa),_t("SSS",M1,VN),n="SSSS";n.length<=9;n+="S")_t(n,sH);function e(t,r,i){return r[6]=sn(1e3*parseFloat(`0.${t}`)),i}for(n="S";n.length<=9;n+="S")pr(n,e)}(),function ZH(){function n(i,l){return on(i,l)%12||12}function t(i,l){Ft(i,null,null,function(c,f){return f.locale.meridiem(on(c,f.isUTC),lv(c,f.isUTC),l)})}function r(i,l){return l._meridiemParse}Ft("H",["HH",2,!1],null,function(i,l){return on(i,l.isUTC).toString(10)}),Ft("h",["hh",2,!1],null,function(i,l){return n(i,l.isUTC).toString(10)}),Ft("k",["kk",2,!1],null,function(i,l){return function e(i,l){return on(i,l)||24}(i,l.isUTC).toString(10)}),Ft("hmm",null,null,function(i,l){return`${n(i,l.isUTC)}${Ad(lv(i,l.isUTC),2)}`}),Ft("hmmss",null,null,function(i,l){return`${n(i,l.isUTC)}${Ad(lv(i,l.isUTC),2)}${Ad(Rk(i,l.isUTC),2)}`}),Ft("Hmm",null,null,function(i,l){return`${on(i,l.isUTC)}${Ad(lv(i,l.isUTC),2)}`}),Ft("Hmmss",null,null,function(i,l){return`${on(i,l.isUTC)}${Ad(lv(i,l.isUTC),2)}${Ad(Rk(i,l.isUTC),2)}`}),t("a",!0),t("A",!1),Ms("hour","h"),As("hour",13),_t("a",r),_t("A",r),_t("H",fr),_t("h",fr),_t("k",fr),_t("HH",fr,Sa),_t("hh",fr,Sa),_t("kk",fr,Sa),_t("hmm",BN),_t("hmmss",UN),_t("Hmm",BN),_t("Hmmss",UN),pr(["H","HH"],3),pr(["k","kk"],function(i,l,c){const f=sn(i);return l[3]=24===f?0:f,c}),pr(["a","A"],function(i,l,c){return c._isPm=c._locale.isPM(i),c._meridiem=i,c}),pr(["h","hh"],function(i,l,c){return l[3]=sn(i),En(c).bigHour=!0,c}),pr("hmm",function(i,l,c){const f=i.length-2;return l[3]=sn(i.substr(0,f)),l[4]=sn(i.substr(f)),En(c).bigHour=!0,c}),pr("hmmss",function(i,l,c){const f=i.length-4,_=i.length-2;return l[3]=sn(i.substr(0,f)),l[4]=sn(i.substr(f,2)),l[5]=sn(i.substr(_)),En(c).bigHour=!0,c}),pr("Hmm",function(i,l,c){const f=i.length-2;return l[3]=sn(i.substr(0,f)),l[4]=sn(i.substr(f)),c}),pr("Hmmss",function(i,l,c){const f=i.length-4,_=i.length-2;return l[3]=sn(i.substr(0,f)),l[4]=sn(i.substr(f,2)),l[5]=sn(i.substr(_)),c})}(),function EH(){Ft("DDD",["DDDD",3,!1],"DDDo",function(n){return jk(n).toString(10)}),Ms("dayOfYear","DDD"),As("dayOfYear",4),_t("DDD",M1),_t("DDDD",VN),pr(["DDD","DDDD"],function(n,e,t){return t._dayOfYear=sn(n),t})}(),function Oj(){Ft("d",null,"do",function(n,e){return ic(n,e.isUTC).toString(10)}),Ft("dd",null,null,function(n,e){return e.locale.weekdaysMin(n,e.format,e.isUTC)}),Ft("ddd",null,null,function(n,e){return e.locale.weekdaysShort(n,e.format,e.isUTC)}),Ft("dddd",null,null,function(n,e){return e.locale.weekdays(n,e.format,e.isUTC)}),Ft("e",null,null,function(n,e){return ex(n,e.locale,e.isUTC).toString(10)}),Ft("E",null,null,function(n,e){return function pP(n,e){return ic(n,e)||7}(n,e.isUTC).toString(10)}),Ms("day","d"),Ms("weekday","e"),Ms("isoWeekday","E"),As("day",11),As("weekday",11),As("isoWeekday",11),_t("d",fr),_t("e",fr),_t("E",fr),_t("dd",function(n,e){return e.weekdaysMinRegex(n)}),_t("ddd",function(n,e){return e.weekdaysShortRegex(n)}),_t("dddd",function(n,e){return e.weekdaysRegex(n)}),nD(["dd","ddd","dddd"],function(n,e,t,r){const i=t._locale.weekdaysParse(n,r,t._strict);return null!=i?e.d=i:En(t).invalidWeekday=!!n,t}),nD(["d","e","E"],function(n,e,t,r){return e[r]=sn(n),t})}(),function hH(){Ft("D",["DD",2,!1],"Do",function(n,e){return Km(n,e.isUTC).toString(10)}),Ms("date","D"),As("date",9),_t("D",fr),_t("DD",fr,Sa),_t("Do",function(n,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),pr(["D","DD"],2),pr("Do",function(n,e,t){return e[2]=sn(n.match(fr)[0]),t})}())}(),n?function qH(n){let e,t,r=0;for(;r<n.length;){const i=eP(n[r]).split("-");let l=i.length;for(e=eP(n[r+1]),e=e?e.split("-"):null;l>0;){if(t=nP(i.slice(0,l).join("-")),t)return t;if(e&&e.length>=l&&OH(i,e,!0)>=l-1)break;l--}r++}return null}(wr(n)?n:[n]):sD}const oD=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],zH=oD.reduce((n,e)=>(n[e]=!0,n),{});function iP(n){return n<0?Math.floor(n):Math.ceil(n)}function sP(n){return 4800*n/146097}function qk(n){return 146097*n/4800}let Of=Math.round;const sc_ss=44,sc_s=45,sc_m=45,sc_h=22,sc_d=26,sc_M=11;function QH(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}class oP{constructor(e,t={}){this._data={},this._locale=Ii(),this._locale=t&&t._locale||Ii();const i=e.year||0,l=e.quarter||0,c=e.month||0,f=e.week||0,_=e.day||0,D=e.hours||0,S=e.minutes||0,A=e.seconds||0,N=e.milliseconds||0;return this._isValid=function KH(n){if(Object.keys(n).some(r=>r in zH&&null===n[r]||isNaN(n[r])))return!1;let t=!1;for(let r=0;r<oD.length;++r)if(n[oD[r]]){if(t)return!1;n[oD[r]]!==sn(n[oD[r]])&&(t=!0)}return!0}(e),this._milliseconds=+N+1e3*A+60*S*1e3+1e3*D*60*60,this._days=+_+7*f,this._months=+c+3*l+12*i,function JH(n){let e=n._milliseconds,t=n._days,r=n._months;const i=n._data;e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=864e5*iP(qk(r)+t),t=0,r=0),i.milliseconds=e%1e3;const l=Gm(e/1e3);i.seconds=l%60;const c=Gm(l/60);i.minutes=c%60;const f=Gm(c/60);i.hours=f%24,t+=Gm(f/24);const _=Gm(sP(t));r+=_,t-=iP(qk(_));const D=Gm(r/12);return r%=12,i.day=t,i.month=r,i.year=D,n}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let r=function XH(n,e,t){const r=Xk(n).abs(),i=Of(r.as("s")),l=Of(r.as("m")),c=Of(r.as("h")),f=Of(r.as("d")),_=Of(r.as("M")),D=Of(r.as("y")),S=i<=sc_ss&&["s",i]||i<sc_s&&["ss",i]||l<=1&&["m"]||l<sc_m&&["mm",l]||c<=1&&["h"]||c<sc_h&&["hh",c]||f<=1&&["d"]||f<sc_d&&["dd",f]||_<=1&&["M"]||_<sc_M&&["MM",_]||D<=1&&["y"]||["yy",D];return QH.apply(null,[S[0],S[1],e,+n>0,t])}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}localeData(){return this._locale}locale(e){return e?(this._locale=Ii(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,r;const i=this._milliseconds,l=NN(e);if("month"===l||"year"===l)return t=this._days+i/864e5,r=this._months+sP(t),"month"===l?r:r/12;switch(t=this._days+Math.round(qk(this._months)),l){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${l}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*sn(this._months/12):NaN}}function Wk(n){if(null==n._isValid){const e=En(n),t=Array.prototype.some.call(e.parsedDateParts,function(i){return null!=i});let r=!isNaN(n._d&&n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return r;n._isValid=r}return n._isValid}function V1(n,e){return n._d=new Date(NaN),Object.assign(En(n),e||{userInvalidated:!0}),n}const nj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ij=/Z|[+-]\d\d(?::?\d\d)?/,B1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],zk=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sj=/^\/?Date\((\-?\d+)/i,oj={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},aj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function aP(n){if(!oo(n._i))return n;const e=n._i,t=nj.exec(e)||rj.exec(e);let r,i,l,c,f,_;if(!t)return n._isValid=!1,n;for(f=0,_=B1.length;f<_;f++)if(B1[f][1].exec(t[1])){i=B1[f][0],r=!1!==B1[f][2];break}if(null==i)return n._isValid=!1,n;if(t[3]){for(f=0,_=zk.length;f<_;f++)if(zk[f][1].exec(t[3])){l=(t[2]||" ")+zk[f][0];break}if(null==l)return n._isValid=!1,n}if(!r&&null!=l)return n._isValid=!1,n;if(t[4]){if(!ij.exec(t[4]))return n._isValid=!1,n;c="Z"}return n._f=i+(l||"")+(c||""),Jk(n)}function uj(n){const e=parseInt(n,10);return e<=49?e+2e3:e}function lP(n){if(!oo(n._i))return n;const e=aj.exec(function cj(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!e)return function tj(n){return n._isValid=!1,n}(n);const t=function lj(n,e,t,r,i,l){const c=[uj(n),YN.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return l&&c.push(parseInt(l,10)),c}(e[4],e[3],e[2],e[5],e[6],e[7]);return function dj(n,e,t){return!n||$N.indexOf(n)===new Date(e[0],e[1],e[2]).getDay()||(En(t).weekdayMismatch=!0,t._isValid=!1,!1)}(e[1],t,n)&&(n._a=t,n._tzm=function hj(n,e,t){if(n)return oj[n];if(e)return 0;{const r=parseInt(t,10),i=r%100;return(r-i)/100*60+i}}(e[8],e[9],e[10]),n._d=T1.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),En(n).rfc2822=!0),n}function nl(n,e,t,r,i=0){const l=Ii(t||"en");if(!l)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const f=function pj(n,e,t,r,i=0){if(!kf(n))return t.invalidDate;const l=uP(e,t);return Lk[l]=Lk[l]||function QU(n){const e=n.match(PN),t=e.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=av[e[i]]?av[e[i]]:XU(e[i]);return function(i,l,c,f=0){let _="";for(let D=0;D<t;D++)_+=Zm(r[D])?r[D].call(null,i,{format:n,locale:l,isUTC:c,offset:f}):r[D];return _}}(l),Lk[l](n,t,r,i)}(n,e||(r?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),l,r,i);return f&&l.postformat(f)}function uP(n,e){let t=n,r=5;const i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,l=c=>e.formatLongDate(c)||c;for(i.lastIndex=0;r>=0&&i.test(t);)t=t.replace(i,l),i.lastIndex=0,r-=1;return t}function fv(n,e,t){return null!=n?n:null!=e?e:t}function Kk(n){const e=[];let t,r,i;if(n._d)return n;const l=function mj(n){const e=new Date;return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function gj(n){let e,t,r,i,l,c,f;const _=n._w;if(null!=_.GG||null!=_.W||null!=_.E)i=1,l=4,e=fv(_.GG,n._a[0],hv(new Date,1,4).year),t=fv(_.W,1),r=fv(_.E,1),(r<1||r>7)&&(f=!0);else{i=n._locale._week.dow,l=n._locale._week.doy;const D=hv(new Date,i,l);e=fv(_.gg,n._a[0],D.year),t=fv(_.w,D.week),null!=_.d?(r=_.d,(r<0||r>6)&&(f=!0)):null!=_.e?(r=_.e+i,(_.e<0||_.e>6)&&(f=!0)):r=i}t<1||t>Xm(e,i,l)?En(n)._overflowWeeks=!0:null!=f?En(n)._overflowWeekday=!0:(c=function HN(n,e,t,r,i){const f=1+7*(e-1)+(7+t-r)%7+N1(n,r,i);let _,D;return f<=0?(_=n-1,D=rD(_)+f):f>rD(n)?(_=n+1,D=f-rD(n)):(_=n,D=f),{year:_,dayOfYear:D}}(e,t,r,i,l),n._a[0]=c.year,n._dayOfYear=c.dayOfYear)}(n),null!=n._dayOfYear&&(i=fv(n._a[0],l[0]),(n._dayOfYear>rD(i)||0===n._dayOfYear)&&(En(n)._overflowDayOfYear=!0),r=new Date(Date.UTC(i,0,n._dayOfYear)),n._a[1]=r.getUTCMonth(),n._a[2]=r.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=l[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?T1:S1).apply(null,e);const c=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&void 0!==n._w.d&&n._w.d!==c&&(En(n).weekdayMismatch=!0),n}function cP(n){let e;const t=n._a;return t&&-2===En(n).overflow&&(e=t[1]<0||t[1]>11?1:t[2]<1||t[2]>L1(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,En(n)._overflowDayOfYear&&(e<0||e>2)&&(e=2),En(n)._overflowWeeks&&-1===e&&(e=7),En(n)._overflowWeekday&&-1===e&&(e=8),En(n).overflow=e),n}function Jk(n){if("ISO_8601"===n._f)return aP(n);if("RFC_2822"===n._f)return lP(n);if(n._a=[],En(n).empty=!0,wr(n._f)||!n._i&&0!==n._i)return n;let e=n._i.toString(),t=0;const r=e.length,i=uP(n._f,n._locale).match(PN)||[];let l,c,f,_;for(l=0;l<i.length;l++)c=i[l],f=(e.match(lH(c,n._locale))||[])[0],f&&(_=e.substr(0,e.indexOf(f)),_.length>0&&En(n).unusedInput.push(_),e=e.slice(e.indexOf(f)+f.length),t+=f.length),av[c]?(f?En(n).empty=!1:En(n).unusedTokens.push(c),cH(c,f,n)):n._strict&&!f&&En(n).unusedTokens.push(c);return En(n).charsLeftOver=r-t,e.length>0&&En(n).unusedInput.push(e),n._a[3]<=12&&!0===En(n).bigHour&&n._a[3]>0&&(En(n).bigHour=void 0),En(n).parsedDateParts=n._a.slice(0),En(n).meridiem=n._meridiem,n._a[3]=function vj(n,e,t){let r=e;if(null==t)return r;if(null!=n.meridiemHour)return n.meridiemHour(r,t);if(null==n.isPM)return r;const i=n.isPM(t);return i&&r<12&&(r+=12),!i&&12===r&&(r=0),r}(n._locale,n._a[3],n._meridiem),Kk(n),cP(n)}function Dj(n){const e=cP(function Cj(n){let e=n._i;const t=n._f;return n._locale=n._locale||Ii(n._l),null===e||void 0===t&&""===e?V1(n,{nullInput:!0}):(oo(e)&&(n._i=e=n._locale.preparse(e,t)),E1(e)?(n._d=xd(e),n):(wr(t)?function bj(n){let e,t,r,i,l;if(!n._f||0===n._f.length)return En(n).invalidFormat=!0,V1(n);for(l=0;l<n._f.length;l++)i=0,e=Object.assign({},n),null!=n._useUTC&&(e._useUTC=n._useUTC),e._f=n._f[l],Jk(e),Wk(e)&&(i+=En(e).charsLeftOver,i+=10*En(e).unusedTokens.length,En(e).score=i,(null==r||i<r)&&(r=i,t=e));Object.assign(n,t||e)}(n):t?Jk(n):function Ej(n){const e=n._i;if(LN(e))n._d=new Date;else if(E1(e))n._d=xd(e);else if(oo(e))!function fj(n){if(!oo(n._i))return n;const e=sj.exec(n._i);null!==e?n._d=new Date(+e[1]):(aP(n),!1!==n._isValid||(delete n._isValid,lP(n),!1!==n._isValid||(delete n._isValid,V1(n))))}(n);else if(wr(e)&&e.length){const t=e.slice(0);n._a=t.map(r=>oo(r)?parseInt(r,10):r),Kk(n)}else if(Wm(e))!function wj(n){if(n._d)return n;const e=n._i;if(Wm(e)){const t=function zU(n){const e={};let t,r;for(r in n)Is(n,r)&&(t=NN(r),t&&(e[t]=n[r]));return e}(e);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(r=>oo(r)?parseInt(r,10):r)}return Kk(n)}(n);else{if(!qm(e))return V1(n);n._d=new Date(e)}}(n),Wk(n)||(n._d=null),n))}(n));return e._d=new Date(null!=e._d?e._d.getTime():NaN),Wk(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}function aD(n,e,t,r,i){return E1(n)?n:function Tj(n,e,t,r,i){const l={};let c=n;return(Wm(c)&&function WU(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let e;for(e in n)if(n.hasOwnProperty(e))return!1;return!0}(c)||wr(c)&&0===c.length)&&(c=void 0),l._useUTC=l._isUTC=i,l._l=t,l._i=c,l._f=e,l._strict=r,Dj(l)}(n,e,t,r,i)._d}function dP(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function Qk(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Zl(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()>e.valueOf():e.valueOf()<Od(n,t).valueOf())}function oc(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()<e.valueOf():R1(n,t).valueOf()<e.valueOf())}function pv(n,e,t="milliseconds"){if(!n||!e)return!1;if("milliseconds"===t)return n.valueOf()===e.valueOf();const r=e.valueOf();return Od(n,t).valueOf()<=r&&r<=R1(n,t).valueOf()}const Ij=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Mj=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xk(n,e,t={}){const r=function Aj(n,e){if(null==n)return{};if(function ej(n){return n instanceof oP}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(qm(n))return e?{[e]:n}:{milliseconds:n};if(oo(n)){let t=Ij.exec(n);if(t){const r="-"===t[1]?-1:1;return{year:0,day:sn(t[2])*r,hours:sn(t[3])*r,minutes:sn(t[4])*r,seconds:sn(t[5])*r,milliseconds:sn(Qk(1e3*sn(t[6])))*r}}if(t=Mj.exec(n),t){const r="-"===t[1]?-1:1;return{year:rg(t[2],r),month:rg(t[3],r),week:rg(t[4],r),day:rg(t[5],r),hours:rg(t[6],r),minutes:rg(t[7],r),seconds:rg(t[8],r)}}}if(Wm(n)&&("from"in n||"to"in n)){const t=function kj(n,e){if(!kf(n)||!kf(e))return{milliseconds:0,months:0};let t;const r=function YH(n,e,t={}){if(!t._isUTC)return n;const r=xd(e),i=6e4*(t._offset||0),l=n.valueOf()-r.valueOf()+i;return r.setTime(r.valueOf()+l),r}(e,n,{_offset:n.getTimezoneOffset()});return oc(n,r)?t=hP(n,r):(t=hP(r,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(aD(n.from),aD(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,e);return new oP(r,t)}function rg(n,e){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function hP(n,e){const t={milliseconds:0,months:0};return t.months=an(e)-an(n)+12*(Mr(e)-Mr(n)),Zl(ac(xd(n),t.months,"month"),e)&&--t.months,t.milliseconds=+e-+ac(xd(n),t.months,"month"),t}function ac(n,e,t,r){return fP(n,Xk(e,t),1,r)}function fP(n,e,t,r){const i=e._milliseconds,l=Qk(e._days),c=Qk(e._months);return c&&Qm(n,an(n,r)+c*t,r),l&&Hk(n,Km(n,r)+l*t,r),i&&function CH(n,e){n.setTime(e)}(n,function eH(n){return n.getTime()}(n)+i*t),xd(n)}function lD(n,e,t=Ii(),r){const i=ic(n,r),l=function Lj(n,e){if(!oo(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const r=e.weekdaysParse(n);return qm(r)?r:null}(e,t);return ac(n,l-i,"day")}function ex(n,e=Ii(),t){return(ic(n,t)+7-e.firstDayOfWeek())%7}const mP=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},Bj={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},rl=function(n){return function(e,t){const r=mP(e);let i=Bj[n][mP(e)];return 2===r&&(i=i[t?0:1]),i.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),rl("s"),rl("s"),rl("m"),rl("m"),rl("h"),rl("h"),rl("d"),rl("d"),rl("M"),rl("M"),rl("y"),rl("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const nx="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),rx="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,e){let t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+n[t]+"$|^"+e[t]+"$","i")})(nx,rx),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(rx),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(nx),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const RP={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,e,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,e){const t=RP.longDateFormat[e]?RP.longDateFormat[e]:e;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,e=!1)=>543+(e?n.getUTCFullYear():n.getFullYear())};function bv(n){return function(e){return n+"\u043e"+(11===on(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),bv("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),bv("[\u0417\u0430\u0432\u0442\u0440\u0430 "),bv("[\u0412\u0447\u043e\u0440\u0430 "),bv("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class H1{}const Ld="*";function j1(n,e=null){return{type:4,styles:e,timings:n}}function NP(n,e=null){return{type:2,steps:n,options:e}}function Nf(n){return{type:6,styles:n,offset:null}}function PP(n,e,t){return{type:0,name:n,styles:e,options:t}}function fx(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function FP(n){Promise.resolve(null).then(n)}class cD{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?FP(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==l&&this._onFinish()}),c.onDestroy(()=>{++r==l&&this._onDestroy()}),c.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var l6=L(233);class BP extends lr{constructor(e,t,r){super(e),t.pipe((0,Kw.Q)(l6.N)).pipe(Fr((c,f)=>f?r(c,f):c,e)).subscribe(c=>this.next(c))}}class Y1 extends Tr.y{constructor(e,t,r){super(),this._dispatcher=e,this._reducer=t,this.source=r}select(e){var t;return((null===(t=this.source)||void 0===t?void 0:t.pipe((0,Mt.U)(e)))||(new Tr.y).pipe((0,Mt.U)(e))).pipe(O_())}lift(e){const t=new Y1(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}var UP=L(655),u6=L(3532);const h6=["*"];let mx=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f6=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return kh()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Bh[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(mx))},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,r){2&t&&(a.uIk("id",r.id),a.Tol("tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass),a.ekj("show",!r._bsVersions.isBs3)("bs3",r._bsVersions.isBs3))},ngContentSelectors:h6,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),p6=0,m6=(()=>{class n{constructor(t,r,i,l,c,f){this._elementRef=l,this._renderer=c,this._positionService=f,this.tooltipId=p6++,this.adaptivePosition=!0,this.tooltipChange=new a.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new a.vpe,this._tooltip=r.createLoader(this._elementRef,t,this._renderer).provide({provide:mx,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){Js("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){Js("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){Js("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return Js("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){Js("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return Js("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){Js('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return Js('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){Js("tooltipClass deprecated")}set _tooltipContext(t){Js("tooltipContext deprecated")}set _tooltipPopupDelay(t){Js("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return Js("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){Js("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(f6).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function d6(n=0,e,t=p_.P){let r=-1;return null!=e&&((0,u6.K)(e)?t=e:r=e),new Tr.y(i=>{let l=function c6(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(this.delay).subscribe(()=>{t(),r()}),this.triggers&&RC(this.triggers).forEach(i=>{!i.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,i.close,()=>{var l;null===(l=this._delaySubscription)||void 0===l||l.unsubscribe(),r()}))})):t()}hide(){var t;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(t=this._tooltip.instance)||void 0===t?void 0:t.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(Yo),a.Y36(mx),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Fl))},n.\u0275dir=a.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,UP.gn)([zS(),(0,UP.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),g6=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Yo,Fl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[qt]]}),n})();function _6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0\xa0\xa0"),a.qZA())}function y6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td")(1,"a",1),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.changeMinutes(i.minuteStep)}),a._UZ(2,"span",2),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function v6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0"),a.qZA())}function b6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td")(1,"a",1),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.changeSeconds(i.secondsStep)}),a._UZ(2,"span",2),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function w6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0\xa0\xa0"),a.qZA())}function D6(n,e){1&n&&a._UZ(0,"td")}function C6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0:\xa0"),a.qZA())}function E6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",4)(1,"input",5),a.NdJ("wheel",function(i){a.CHM(t);const l=a.oxw();return l.prevDef(i),l.changeMinutes(l.minuteStep*l.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){a.CHM(t);const i=a.oxw();return i.changeMinutes(i.minuteStep,"key")})("keydown.ArrowDown",function(){a.CHM(t);const i=a.oxw();return i.changeMinutes(-i.minuteStep,"key")})("change",function(i){return a.CHM(t),a.oxw().updateMinutes(i.target)}),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("has-error",t.invalidMinutes),a.xp6(1),a.ekj("is-invalid",t.invalidMinutes),a.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),a.uIk("aria-label",t.labelMinutes)}}function T6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0:\xa0"),a.qZA())}function S6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",4)(1,"input",5),a.NdJ("wheel",function(i){a.CHM(t);const l=a.oxw();return l.prevDef(i),l.changeSeconds(l.secondsStep*l.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){a.CHM(t);const i=a.oxw();return i.changeSeconds(i.secondsStep,"key")})("keydown.ArrowDown",function(){a.CHM(t);const i=a.oxw();return i.changeSeconds(-i.secondsStep,"key")})("change",function(i){return a.CHM(t),a.oxw().updateSeconds(i.target)}),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("has-error",t.invalidSeconds),a.xp6(1),a.ekj("is-invalid",t.invalidSeconds),a.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),a.uIk("aria-label",t.labelSeconds)}}function I6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0\xa0\xa0"),a.qZA())}function M6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td")(1,"button",8),a.NdJ("click",function(){return a.CHM(t),a.oxw().toggleMeridian()}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.ekj("disabled",!t.isEditable||!t.canToggleMeridian),a.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),a.xp6(1),a.hij("",t.meridian," ")}}function A6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0\xa0\xa0"),a.qZA())}function k6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td")(1,"a",1),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.changeMinutes(-i.minuteStep)}),a._UZ(2,"span",7),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function x6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0"),a.qZA())}function O6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td")(1,"a",1),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.changeSeconds(-i.secondsStep)}),a._UZ(2,"span",7),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function L6(n,e){1&n&&(a.TgZ(0,"td"),a._uU(1,"\xa0\xa0\xa0"),a.qZA())}function R6(n,e){1&n&&a._UZ(0,"td")}function gx(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||gx(new Date(n)))}function _x(n,e){return!(n.min&&e<n.min||n.max&&e>n.max)}function ag(n){return void 0===n?NaN:"number"==typeof n?n:parseInt(n,10)}function jP(n,e=!1){const t=ag(n);return isNaN(t)||t<0||t>(e?12:24)?NaN:t}function YP(n){const e=ag(n);return isNaN(e)||e<0||e>60?NaN:e}function $P(n){const e=ag(n);return isNaN(e)||e<0||e>60?NaN:e}function GP(n){return"string"==typeof n?new Date(n):n}function cl(n,e){if(!n)return cl($1(new Date,0,0,0),e);if(!e)return n;let t=n.getHours(),r=n.getMinutes(),i=n.getSeconds();return e.hour&&(t+=ag(e.hour)),e.minute&&(r+=ag(e.minute)),e.seconds&&(i+=ag(e.seconds)),$1(n,t,r,i)}function ZP(n,e){let t=jP(e.hour);const r=YP(e.minute),i=$P(e.seconds)||0;return e.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(r)?n:$1(n,t,r,i):isNaN(t)||isNaN(r)?n:$1(new Date,t,r,i)}function $1(n,e,t,r){const i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e,t,r,n.getMilliseconds());return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),i}function yx(n){const e=n.toString();return e.length>1?e:`0${e}`}function qP(n,e){return!isNaN(jP(n,e))}function WP(n){return!isNaN(YP(n))}function zP(n){return!isNaN($P(n))}function KP(n,e="0",t="0",r){return qP(n,r)&&WP(e)&&zP(t)}function G1(n,e){return!(n.readonlyInput||n.disabled||e&&("wheel"===e.source&&!n.mousewheel||"key"===e.source&&!n.arrowkeys))}function JP(n){const{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:l,mousewheel:c,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:N,max:B}=n;return{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:l,mousewheel:c,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:N,max:B}}let QP=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rd=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const XP={value:void 0,config:new QP,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function eF(n=XP,e){switch(e.type){case Rd.WRITE_VALUE:return Object.assign({},n,{value:e.payload});case Rd.CHANGE_HOURS:{if(!G1(n.config,e.payload)||!function H6(n,e){return!(!n.step||n.step>0&&!e.canIncrementHours||n.step<0&&!e.canDecrementHours)}(e.payload,n.controls))return n;const t=cl(n.value,{hour:e.payload.step});return!n.config.max&&!n.config.min||_x(n.config,t)?Object.assign({},n,{value:t}):n}case Rd.CHANGE_MINUTES:{if(!G1(n.config,e.payload)||!function j6(n,e){return!(!n.step||n.step>0&&!e.canIncrementMinutes||n.step<0&&!e.canDecrementMinutes)}(e.payload,n.controls))return n;const t=cl(n.value,{minute:e.payload.step});return!n.config.max&&!n.config.min||_x(n.config,t)?Object.assign({},n,{value:t}):n}case Rd.CHANGE_SECONDS:{if(!G1(n.config,e.payload)||!function Y6(n,e){return!(!n.step||n.step>0&&!e.canIncrementSeconds||n.step<0&&!e.canDecrementSeconds)}(e.payload,n.controls))return n;const t=cl(n.value,{seconds:e.payload.step});return!n.config.max&&!n.config.min||_x(n.config,t)?Object.assign({},n,{value:t}):n}case Rd.SET_TIME_UNIT:{if(!G1(n.config))return n;const t=ZP(n.value,e.payload);return Object.assign({},n,{value:t})}case Rd.UPDATE_CONTROLS:{const t=function $6(n,e){const{min:i,max:l,hourStep:c,minuteStep:f,secondsStep:_,showSeconds:D}=e,S={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return S;if(l){const A=cl(n,{hour:c});if(S.canIncrementHours=l>A&&n.getHours()+c<24,!S.canIncrementHours){const N=cl(n,{minute:f});S.canIncrementMinutes=D?l>N:l>=N}if(!S.canIncrementMinutes){const N=cl(n,{seconds:_});S.canIncrementSeconds=l>=N}n.getHours()<12&&(S.canToggleMeridian=cl(n,{hour:12})<l)}if(i){const A=cl(n,{hour:-c});if(S.canDecrementHours=i<A,!S.canDecrementHours){const N=cl(n,{minute:-f});S.canDecrementMinutes=D?i<N:i<=N}if(!S.canDecrementMinutes){const N=cl(n,{seconds:-_});S.canDecrementSeconds=i<=N}n.getHours()>=12&&(S.canToggleMeridian=cl(n,{hour:-12})>i)}return S}(n.value,e.payload),r={value:n.value,config:e.payload,controls:t};return n.config.showMeridian!==r.config.showMeridian&&n.value&&(r.value=new Date(n.value)),Object.assign({},n,r)}default:return n}}let Z1=(()=>{class n extends Y1{constructor(){const t=new lr({type:"[mini-ngrx] dispatcher init"});super(t,eF,new BP(XP,t,eF))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const G6={provide:bs,useExisting:(0,a.Gpc)(()=>vx),multi:!0};let vx=(()=>{class n{constructor(t,r,i,l){this._cd=r,this._store=i,this._timepickerActions=l,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new a.vpe,this.meridianChange=new a.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(c=>c.value).subscribe(c=>{this._renderTime(c),this.onChange(c),this._store.dispatch(this._timepickerActions.updateControls(JP(this)))}),i.select(c=>c.controls).subscribe(c=>{const f=KP(this.hours,this.minutes,this.seconds,this.isPM()),_=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||f;this.isValid.emit(_),Object.assign(this,c),r.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(JP(this)))}changeHours(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:r}))}changeMinutes(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:r}))}changeSeconds(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:r}))}updateHours(t){this.resetValidation(),this.hours=t.value;const r=qP(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const r=WP(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const r=zP(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function B6(n,e,t){const r=ZP(new Date,n);return!(!r||e&&r>e||t&&r<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function U6(n,e,t){return 0===n.length||0===e.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=KP(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){gx(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(GP(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){var t;null===(t=this.timepickerSub)||void 0===t||t.unsubscribe()}_renderTime(t){if(!t||!gx(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const r=GP(t);if(!r)return;let l=r.getHours();this.showMeridian&&(this.meridian=this.meridians[l>=12?1:0],this.meridianChange.emit(this.meridian),l%=12,0===l&&(l=12)),this.hours=yx(l),this.minutes=yx(r.getMinutes()),this.seconds=yx(r.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(QP),a.Y36(a.sBO),a.Y36(Z1),a.Y36(Rd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[a._Bn([G6,Z1]),a.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,r){1&t&&(a.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),a.NdJ("click",function(){return r.changeHours(r.hourStep)}),a._UZ(5,"span",2),a.qZA()(),a.YNc(6,_6,2,0,"td",3),a.YNc(7,y6,3,2,"td",3),a.YNc(8,v6,2,0,"td",3),a.YNc(9,b6,3,2,"td",3),a.YNc(10,w6,2,0,"td",3),a.YNc(11,D6,1,0,"td",3),a.qZA(),a.TgZ(12,"tr")(13,"td",4)(14,"input",5),a.NdJ("wheel",function(l){return r.prevDef(l),r.changeHours(r.hourStep*r.wheelSign(l),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(l){return r.updateHours(l.target)}),a.qZA()(),a.YNc(15,C6,2,0,"td",3),a.YNc(16,E6,2,9,"td",6),a.YNc(17,T6,2,0,"td",3),a.YNc(18,S6,2,9,"td",6),a.YNc(19,I6,2,0,"td",3),a.YNc(20,M6,3,4,"td",3),a.qZA(),a.TgZ(21,"tr",0)(22,"td")(23,"a",1),a.NdJ("click",function(){return r.changeHours(-r.hourStep)}),a._UZ(24,"span",7),a.qZA()(),a.YNc(25,A6,2,0,"td",3),a.YNc(26,k6,3,2,"td",3),a.YNc(27,x6,2,0,"td",3),a.YNc(28,O6,3,2,"td",3),a.YNc(29,L6,2,0,"td",3),a.YNc(30,R6,1,0,"td",3),a.qZA()()()),2&t&&(a.xp6(2),a.Q6J("hidden",!r.showSpinners),a.xp6(2),a.ekj("disabled",!r.canIncrementHours||!r.isEditable),a.xp6(2),a.Q6J("ngIf",r.showMinutes),a.xp6(1),a.Q6J("ngIf",r.showMinutes),a.xp6(1),a.Q6J("ngIf",r.showSeconds),a.xp6(1),a.Q6J("ngIf",r.showSeconds),a.xp6(1),a.Q6J("ngIf",r.showMeridian),a.xp6(1),a.Q6J("ngIf",r.showMeridian),a.xp6(2),a.ekj("has-error",r.invalidHours),a.xp6(1),a.ekj("is-invalid",r.invalidHours),a.Q6J("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),a.uIk("aria-label",r.labelHours),a.xp6(1),a.Q6J("ngIf",r.showMinutes),a.xp6(1),a.Q6J("ngIf",r.showMinutes),a.xp6(1),a.Q6J("ngIf",r.showSeconds),a.xp6(1),a.Q6J("ngIf",r.showSeconds),a.xp6(1),a.Q6J("ngIf",r.showMeridian),a.xp6(1),a.Q6J("ngIf",r.showMeridian),a.xp6(1),a.Q6J("hidden",!r.showSpinners),a.xp6(2),a.ekj("disabled",!r.canDecrementHours||!r.isEditable),a.xp6(2),a.Q6J("ngIf",r.showMinutes),a.xp6(1),a.Q6J("ngIf",r.showMinutes),a.xp6(1),a.Q6J("ngIf",r.showSeconds),a.xp6(1),a.Q6J("ngIf",r.showSeconds),a.xp6(1),a.Q6J("ngIf",r.showMeridian),a.xp6(1),a.Q6J("ngIf",r.showMeridian))},directives:[nn],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),Z6=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Rd,Z1]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Z1],imports:[[qt]]}),n})();function q6(n,e){1&n&&a._UZ(0,"bs-current-date",4)}function W6(n,e){1&n&&a._UZ(0,"bs-timepicker")}const z6=[[["bs-datepicker-navigation-view"]],"*"],K6=["bs-datepicker-navigation-view","*"];function J6(n,e){if(1&n){const t=a.EpF();a.ynx(0),a._uU(1," \u200b "),a.TgZ(2,"button",2),a.NdJ("click",function(){return a.CHM(t),a.oxw().view("month")}),a.TgZ(3,"span"),a._uU(4),a.qZA()(),a.BQk()}if(2&n){const t=a.oxw();a.xp6(4),a.Oqu(t.calendar.monthTitle)}}const Q6=["bsDatepickerDayDecorator",""];function X6(n,e){1&n&&a._UZ(0,"th")}function eY(n,e){if(1&n&&(a.TgZ(0,"th",5),a._uU(1),a.qZA()),2&n){const t=e.index,r=a.oxw();a.xp6(1),a.hij("",r.calendar.weekdays[t]," ")}}function tY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2).$implicit;return a.oxw().selectWeek(i)}),a._uU(1),a.qZA()}if(2&n){const t=a.oxw(2).index,r=a.oxw();a.xp6(1),a.Oqu(r.calendar.weekNumbers[t])}}function nY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",12),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2).$implicit;return a.oxw().selectWeek(i)})("mouseenter",function(){a.CHM(t);const i=a.oxw(2).$implicit;return a.oxw().weekHoverHandler(i,!0)})("mouseleave",function(){a.CHM(t);const i=a.oxw(2).$implicit;return a.oxw().weekHoverHandler(i,!1)}),a._uU(1),a.qZA()}if(2&n){const t=a.oxw(2).index,r=a.oxw();a.xp6(1),a.Oqu(r.calendar.weekNumbers[t])}}function rY(n,e){if(1&n&&(a.TgZ(0,"td",8),a.YNc(1,tY,2,1,"span",9),a.YNc(2,nY,2,1,"span",10),a.qZA()),2&n){const t=a.oxw(2);a.ekj("active-week",t.isWeekHovered),a.xp6(1),a.Q6J("ngIf",t.isiOS),a.xp6(1),a.Q6J("ngIf",!t.isiOS)}}function iY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).selectDay(i)})("mouseenter",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).hoverDay(i,!0)})("mouseleave",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).hoverDay(i,!1)}),a._uU(1),a.qZA()}if(2&n){const t=a.oxw().$implicit;a.s9C("tooltip",t.tooltipText),a.Q6J("day",t),a.xp6(1),a.hij("",t.label," 3")}}function sY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",18),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).selectDay(i)})("mouseenter",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).hoverDay(i,!0)})("mouseleave",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).hoverDay(i,!1)}),a._uU(1),a.qZA()}if(2&n){const t=a.oxw().$implicit;a.Q6J("day",t),a.xp6(1),a.hij("",t.label," 2")}}function oY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",19),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw(2).selectDay(i)}),a._uU(1),a.qZA()}if(2&n){const t=a.oxw().$implicit;a.Q6J("day",t),a.xp6(1),a.hij("",t.label," 1")}}function aY(n,e){if(1&n&&(a.TgZ(0,"td",13),a.YNc(1,iY,2,3,"span",14),a.YNc(2,sY,2,2,"span",15),a.YNc(3,oY,2,2,"span",16),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),a.xp6(1),a.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),a.xp6(1),a.Q6J("ngIf",t.isiOS)}}function lY(n,e){if(1&n&&(a.TgZ(0,"tr"),a.YNc(1,rY,3,4,"td",6),a.YNc(2,aY,4,3,"td",7),a.qZA()),2&n){const t=e.$implicit,r=a.oxw();a.xp6(1),a.Q6J("ngIf",r.options&&r.options.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",t.days)}}function uY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",4),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).viewMonth(l)})("mouseenter",function(){const l=a.CHM(t).$implicit;return a.oxw(2).hoverMonth(l,!0)})("mouseleave",function(){const l=a.CHM(t).$implicit;return a.oxw(2).hoverMonth(l,!1)}),a.TgZ(1,"span"),a._uU(2),a.qZA()()}if(2&n){const t=e.$implicit;a.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),a.xp6(1),a.ekj("selected",t.isSelected),a.xp6(1),a.Oqu(t.label)}}function cY(n,e){if(1&n&&(a.TgZ(0,"tr"),a.YNc(1,uY,3,7,"td",3),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("ngForOf",t)}}function dY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",4),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).viewYear(l)})("mouseenter",function(){const l=a.CHM(t).$implicit;return a.oxw(2).hoverYear(l,!0)})("mouseleave",function(){const l=a.CHM(t).$implicit;return a.oxw(2).hoverYear(l,!1)}),a.TgZ(1,"span"),a._uU(2),a.qZA()()}if(2&n){const t=e.$implicit;a.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),a.xp6(1),a.ekj("selected",t.isSelected),a.xp6(1),a.Oqu(t.label)}}function hY(n,e){if(1&n&&(a.TgZ(0,"tr"),a.YNc(1,dY,3,7,"td",3),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("ngForOf",t)}}function fY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",2),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw().selectFromRanges(l)}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw();a.ekj("selected",t.value===r.selectedRange),a.xp6(1),a.hij(" ",t.label," ")}}const tF=["startTP"];function pY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"bs-days-calendar-view",11),a.NdJ("onNavigate",function(i){return a.CHM(t),a.oxw(3).navigateTo(i)})("onViewMode",function(i){return a.CHM(t),a.oxw(3).setViewMode(i)})("onHover",function(i){return a.CHM(t),a.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return a.CHM(t),a.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return a.CHM(t),a.oxw(3).daySelectHandler(i)}),a.ALo(1,"async"),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("bs-datepicker-multiple",r.multipleCalendars),a.Q6J("calendar",t)("options",a.lcZ(1,4,r.options$))}}function mY(n,e){1&n&&a._UZ(0,"timepicker",null,15)}function gY(n,e){if(1&n&&(a.TgZ(0,"div",12),a._UZ(1,"timepicker",null,13),a.YNc(3,mY,2,0,"timepicker",14),a.qZA()),2&n){const t=a.oxw(3);a.xp6(3),a.Q6J("ngIf",t.isRangePicker)}}function _Y(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",8),a.YNc(2,pY,2,6,"bs-days-calendar-view",9),a.ALo(3,"async"),a.qZA(),a.YNc(4,gY,4,1,"div",10),a.BQk()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",a.lcZ(3,2,t.daysCalendar$)),a.xp6(2),a.Q6J("ngIf",t.withTimepicker)}}function yY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"bs-month-calendar-view",17),a.NdJ("onNavigate",function(i){return a.CHM(t),a.oxw(3).navigateTo(i)})("onViewMode",function(i){return a.CHM(t),a.oxw(3).setViewMode(i)})("onHover",function(i){return a.CHM(t),a.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return a.CHM(t),a.oxw(3).monthSelectHandler(i)}),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("bs-datepicker-multiple",r.multipleCalendars),a.Q6J("calendar",t)}}function vY(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,yY,1,3,"bs-month-calendar-view",16),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.monthsCalendar))}}function bY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"bs-years-calendar-view",17),a.NdJ("onNavigate",function(i){return a.CHM(t),a.oxw(3).navigateTo(i)})("onViewMode",function(i){return a.CHM(t),a.oxw(3).setViewMode(i)})("onHover",function(i){return a.CHM(t),a.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return a.CHM(t),a.oxw(3).yearSelectHandler(i)}),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("bs-datepicker-multiple",r.multipleCalendars),a.Q6J("calendar",t)}}function wY(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,bY,1,3,"bs-years-calendar-view",16),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.yearsCalendar))}}function DY(n,e){1&n&&(a.TgZ(0,"div",18)(1,"button",19),a._uU(2,"Apply"),a.qZA(),a.TgZ(3,"button",20),a._uU(4,"Cancel"),a.qZA()())}function CY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){return a.CHM(t),a.oxw(3).setToday()}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw(3);a.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),a.xp6(2),a.Oqu(t.todayBtnLbl)}}function EY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",25)(1,"button",24),a.NdJ("click",function(){return a.CHM(t),a.oxw(3).clearDate()}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw(3);a.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),a.xp6(2),a.Oqu(t.clearBtnLbl)}}function TY(n,e){if(1&n&&(a.TgZ(0,"div",18),a.YNc(1,CY,3,7,"div",21),a.YNc(2,EY,3,7,"div",22),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",t.showTodayBtn),a.xp6(1),a.Q6J("ngIf",t.showClearBtn)}}function SY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",26)(1,"bs-custom-date-view",27),a.NdJ("onSelect",function(i){return a.CHM(t),a.oxw(2).setRangeOnCalendar(i)}),a.qZA()()}if(2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function IY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",1)(1,"div",2),a.NdJ("@datepickerAnimation.done",function(){return a.CHM(t),a.oxw().positionServiceEnable()}),a.TgZ(2,"div",3),a.ALo(3,"async"),a.YNc(4,_Y,5,4,"ng-container",4),a.YNc(5,vY,3,3,"div",5),a.YNc(6,wY,3,3,"div",5),a.qZA(),a.YNc(7,DY,5,0,"div",6),a.YNc(8,TY,3,2,"div",6),a.qZA(),a.YNc(9,SY,2,3,"div",7),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngClass",t.containerClass),a.xp6(1),a.Q6J("@datepickerAnimation",t.animationState),a.xp6(1),a.Q6J("ngSwitch",a.lcZ(3,9,t.viewMode)),a.xp6(2),a.Q6J("ngSwitchCase","day"),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngIf",!1),a.xp6(1),a.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),a.xp6(1),a.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const HY=["endTP"];function jY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"bs-days-calendar-view",11),a.NdJ("onNavigate",function(i){return a.CHM(t),a.oxw(3).navigateTo(i)})("onViewMode",function(i){return a.CHM(t),a.oxw(3).setViewMode(i)})("onHover",function(i){return a.CHM(t),a.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return a.CHM(t),a.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return a.CHM(t),a.oxw(3).daySelectHandler(i)}),a.ALo(1,"async"),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("bs-datepicker-multiple",r.multipleCalendars),a.Q6J("calendar",t)("options",a.lcZ(1,4,r.options$))}}function YY(n,e){1&n&&a._UZ(0,"timepicker",null,15)}function $Y(n,e){if(1&n&&(a.TgZ(0,"div",12),a._UZ(1,"timepicker",null,13),a.YNc(3,YY,2,0,"timepicker",14),a.qZA()),2&n){const t=a.oxw(3);a.xp6(3),a.Q6J("ngIf",t.isRangePicker)}}function GY(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",8),a.YNc(2,jY,2,6,"bs-days-calendar-view",9),a.ALo(3,"async"),a.qZA(),a.YNc(4,$Y,4,1,"div",10),a.BQk()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",a.lcZ(3,2,t.daysCalendar$)),a.xp6(2),a.Q6J("ngIf",t.withTimepicker)}}function ZY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"bs-month-calendar-view",17),a.NdJ("onNavigate",function(i){return a.CHM(t),a.oxw(3).navigateTo(i)})("onViewMode",function(i){return a.CHM(t),a.oxw(3).setViewMode(i)})("onHover",function(i){return a.CHM(t),a.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return a.CHM(t),a.oxw(3).monthSelectHandler(i)}),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("bs-datepicker-multiple",r.multipleCalendars),a.Q6J("calendar",t)}}function qY(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,ZY,1,3,"bs-month-calendar-view",16),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.monthsCalendar))}}function WY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"bs-years-calendar-view",17),a.NdJ("onNavigate",function(i){return a.CHM(t),a.oxw(3).navigateTo(i)})("onViewMode",function(i){return a.CHM(t),a.oxw(3).setViewMode(i)})("onHover",function(i){return a.CHM(t),a.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return a.CHM(t),a.oxw(3).yearSelectHandler(i)}),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("bs-datepicker-multiple",r.multipleCalendars),a.Q6J("calendar",t)}}function zY(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,WY,1,3,"bs-years-calendar-view",16),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.yearsCalendar))}}function KY(n,e){1&n&&(a.TgZ(0,"div",18)(1,"button",19),a._uU(2,"Apply"),a.qZA(),a.TgZ(3,"button",20),a._uU(4,"Cancel"),a.qZA()())}function JY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){return a.CHM(t),a.oxw(3).setToday()}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw(3);a.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),a.xp6(2),a.Oqu(t.todayBtnLbl)}}function QY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",25)(1,"button",24),a.NdJ("click",function(){return a.CHM(t),a.oxw(3).clearDate()}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw(3);a.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),a.xp6(2),a.Oqu(t.clearBtnLbl)}}function XY(n,e){if(1&n&&(a.TgZ(0,"div",18),a.YNc(1,JY,3,7,"div",21),a.YNc(2,QY,3,7,"div",22),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",t.showTodayBtn),a.xp6(1),a.Q6J("ngIf",t.showClearBtn)}}function e5(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",26)(1,"bs-custom-date-view",27),a.NdJ("onSelect",function(i){return a.CHM(t),a.oxw(2).setRangeOnCalendar(i)}),a.qZA()()}if(2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function t5(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",1)(1,"div",2),a.NdJ("@datepickerAnimation.done",function(){return a.CHM(t),a.oxw().positionServiceEnable()}),a.TgZ(2,"div",3),a.ALo(3,"async"),a.YNc(4,GY,5,4,"ng-container",4),a.YNc(5,qY,3,3,"div",5),a.YNc(6,zY,3,3,"div",5),a.qZA(),a.YNc(7,KY,5,0,"div",6),a.YNc(8,XY,3,2,"div",6),a.qZA(),a.YNc(9,e5,2,3,"div",7),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngClass",t.containerClass),a.xp6(1),a.Q6J("@datepickerAnimation",t.animationState),a.xp6(1),a.Q6J("ngSwitch",a.lcZ(3,9,t.viewMode)),a.xp6(2),a.Q6J("ngSwitchCase","day"),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngIf",!1),a.xp6(1),a.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),a.xp6(1),a.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let Nd=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nF="220ms cubic-bezier(0, 0, 0.2, 1)",rF=function a6(n,e){return{type:7,name:n,definitions:e,options:{}}}("datepickerAnimation",[PP("animated-down",Nf({height:"*",overflow:"hidden"})),fx("* => animated-down",[Nf({height:0,overflow:"hidden"}),j1(nF)]),PP("animated-up",Nf({height:"*",overflow:"hidden"})),fx("* => animated-up",[Nf({height:"*",overflow:"hidden"}),j1(nF)]),fx("* => unanimated",j1("0s"))]);class iF{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new ns.w0,this.selectedTimeSub=new ns.w0}set minDate(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}set maxDate(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}set daysDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}set datesDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}set datesEnabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}set isDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}set dateCustomClasses(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}set dateTooltipTexts(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}let pi=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,r){return{type:n.SELECT_TIME,payload:{date:t,index:r}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),q1=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new lr(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),dD=(()=>{class n{constructor(t,r){this._actions=t,this._localeService=r,this._subs=[]}init(t){return this._store=t,this}setValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.select(t))}setRangeValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.selectRange(t))}setMinDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.minDate(t)),this}setMaxDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){var r;const i=Object.assign({locale:this._localeService.currentLocale},t);return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(r=>r.selectedTime).pipe(xn(r=>!!r)),t.daysCalendar$=this._store.select(r=>r.flaggedMonths).pipe(xn(r=>!!r)),t.monthsCalendar=this._store.select(r=>r.flaggedMonthsCalendar).pipe(xn(r=>!!r)),t.yearsCalendar=this._store.select(r=>r.yearsCalendarFlagged).pipe(xn(r=>!!r)),t.viewMode=this._store.select(r=>{var i;return null===(i=r.view)||void 0===i?void 0:i.mode}),t.options$=aa([this._store.select(r=>r.showWeekNumbers),this._store.select(r=>r.displayMonths)]).pipe((0,Mt.U)(r=>({showWeekNumbers:r[0],displayMonths:r[1]}))),this):this}setEventHandlers(t){return t.setViewMode=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.changeViewMode(r))},t.navigateTo=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.navigateStep(r.step))},t.dayHoverHandler=r=>{var i;const l=r.cell;l.isOtherMonth||l.isDisabled||(null===(i=this._store)||void 0===i||i.dispatch(this._actions.hoverDay(r)),l.isHovered=r.isHovered)},t.monthHoverHandler=r=>{r.cell.isHovered=r.isHovered},t.yearHoverHandler=r=>{r.cell.isHovered=r.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.format())})),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedDate).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedRange).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(xn(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(t=>{var r;return null===(r=this._store)||void 0===r?void 0:r.dispatch(this._actions.setLocale(t))})),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pi),a.LFG(q1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const y5={date:new Date,mode:"day"},sF=Object.assign(new Nd,{locale:"en",view:y5,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function bx(n,e,t){const r=e&&oc(R1(n,"month"),e,"day"),i=t&&Zl(Od(n,"month"),t,"day");return r||i||!1}function hD(n,e,t){const r=e&&oc(R1(n,"year"),e,"day"),i=t&&Zl(Od(n,"year"),t,"day");return r||i||!1}function wx(n,e,t){return!!(e&&wr(e)&&e.length)&&(t&&"year"===t&&!e[0].getDate()?e.some(r=>pv(n,r,"year")):e.some(r=>pv(n,r,"date")))}function Dx(n,e,t){return!!(e&&wr(e)&&e.length)&&!e.some(r=>pv(n,r,t||"date"))}function oF(n,e=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[e];return(null==t?void 0:t.years[0])&&t.years[0][0]&&t.years[0][0].date}function w5(n,e){return!n||!e||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=lF(t.value,e)),n)),n}function aF(n,e){return!n||!e||n instanceof Array&&!n.length||n instanceof Date?n:lF(n,e)}function lF(n,e){return n instanceof Array?n.map(r=>r&&(Zl(r,e,"date")&&(r=e),r)):n}function uF(n){return n&&dF(n)}function cF(n){return(null==n?void 0:n.length)&&n.map(e=>e&&dF(e)),n}function dF(n){const e=new Date;return n.setMilliseconds(e.getMilliseconds()),n.setSeconds(e.getSeconds()),n.setMinutes(e.getMinutes()),n.setHours(e.getHours()),n}function Cx(n,e){let t=n.initialDate;const r=new Array(n.height);for(let i=0;i<n.height;i++){r[i]=new Array(n.width);for(let l=0;l<n.width;l++)r[i][l]=e(t),t=Wi(t,n.shift)}return r}function Ex(n,e){const t=function nH(n){return S1(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),r=function v5(n,e){if(function iH(n,e){return n.getDay()===Number(e)}(n,e.firstDayOfWeek))return n;const r=function b5(n,e){const t=Number(e);if(isNaN(t))return 0;if(0===t)return n;const r=n-t%7;return r<0?r+7:r}(ic(n),e.firstDayOfWeek);return Wi(n,{day:-r})}(t,e);return{daysMatrix:Cx({width:e.width||0,height:e.height||0,initialDate:r,shift:{day:1}},c=>c),month:t}}function C5(n,e,t){return n.map(r=>r[0]?nl(r[0],e,t):"")}function E5(n){const e=Ii(n),t=e.weekdaysShort(),r=e.firstDayOfWeek();return[...t.slice(r),...t.slice(0,r)]}function hF(n,e){return!e||n>=e}const A5={month:1};function fF(n,e){return{months:Cx({width:3,height:4,initialDate:Od(n,"year"),shift:A5},l=>({date:l,label:nl(l,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:nl(n,e.yearTitle,e.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const pF=-1*(Math.floor(8)-1),x5={year:1};function mF(n,e,t){const r=function O5(n,e){return e&&n.getFullYear()>=e.getFullYear()&&n.getFullYear()<e.getFullYear()+16?e:Wi(n,{year:pF})}(n,t),l=Cx({width:4,height:4,initialDate:r,shift:x5},f=>({date:f,label:nl(f,e.yearLabel,e.locale)})),c=function L5(n,e){return`${nl(n[0][0].date,e.yearTitle,e.locale)} - ${nl(n[3][3].date,e.yearTitle,e.locale)}`}(l,e);return{years:l,monthTitle:"",yearTitle:c,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Ix(n,e){!n||!isNaN(n.getTime())||(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds()),n.setMilliseconds(e.getMilliseconds()))}function gF(n=sF,e){var t;switch(e.type){case pi.CALCULATE:return function N5(n){if(!n.view)return n;let e;e=n.displayOneMonthRange&&_F(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=Wi(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=Ii(n.locale).firstDayOfWeek();let r=new Array(e);for(let i=0;i<e;i++)r[i]=Ex(t,n.monthViewOptions),t=Wi(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const i=Ex(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===i.month.getMonth()&&(r=n.flaggedMonths.map(l=>n.monthViewOptions?Ex(l.month,n.monthViewOptions):null).filter(l=>null!==l))}return Object.assign({},n,{monthsModel:r})}if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=fF(t,fD(n)),t=Wi(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=mF(t,fD(n),"year"===n.minMode?oF(n,i):void 0),t=Wi(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case pi.FORMAT:return function P5(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const r=n.monthsModel.map((i,l)=>function D5(n,e,t){return{month:n.month,monthTitle:nl(n.month,e.monthTitle,e.locale),yearTitle:nl(n.month,e.yearTitle,e.locale),weekNumbers:C5(n.daysMatrix,e.weekNumbers,e.locale),weekdays:E5(e.locale),weeks:n.daysMatrix.map((r,i)=>({days:r.map((l,c)=>({date:l,label:nl(l,e.dayLabel,e.locale),monthIndex:t,weekIndex:i,dayIndex:c}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(i,fD(n),l));return Object.assign({},n,{formattedMonths:r})}const e=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=fF(t,fD(n)),t=Wi(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=mF(t,fD(n)),t=Wi(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case pi.FLAG:return function F5(n){if(!n.view)return n;const e=_F(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((r,i)=>function T5(n,e){return n.weeks.forEach(t=>{t.days.forEach((r,i)=>{const l=!uv(r.date,n.month),c=!l&&xf(r.date,e.hoveredDate),f=!l&&e.selectedRange&&xf(r.date,e.selectedRange[0]),_=!l&&e.selectedRange&&xf(r.date,e.selectedRange[1]),D=!l&&xf(r.date,e.selectedDate)||f||_,S=!l&&e.selectedRange&&function S5(n,e,t){return!!(n&&e&&e[0])&&(e[1]?n>e[0]&&n<=e[1]:!!t&&n>e[0]&&n<=t)}(r.date,e.selectedRange,e.hoveredDate),A=e.isDisabled||oc(r.date,e.minDate,"day")||Zl(r.date,e.maxDate,"day")||function Sj(n,e){return!(void 0===e||!e||!e.length)&&e.some(t=>t===n.getDay())}(r.date,e.daysDisabled)||wx(r.date,e.datesDisabled)||Dx(r.date,e.datesEnabled),N=new Date,B=!l&&xf(r.date,N),$=e.dateCustomClasses&&e.dateCustomClasses.map(Ve=>xf(r.date,Ve.date)?Ve.classes:[]).reduce((Ve,Oe)=>Ve.concat(Oe),[]).join(" ")||"",ee=e.dateTooltipTexts&&e.dateTooltipTexts.map(Ve=>xf(r.date,Ve.date)?Ve.tooltipText:"").reduce((Ve,Oe)=>(Ve.push(Oe),Ve),[]).join(" ")||"",_e=Object.assign({},r,{isOtherMonth:l,isHovered:c,isSelected:D,isSelectionStart:f,isSelectionEnd:_,isInRange:S,isDisabled:A,isToday:B,customClasses:$,tooltipText:ee});(r.isOtherMonth!==_e.isOtherMonth||r.isHovered!==_e.isHovered||r.isSelected!==_e.isSelected||r.isSelectionStart!==_e.isSelectionStart||r.isSelectionEnd!==_e.isSelectionEnd||r.isDisabled!==_e.isDisabled||r.isInRange!==_e.isInRange||r.customClasses!==_e.customClasses||r.tooltipText!==_e.tooltipText)&&(t.days[i]=_e)})}),n.hideLeftArrow=e.isDisabled||!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=e.isDisabled||(!!e.monthIndex||0===e.monthIndex)&&!!e.displayMonths&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=bx(Wi(n.month,{month:-1}),e.minDate,e.maxDate),n.disableRightArrow=bx(Wi(n.month,{month:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:e,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:i}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((r,i)=>function k5(n,e){return n.months.forEach((t,r)=>{t.forEach((i,l)=>{let c;const f=uv(i.date,e.hoveredMonth),_=e.isDisabled||wx(i.date,e.datesDisabled)||Dx(i.date,e.datesEnabled,"month")||bx(i.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(c=uv(i.date,e.selectedRange[0]),c||(c=uv(i.date,e.selectedRange[1]))):c=uv(i.date,e.selectedDate);const D=Object.assign(i,{isHovered:f,isDisabled:_,isSelected:c});(i.isHovered!==D.isHovered||i.isDisabled!==D.isDisabled||i.isSelected!==D.isSelected)&&(n.months[r][l]=D)})}),n.hideLeftArrow=!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=(!!e.monthIndex||0===e.monthIndex)&&(!!e.displayMonths||0===e.displayMonths)&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=hD(Wi(n.months[0][0].date,{year:-1}),e.minDate,e.maxDate),n.disableRightArrow=hD(Wi(n.months[0][0].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,monthIndex:i}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((r,i)=>function R5(n,e){n.years.forEach((i,l)=>{i.forEach((c,f)=>{let _;const D=cv(c.date,e.hoveredYear),S=e.isDisabled||wx(c.date,e.datesDisabled,"year")||Dx(c.date,e.datesEnabled,"year")||hD(c.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(_=cv(c.date,e.selectedRange[0]),_||(_=cv(c.date,e.selectedRange[1]))):_=cv(c.date,e.selectedDate);const A=Object.assign(c,{isHovered:D,isDisabled:S,isSelected:_});(c.isHovered!==A.isHovered||c.isDisabled!==A.isDisabled||c.isSelected!==A.isSelected)&&(n.years[l][f]=A)})}),n.hideLeftArrow=!!e.yearIndex&&e.yearIndex>0&&e.yearIndex!==e.displayMonths,n.hideRightArrow=!!e.yearIndex&&!!e.displayMonths&&e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,n.disableLeftArrow=hD(Wi(n.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const t=n.years.length-1;return n.disableRightArrow=hD(Wi(n.years[t][n.years[t].length-1].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,yearIndex:i}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case pi.NAVIGATE_OFFSET:return function V5(n,e){if(!n.view)return n;const t=function B5(n,e){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=oF(n,0);if(t){const r=Wi(t,{year:-pF});return Wi(r,e.payload)}}return Wi(Od(n.view.date,"month"),e.payload)}}(n,e);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}(n,e);case pi.NAVIGATE_TO:{const r=e.payload;if(!n.view||!r.unit)return n;const i=function _H(n,e){return S1(dv(n.getFullYear(),e.year),dv(n.getMonth(),e.month),1,dv(n.getHours(),e.hour),dv(n.getMinutes(),e.minute),dv(n.getSeconds(),e.seconds),dv(n.getMilliseconds(),e.milliseconds))}(n.view.date,r.unit);let l,c;return hF(r.viewMode,n.minMode)?(c=r.viewMode,l={view:{date:i,mode:c}}):(c=n.view.mode,l={selectedDate:i,view:{date:i,mode:c}}),Object.assign({},n,l)}case pi.CHANGE_VIEWMODE:return hF(e.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:e.payload}}):n;case pi.HOVER:return Object.assign({},n,{hoveredDate:e.payload});case pi.SELECT:{if(!n.view)return n;const r={selectedDate:e.payload,view:n.view};if(Array.isArray(n.selectedTime)){const f=n.selectedTime[0];r.selectedDate&&f&&Ix(r.selectedDate,f)}const i=n.view.mode,c=Mx(e.payload||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:c},Object.assign({},n,r)}case pi.SELECT_TIME:{const{date:r,index:i}=e.payload,l=n.selectedTime?[...n.selectedTime]:[];return l[i]=r,Object.assign({},n,{selectedTime:l})}case pi.SET_OPTIONS:{if(!n.view)return n;const r=e.payload,i=r.minMode?r.minMode:n.view.mode,c=Mx(kf(r.value)&&r.value||wr(r.value)&&kf(r.value[0])&&r.value[0]||n.view.date,r.minDate,r.maxDate);return r.view={mode:i,date:c},r.value&&(wr(r.value)&&(r.selectedRange=r.value,r.selectedTime=r.value.map(f=>f)),r.value instanceof Date&&(r.selectedDate=r.value,r.selectedTime=[r.value])),Object.assign({},n,r)}case pi.SELECT_RANGE:{if(!n.view)return n;const r={selectedRange:e.payload,view:n.view};null===(t=r.selectedRange)||void 0===t||t.forEach((f,_)=>{if(Array.isArray(n.selectedTime)){const D=n.selectedTime[_];D&&Ix(f,D)}});const i=n.view.mode,c=Mx(e.payload&&e.payload[0]||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:c},Object.assign({},n,r)}case pi.SET_MIN_DATE:return Object.assign({},n,{minDate:e.payload});case pi.SET_MAX_DATE:return Object.assign({},n,{maxDate:e.payload});case pi.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:e.payload});case pi.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:e.payload});case pi.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:e.payload});default:return n}}function fD(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function Mx(n,e,t){const r=Array.isArray(n)?n[0]:n;return e&&Zl(e,r,"day")?e:t&&oc(t,r,"day")?t:r}function _F(n,e,t){return!(!t||!pv(t,n,"day"))||e&&t&&e.getMonth()===t.getMonth()}let pD=(()=>{class n extends Y1{constructor(){const t=new lr({type:"[datepicker] dispatcher init"});super(t,gF,new BP(sF,t,gF))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();var Pf=(()=>(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN"}(Pf||(Pf={})),Pf))();let U5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"span"),a._uU(2),a.qZA()()),2&t&&(a.xp6(2),a.Oqu(r.title))},encapsulation:2}),n})(),H5=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a._uU(3,"-"),a.qZA(),a._UZ(4,"input",3),a.TgZ(5,"button",4),a._uU(6,"+"),a.qZA()(),a.TgZ(7,"div",1)(8,"button",2),a._uU(9,"-"),a.qZA(),a._UZ(10,"input",3),a.TgZ(11,"button",4),a._uU(12,"+"),a.qZA()(),a.TgZ(13,"button",5),a._uU(14),a._UZ(15,"img",6),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("value",r.hours),a.xp6(6),a.Q6J("value",r.minutes),a.xp6(4),a.hij("",r.ampm," "))},encapsulation:2}),n})(),Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:K6,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,r){1&t&&(a.F$t(z6),a.YNc(0,q6,1,0,"bs-current-date",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a.TgZ(3,"div",2),a.Hsn(4,1),a.qZA(),a.YNc(5,W6,1,0,"bs-timepicker",3)),2&t&&(a.Q6J("ngIf",!1),a.xp6(5),a.Q6J("ngIf",!1))},directives:[U5,H5,nn],encapsulation:2}),n})(),kx=(()=>{class n{constructor(){this.onNavigate=new a.vpe,this.onViewMode=new a.vpe}navTo(t){this.onNavigate.emit(t?Pf.DOWN:Pf.UP)}view(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,r){1&t&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return r.navTo(!0)}),a.TgZ(1,"span"),a._uU(2,"\u2039"),a.qZA()(),a.YNc(3,J6,5,1,"ng-container",1),a._uU(4," \u200b "),a.TgZ(5,"button",2),a.NdJ("click",function(){return r.view("year")}),a.TgZ(6,"span"),a._uU(7),a.qZA()(),a._uU(8," \u200b "),a.TgZ(9,"button",3),a.NdJ("click",function(){return r.navTo(!1)}),a.TgZ(10,"span"),a._uU(11,"\u203a"),a.qZA()()),2&t&&(a.Udp("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),a.Q6J("disabled",r.calendar.disableLeftArrow),a.xp6(3),a.Q6J("ngIf",r.calendar&&r.calendar.monthTitle),a.xp6(4),a.Oqu(r.calendar.yearTitle),a.xp6(2),a.Udp("visibility",r.calendar.hideRightArrow?"hidden":"visible"),a.Q6J("disabled",r.calendar.disableRightArrow))},directives:[nn],encapsulation:2,changeDetection:0}),n})(),j5=(()=>{class n{constructor(t,r,i){this._config=t,this._elRef=r,this._renderer=i,this.day={date:new Date,label:""}}ngOnInit(){var t,r,i;(null===(t=this.day)||void 0===t?void 0:t.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(r=this.day)||void 0===r?void 0:r.customClasses)&&(null===(i=this.day)||void 0===i||i.customClasses.split(" ").filter(l=>l).forEach(l=>{this._renderer.addClass(this._elRef.nativeElement,l)}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nd),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:Q6,decls:1,vars:1,template:function(t,r){1&t&&a._uU(0),2&t&&a.Oqu(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0}),n})(),yF=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new a.vpe,this.onViewMode=new a.vpe,this.onSelect=new a.vpe,this.onHover=new a.vpe,this.onHoverWeek=new a.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:Pf.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const r=t.days.find(i=>(this._config.selectFromOtherMonth||!i.isOtherMonth)&&!i.isDisabled);if(this.onSelect.emit(r),this._config.selectWeekDateRange){const l=t.days.slice(0).reverse().find(c=>(this._config.selectFromOtherMonth||!c.isOtherMonth)&&!c.isDisabled);this.onSelect.emit(l)}}weekHoverHandler(t,r){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(l=>(this._config.selectFromOtherMonth||!l.isOtherMonth)&&!l.isDisabled)&&(t.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(t))}hoverDay(t,r){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(i=>{xf(i.date,t.date)&&(t.tooltipText=i.tooltipText)})),this.onHover.emit({cell:t,isHovered:r})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,r){1&t&&(a.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),a.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),a.qZA(),a.TgZ(2,"table",1)(3,"thead")(4,"tr"),a.YNc(5,X6,1,0,"th",2),a.YNc(6,eY,2,1,"th",3),a.qZA()(),a.TgZ(7,"tbody"),a.YNc(8,lY,3,2,"tr",4),a.qZA()()()),2&t&&(a.xp6(1),a.Q6J("calendar",r.calendar),a.xp6(4),a.Q6J("ngIf",r.options&&r.options.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",r.calendar.weekdays),a.xp6(2),a.Q6J("ngForOf",r.calendar.weeks))},directives:[Ax,kx,j5,nn,dn,m6],encapsulation:2}),n})(),vF=(()=>{class n{constructor(){this.onNavigate=new a.vpe,this.onViewMode=new a.vpe,this.onSelect=new a.vpe,this.onHover=new a.vpe}navigateTo(t){this.onNavigate.emit({step:{year:Pf.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(a.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),a.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),a.qZA(),a.TgZ(2,"table",1)(3,"tbody"),a.YNc(4,cY,2,1,"tr",2),a.qZA()()()),2&t&&(a.xp6(1),a.Q6J("calendar",r.calendar),a.xp6(3),a.Q6J("ngForOf",null==r.calendar?null:r.calendar.months))},directives:[Ax,kx,dn],encapsulation:2}),n})(),bF=(()=>{class n{constructor(){this.onNavigate=new a.vpe,this.onViewMode=new a.vpe,this.onSelect=new a.vpe,this.onHover=new a.vpe}navigateTo(t){this.onNavigate.emit({step:{year:16*(Pf.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(a.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),a.NdJ("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),a.qZA(),a.TgZ(2,"table",1)(3,"tbody"),a.YNc(4,hY,2,1,"tr",2),a.qZA()()()),2&t&&(a.xp6(1),a.Q6J("calendar",r.calendar),a.xp6(3),a.Q6J("ngForOf",null==r.calendar?null:r.calendar.years))},directives:[Ax,kx,dn],encapsulation:2}),n})(),wF=(()=>{class n{constructor(){this.onSelect=new a.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,fY,2,3,"button",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",r.ranges))},directives:[dn],encapsulation:2,changeDetection:0}),n})(),Y5=(()=>{class n extends iF{constructor(t,r,i,l,c,f,_){super(),this._config=r,this._store=i,this._element=l,this._actions=c,this._positionService=_,this.valueChange=new a.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=f,t.setStyle(l.nativeElement,"display","block"),t.setStyle(l.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,js.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>this.valueChange.emit(i))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){var t,r;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(i=>{var l;Array.isArray(i)&&i.length>=1&&(null===(l=this.startTimepicker)||void 0===l||l.writeValue(i[0]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(i=>{this.timeSelectHandler(i,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:an(t.date),year:Mr(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Mr(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(Nd),a.Y36(pD),a.Y36(a.SBq),a.Y36(pi),a.Y36(dD),a.Y36(Fl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,r){if(1&t&&a.Gf(tF,5),2&t){let i;a.iGM(i=a.CRH())&&(r.startTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r._stopPropagation(l)})},features:[a._Bn([pD,dD]),a.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(a.YNc(0,IY,10,11,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.viewMode))},directives:[yF,vx,vF,bF,wF,nn,ps,gi,ti,dn],pipes:[Jn],encapsulation:2,data:{animation:[rF]}}),n})(),$5=(()=>{class n{constructor(t,r,i,l,c){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Vn.x,this.isDisabled=!1,this.bsValueChange=new a.vpe,this._subs=[],this._dateInputFormat$=new Vn.x,Object.assign(this,this._config),this._datepicker=c.createLoader(r,l,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new lr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue||!t||this._config.withTimepicker||Ix(t,new Date),t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=uF(t)),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,l,c;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(l=t.bsConfig.previousValue)||void 0===l?void 0:l.initCurrentTime)&&this._bsValue&&(this._bsValue=uF(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&((null===(c=this._elementRef)||void 0===c?void 0:c.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe(xn(t=>t!==this.isOpen),ON(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Nd,useValue:this._config}).attach(Y5).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:aF(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nd),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.s_b),a.Y36(Yo))},n.\u0275dir=a.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[a.TTD]}),n})(),G5=(()=>{class n extends iF{constructor(t,r,i,l,c,f,_){super(),this._config=r,this._store=i,this._element=l,this._actions=c,this._positionService=_,this.valueChange=new a.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=f,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(l.nativeElement,"display","block"),t.setStyle(l.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setRangeValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,js.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{this.valueChange.emit(i),this.chosenRange=i||[]}))}ngAfterViewInit(){var t,r,i;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(l=>{var c,f;Array.isArray(l)&&l.length>=2&&(null===(c=this.startTimepicker)||void 0===c||c.writeValue(l[0]),null===(f=this.endTimepicker)||void 0===f||f.writeValue(l[1]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(l=>{this.timeSelectHandler(l,0)}),null===(i=this.endTimepicker)||void 0===i||i.registerOnChange(l=>{this.timeSelectHandler(l,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:an(t.date),year:Mr(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Mr(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){var r;let i=new Date(t);if(this._config.maxDate){const l=this._config.maxDate.getTime(),c=t.getTime()+864e5*(this._config.maxDateRange||0);i=c>l?new Date(this._config.maxDate):new Date(c)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));null===(r=this._effects)||void 0===r||r.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(Nd),a.Y36(pD),a.Y36(a.SBq),a.Y36(pi),a.Y36(dD),a.Y36(Fl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,r){if(1&t&&(a.Gf(tF,5),a.Gf(HY,5)),2&t){let i;a.iGM(i=a.CRH())&&(r.startTimepicker=i.first),a.iGM(i=a.CRH())&&(r.endTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r._stopPropagation(l)})},features:[a._Bn([pD,dD]),a.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(a.YNc(0,t5,10,11,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.viewMode))},directives:[yF,vx,vF,bF,wF,nn,ps,gi,ti,dn],pipes:[Jn],encapsulation:2,data:{animation:[rF]}}),n})();const Z5={provide:bs,useExisting:(0,a.Gpc)(()=>DF),multi:!0},q5={provide:Nn,useExisting:(0,a.Gpc)(()=>DF),multi:!0};let DF=(()=>{class n{constructor(t,r,i,l,c){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=l,this.changeDetection=c,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ns.w0}ngOnInit(){const t=r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(O_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const r=t?nl(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const r=t.value;if(null==r||""===r)return null;if(E1(r)){if(!kf(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&oc(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Zl(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Ii(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);this._value=aD(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=dP(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($5,1),a.Y36(q1),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[a._Bn([Z5,q5])]}),n})(),W5=(()=>{class n extends Nd{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xx=(()=>{class n{constructor(t,r,i,l,c){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Vn.x,this.isDisabled=!1,this.bsValueChange=new a.vpe,this._subs=[],this._rangeInputFormat$=new Vn.x,this._datepicker=c.createLoader(r,l,i),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new lr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue!==t&&(t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=cF(t)),this._bsValue=t,this.bsValueChange.emit(t))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Vn.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,l,c;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(l=t.bsConfig.previousValue)||void 0===l?void 0:l.initCurrentTime)&&this._bsValue&&(this._bsValue=cF(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&((null===(c=this._elementRef)||void 0===c?void 0:c.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(xn(t=>t!==this.isOpen),ON(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Nd,useValue:this._config}).attach(G5).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(xn(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()}))}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:aF(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:w5(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(W5),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.s_b),a.Y36(Yo))},n.\u0275dir=a.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[a.TTD]}),n})();const z5={provide:bs,useExisting:(0,a.Gpc)(()=>z1),multi:!0},K5={provide:Nn,useExisting:(0,a.Gpc)(()=>z1),multi:!0};let z1=(()=>{class n{constructor(t,r,i,l,c){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=l,this.changeDetection=c,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ns.w0}ngOnInit(){this._picker._bsValue&&(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(O_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let r="";if(t){const i=t[0]?nl(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",l=t[1]?nl(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=i&&l?i+this._picker._config.rangeSeparator+l:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let r=t.value;const i=[];if(null==r||!wr(r))return null;r=r.slice().sort((f,_)=>f.getTime()-_.getTime());const l=kf(r[0]),c=kf(r[1]);return l?c?(this._picker&&this._picker.minDate&&oc(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,i.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Zl(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,i.push({bsDate:{maxDate:this._picker.maxDate}})),i.length>0?(this.writeValue(r),i):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Ii(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);let l=[];if("string"==typeof t){const c=this._picker._config.rangeSeparator.trim();l=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(c.length>0?c:this._picker._config.rangeSeparator).map(f=>f.trim())}Array.isArray(t)&&(l=t),this._value=l.map(c=>this._picker._config.useUtc?dP(aD(c,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):aD(c,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(c=>isNaN(c.valueOf())?void 0:c)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xx,1),a.Y36(q1),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[a._Bn([z5,K5])]}),n})(),CF=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Yo,Fl,pD,pi,dD,q1,Rd]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[qt,g6,Z6]]}),n})();const J5=function(){return{isAnimated:!0}};let Q5=(()=>{class n{constructor(t){this._addsEventDto=t,this.createEvent=new _a({imageUrl:new si("",ws.required),description:new si("",ws.required),title:new si("",ws.required),date:new si("",ws.required)}),this.minDate=new Date}onCreateEventSubmited(t){var r,i,l,c;t.invalid||(this._addsEventDto.add({imageUrl:null===(r=t.get("imageUrl"))||void 0===r?void 0:r.value,description:null===(i=t.get("description"))||void 0===i?void 0:i.value,title:null===(l=t.get("title"))||void 0===l?void 0:l.value,date:null===(c=t.get("date"))||void 0===c?void 0:c.value}),this.createEvent.reset())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(AN))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-create-event"]],decls:20,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["rows","4","formControlName","imageUrl","placeholder","Add link to your image",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title","placeholder","Add event title",1,"form-control"],["type","text","formControlName","date","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return r.onCreateEventSubmited(r.createEvent)}),a.TgZ(1,"div",1)(2,"div",2)(3,"p"),a._uU(4,"Add event image"),a.qZA(),a._UZ(5,"textarea",3),a.qZA(),a.TgZ(6,"div",2)(7,"p"),a._uU(8,"Event Description"),a.qZA(),a._UZ(9,"textarea",4),a.qZA(),a.TgZ(10,"div",2)(11,"p"),a._uU(12,"Event Title"),a.qZA(),a._UZ(13,"input",5),a.qZA(),a.TgZ(14,"div",2)(15,"p"),a._uU(16,"Event Date"),a.qZA(),a._UZ(17,"input",6),a.qZA()(),a.TgZ(18,"div",7),a._UZ(19,"input",8),a.qZA()()),2&t&&(a.Q6J("formGroup",r.createEvent),a.xp6(17),a.Q6J("minDate",r.minDate)("bsConfig",a.DdM(4,J5)),a.xp6(2),a.Q6J("disabled",!r.createEvent.valid))},directives:[ya,ga,Uo,Ks,qa,va,z1,xx],encapsulation:2,changeDetection:0}),n})(),X5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-event-form-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","pt-3","border-bottom","mx-auto","w-75"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"container-flex","w-75","mx-auto"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Event - Create your event"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a._UZ(7,"lib-create-event"),a.qZA())},directives:[Bi,Q5],encapsulation:2,changeDetection:0}),n})(),e$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za,CF.forRoot()]]}),n})(),EF=(()=>{class n{constructor(t){this._contextDtoStorage=t}resolve(t,r){var i;return this._contextDtoStorage.next({eventId:null===(i=t.params)||void 0===i?void 0:i.eventId}),pt(!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ui))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),t$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[EF],imports:[[]]}),n})(),n$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn,qn.forChild([{path:"",component:X5}]),e$,C1]]}),n})();const TF=new a.OlP("ADDS_DIET_DTO");function r$(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1),a.NdJ("ngSubmit",function(){const l=a.CHM(t).ngIf,c=a.oxw();return c.onNewDietSubmited(c.newDiet,l.eventId)}),a.TgZ(1,"p",2),a._uU(2,"Add your diet"),a.qZA(),a._UZ(3,"input",3)(4,"input",4),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("formGroup",t.newDiet),a.xp6(4),a.Q6J("disabled",t.newDiet.invalid)}}let i$=(()=>{class n{constructor(t,r){this._addsDietDto=t,this._contextDtoStorage=r,this.newDiet=new _a({name:new si("",ws.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewDietSubmited(t,r){var i;this._addsDietDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newDiet.reset()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(TF),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-add-diet-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your diet",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(a.YNc(0,r$,5,2,"form",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.currentEvent$))},directives:[nn,ya,ga,Uo,Ks,qa,va],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();const Ox=new a.OlP("GETS_ALL_DIET_DTO"),SF=new a.OlP("REMOVES_DIET_DTO"),IF=new a.OlP("SETS_DIET_DTO"),MF=new a.OlP("INPUT_STATE_DTO_STORAGE");function s$(n,e){1&n&&a._UZ(0,"div")}function o$(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,s$,1,0,"div",7),a.qZA()),2&n){const t=e.ngIf,r=a.oxw().$implicit,i=a.MAs(4),l=a.MAs(7);a.xp6(1),a.Q6J("ngIf",t.dietId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function a$(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",8),a.NdJ("ngSubmit",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onSaveChangesClicked(i)}),a._UZ(1,"input",9)(2,"input",10),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("formGroup",t.editingDiet),a.xp6(2),a.Q6J("disabled",!t.editingDiet.valid)}}function l$(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11)(1,"div",12),a.O4$(),a.TgZ(2,"svg",13),a._UZ(3,"path",14),a.qZA(),a.kcU(),a.TgZ(4,"p",15),a._uU(5),a.qZA()(),a.TgZ(6,"div",16)(7,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onEditClicked(i)}),a.O4$(),a.TgZ(8,"svg",18),a._UZ(9,"path",19),a.qZA()(),a.kcU(),a.TgZ(10,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onDeleteClicked(i.id)}),a.O4$(),a.TgZ(11,"svg",20),a._UZ(12,"path",21)(13,"path",22),a.qZA()()()()}if(2&n){const t=a.oxw().$implicit;a.xp6(5),a.Oqu(t.name)}}function u$(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,o$,2,3,"div",3),a.ALo(2,"async"),a.YNc(3,a$,3,2,"ng-template",null,4,a.W1O),a.YNc(5,l$,14,1,"ng-template",null,5,a.W1O),a.qZA()),2&n){const t=a.MAs(6),r=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let c$=(()=>{class n{constructor(t,r,i,l,c){this._getsAllDietDto=t,this._removesDietDto=r,this._setsDietDto=i,this._inputStateDtoStorage=l,this._contextDtoStoragePort=c,this.inputState$=this._inputStateDtoStorage.asObservable(),this.editingDiet=new _a({name:new si("",ws.required)}),this.diets$=this._contextDtoStoragePort.asObservable().pipe(hn(f=>this._getsAllDietDto.getAll({eventId:f.eventId})))}onDeleteClicked(t){this._removesDietDto.remove(t)}onSaveChangesClicked(t){var r;this._setsDietDto.set({id:t.id,name:null===(r=this.editingDiet.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}onEditClicked(t){var r;this._inputStateDtoStorage.next({dietId:t.id,isEditing:!0}),null===(r=this.editingDiet.get("name"))||void 0===r||r.setValue(t.name)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ox),a.Y36(SF),a.Y36(IF),a.Y36(MF),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-diet-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,u$,8,4,"div",1),a.ALo(2,"async"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,r.diets$)))},directives:[dn,nn,ya,ga,Uo,Ks,qa,va],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-diet-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Diet - Set up your diet"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a._UZ(7,"lib-add-diet-form"),a.qZA(),a._UZ(8,"lib-diet-list"))},directives:[Bi,i$,c$],encapsulation:2,changeDetection:0}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),f$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),AF=(()=>{class n extends iv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[AF,{provide:MF,useExisting:AF}],imports:[[]]}),n})();const Lx=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,l,c)=>void 0===i.find(f=>l[f]!==c[f]))(t,i,e))};let mD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("diets").add(t)}getAll(t){return this._client.collection("diets").valueChanges({idField:"id"}).pipe((0,Mt.U)(r=>Lx(r,t)))}remove(t){this._client.doc("diets/"+t).delete()}set(t){this._client.doc("diets/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),kF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[mD,{provide:TF,useExisting:mD},{provide:Ox,useExisting:mD},{provide:SF,useExisting:mD},{provide:IF,useExisting:mD}],imports:[[Xw]]}),n})(),xF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn,qn.forChild([{path:"",component:d$}]),h$,kF,f$,p$]]}),n})();const OF=new a.OlP("GETS_ALL_NAV_LINK_DTO");function m$(n,e){if(1&n&&(a.TgZ(0,"li",2)(1,"a",3),a._UZ(2,"img",4),a.qZA()()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("routerLink",t.link),a.xp6(1),a.Q6J("src",t.icon,a.LSH)}}let g$=(()=>{class n{constructor(t){this._getsAllNavLinkDto=t,this.navLink$=this._getsAllNavLinkDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(OF))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-navigation"]],decls:3,vars:3,consts:[[1,"nav","flex-column","pt-5","d-flex","align-items-center"],["class","nav-item fw-bold",4,"ngFor","ngForOf"],[1,"nav-item","fw-bold"],[1,"nav-link","d-inline-flex","fs-6","text-decoration-none","text-dark",3,"routerLink"],[1,"pe-2",3,"src"]],template:function(t,r){1&t&&(a.TgZ(0,"ul",0),a.YNc(1,m$,3,2,"li",1),a.ALo(2,"async"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,r.navLink$)))},directives:[dn,Bi],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-event-home-page"]],decls:5,vars:0,consts:[[1,"grid","bg-dark","vh-100"],[1,"g-col-1","bg-white"],[1,"g-col-9","g-start-3","text-white"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"lib-navigation"),a.qZA(),a.TgZ(3,"div",2),a._UZ(4,"router-outlet"),a.qZA()())},directives:[g$,Iu],encapsulation:2,changeDetection:0}),n})(),LF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn]]}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn]]}),n})(),NF=(()=>{class n{constructor(t){this._client=t}getAll(t){return pt([{name:"Dashboard",link:"dashboard",icon:"assets/icons/nav-links/dashboard.svg"},{name:"Edit-event",link:"edit-event",icon:"assets/icons/nav-links/event.svg"},{name:"Diet",link:"diet",icon:"assets/icons/nav-links/diet.svg"},{name:"Transport",link:"transport",icon:"assets/icons/nav-links/transport.svg"},{name:"Attractions",link:"attractions",icon:"assets/icons/nav-links/attractions.svg"},{name:"Users",link:"/",icon:"assets/icons/nav-links/users.svg"}])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[NF,{provide:OF,useExisting:NF}],imports:[[Xw]]}),n})();const y$=function(n){return{dropdown:n}},v$=["*"],FF=[Nf({height:0,overflow:"hidden"}),j1("220ms cubic-bezier(0, 0, 0.2, 1)",Nf({height:"*",overflow:"hidden"}))];let lg=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new a.vpe,this.isDisabledChange=new a.vpe,this.toggleClick=new a.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),w$=(()=>{class n{constructor(t,r,i,l,c){this._state=t,this.cd=r,this._renderer=i,this._element=l,this.isOpen=!1,this._factoryDropDownAnimation=c.build(FF),this._subscription=t.isOpenChange.subscribe(f=>{this.isOpen=f;const _=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),_&&!Pl()&&(this._renderer.addClass(_,"show"),(_.classList.contains("dropdown-menu-right")||_.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(_,"left","auto"),this._renderer.setStyle(_,"right","0")),"up"===this.direction&&(this._renderer.setStyle(_,"top","auto"),this._renderer.setStyle(_,"transform","translateY(-101%)"))),_&&this._state.isAnimated&&this._factoryDropDownAnimation.create(_).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lg),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(H1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:v$,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA()),2&t&&(a.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),a.Q6J("ngClass",a.VKq(7,y$,"down"===r.direction)))},directives:[ps],encapsulation:2,changeDetection:0}),n})(),D$=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VF=(()=>{class n{constructor(t,r,i,l,c,f,_){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=l,this._state=c,this._config=f,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=_.build(FF),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:lg,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Pl()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(xn(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(w$).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,l=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&l[--this._state.counts].focus();break;case 40:this._state.counts+1<l.length&&(i.classList!==l[this._state.counts].classList?l[this._state.counts].focus():l[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Pl()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.s_b),a.Y36(Yo),a.Y36(lg),a.Y36(D$),a.Y36(H1))},n.\u0275dir=a.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&a.NdJ("keydown.arrowDown",function(l){return r.navigationClick(l)})("keydown.arrowUp",function(l){return r.navigationClick(l)}),2&t&&a.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[a._Bn([lg])]}),n})(),C$=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lg),a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),E$=(()=>{class n{constructor(t,r,i,l,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=l,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(f=>{this.isOpen=f,f?(this._documentClickListener=this._renderer.listen("document","click",_=>{this._state.autoClose&&2!==_.button&&!this._element.nativeElement.contains(_.target)&&(!this._state.insideClick||!this._dropdown._contains(_))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(f=>this.isDisabled=f||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(VF),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(lg))},n.\u0275dir=a.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l)}),2&t&&a.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),T$=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Yo,Fl,lg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[qt]]}),n})();function S$(n,e){if(1&n&&(a.TgZ(0,"a",11),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("routerLink","/event/"+t.id),a.xp6(1),a.hij(" ",t.title," ")}}function I$(n,e){if(1&n&&(a.O4$(),a.kcU(),a.TgZ(0,"ul",8)(1,"li",9),a.YNc(2,S$,2,2,"a",10),a.ALo(3,"async"),a.qZA()()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",a.lcZ(3,1,t.allEvents$))}}function M$(n,e){if(1&n&&(a.TgZ(0,"div",1)(1,"p",2),a._uU(2),a.qZA(),a.TgZ(3,"div",3)(4,"span",4),a.O4$(),a.TgZ(5,"svg",5),a._UZ(6,"path",6),a.qZA()(),a.YNc(7,I$,4,3,"ul",7),a.qZA()()),2&n){const t=e.ngIf;a.xp6(2),a.hij("Event - ",t.title,"")}}let A$=(()=>{class n{constructor(t,r,i){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this._getsAllEventDto=i,this.event$=this._contextDtoStoragePort.asObservable().pipe(hn(l=>this._getsOneEventDto.getOne(l.eventId))),this.allEvents$=this._getsAllEventDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(D1),a.Y36(Ui),a.Y36(Zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-event-dropdown-list"]],decls:2,vars:3,consts:[["class","mb-3 d-flex justify-content-start align-items-center",4,"ngIf"],[1,"mb-3","d-flex","justify-content-start","align-items-center"],[1,"m-0","fs-4","me-3"],["dropdown","",1,"btn-group","p-1","m-0"],["id","button-split","type","button","dropdownToggle","","aria-controls","dropdown-split",1,"fs-3"],["width","20","height","15","viewBox","0 0 20 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 0L10 15L20 0H0Z","fill","white"],["id","dropdown-split","class","dropdown-menu","role","menu","aria-labelledby","button-split",4,"dropdownMenu"],["id","dropdown-split","role","menu","aria-labelledby","button-split",1,"dropdown-menu"],["role","menuitem"],["class","dropdown-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"routerLink"]],template:function(t,r){1&t&&(a.YNc(0,M$,8,1,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.event$))},directives:[nn,VF,E$,C$,dn,Bi],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();function k$(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",1)(2,"div")(3,"p",2),a._uU(4),a.qZA(),a.TgZ(5,"p",3),a._uU(6),a.ALo(7,"date"),a.ALo(8,"date"),a.qZA()(),a.TgZ(9,"button",4),a.O4$(),a.TgZ(10,"svg",5),a._UZ(11,"path",6),a.qZA()()(),a.kcU(),a.TgZ(12,"div",7)(13,"div",8),a._UZ(14,"img",9),a.qZA(),a.TgZ(15,"div",10)(16,"p",11),a._uU(17),a.qZA()()()()),2&n){const t=e.ngIf,r=a.oxw();a.xp6(4),a.hij("Event Details - ",t.title,""),a.xp6(2),a.AsE(" ",a.xi3(7,5,r.formatDate(t.date[0]),"dd.MM.YYYY")," - ",a.xi3(8,8,r.formatDate(t.date[1]),"dd.MM.YYYY")," "),a.xp6(8),a.Q6J("src",t.imageUrl,a.LSH),a.xp6(3),a.Oqu(t.description)}}let x$=(()=>{class n{constructor(t,r){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this.event$=this._contextDtoStoragePort.asObservable().pipe(hn(i=>this._getsOneEventDto.getOne(i.eventId)))}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(D1),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-event-dashboard"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"m-0","fs-4","fw-bold"],[1,"m-0","fs-6"],["type","button","routerLink","edit-event",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"mt-4","grid","h-25"],[1,"g-col-5"],["alt","",1,"img-fluid",3,"src"],[1,"g-col-6"],[1,"m-0"]],template:function(t,r){1&t&&(a.YNc(0,k$,18,11,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.event$))},directives:[nn,jg],pipes:[Jn,Ud],encapsulation:2,changeDetection:0}),n})();function O$(n,e){if(1&n&&(a.TgZ(0,"div",10)(1,"div",11)(2,"p",12),a._uU(3),a.qZA()(),a.TgZ(4,"div",13)(5,"p",14),a._uU(6,"0/15"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.name)}}function L$(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,O$,7,1,"div",9),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.diets$))}}function R$(n,e){1&n&&(a.TgZ(0,"div",15)(1,"a",16),a._uU(2,"Configure"),a.qZA()())}let N$=(()=>{class n{constructor(t,r){this._getsAllDietDto=t,this._contextDtoStoragePort=r,this.diets$=this._contextDtoStoragePort.asObservable().pipe(hn(i=>this._getsAllDietDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ox),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-diet-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","diet",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","diet",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Diet"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a.YNc(7,L$,3,3,"div",6),a.ALo(8,"async"),a.qZA(),a.YNc(9,R$,3,0,"ng-template",null,7,a.W1O)),2&t){const i=a.MAs(10);let l;a.xp6(7),a.Q6J("ngIf",null==(l=a.lcZ(8,2,r.diets$))?null:l.length)("ngIfElse",i)}},directives:[Bi,nn,dn],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();const Rx=new a.OlP("GETS_ALL_TRANSPORT_DTO");function P$(n,e){if(1&n&&(a.TgZ(0,"div",10)(1,"div",11)(2,"p",12),a._uU(3),a.qZA()(),a.TgZ(4,"div",13)(5,"p",14),a._uU(6,"0/15"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.name)}}function F$(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,P$,7,1,"div",9),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.transports$))}}function V$(n,e){1&n&&(a.TgZ(0,"div",15)(1,"a",16),a._uU(2,"Configure"),a.qZA()())}let B$=(()=>{class n{constructor(t,r){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this.transports$=this._contextDtoStoragePort.asObservable().pipe(hn(i=>this._getsAllTransportDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rx),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-transport-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","transport",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","transport",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Transport"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a.YNc(7,F$,3,3,"div",6),a.ALo(8,"async"),a.qZA(),a.YNc(9,V$,3,0,"ng-template",null,7,a.W1O)),2&t){const i=a.MAs(10);let l;a.xp6(7),a.Q6J("ngIf",null==(l=a.lcZ(8,2,r.transports$))?null:l.length)("ngIfElse",i)}},directives:[Bi,nn,dn],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();const Nx=new a.OlP("GETS_ALL_ATTRACTION_DTO");function U$(n,e){if(1&n&&(a.TgZ(0,"div",10)(1,"div",11)(2,"p",12),a._uU(3),a.qZA()(),a.TgZ(4,"div",13)(5,"p",14),a._uU(6,"0/15"),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.name)}}function H$(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,U$,7,1,"div",9),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.attractions$))}}function j$(n,e){1&n&&(a.TgZ(0,"div",15)(1,"a",16),a._uU(2,"Configure"),a.qZA()())}let Y$=(()=>{class n{constructor(t,r){this._getsAllAttractionDto=t,this._contextDtoStoragePort=r,this.attractions$=this._contextDtoStoragePort.asObservable().pipe(hn(i=>this._getsAllAttractionDto.getAll({eventId:i.eventId})))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nx),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-attractions-card"]],decls:11,vars:4,consts:[[1,"mb-4","bg-white","rounded-top","d-flex","align-items-center","justify-content-between"],[1,"m-0","ms-3","text-dark","fw-bold"],["routerLink","attractions",1,"btn","border-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-dark"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"container","bg-white","h-100"],["class","text-center text-dark",4,"ngIf","ngIfElse"],["button",""],[1,"text-center","text-dark"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-75","d-flex","border","border-dark"],[1,"m-0","ps-1"],[1,"w-25","border","border-dark"],[1,"m-0"],[1,"h-100","d-flex","justify-content-center","align-items-center"],["routerLink","attractions",1,"btn","btn-success","m-5"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Attraction"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a.YNc(7,H$,3,3,"div",6),a.ALo(8,"async"),a.qZA(),a.YNc(9,j$,3,0,"ng-template",null,7,a.W1O)),2&t){const i=a.MAs(10);let l;a.xp6(7),a.Q6J("ngIf",null==(l=a.lcZ(8,2,r.attractions$))?null:l.length)("ngIfElse",i)}},directives:[Bi,nn,dn],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-event-dashboard-page"]],decls:15,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"w-50"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"mt-4"],[1,"grid","mt-5","mb-5"],[1,"g-col-3"],[1,"g-col-3","g-start-5"],[1,"g-col-3","g-start-9"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"lib-event-dropdown-list"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a._UZ(7,"lib-event-dashboard"),a.qZA(),a.TgZ(8,"div",6)(9,"div",7),a._UZ(10,"lib-diet-card"),a.qZA(),a.TgZ(11,"div",8),a._UZ(12,"lib-transport-card"),a.qZA(),a.TgZ(13,"div",9),a._UZ(14,"lib-attractions-card"),a.qZA()())},directives:[A$,Bi,x$,N$,B$,Y$],encapsulation:2,changeDetection:0}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn,T$.forRoot()]]}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn]]}),n})(),q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn]]}),n})(),gD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("transports").add(t)}getAll(t){return this._client.collection("transports").valueChanges({idField:"id"}).pipe((0,Mt.U)(r=>Lx(r,t)))}remove(t){this._client.doc("transports/"+t).delete()}set(t){this._client.doc("transports/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const BF=new a.OlP("ADDS_TRANSPORT_DTO"),UF=new a.OlP("REMOVES_TRANSPORT_DTO"),HF=new a.OlP("SETS_TRANSPORT_DTO");let jF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[gD,{provide:BF,useExisting:gD},{provide:Rx,useExisting:gD},{provide:UF,useExisting:gD},{provide:HF,useExisting:gD}],imports:[[Xw]]}),n})(),W$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn]]}),n})(),_D=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("attractions").valueChanges({idField:"id"}).pipe((0,Mt.U)(r=>Lx(r,t)))}add(t){this._client.collection("attractions").add(t)}set(t){this._client.doc("attractions/"+t.id).update(t)}remove(t){this._client.doc("attractions/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const YF=new a.OlP("ADDS_ATTRACTION_DTO"),$F=new a.OlP("SETS_ATTRACTION_DTO"),GF=new a.OlP("REMOVES_ATTRACTION_DTO");let ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_D,{provide:Nx,useExisting:_D},{provide:YF,useExisting:_D},{provide:$F,useExisting:_D},{provide:GF,useExisting:_D}],imports:[[Xw]]}),n})(),qF=(()=>{class n extends iv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const WF=new a.OlP("INPUT_STATE_DTO_STORAGE");let z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[qF,{provide:WF,useExisting:qF}],imports:[[]]}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn.forChild([{path:"",component:$$}]),LF,C1,G$,Z$,kF,q$,jF,W$,ZF]]}),n})();function K$(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1),a.NdJ("ngSubmit",function(){const l=a.CHM(t).ngIf,c=a.oxw();return c.onNewTransportButtonSubmited(c.newTransport,l.eventId)}),a.TgZ(1,"p",2),a._uU(2,"Add your transport options"),a.qZA(),a._UZ(3,"input",3)(4,"input",4),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("formGroup",t.newTransport),a.xp6(4),a.Q6J("disabled",t.newTransport.invalid)}}let J$=(()=>{class n{constructor(t,r){this._addsTransportDto=t,this._contextDtoStorage=r,this.newTransport=new _a({name:new si("",ws.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewTransportButtonSubmited(t,r){var i;this._addsTransportDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newTransport.reset()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(BF),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-add-transport-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your transport option",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(a.YNc(0,K$,5,2,"form",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.currentEvent$))},directives:[nn,ya,ga,Uo,Ks,qa,va],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();const KF=new a.OlP("INPUT_STATE_DTO_STORAGE");function Q$(n,e){1&n&&a._UZ(0,"div")}function X$(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,Q$,1,0,"div",7),a.qZA()),2&n){const t=e.ngIf,r=a.oxw().$implicit,i=a.MAs(4),l=a.MAs(7);a.xp6(1),a.Q6J("ngIf",t.transportId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function e4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",8),a._UZ(1,"input",9),a.TgZ(2,"input",10),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onSaveButtonClicked(i)}),a.qZA()()}if(2&n){const t=a.oxw(2);a.Q6J("formGroup",t.editingTransport),a.xp6(2),a.Q6J("disabled",!t.editingTransport.valid)}}function t4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11)(1,"div",12),a.O4$(),a.TgZ(2,"svg",13),a._UZ(3,"path",14),a.qZA(),a.kcU(),a.TgZ(4,"p",15),a._uU(5),a.qZA()(),a.TgZ(6,"div",16)(7,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onEditButtonClicked(i)}),a.O4$(),a.TgZ(8,"svg",18),a._UZ(9,"path",19),a.qZA()(),a.kcU(),a.TgZ(10,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onDeleteButtonClicked(i.id)}),a.O4$(),a.TgZ(11,"svg",20),a._UZ(12,"path",21)(13,"path",22),a.qZA()()()()}if(2&n){const t=a.oxw().$implicit;a.xp6(5),a.Oqu(t.name)}}function n4(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,X$,2,3,"div",3),a.ALo(2,"async"),a.YNc(3,e4,3,2,"ng-template",null,4,a.W1O),a.YNc(5,t4,14,1,"ng-template",null,5,a.W1O),a.qZA()),2&n){const t=a.MAs(6),r=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let r4=(()=>{class n{constructor(t,r,i,l,c){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesTransportDto=l,this._setsTransportDto=c,this.inputState$=this._inputStateDtoStorage.asObservable(),this.transports$=this._contextDtoStoragePort.asObservable().pipe(hn(f=>this._getsAllTransportDto.getAll({eventId:f.eventId}))),this.editingTransport=new _a({name:new si("",ws.required)})}onDeleteButtonClicked(t){this._removesTransportDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({transportId:t.id,isEditing:!0}),null===(r=this.editingTransport.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsTransportDto.set({id:t.id,name:null===(r=this.editingTransport.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rx),a.Y36(Ui),a.Y36(KF),a.Y36(UF),a.Y36(HF))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-transport-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,n4,8,4,"div",1),a.ALo(2,"async"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,r.transports$)))},directives:[dn,nn,ya,ga,Uo,Ks,qa,va],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),i4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-transport-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Transport - Set up your transport options"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a._UZ(7,"lib-add-transport-form"),a.qZA(),a._UZ(8,"lib-transport-list"))},directives:[Bi,J$,r4],encapsulation:2,changeDetection:0}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),o4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),JF=(()=>{class n extends iv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[JF,{provide:KF,useExisting:JF}],imports:[[]]}),n})(),l4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn,qn.forChild([{path:"",component:i4}]),s4,jF,o4,a4]]}),n})();const u4=function(){return{isAnimated:!0}};function c4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1),a.NdJ("ngSubmit",function(){const l=a.CHM(t).ngIf;return a.oxw().onEditEventFormSubmited(l)}),a.TgZ(1,"div",2)(2,"div",3)(3,"p"),a._uU(4,"Add event image"),a.qZA(),a._UZ(5,"textarea",4),a.qZA(),a.TgZ(6,"div",3)(7,"p"),a._uU(8,"Event Description"),a.qZA(),a._UZ(9,"textarea",5),a.qZA(),a.TgZ(10,"div",3)(11,"p"),a._uU(12,"Event Title"),a.qZA(),a._UZ(13,"input",6),a.qZA(),a.TgZ(14,"div",3)(15,"p"),a._uU(16,"Event Date"),a.qZA(),a._UZ(17,"input",7),a.qZA()(),a.TgZ(18,"div",8),a._UZ(19,"input",9),a.qZA()()}if(2&n){const t=e.ngIf,r=a.oxw();a.Q6J("formGroup",t),a.xp6(17),a.Q6J("minDate",r.minDate)("bsConfig",a.DdM(3,u4))}}let d4=(()=>{class n{constructor(t,r,i,l){this._getsOneEventDto=t,this._contextDtoStoragePort=r,this._setsEventDto=i,this.router=l,this.editEventForm$=this._contextDtoStoragePort.asObservable().pipe(hn(c=>this._getsOneEventDto.getOne(c.eventId)),(0,Mt.U)(c=>new _a({imageUrl:new si(c.imageUrl,ws.required),description:new si(c.description,ws.required),title:new si(c.title,ws.required),date:new si(c.date,ws.required),id:new si(c.id)}))),this.minDate=new Date}ngOnInit(){}formatDate(t){return t.toDate()}onEditEventFormSubmited(t){var r,i,l,c,f;this._setsEventDto.set({id:null===(r=t.get("id"))||void 0===r?void 0:r.value,imageUrl:null===(i=t.get("imageUrl"))||void 0===i?void 0:i.value,description:null===(l=t.get("description"))||void 0===l?void 0:l.value,title:null===(c=t.get("title"))||void 0===c?void 0:c.value,date:null===(f=t.get("date"))||void 0===f?void 0:f.value}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(D1),a.Y36(Ui),a.Y36(kN),a.Y36(Vi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-edit-event"]],decls:2,vars:3,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["contentEditable","true","rows","4","formControlName","imageUrl",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","date","placeholder","","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(a.YNc(0,c4,20,4,"form",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.editEventForm$))},directives:[nn,ya,ga,Uo,Ks,qa,va,z1,xx],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-edit-event-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Edit Event"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div"),a._UZ(7,"lib-edit-event"),a.qZA())},directives:[Bi,d4],encapsulation:2,changeDetection:0}),n})(),f4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,CF.forRoot(),za]]}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn.forChild([{path:"",component:h4}]),f4]]}),n})();function m4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1),a.NdJ("ngSubmit",function(){const l=a.CHM(t).ngIf,c=a.oxw();return c.onNewAttractionSubmited(c.newAttraction,l.eventId)}),a.TgZ(1,"p",2),a._uU(2,"Add your attraction"),a.qZA(),a._UZ(3,"input",3)(4,"input",4),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("formGroup",t.newAttraction),a.xp6(4),a.Q6J("disabled",t.newAttraction.invalid)}}let g4=(()=>{class n{constructor(t,r){this._addsAttractionDto=t,this._contextDtoStorage=r,this.newAttraction=new _a({name:new si("",ws.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewAttractionSubmited(t,r){var i;this._addsAttractionDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newAttraction.reset()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(YF),a.Y36(Ui))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-add-attraction-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your attraction",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50","text-white",3,"disabled"]],template:function(t,r){1&t&&(a.YNc(0,m4,5,2,"form",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,r.currentEvent$))},directives:[nn,ya,ga,Uo,Ks,qa,va],pipes:[Jn],encapsulation:2,changeDetection:0}),n})();function _4(n,e){1&n&&a._UZ(0,"div")}function y4(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,_4,1,0,"div",7),a.qZA()),2&n){const t=e.ngIf,r=a.oxw().$implicit,i=a.MAs(4),l=a.MAs(7);a.xp6(1),a.Q6J("ngIf",t.attractionId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",l)}}function v4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",8),a._UZ(1,"input",9),a.TgZ(2,"input",10),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onSaveButtonClicked(i)}),a.qZA()()}if(2&n){const t=a.oxw(2);a.Q6J("formGroup",t.editAttraction),a.xp6(2),a.Q6J("disabled",t.editAttraction.invalid)}}function b4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11)(1,"div",12),a.O4$(),a.TgZ(2,"svg",13),a._UZ(3,"path",14),a.qZA(),a.kcU(),a.TgZ(4,"p",15),a._uU(5),a.qZA()(),a.TgZ(6,"div",16)(7,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onEditButtonClicked(i)}),a.O4$(),a.TgZ(8,"svg",18),a._UZ(9,"path",19),a.qZA()(),a.kcU(),a.TgZ(10,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().onDeleteButtonClicked(i.id)}),a.O4$(),a.TgZ(11,"svg",20),a._UZ(12,"path",21)(13,"path",22),a.qZA()()()()}if(2&n){const t=a.oxw().$implicit;a.xp6(5),a.Oqu(t.name)}}function w4(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,y4,2,3,"div",3),a.ALo(2,"async"),a.YNc(3,v4,3,2,"ng-template",null,4,a.W1O),a.YNc(5,b4,14,1,"ng-template",null,5,a.W1O),a.qZA()),2&n){const t=a.MAs(6),r=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let D4=(()=>{class n{constructor(t,r,i,l,c){this._getsAllAttractionDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesAttractionDto=l,this._setsAttractionDto=c,this.inputState$=this._inputStateDtoStorage.asObservable(),this.attractions$=this._contextDtoStoragePort.asObservable().pipe(hn(f=>this._getsAllAttractionDto.getAll({eventId:f.eventId}))),this.editAttraction=new _a({name:new si("",ws.required)})}onDeleteButtonClicked(t){this._removesAttractionDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({attractionId:t.id,isEditing:!0}),null===(r=this.editAttraction.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsAttractionDto.set({id:t.id,name:null===(r=this.editAttraction.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Nx),a.Y36(Ui),a.Y36(WF),a.Y36(GF),a.Y36($F))},n.\u0275cmp=a.Xpm({type:n,selectors:[["lib-attractions-list"]],decls:3,vars:3,consts:[[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn","text-white",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,w4,8,4,"div",1),a.ALo(2,"async"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,r.attractions$)))},directives:[dn,nn,ya,ga,Uo,Ks,qa,va],pipes:[Jn],encapsulation:2,changeDetection:0}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-attractions-page"]],decls:9,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"border-bottom"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Attractions - Enter some attractions"),a.qZA(),a.TgZ(3,"a",2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"path",4),a.qZA()()(),a.kcU(),a.TgZ(6,"div",5),a._UZ(7,"lib-add-attraction-form"),a.qZA(),a._UZ(8,"lib-attractions-list"))},directives:[Bi,g4,D4],encapsulation:2,changeDetection:0}),n})(),E4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,za]]}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn,qn.forChild([{path:"",component:C4}]),E4,ZF,T4,z$]]}),n})(),I4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[],imports:[[qt,qn.forChild([{path:"",component:_$,resolve:{eventId:EF},children:[{path:"",loadChildren:()=>zF},{path:"diet",loadChildren:()=>xF},{path:"dashboard",loadChildren:()=>zF},{path:"transport",loadChildren:()=>l4},{path:"edit-event",loadChildren:()=>p4},{path:"attractions",loadChildren:()=>S4}]}]),LF,C1,t$,RF,PF]]}),n})();const M4=[{path:"",loadChildren:()=>GU},{path:"event-form",loadChildren:()=>n$},{path:"diet",loadChildren:()=>xF},{path:"event/:eventId",loadChildren:()=>I4}];let A4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[qn.forRoot(M4)],qn]}),n})(),k4=(()=>{class n{constructor(){this.title="niedzielny-projekt"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"py-1","container-flex","bg-success","text-white"],[1,"py-2","ps-4","d-flex","align-items-center"],["width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 0C11.2311 0 8.52431 0.821086 6.22202 2.35943C3.91973 3.89777 2.12532 6.08427 1.06569 8.64243C0.00606596 11.2006 -0.271181 14.0155 0.269012 16.7313C0.809205 19.447 2.14258 21.9416 4.10051 23.8995C6.05845 25.8574 8.55301 27.1908 11.2687 27.731C13.9845 28.2712 16.7994 27.9939 19.3576 26.9343C21.9157 25.8747 24.1022 24.0803 25.6406 21.778C27.1789 19.4757 28 16.7689 28 14C28 10.287 26.525 6.72601 23.8995 4.1005C21.274 1.475 17.713 0 14 0ZM13.91 10.45C13.6872 10.45 13.4736 10.5385 13.316 10.696C13.1585 10.8536 13.07 11.0672 13.07 11.29V16.43C13.07 17.3715 12.696 18.2745 12.0302 18.9402C11.3645 19.606 10.4615 19.98 9.52001 19.98C8.57849 19.98 7.67553 19.606 7.00978 18.9402C6.34402 18.2745 5.97001 17.3715 5.97001 16.43V14.09H8.68001V16.33C8.68001 16.5528 8.76851 16.7664 8.92604 16.924C9.08357 17.0815 9.29722 17.17 9.52001 17.17C9.74279 17.17 9.95645 17.0815 10.114 16.924C10.2715 16.7664 10.36 16.5528 10.36 16.33V11.33C10.4082 10.4224 10.8027 9.56781 11.4623 8.94239C12.1218 8.31697 12.9961 7.96835 13.905 7.96835C14.8139 7.96835 15.6882 8.31697 16.3477 8.94239C17.0073 9.56781 17.4018 10.4224 17.45 11.33V12.33L15.87 12.84L14.75 12.33V11.33C14.754 11.2167 14.7353 11.1038 14.695 10.9978C14.6547 10.8919 14.5937 10.795 14.5154 10.713C14.4371 10.631 14.3432 10.5655 14.2393 10.5204C14.1353 10.4752 14.0234 10.4513 13.91 10.45ZM21.84 16.45C21.7918 17.3576 21.3973 18.2122 20.7377 18.8376C20.0782 19.463 19.2039 19.8117 18.295 19.8117C17.3861 19.8117 16.5118 19.463 15.8523 18.8376C15.1927 18.2122 14.7982 17.3576 14.75 16.45V14.14L15.87 14.65L17.45 14.14V16.43C17.45 16.6528 17.5385 16.8664 17.696 17.024C17.8536 17.1815 18.0672 17.27 18.29 17.27C18.5128 17.27 18.7264 17.1815 18.884 17.024C19.0415 16.8664 19.13 16.6528 19.13 16.43V14.19H21.84V16.45Z","fill","black"],[1,"ps-2","m-0"],[1,"bg-dark","vh-100","text-white"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a.O4$(),a.TgZ(2,"svg",2),a._UZ(3,"path",3),a.qZA(),a.kcU(),a.TgZ(4,"h4",4),a._uU(5,"EVENT ADMIN"),a.qZA()()(),a.TgZ(6,"div",5),a._UZ(7,"router-outlet"),a.qZA())},directives:[Iu],styles:[""]}),n})();const QF_firebase={projectId:"sundaybootcamp-67f93",appId:"1:777656207743:web:9536bb56ef77efc0de324a",storageBucket:"sundaybootcamp-67f93.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAnJs2shS5FhTPMf8yVnS4UZNWqpnvek8E",authDomain:"sundaybootcamp-67f93.firebaseapp.com",messagingSenderId:"777656207743"},fn=!1;function XF(n){return new a.vHH(3e3,fn)}function cG(){return"undefined"!=typeof window&&void 0!==window.document}function Px(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ff(n){switch(n.length){case 0:return new cD;case 1:return n[0];default:return new VP(n)}}function e2(n,e,t,r,i={},l={}){const c=[],f=[];let _=-1,D=null;if(r.forEach(S=>{const A=S.offset,N=A==_,B=N&&D||{};Object.keys(S).forEach($=>{let ee=$,_e=S[$];if("offset"!==$)switch(ee=e.normalizePropertyName(ee,c),_e){case"!":_e=i[$];break;case Ld:_e=l[$];break;default:_e=e.normalizeStyleValue($,ee,_e,c)}B[ee]=_e}),N||f.push(B),D=B,_=A}),c.length)throw function X4(n){return new a.vHH(3502,fn)}();return f}function Fx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Vx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Vx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Vx(t,"destroy",n)))}}function Vx(n,e,t){const r=t.totalTime,l=Bx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(l._data=c),l}function Bx(n,e,t,r,i="",l=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!c}}function Ia(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function t2(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Ux=(n,e)=>!1,n2=(n,e,t)=>[],r2=null;function Hx(n){const e=n.parentNode||n.host;return e===r2?null:e}(Px()||"undefined"!=typeof Element)&&(cG()?(r2=(()=>document.documentElement)(),Ux=(n,e)=>{for(;e;){if(e===n)return!0;e=Hx(e)}return!1}):Ux=(n,e)=>n.contains(e),n2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ug=null,s2=!1;function o2(n){ug||(ug=function hG(){return"undefined"!=typeof document?document.body:null}()||{},s2=!!ug.style&&"WebkitAppearance"in ug.style);let e=!0;return ug.style&&!function dG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ug.style,!e&&s2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ug.style)),e}const a2=Ux,l2=n2;let u2=(()=>{class n{validateStyleProperty(t){return o2(t)}matchesElement(t,r){return!1}containsElement(t,r){return a2(t,r)}getParentElement(t){return Hx(t)}query(t,r,i){return l2(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,c,f=[],_){return new cD(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),jx=(()=>{class n{}return n.NOOP=new u2,n})();const Yx="ng-enter",J1="ng-leave",Q1="ng-trigger",X1=".ng-trigger",d2="ng-animating",$x=".ng-animating";function cg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Gx(parseFloat(e[1]),e[2])}function Gx(n,e){return"s"===e?1e3*n:n}function eS(n,e,t){return n.hasOwnProperty("duration")?n:function mG(n,e,t){let i,l=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(XF()),{duration:0,delay:0,easing:""};i=Gx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=Gx(parseFloat(_),f[4]));const D=f[5];D&&(c=D)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function x4(){return new a.vHH(3100,fn)}()),f=!0),l<0&&(e.push(function O4(){return new a.vHH(3101,fn)}()),f=!0),f&&e.splice(_,0,XF())}return{duration:i,delay:l,easing:c}}(n,e,t)}function wv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Vf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else wv(n,t);return t}function f2(n,e,t){return t?e+":"+t+";":""}function p2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=f2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=f2(0,yG(t),n.style[t]));n.setAttribute("style",e)}function lc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=qx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Px()&&p2(n))}function dg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=qx(t);n.style[r]=""}),Px()&&p2(n))}function yD(n){return Array.isArray(n)?1==n.length?n[0]:NP(n):n}const Zx=new RegExp("{{\\s*(.+?)\\s*}}","g");function m2(n){let e=[];if("string"==typeof n){let t;for(;t=Zx.exec(n);)e.push(t[1]);Zx.lastIndex=0}return e}function tS(n,e,t){const r=n.toString(),i=r.replace(Zx,(l,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function R4(n){return new a.vHH(3003,fn)}()),f=""),f.toString()});return i==r?n:i}function nS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _G=/-+([a-z0-9])/g;function qx(n){return n.replace(_G,(...e)=>e[1].toUpperCase())}function yG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ma(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function N4(n){return new a.vHH(3004,fn)}()}}function g2(n,e){return window.getComputedStyle(n)[e]}function EG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function TG(n,e,t){if(":"==n[0]){const _=function SG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function z4(n){return new a.vHH(3016,fn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function W4(n){return new a.vHH(3015,fn)}()),e;const i=r[1],l=r[2],c=r[3];e.push(_2(i,c));"<"==l[0]&&!("*"==i&&"*"==c)&&e.push(_2(c,i))}(r,t,e)):t.push(n),t}const oS=new Set(["true","1"]),aS=new Set(["false","0"]);function _2(n,e){const t=oS.has(n)||aS.has(n),r=oS.has(e)||aS.has(e);return(i,l)=>{let c="*"==n||n==i,f="*"==e||e==l;return!c&&t&&"boolean"==typeof i&&(c=i?oS.has(n):aS.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?oS.has(e):aS.has(e)),c&&f}}const IG=new RegExp("s*:selfs*,?","g");function Wx(n,e,t,r){return new MG(n).build(e,t,r)}class MG{constructor(e){this._driver=e}build(e,t,r){const i=new xG(t);this._resetContextStyleTimingState(i);const l=Ma(this,yD(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function F4(){return new a.vHH(3006,fn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,D=_.name;D.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,l.push(this.visitState(_,t))}),_.name=D}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function V4(){return new a.vHH(3007,fn)}())}),{type:7,name:e.name,states:l,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,c=i||{};r.styles.forEach(f=>{if(lS(f)){const _=f;Object.keys(_).forEach(D=>{m2(_[D]).forEach(S=>{c.hasOwnProperty(S)||l.add(S)})})}}),l.size&&(nS(l.values()),t.errors.push(function B4(n,e){return new a.vHH(3008,fn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ma(this,yD(e.animation),t);return{type:1,matchers:EG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:hg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ma(this,r,t)),options:hg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(c=>{t.currentTime=r;const f=Ma(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:hg(e.options)}}visitAnimate(e,t){const r=function LG(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return zx(eS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=zx(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||eS(r,e),zx(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Nf({});if(5==l.type)i=this.visitKeyframes(l,t);else{let c=e.styles,f=!1;if(!c){f=!0;const D={};r.easing&&(D.easing=r.easing),c=Nf(D)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Ld?r.push(c):t.errors.push(function U4(n){return new a.vHH(3002,fn)}()):r.push(c)}):r.push(e.styles);let i=!1,l=null;return r.forEach(c=>{if(lS(c)){const f=c,_=f.easing;if(_&&(l=_,delete f.easing),!i)for(let D in f)if(f[D].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],D=_[f];let S=!0;D&&(l!=i&&l>=D.startTime&&i<=D.endTime&&(t.errors.push(function H4(n,e,t,r,i){return new a.vHH(3010,fn)}()),S=!1),l=D.startTime),S&&(_[f]={startTime:l,endTime:i}),t.options&&function gG(n,e,t){const r=e.params||{},i=m2(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function L4(n){return new a.vHH(3001,fn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function j4(){return new a.vHH(3011,fn)}()),r;let l=0;const c=[];let f=!1,_=!1,D=0;const S=e.steps.map(Ve=>{const Oe=this._makeStyleAst(Ve,t);let We=null!=Oe.offset?Oe.offset:function OG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(lS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(lS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Oe.styles),Ze=0;return null!=We&&(l++,Ze=Oe.offset=We),_=_||Ze<0||Ze>1,f=f||Ze<D,D=Ze,c.push(Ze),Oe});_&&t.errors.push(function Y4(){return new a.vHH(3012,fn)}()),f&&t.errors.push(function $4(){return new a.vHH(3200,fn)}());const A=e.steps.length;let N=0;l>0&&l<A?t.errors.push(function G4(){return new a.vHH(3202,fn)}()):0==l&&(N=1/(A-1));const B=A-1,$=t.currentTime,ee=t.currentAnimateTimings,_e=ee.duration;return S.forEach((Ve,Oe)=>{const We=N>0?Oe==B?1:N*Oe:c[Oe],Ze=We*_e;t.currentTime=$+ee.delay+Ze,ee.duration=Ze,this._validateStyleAst(Ve,t),Ve.offset=We,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:Ma(this,yD(e.animation),t),options:hg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,c]=function AG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(IG,"")),n=n.replace(/@\*/g,X1).replace(/@\w+/g,t=>X1+"-"+t.substr(1)).replace(/:animating/g,$x),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Ia(t.collectedStyles,t.currentQuerySelector,{});const f=Ma(this,yD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:hg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Z4(){return new a.vHH(3013,fn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:eS(e.timings,t.errors,!0);return{type:12,animation:Ma(this,yD(e.animation),t),timings:r,options:null}}}class xG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lS(n){return!Array.isArray(n)&&"object"==typeof n}function hg(n){return n?(n=wv(n)).params&&(n.params=function kG(n){return n?wv(n):null}(n.params)):n={},n}function zx(n,e,t){return{duration:n,delay:e,easing:t}}function Kx(n,e,t,r,i,l,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:c,subTimeline:f}}class uS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const PG=new RegExp(":enter","g"),VG=new RegExp(":leave","g");function Jx(n,e,t,r,i,l={},c={},f,_,D=[]){return(new BG).buildKeyframes(n,e,t,r,i,l,c,f,_,D)}class BG{buildKeyframes(e,t,r,i,l,c,f,_,D,S=[]){D=D||new uS;const A=new Qx(e,t,D,i,l,S,[]);A.options=_,A.currentTimeline.setStyles([c],null,A.errors,_),Ma(this,r,A);const N=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let $=N.length-1;$>=0;$--){const ee=N[$];if(ee.element===t){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,_)}return N.length?N.map(B=>B.buildKeyframes()):[Kx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);l!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const c=null!=r.duration?cg(r.duration):null,f=null!=r.delay?cg(r.delay):null;return 0!==c&&e.forEach(_=>{const D=t.appendInstructionToTimeline(_,c,f);l=Math.max(l,D.duration+D.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Ma(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=cS);const c=cg(l.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ma(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?cg(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),Ma(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return eS(t.params?tS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?cg(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cS);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((D,S)=>{t.currentQueryIndex=S;const A=t.createSubContext(e.options,D);l&&A.delayNextStep(l),D===t.element&&(_=A.currentTimeline),Ma(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,c=Math.abs(l.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const A=S.currentTime;Ma(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const cS={};class Qx{constructor(e,t,r,i,l,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new dS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=cg(r.duration)),null!=r.delay&&(i.delay=cg(r.delay));const l=r.params;if(l){let c=i.params;c||(c=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=tS(l[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new Qx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=cS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new UG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(PG,"."+this._enterClassName)).replace(VG,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),f.push(...D)}return!l&&0==f.length&&c.push(function q4(n){return new a.vHH(3014,fn)}()),f}}class dS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ld,this._currentKeyframe[t]=Ld}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},c=function HG(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Ld})):Vf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const _=tS(c[f],l,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ld),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const D=Vf(f,!0);Object.keys(D).forEach(S=>{const A=D[S];"!"==A?e.add(S):A==Ld&&t.add(S)}),r||(D.offset=_/this.duration),i.push(D)});const l=e.size?nS(e.values()):[],c=t.size?nS(t.values()):[];if(r){const f=i[0],_=wv(f);f.offset=0,_.offset=1,i=[f,_]}return Kx(this.element,i,l,c,this.duration,this.startTime,this.easing,!1)}}class UG extends dS{constructor(e,t,r,i,l,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],c=r+t,f=t/c,_=Vf(e[0],!1);_.offset=0,l.push(_);const D=Vf(e[0],!1);D.offset=b2(f),l.push(D);const S=e.length-1;for(let A=1;A<=S;A++){let N=Vf(e[A],!1);N.offset=b2((t+N.offset*r)/c),l.push(N)}r=c,t=0,i="",e=l}return Kx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function b2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Xx{}class jG extends Xx{normalizePropertyName(e,t){return qx(e)}normalizeStyleValue(e,t,r,i){let l="";const c=r.toString().trim();if(YG[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function P4(n,e){return new a.vHH(3005,fn)}())}return c+l}}const YG=(()=>function $G(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function w2(n,e,t,r,i,l,c,f,_,D,S,A,N){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:D,postStyleProps:S,totalTime:A,errors:N}}const eO={};class D2{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function GG(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):c}build(e,t,r,i,l,c,f,_,D,S){const A=[],N=this.ast.options&&this.ast.options.params||eO,$=this.buildStyles(r,f&&f.params||eO,A),ee=_&&_.params||eO,_e=this.buildStyles(i,ee,A),Ve=new Set,Oe=new Map,We=new Map,Ze="void"===i,yt={params:Object.assign(Object.assign({},N),ee)},ut=S?[]:Jx(e,t,this.ast.animation,l,c,$,_e,yt,D,A);let ln=0;if(ut.forEach(On=>{ln=Math.max(On.duration+On.delay,ln)}),A.length)return w2(t,this._triggerName,r,i,Ze,$,_e,[],[],Oe,We,ln,A);ut.forEach(On=>{const en=On.element,Fn=Ia(Oe,en,{});On.preStyleProps.forEach(uc=>Fn[uc]=!0);const ao=Ia(We,en,{});On.postStyleProps.forEach(uc=>ao[uc]=!0),en!==t&&Ve.add(en)});const Pn=nS(Ve.values());return w2(t,this._triggerName,r,i,Ze,$,_e,ut,Pn,Oe,We,ln)}}class ZG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=wv(this.defaultParams);return Object.keys(e).forEach(l=>{const c=e[l];null!=c&&(i[l]=c)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const c=l;Object.keys(c).forEach(f=>{let _=c[f];_.length>1&&(_=tS(_,i,t));const D=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,D,_,t),r[D]=_})}}),r}}class WG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new ZG(i.style,i.options&&i.options.params||{},r)}),C2(this.states,"true","1"),C2(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new D2(e,i,this.states))}),this.fallbackTransition=function zG(n,e,t){return new D2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function C2(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const KG=new uS;class JG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=Wx(this._driver,t,r,[]);if(r.length)throw function eG(n){return new a.vHH(3503,fn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=e2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let c;const f=new Map;if(l?(c=Jx(this._driver,t,l,Yx,J1,{},{},r,KG,i),c.forEach(S=>{const A=Ia(f,S.element,{});S.postStyleProps.forEach(N=>A[N]=null)})):(i.push(function tG(){return new a.vHH(3300,fn)}()),c=[]),i.length)throw function nG(n){return new a.vHH(3504,fn)}();f.forEach((S,A)=>{Object.keys(S).forEach(N=>{S[N]=this._driver.computeStyle(A,N,Ld)})});const D=Ff(c.map(S=>{const A=f.get(S.element);return this._buildPlayer(S,{},A)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function rG(n){return new a.vHH(3301,fn)}();return t}listen(e,t,r,i){const l=Bx(t,"","","");return Fx(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const E2="ng-animate-queued",tO="ng-animate-disabled",nZ=[],T2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dl="__ng_removed";class nO{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function aZ(n){return null!=n?n:null}(r?e.value:e),r){const l=wv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const vD="void",rO=new nO(vD);class iZ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hl(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function iG(n,e){return new a.vHH(3302,fn)}();if(null==r||0==r.length)throw function sG(n){return new a.vHH(3303,fn)}();if(!function lZ(n){return"start"==n||"done"==n}(r))throw function oG(n,e){return new a.vHH(3400,fn)}();const l=Ia(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};l.push(c);const f=Ia(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(hl(e,Q1),hl(e,Q1+"-"+t),f[t]=rO),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(c);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function aG(n){return new a.vHH(3401,fn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),c=new iO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(hl(e,Q1),hl(e,Q1+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const D=new nO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),f[t]=D,_||(_=rO),D.value!==vD&&_.value===D.value){if(!function dZ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,D.params)){const ee=[],_e=l.matchStyles(_.value,_.params,ee),Ve=l.matchStyles(D.value,D.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{dg(e,_e),lc(e,Ve)})}return}const N=Ia(this._engine.playersByElement,e,[]);N.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=l.matchTransition(_.value,D.value,e,D.params),$=!1;if(!B){if(!i)return;B=l.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:D,player:c,isFallbackTransition:$}),$||(hl(e,E2),c.onStart(()=>{Dv(e,E2)})),c.onDone(()=>{let ee=this.players.indexOf(c);ee>=0&&this.players.splice(ee,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ve=_e.indexOf(c);Ve>=0&&_e.splice(Ve,1)}}),this.players.push(c),N.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,X1,!0);r.forEach(i=>{if(i[dl])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),c=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(c.set(_,l[_].value),this._triggers[_]){const D=this.trigger(e,_,vD,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Ff(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const c=l.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,D=r[c]||rO,S=new nO(vD),A=new iO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:D,toState:S,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[dl];(!l||l===T2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){hl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,c=this._elementListeners.get(l);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=Bx(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Fx(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class sZ{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new iZ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const D=r.indexOf(_);r.splice(D+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const c=r[i[l]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(hS(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!hS(t))return;const l=t[dl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hl(e,tO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Dv(e,tO))}removeNode(e,t,r,i){if(hS(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[dl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return hS(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,X1,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$x,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ff(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[dl];if(r&&r.setForRemoval){if(e[dl]=T2,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(tO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ff(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function lG(n){return new a.vHH(3402,fn)}()}_flushAnimations(e,t){const r=new uS,i=[],l=new Map,c=[],f=new Map,_=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(it=>{S.add(it);const mt=this.driver.query(it,".ng-animate-queued",!0);for(let Ot=0;Ot<mt.length;Ot++)S.add(mt[Ot])});const A=this.bodyNode,N=Array.from(this.statesByElement.keys()),B=M2(N,this.collectedEnterElements),$=new Map;let ee=0;B.forEach((it,mt)=>{const Ot=Yx+ee++;$.set(mt,Ot),it.forEach(Tn=>hl(Tn,Ot))});const _e=[],Ve=new Set,Oe=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const mt=this.collectedLeaveElements[it],Ot=mt[dl];Ot&&Ot.setForRemoval&&(_e.push(mt),Ve.add(mt),Ot.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(Tn=>Ve.add(Tn)):Oe.add(mt))}const We=new Map,Ze=M2(N,Array.from(Ve));Ze.forEach((it,mt)=>{const Ot=J1+ee++;We.set(mt,Ot),it.forEach(Tn=>hl(Tn,Ot))}),e.push(()=>{B.forEach((it,mt)=>{const Ot=$.get(mt);it.forEach(Tn=>Dv(Tn,Ot))}),Ze.forEach((it,mt)=>{const Ot=We.get(mt);it.forEach(Tn=>Dv(Tn,Ot))}),_e.forEach(it=>{this.processLeaveNode(it)})});const yt=[],ut=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Ot=>{const Tn=Ot.player,Ki=Ot.element;if(yt.push(Tn),this.collectedEnterElements.length){const lo=Ki[dl];if(lo&&lo.setForMove){if(lo.previousTriggersValues&&lo.previousTriggersValues.has(Ot.triggerName)){const fg=lo.previousTriggersValues.get(Ot.triggerName),Uf=this.statesByElement.get(Ot.element);Uf&&Uf[Ot.triggerName]&&(Uf[Ot.triggerName].value=fg)}return void Tn.destroy()}}const cc=!A||!this.driver.containsElement(A,Ki),Aa=We.get(Ki),Bf=$.get(Ki),Ar=this._buildInstruction(Ot,r,Bf,Aa,cc);if(Ar.errors&&Ar.errors.length)return void ut.push(Ar);if(cc)return Tn.onStart(()=>dg(Ki,Ar.fromStyles)),Tn.onDestroy(()=>lc(Ki,Ar.toStyles)),void i.push(Tn);if(Ot.isFallbackTransition)return Tn.onStart(()=>dg(Ki,Ar.fromStyles)),Tn.onDestroy(()=>lc(Ki,Ar.toStyles)),void i.push(Tn);const B2=[];Ar.timelines.forEach(lo=>{lo.stretchStartingKeyframe=!0,this.disabledNodes.has(lo.element)||B2.push(lo)}),Ar.timelines=B2,r.append(Ki,Ar.timelines),c.push({instruction:Ar,player:Tn,element:Ki}),Ar.queriedElements.forEach(lo=>Ia(f,lo,[]).push(Tn)),Ar.preStyleProps.forEach((lo,fg)=>{const Uf=Object.keys(lo);if(Uf.length){let pg=_.get(fg);pg||_.set(fg,pg=new Set),Uf.forEach(oO=>pg.add(oO))}}),Ar.postStyleProps.forEach((lo,fg)=>{const Uf=Object.keys(lo);let pg=D.get(fg);pg||D.set(fg,pg=new Set),Uf.forEach(oO=>pg.add(oO))})});if(ut.length){const it=[];ut.forEach(mt=>{it.push(function uG(n,e){return new a.vHH(3505,fn)}())}),yt.forEach(mt=>mt.destroy()),this.reportError(it)}const ln=new Map,Pn=new Map;c.forEach(it=>{const mt=it.element;r.has(mt)&&(Pn.set(mt,mt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,ln))}),i.forEach(it=>{const mt=it.element;this._getPreviousPlayers(mt,!1,it.namespaceId,it.triggerName,null).forEach(Tn=>{Ia(ln,mt,[]).push(Tn),Tn.destroy()})});const On=_e.filter(it=>k2(it,_,D)),en=new Map;I2(en,this.driver,Oe,D,Ld).forEach(it=>{k2(it,_,D)&&On.push(it)});const ao=new Map;B.forEach((it,mt)=>{I2(ao,this.driver,new Set(it),_,"!")}),On.forEach(it=>{const mt=en.get(it),Ot=ao.get(it);en.set(it,Object.assign(Object.assign({},mt),Ot))});const uc=[],bD=[],wD={};c.forEach(it=>{const{element:mt,player:Ot,instruction:Tn}=it;if(r.has(mt)){if(S.has(mt))return Ot.onDestroy(()=>lc(mt,Tn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Tn.totalTime),void i.push(Ot);let Ki=wD;if(Pn.size>1){let Aa=mt;const Bf=[];for(;Aa=Aa.parentNode;){const Ar=Pn.get(Aa);if(Ar){Ki=Ar;break}Bf.push(Aa)}Bf.forEach(Ar=>Pn.set(Ar,Ki))}const cc=this._buildAnimation(Ot.namespaceId,Tn,ln,l,ao,en);if(Ot.setRealPlayer(cc),Ki===wD)uc.push(Ot);else{const Aa=this.playersByElement.get(Ki);Aa&&Aa.length&&(Ot.parentPlayer=Ff(Aa)),i.push(Ot)}}else dg(mt,Tn.fromStyles),Ot.onDestroy(()=>lc(mt,Tn.toStyles)),bD.push(Ot),S.has(mt)&&i.push(Ot)}),bD.forEach(it=>{const mt=l.get(it.element);if(mt&&mt.length){const Ot=Ff(mt);it.setRealPlayer(Ot)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<_e.length;it++){const mt=_e[it],Ot=mt[dl];if(Dv(mt,J1),Ot&&Ot.hasAnimation)continue;let Tn=[];if(f.size){let cc=f.get(mt);cc&&cc.length&&Tn.push(...cc);let Aa=this.driver.query(mt,$x,!0);for(let Bf=0;Bf<Aa.length;Bf++){let Ar=f.get(Aa[Bf]);Ar&&Ar.length&&Tn.push(...Ar)}}const Ki=Tn.filter(cc=>!cc.destroyed);Ki.length?uZ(this,mt,Ki):this.processLeaveNode(mt)}return _e.length=0,uc.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const mt=this.players.indexOf(it);this.players.splice(mt,1)}),it.play()}),uc}elementContainsData(e,t){let r=!1;const i=t[dl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==vD;f.forEach(D=>{D.queued||!_&&D.triggerName!=i||c.push(D)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const l=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const D=_.element,S=D!==l,A=Ia(r,D,[]);this._getPreviousPlayers(D,S,c,f,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),A.push(B)})}dg(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,c){const f=t.triggerName,_=t.element,D=[],S=new Set,A=new Set,N=t.timelines.map($=>{const ee=$.element;S.add(ee);const _e=ee[dl];if(_e&&_e.removedBeforeQueried)return new cD($.duration,$.delay);const Ve=ee!==_,Oe=function cZ(n){const e=[];return A2(n,e),e}((r.get(ee)||nZ).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===ee),We=l.get(ee),Ze=c.get(ee),yt=e2(0,this._normalizer,0,$.keyframes,We,Ze),ut=this._buildPlayer($,yt,Oe);if($.subTimeline&&i&&A.add(ee),Ve){const ln=new iO(e,f,ee);ln.setRealPlayer(ut),D.push(ln)}return ut});D.forEach($=>{Ia(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function oZ(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>hl($,d2));const B=Ff(N);return B.onDestroy(()=>{S.forEach($=>Dv($,d2)),lc(_,t.toStyles)}),A.forEach($=>{Ia(i,$,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new cD(e.duration,e.delay)}}class iO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new cD,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Fx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ia(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hS(n){return n&&1===n.nodeType}function S2(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function I2(n,e,t,r,i){const l=[];t.forEach(_=>l.push(S2(_)));const c=[];r.forEach((_,D)=>{const S={};_.forEach(A=>{const N=S[A]=e.computeStyle(D,A,i);(!N||0==N.length)&&(D[dl]=rZ,c.push(D))}),n.set(D,S)});let f=0;return t.forEach(_=>S2(_,l[f++])),c}function M2(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function c(f){if(!f)return 1;let _=l.get(f);if(_)return _;const D=f.parentNode;return _=t.has(D)?D:i.has(D)?1:c(D),l.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function hl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Dv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function uZ(n,e,t){Ff(t).onDone(()=>n.processLeaveNode(e))}function A2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof VP?A2(r.players,e):e.push(r)}}function k2(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class fS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new sZ(e,t,r),this._timelineEngine=new JG(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],S=Wx(this._driver,l,_,[]);if(_.length)throw function Q4(n,e){return new a.vHH(3404,fn)}();f=function qG(n,e,t){return new WG(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,c]=t2(r);this._timelineEngine.command(l,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[c,f]=t2(r);return this._timelineEngine.listen(c,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fZ=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&lc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lc(this._element,this._initialStyles),this._endStyles&&(lc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dg(this._element,this._endStyles),this._endStyles=null),lc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sO(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];pZ(i)&&(e=e||{},e[i]=n[i])}return e}function pZ(n){return"display"===n||"position"===n}class x2{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:g2(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mZ{validateStyleProperty(e){return o2(e)}matchesElement(e,t){return!1}containsElement(e,t){return a2(e,t)}getParentElement(e){return Hx(e)}query(e,t,r){return l2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(_.easing=l);const D={},S=c.filter(N=>N instanceof x2);(function vG(n,e){return 0===n||0===e})(r,i)&&S.forEach(N=>{let B=N.currentSnapshot;Object.keys(B).forEach($=>D[$]=B[$])}),t=function bG(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],c=[];if(r.forEach(f=>{l.hasOwnProperty(f)||c.push(f),l[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(_){f[_]=g2(n,_)})}}return e}(e,t=t.map(N=>Vf(N,!1)),D);const A=function hZ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=sO(e[0]),e.length>1&&(r=sO(e[e.length-1]))):e&&(t=sO(e)),t||r?new fZ(n,t,r):null}(e,t);return new x2(e,t,_,A)}}let gZ=(()=>{class n extends H1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?NP(t):t;return O2(this._renderer,null,r,"register",[i]),new _Z(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(se))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class _Z extends class o6{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new yZ(this._id,e,t||{},this._renderer)}}class yZ{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return O2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function O2(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const L2="@.disabled";let vZ=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,c)=>{const f=null==c?void 0:c.parentNode(l);f&&c.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new R2("",l,this.engine),this._rendererCache.set(l,S)),S}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,f,t,S.name,S)};return r.data.animation.forEach(_),new bZ(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,f]=l;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(fS),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class R2{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==L2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class bZ extends R2{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==L2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function wZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),c="";return"@"!=l.charAt(0)&&([l,c]=function DZ(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let CZ=(()=>{class n extends fS{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(se),a.LFG(jx),a.LFG(Xx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const N2=new a.OlP("AnimationModuleType"),P2=[{provide:H1,useClass:gZ},{provide:Xx,useFactory:function EZ(){return new jG}},{provide:fS,useClass:CZ},{provide:a.FYo,useFactory:function TZ(n,e,t){return new vZ(n,e,t)},deps:[Rn,fS,a.R0b]}],F2=[{provide:jx,useFactory:()=>new mZ},{provide:N2,useValue:"BrowserAnimations"},...P2],SZ=[{provide:jx,useClass:u2},{provide:N2,useValue:"NoopAnimations"},...P2];let IZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?SZ:F2}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:F2,imports:[Pa]}),n})(),V2=(()=>{class n extends iv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),MZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[V2,{provide:Ui,useExisting:V2}],imports:[[]]}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[k4]}),n.\u0275inj=a.cJS({providers:[],imports:[[Pa,A4,Da.hO.initializeApp(QF_firebase),IZ,qn,RF,PF,MZ]]}),n})();(0,a.G48)(),wc().bootstrapModule(AZ).catch(n=>console.error(n))},5867:(st,Ce,L)=>{L.d(Ce,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=L(9681);(0,a.registerVersion)("firebase","9.6.10","app")},127:(st,Ce,L)=>{L.d(Ce,{Z:()=>a.Z});var a=L(3942);a.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(st,Ce,L)=>{L.r(Ce);var a=L(5861),K=L(3942),R=L(2090),le=L(9681),X=L(655),pe=L(1877),se=L(4859);const Le=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new pe.Yd("@firebase/auth");function ze(y,...p){tt.logLevel<=pe.in.ERROR&&tt.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw je(y,...p)}function be(y,...p){return je(y,...p)}function we(y,p,g){const b=Object.assign(Object.assign({},Fe()),{[p]:g});return new R.LL("auth","Firebase",b).create(p,{appName:y.name})}function $e(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),we(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return fe.create(y,...p)}function te(y,p,...g){if(!y)throw je(p,...g)}function z(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ze(p),new Error(p)}function oe(y,p){y||z(p)}const ge=new Map;function ae(y){oe(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(oe(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function xt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function un(){return"http:"===zn()||"https:"===zn()}function zn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Dn{constructor(p,g){this.shortDelay=p,this.longDelay=g,oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,p){oe(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ji{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ks=new Dn(3e4,6e4);function cn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function zt(y,p,g,b){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(y,p,g,b,I={}){return Mi(y,I,(0,a.Z)(function*(){let O={},Z={};b&&("GET"===p?Z=b:O={body:JSON.stringify(b)});const ue=(0,R.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),Ji.fetch()(ei(y,y.config.apiHost,g,ue),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Mi(y,p,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},yn),p);try{const I=new xs(y),O=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw Os(y,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ue=O.ok?Z.errorMessage:Z.error.message,[Ue,Xe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Os(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ue)throw Os(y,"email-already-in-use",Z);const Tt=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw we(y,Tt,Xe);Se(y,Tt)}}catch(I){if(I instanceof R.ZR)throw I;Se(y,"network-request-failed")}})).apply(this,arguments)}function Xr(y,p,g,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(y,p,g,b,I={}){const O=yield zt(y,p,g,b,I);return"mfaPendingCredential"in O&&Se(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ei(y,p,g,b){const I=`${p}${g}?${b}`;return y.config.emulator?Cn(y.config,I):`${y.config.apiScheme}://${I}`}class xs{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),ks.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Os(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=be(y,p,b);return I.customData._tokenResponse=g,I}function mi(){return(mi=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Dr(y,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ai(y,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ln(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function fl(){return(fl=(0,a.Z)(function*(y,p=!1){const g=(0,R.m9)(y),b=yield g.getIdToken(p),I=ot(b);te(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:I,token:b,authTime:Ln(Kt(I.auth_time)),issuedAtTime:Ln(Kt(I.iat)),expirationTime:Ln(Kt(I.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(y){return 1e3*Number(y)}function ot(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,R.tV)(g);return I?JSON.parse(I):(ze("Failed to decode base64 JWT payload"),null)}catch(I){return ze("Caught error parsing JWT payload as JSON",I),null}}function xr(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof R.ZR&&Zt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ko{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class jr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Or(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),I=yield xr(y,Ai(g,{idToken:b}));te(null==I?void 0:I.users.length,g,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const Z=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Ie(O.providerUserInfo):[],ue=Ke(y.providerData,Z),Tt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ue?void 0:ue.length)),at={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new jr(O.createdAt,O.lastLoginAt),isAnonymous:Tt};Object.assign(y,at)})).apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(y){const p=(0,R.m9)(y);yield Or(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ke(y,p){return[...y.filter(b=>!p.some(I=>I.providerId===b.providerId)),...p]}function Ie(y){return y.map(p=>{var{providerId:g}=p,b=(0,X._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,a.Z)(function*(y,p){const g=yield Mi(y,{},(0,a.Z)(function*(){const b=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,Z=ei(y,I,"/v1/token",`key=${O}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Ji.fetch()(Z,{method:"POST",headers:ue,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(void 0!==p.idToken,"internal-error"),te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function It(y){const p=ot(y);return te(p,"internal-error"),te(void 0!==p.exp,"internal-error"),te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,a.Z)(function*(){return te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,a.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:Z}=yield function Je(y,p){return ht.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(I,O,Number(Z))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:I,expirationTime:O}=g,Z=new Gt;return b&&(te("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),I&&(te("string"==typeof I,"internal-error",{appName:p}),Z.accessToken=I),O&&(te("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Ut(y,p){te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:g,auth:b,stsTokenManager:I}=p,O=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new jr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,a.Z)(function*(){const b=yield xr(g,g.stsTokenManager.getToken(g.auth,p));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function co(y){return fl.apply(this,arguments)}(this,p)}reload(){return function Yr(y){return Yt.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,a.Z)(function*(){let I=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield Or(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,a.Z)(function*(){const g=yield p.getIdToken();return yield xr(p,function ct(y,p){return mi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,I,O,Z,ue,Ue,Xe,Tt;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,Zn=null!==(I=g.email)&&void 0!==I?I:void 0,vs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Wc=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Au=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,ku=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,vp=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,Qv=null!==(Tt=g.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Ga,emailVerified:wh,isAnonymous:Dh,providerData:bp,stsTokenManager:Ch}=g;te(Ga&&Ch,p,"internal-error");const Vi=Gt.fromJSON(this.name,Ch);te("string"==typeof Ga,p,"internal-error"),Ut(at,p.name),Ut(Zn,p.name),te("boolean"==typeof wh,p,"internal-error"),te("boolean"==typeof Dh,p,"internal-error"),Ut(vs,p.name),Ut(Wc,p.name),Ut(Au,p.name),Ut(ku,p.name),Ut(vp,p.name),Ut(Qv,p.name);const wp=new H({uid:Ga,auth:p,email:Zn,emailVerified:wh,displayName:at,isAnonymous:Dh,photoURL:Wc,phoneNumber:vs,tenantId:Au,stsTokenManager:Vi,createdAt:vp,lastLoginAt:Qv});return bp&&Array.isArray(bp)&&(wp.providerData=bp.map(Hg=>Object.assign({},Hg))),ku&&(wp._redirectEventId=ku),wp}static _fromIdTokenResponse(p,g,b=!1){return(0,a.Z)(function*(){const I=new Gt;I.updateFromServerResponse(g);const O=new H({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:b});return yield Or(O),O})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,a.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,a.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,a.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function he(y,p,g){return`firebase:${y}:${p}:${g}`}class J{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:I,name:O}=this.auth;this.fullUserKey=he(this.userKey,I.apiKey,O),this.fullPersistenceKey=he("persistence",I.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?H._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,a.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,a.Z)(function*(){if(!g.length)return new J(ae(G),p,b);const I=(yield Promise.all(g.map(function(){var Xe=(0,a.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=I[0]||ae(G);const Z=he(b,p.config.apiKey,p.name);let ue=null;for(const Xe of g)try{const Tt=yield Xe._get(Z);if(Tt){const at=H._fromJSON(p,Tt);Xe!==O&&(ue=at),O=Xe;break}}catch(Tt){}const Ue=I.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&Ue.length?(O=Ue[0],ue&&(yield O._set(Z,ue.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,a.Z)(function*(Tt){if(Tt!==O)try{yield Tt._remove(Z)}catch(at){}});return function(Tt){return Xe.apply(this,arguments)}}())),new J(O,p,b)):new J(O,p,b)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Dt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(Sn(p))return"Webos";if(tn(p))return"Safari";if((p.includes("chrome/")||$r(p))&&!p.includes("edge/"))return"Chrome";if(jn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Dt(y=(0,R.z$)()){return/firefox\//i.test(y)}function tn(y=(0,R.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $r(y=(0,R.z$)()){return/crios\//i.test(y)}function Jt(y=(0,R.z$)()){return/iemobile/i.test(y)}function jn(y=(0,R.z$)()){return/android/i.test(y)}function Pt(y=(0,R.z$)()){return/blackberry/i.test(y)}function Sn(y=(0,R.z$)()){return/webos/i.test(y)}function Er(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ls(y=(0,R.z$)()){return Er(y)||jn(y)||Sn(y)||Pt(y)||/windows phone/i.test(y)||Jt(y)}function ml(y,p=[]){let g;switch(y){case"Browser":g=Be((0,R.z$)());break;case"Worker":g=`${Be((0,R.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class ki{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vt(this),this.idTokenSubscription=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var I,O;if(!b._deleted&&(b.persistenceManager=yield J.create(b,p),!b._deleted)){if(null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Z){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,a.Z)(function*(){var b;let I=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Z=null==I?void 0:I._redirectEventId,ue=yield g.tryRedirectSignIn(p);(!O||O===Z)&&(null==ue?void 0:ue.user)&&(I=ue.user)}return I?I._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,a.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(I){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,a.Z)(function*(){try{yield Or(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function wt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){const b=p?(0,R.m9)(p):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){if(!g._deleted)return p&&te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,a.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,a.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,a.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,a.Z)(function*(){if(p===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,I){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ml(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return I&&(b["X-Firebase-Client"]=I),b})()}}function Re(y){return(0,R.m9)(y)}class Vt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function sr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class vn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(p){return z("not implemented")}_linkToIdToken(p,g){return z("not implemented")}_getReauthenticationResolver(p){return z("not implemented")}}function Kn(y,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:resetPassword",cn(y,p))})).apply(this,arguments)}function Rt(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ps(y,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",cn(y,p))})).apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithPassword",cn(y,p))})).apply(this,arguments)}function Rs(y,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:sendOobCode",cn(y,p))})).apply(this,arguments)}function nn(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(y,p){return Rs(y,p)})).apply(this,arguments)}function zl(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,a.Z)(function*(y,p){return Rs(y,p)})).apply(this,arguments)}function gi(y,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(y,p){return Rs(y,p)})).apply(this,arguments)}function Pd(y,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(y,p){return Rs(y,p)})).apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithEmailLink",cn(y,p))})).apply(this,arguments)}function Fd(){return(Fd=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithEmailLink",cn(y,p))})).apply(this,arguments)}class Ql extends vn{constructor(p,g,b,I=null){super("password",b),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new Ql(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Ql(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function po(y,p){return dn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Jl(y,p){return _i.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return Rt(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Hf(y,p){return Fd.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function or(y,p){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithIdp",cn(y,p))})).apply(this,arguments)}class Ps extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ps(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I}=g,O=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!I)return null;const Z=new Ps(b,I);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return or(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,or(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,or(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,R.xO)(g)}return p}}function gg(y,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:sendVerificationCode",cn(y,p))})).apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,p))})).apply(this,arguments)}function Bd(){return(Bd=(0,a.Z)(function*(y,p){const g=yield Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,p));if(g.temporaryProof)throw Os(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yg={USER_NOT_FOUND:"user-not-found"};function Hd(){return(Hd=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),yg)})).apply(this,arguments)}class xa extends vn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new xa({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new xa({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function dc(y,p){return go.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function _g(y,p){return Bd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ud(y,p){return Hd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:O}=p;return b||g||I||O?new xa({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:O}):null}}class Qo{constructor(p){var g,b,I,O,Z,ue;const Ue=(0,R.zd)((0,R.pd)(p)),Xe=null!==(g=Ue.apiKey)&&void 0!==g?g:null,Tt=null!==(b=Ue.oobCode)&&void 0!==b?b:null,at=function Cv(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Ue.mode)&&void 0!==I?I:null);te(Xe&&Tt&&at,"argument-error"),this.apiKey=Xe,this.operation=at,this.code=Tt,this.continueUrl=null!==(O=Ue.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Ue.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ue=Ue.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function Xl(y){const p=(0,R.zd)((0,R.pd)(y)).link,g=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,b=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(b?(0,R.zd)((0,R.pd)(b)).link:null)||b||g||p||y}(p);try{return new Qo(g)}catch(b){return null}}}let hc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Ql._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=Qo.parseLink(b);return te(I,"argument-error"),Ql._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class _o{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yi extends _o{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Oa extends yi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return te("providerId"in g&&"signInMethod"in g,"argument-error"),Ps._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Oa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Oa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:O,nonce:Z,providerId:ue}=p;if(!b&&!I&&!g&&!O||!ue)return null;try{return new Oa(ue)._credential({idToken:g,accessToken:b,nonce:Z,pendingToken:O})}catch(Ue){return null}}}let Xo=(()=>{class y extends yi{constructor(){super("facebook.com")}static credential(g){return Ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),_l=(()=>{class y extends yi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),jd=(()=>{class y extends yi{constructor(){super("github.com")}static credential(g){return Ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class qt extends vn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return or(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,or(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,or(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I,pendingToken:O}=g;return b&&I&&O&&b===I?new qt(b,O):null}static _create(p,g){return new qt(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xi extends _o{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return xi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return xi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=qt.fromJSON(p);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return qt._create(b,g)}catch(I){return null}}}let eu=(()=>{class y extends yi{constructor(){super("twitter.com")}static credential(g,b){return Ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function tu(y,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signUp",cn(y,p))})).apply(this,arguments)}class Rr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,I=!1){return(0,a.Z)(function*(){const O=yield H._fromIdTokenResponse(p,b,I),Z=Yf(b);return new Rr({user:O,providerId:Z,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const I=Yf(b);return new Rr({user:p,providerId:I,_tokenResponse:b,operationType:g})})()}}function Yf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yd(){return(Yd=(0,a.Z)(function*(y){var p;const g=Re(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Rr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield tu(g,{returnSecureToken:!0}),I=yield Rr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ru extends R.ZR{constructor(p,g,b,I){var O;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,ru.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,I){return new ru(p,g,b,I)}}function iu(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ru._fromErrorAndOperation(y,O,p,b):O})}function Fs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function fc(){return(fc=(0,a.Z)(function*(y,p){const g=(0,R.m9)(y);yield vo(!0,g,p);const{providerUserInfo:b}=yield Dr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=Fs(b||[]);return g.providerData=g.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function kn(y,p){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(y,p,g=!1){const b=yield xr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Rr._forOperation(y,"link",b)})).apply(this,arguments)}function vo(y,p,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(y,p,g){yield Or(p);const I=!1===y?"provider-already-linked":"no-such-provider";te(Fs(p.providerData).has(g)===y,p.auth,I)})).apply(this,arguments)}function $d(y,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(y,p,g=!1){const{auth:b}=y,I="reauthenticate";try{const O=yield xr(y,iu(b,I,p,y),g);te(O.idToken,b,"internal-error");const Z=ot(O.idToken);te(Z,b,"internal-error");const{sub:ue}=Z;return te(y.uid===ue,b,"user-mismatch"),Rr._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(b,"user-mismatch"),O}})).apply(this,arguments)}function ta(y,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,a.Z)(function*(y,p,g=!1){const b="signIn",I=yield iu(y,b,p),O=yield Rr._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Qn(y,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(y,p){return ta(Re(y),p)})).apply(this,arguments)}function Qi(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(y,p){const g=(0,R.m9)(y);return yield vo(!1,g,p.providerId),kn(g,p)})).apply(this,arguments)}function bo(y,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(y,p){return $d((0,R.m9)(y),p)})).apply(this,arguments)}function su(y,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithCustomToken",cn(y,p))})).apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(y,p){const g=Re(y),b=yield su(g,{token:p,returnSecureToken:!0}),I=yield Rr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ft{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ou._fromServerResponse(p,g):Se(p,"internal-error")}}class ou extends ft{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ou(g)}}function bl(y,p,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function lu(){return(lu=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y),I={requestType:"PASSWORD_RESET",email:p};g&&bl(b,I,g),yield zl(b,I)})).apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(y,p,g){yield Kn((0,R.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(y,p){yield ps((0,R.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ht(y,p){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.Z)(function*(y,p){const g=(0,R.m9)(y),b=yield Kn(g,{oobCode:p}),I=b.requestType;switch(te(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=ft._fromServerResponse(Re(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(y,p){const{data:g}=yield Ht((0,R.m9)(y),p);return g.email})).apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(y,p,g){const b=Re(y),I=yield tu(b,{returnSecureToken:!0,email:p,password:g}),O=yield Rr._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Gd(){return(Gd=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};te(g.handleCodeInApp,b,"argument-error"),g&&bl(b,I,g),yield gi(b,I)})).apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y),I=hc.credentialWithLink(p,g||xt());return te(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Qn(b,I)})).apply(this,arguments)}function Nr(y,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:createAuthUri",cn(y,p))})).apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(y,p){const b={identifier:p,continueUri:un()?xt():"http://localhost"},{signinMethods:I}=yield Nr((0,R.m9)(y),b);return I||[]})).apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(y,p){const g=(0,R.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&bl(g.auth,I,p);const{email:O}=yield nn(g.auth,I);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&bl(b.auth,O,g);const{email:Z}=yield Pd(b.auth,O);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function wc(y,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,R.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Z=yield xr(b,wc(b.auth,O));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ue=b.providerData.find(({providerId:Ue})=>"password"===Ue);ue&&(ue.displayName=b.displayName,ue.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Ec(y,p,g){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Z=yield xr(y,Rt(b,O));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class ra{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Wd extends ra{constructor(p,g,b,I){super(p,g,b),this.username=I}}class zd extends ra{constructor(p,g){super(p,"facebook.com",g)}}class ia extends Wd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class To extends ra{constructor(p,g){super(p,"google.com",g)}}class Tc extends Wd{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Wr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function qd(y){var p,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const Z=null===(g=null===(p=ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new ra(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new zd(O,I);case"github.com":return new ia(O,I);case"google.com":return new To(O,I);case"twitter.com":return new Tc(O,I,y.screenName||null);case"custom":case"anonymous":return new ra(O,null);default:return new ra(O,b,I)}}(g)}class Bs{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Bs("enroll",p)}static _fromMfaPendingCredential(p){return new Bs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Bs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Bs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Dl{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Re(p),I=g.customData._serverResponse,O=(I.mfaInfo||[]).map(ue=>ft._fromServerResponse(b,ue));te(I.mfaPendingCredential,b,"internal-error");const Z=Bs._fromMfaPendingCredential(I.mfaPendingCredential);return new Dl(Z,O,function(){var ue=(0,a.Z)(function*(Ue){const Xe=yield Ue._process(b,Z);delete I.mfaInfo,delete I.mfaPendingCredential;const Tt=Object.assign(Object.assign({},I),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const at=yield Rr._fromIdTokenResponse(b,g.operationType,Tt);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return te(g.user,b,"internal-error"),Rr._forOperation(g.user,g.operationType,Tt);default:Se(b,"internal-error")}});return function(Ue){return ue.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,a.Z)(function*(){return g.signInResolver(p)})()}}function ar(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:start",cn(y,p))}class Us{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ft._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Us(p)}getSession(){var p=this;return(0,a.Z)(function*(){return Bs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,a.Z)(function*(){const I=p,O=yield b.getSession(),Z=yield xr(b.user,I._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var g=this;return(0,a.Z)(function*(){const b="string"==typeof p?p:p.uid,I=yield g.user.getIdToken(),O=yield xr(g.user,function bg(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(y,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Fa=new WeakMap,Mc="__sak";class sa{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const er=(()=>{class y extends sa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xd(){const y=(0,R.z$)();return tn(y)||Er(y)}()&&function gr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ls(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),O=this.localCache[b];I!==O&&g(b,O,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ue,Ue,Xe)=>{this.notifyListeners(ue,Xe)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(I);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const O=()=>{const ue=this.storage.getItem(I);!b&&this.localCache[I]===ue||this.notifyListeners(I,ue)},Z=this.storage.getItem(I);!function pl(){return(0,R.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,O=this;return(0,a.Z)(function*(){yield I().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,a.Z)(function*(){const O=yield b().call(I,g);return I.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,I=this;return(0,a.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),Vn=(()=>{class y extends sa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Tr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,a.Z)(function*(){const I=g,{eventId:O,eventType:Z,data:ue}=I.data,Ue=b.handlersMap[Z];if(!(null==Ue?void 0:Ue.size))return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Xe=Array.from(Ue).map(function(){var at=(0,a.Z)(function*(Zn){return Zn(I.origin,ue)});return function(Zn){return at.apply(this,arguments)}}()),Tt=yield function lr(y){return Promise.all(y.map(function(){var p=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Xe);I.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:Tt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Va(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class eh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var I=this;return(0,a.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ue;return new Promise((Ue,Xe)=>{const Tt=Va("",20);O.port1.start();const at=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);ue={messageChannel:O,onMessage(Zn){const vs=Zn;if(vs.data.eventId===Tt)switch(vs.data.status){case"ack":clearTimeout(at),Z=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ue(vs.data.response);break;default:clearTimeout(at),clearTimeout(Z),Xe(new Error("invalid_response"))}}},I.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),I.target.postMessage({eventType:p,eventId:Tt,data:g},[O.port2])}).finally(()=>{ue&&I.removeMessageHandler(ue)})})()}}function Mn(){return window}function es(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function Li(){return(Li=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ac="firebaseLocalStorageDb",oa="firebaseLocalStorage",$n="fbase_key";class Hs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function aa(y,p){return y.transaction([oa],p?"readwrite":"readonly").objectStore(oa)}function Io(){const y=indexedDB.open(Ac,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(oa,{keyPath:$n})}catch(I){g(I)}}),y.addEventListener("success",(0,a.Z)(function*(){const b=y.result;b.objectStoreNames.contains(oa)?p(b):(b.close(),yield function Ri(){const y=indexedDB.deleteDatabase(Ac);return new Hs(y).toPromise()}(),p(yield Io()))}))})}function Ni(y,p,g){return ms.apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(y,p,g){const b=aa(y,!0).put({[$n]:p,value:g});return new Hs(b).toPromise()})).apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(y,p){const g=aa(y,!1).get(p),b=yield new Hs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function gs(y,p){const g=aa(y,!0).delete(p);return new Hs(g).toPromise()}const ts=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Io()),g.db})()}_withRetries(g){var b=this;return(0,a.Z)(function*(){let I=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(I++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return es()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Tr._getInstance(function th(){return es()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(I,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(I,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function mu(){return Li.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new eh(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=O[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Mt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Io();return yield Ni(g,Mc,"1"),yield gs(g,Mc),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(O=>Ni(O,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,a.Z)(function*(){const I=yield b._withRetries(O=>function xc(y,p){return Mo.apply(this,arguments)}(O,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(I=>gs(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const b=yield g._withRetries(Z=>{const ue=aa(Z,!1).getAll();return new Hs(ue).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:Z,value:ue}of b)O.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(ue)&&(g.notifyListeners(Z,ue),I.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!O.has(Z)&&(g.notifyListeners(Z,null),I.push(Z));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ba(y,p){return zt(y,"POST","/v2/accounts/mfaSignIn:start",cn(y,p))}function rs(){return(rs=(0,a.Z)(function*(y){return(yield zt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hn(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=I=>{const O=be("internal-error");O.customData=I,g(O)},b.type="text/javascript",b.charset="UTF-8",function rh(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function js(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Fr=1e12;class xn{constructor(p){this.auth=p,this.counter=Fr,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new _s(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Fr;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Fr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,a.Z)(function*(){var b;return null===(b=g._widgets.get(p||Fr))||void 0===b||b.execute(),""})()}}class _s{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;te(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bn(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ko=js("rcb"),ih=new Dn(3e4,6e4);class Dg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(p,g=""){return te(function Cg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Mn().grecaptcha):new Promise((b,I)=>{const O=Mn().setTimeout(()=>{I(be(p,"network-request-failed"))},ih.get());Mn()[ko]=()=>{Mn().clearTimeout(O),delete Mn()[ko];const ue=Mn().grecaptcha;if(!ue)return void I(be(p,"internal-error"));const Ue=ue.render;ue.render=(Xe,Tt)=>{const at=Ue(Xe,Tt);return this.counter++,at},this.hostLanguage=g,b(ue)},hn(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:ko,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),I(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Mn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eg{load(p){return(0,a.Z)(function*(){return new xn(p)})()}clearedOneInstance(){}}const xo="recaptcha",wi={theme:"light",type:"image"};class Tg{constructor(p,g=Object.assign({},wi),b){this.parameters=g,this.type=xo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;te(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eg:new Dg,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const Z=ue=>{!ue||(p.tokenChangeListeners.delete(Z),O(ue))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Mn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){te(un()&&!es(),p.auth,"internal-error"),yield function Oo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Pr(y){return rs.apply(this,arguments)}(p.auth);te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ys{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=xa._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Un(){return(Un=(0,a.Z)(function*(y,p,g){const b=Re(y),I=yield Sr(b,p,(0,R.m9)(g));return new Ys(I,O=>Qn(b,O))})).apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y);yield vo(!1,b,"phone");const I=yield Sr(b.auth,p,(0,R.m9)(g));return new Ys(I,O=>Qi(b,O))})).apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y),I=yield Sr(b.auth,p,(0,R.m9)(g));return new Ys(I,O=>bo(b,O))})).apply(this,arguments)}function Sr(y,p,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(y,p,g){var b;const I=yield g.verify();try{let O;if(te("string"==typeof I,y,"argument-error"),te(g.type===xo,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return te("enroll"===Z.type,y,"internal-error"),(yield ar(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{te("signin"===Z.type,y,"internal-error");const ue=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return te(ue,y,"missing-multi-factor-info"),(yield Ba(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield gg(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return Z}}finally{g._reset()}})).apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(y,p){yield kn((0,R.m9)(y),p)})).apply(this,arguments)}let is=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Re(g)}verifyPhoneNumber(g,b){return Sr(this.auth,g,(0,R.m9)(b))}static credential(g,b){return xa._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?xa._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ua(y,p){return p?ae(p):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class oh extends vn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return or(p,this._buildIdpRequest())}_linkToIdToken(p,g){return or(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return or(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Sg(y){return ta(y.auth,new oh(y),y.bypassAuthState)}function Zf(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),$d(g,new oh(y),y.bypassAuthState)}function $t(y){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),kn(g,new oh(y),y.bypassAuthState)})).apply(this,arguments)}class tr{constructor(p,g,b,I,O=!1){this.auth=p,this.resolver=b,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,a.Z)(function*(b,I){p.pendingPromise={resolve:b,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:O,tenantId:Z,error:ue,type:Ue}=p;if(ue)return void g.reject(ue);const Xe={auth:g.auth,requestUri:b,sessionId:I,tenantId:Z||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Xe))}catch(Tt){g.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Sg;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return Zf;default:Se(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _u=new Dn(2e3,1e4);function Ro(){return(Ro=(0,a.Z)(function*(y,p,g){const b=Re(y);$e(y,p,_o);const I=ua(b,g);return new Tl(b,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y);$e(b.auth,p,_o);const I=ua(b.auth,g);return new Tl(b.auth,"reauthViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y);$e(b.auth,p,_o);const I=ua(b.auth,g);return new Tl(b.auth,"linkViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}let Tl=(()=>{class y extends tr{constructor(g,b,I,O,Z){super(g,b,O,Z),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,a.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const b=Va();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,_u.get())};g()}}return y.currentPopupAction=null,y})();const yu=new Map;class _r extends tr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,a.Z)(function*(){let b=yu.get(g.auth._key());if(!b){try{const O=(yield function E(y,p){return T.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(I){b=()=>Promise.reject(I)}yu.set(g.auth._key(),b)}return g.bypassAuthState||yu.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const I=yield b.auth._redirectUserForId(p.eventId);if(I)return b.user=I,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,a.Z)(function*(y,p){const g=ke(p),b=re(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function x(y,p){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(y,p){return re(y)._set(ke(p),"true")})).apply(this,arguments)}function re(y){return ae(y._redirectPersistence)}function ke(y){return he("pendingRedirect",y.config.apiKey,y.name)}function St(){return(St=(0,a.Z)(function*(y,p,g){const b=Re(y);$e(y,p,_o);const I=ua(b,g);return yield x(I,b),I._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y);$e(b.auth,p,_o);const I=ua(b.auth,g);yield x(I,b.auth);const O=yield Nc(b);return I._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(y,p,g){const b=(0,R.m9)(y);$e(b.auth,p,_o);const I=ua(b.auth,g);yield vo(!1,b,p.providerId),yield x(I,b.auth);const O=yield Nc(b);return I._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(y,p){return yield Re(y)._initializationPromise,ys(y,p,!1)})).apply(this,arguments)}function ys(y,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,a.Z)(function*(y,p,g=!1){const b=Re(y),I=ua(b,p),Z=yield new _r(b,I,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function Nc(y){return No.apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(y){const p=Va(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class wu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Pc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uh(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!uh(p)){const I=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(p))}saveEventToCache(p){this.cachedEventUids.add(Du(p)),this.lastProcessedEventTime=Date.now()}}function Du(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function uh({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Fc(y){return Il.apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(y,p={}){return zt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ig=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sv=/^https?/;function Ws(){return(Ws=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Fc(y);for(const g of p)try{if(Vc(g))return}catch(b){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Vc(y){const p=xt(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===b}if(!Sv.test(g))return!1;if(Ig.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const Mv=new Dn(3e4,6e4);function Av(){const y=Mn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ch=null;function kv(y){return ch=ch||function Mg(y){return new Promise((p,g)=>{var b,I,O;function Z(){Av(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Av(),g(be(y,"network-request-failed"))},timeout:Mv.get()})}if(null===(I=null===(b=Mn().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Mn().gapi)||void 0===O?void 0:O.load)){const ue=js("iframefcb");return Mn()[ue]=()=>{gapi.load?Z():g(be(y,"network-request-failed"))},hn(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Ue=>g(Ue))}Z()}}).catch(p=>{throw ch=null,p})}(y),ch}const qf=new Dn(5e3,15e3),ha={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ml(y){const p=y.config;te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Cn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},I=dh.get(y.config.apiHost);I&&(b.eid=I);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,R.xO)(b).slice(1)}`}function Ha(){return Ha=(0,a.Z)(function*(y){const p=yield kv(y),g=Mn().gapi;return te(g,y,"internal-error"),p.open({where:document.body,url:Ml(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ha,dontclear:!0},b=>new Promise(function(){var I=(0,a.Z)(function*(O,Z){yield b.restyle({setHideOnLeave:!1});const ue=be(y,"network-request-failed"),Ue=Mn().setTimeout(()=>{Z(ue)},qf.get());function Xe(){Mn().clearTimeout(Ue),O(b)}b.ping(Xe).then(Xe,()=>{Z(ue)})});return function(O,Z){return I.apply(this,arguments)}}()))}),Ha.apply(this,arguments)}const Ov={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Jf(y,p,g,b,I,O){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:I};if(p instanceof _o){p.setDefaultLanguage(y.languageCode),Z.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,Xe]of Object.entries(O||{}))Z[Ue]=Xe}if(p instanceof yi){const Ue=p.getScopes().filter(Xe=>""!==Xe);Ue.length>0&&(Z.scopes=Ue.join(","))}y.tenantId&&(Z.tid=y.tenantId);const ue=Z;for(const Ue of Object.keys(ue))void 0===ue[Ue]&&delete ue[Ue];return`${function Rv({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(ue).slice(1)}`}const Po="webStorageSupport";class Qf extends class Ag{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qf(p)}_finalizeEnroll(p,g,b){return function Jd(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:finalize",cn(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function ns(y,p){return zt(y,"POST","/v2/accounts/mfaSignIn:finalize",cn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nv=(()=>{class y{constructor(){}static assertion(g){return Qf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Pv="@firebase/auth",Xf="0.19.11";class kg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var I;p((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fo(){return window}function Tu(){return(Tu=(0,a.Z)(function*(y,p,g){var b;const{BuildInfo:I}=Fo();oe(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Al(p.sessionId),Z={};return Er()?Z.ibi=I.packageName:jn()?Z.apn=I.packageName:Se(y,"operation-not-supported-in-this-environment"),I.displayName&&(Z.appDisplayName=I.displayName),Z.sessionId=O,Jf(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Z)})).apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(y){const{BuildInfo:p}=Fo(),g={};Er()?g.iosBundleId=p.packageName:jn()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Fc(y,g)})).apply(this,arguments)}function gh(){return(gh=(0,a.Z)(function*(y,p,g){const{cordova:b}=Fo();let I=()=>{};try{yield new Promise((O,Z)=>{let ue=null;function Ue(){var at;O();const Zn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Zn&&Zn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Xe(){ue||(ue=window.setTimeout(()=>{Z(be(y,"redirect-cancelled-by-user"))},2e3))}function Tt(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}p.addPassiveListener(Ue),document.addEventListener("resume",Xe,!1),jn()&&document.addEventListener("visibilitychange",Tt,!1),I=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Tt,!1),ue&&window.clearTimeout(ue)}})}finally{I()}})).apply(this,arguments)}function Al(y){return Og.apply(this,arguments)}function Og(){return(Og=(0,a.Z)(function*(y){const p=Su(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Su(y){if(oe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function Vv(y){(0,le._registerComponent)(new se.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),{apiKey:O,authDomain:Z}=b.options;return((ue,Ue)=>{te(O&&!O.includes(":"),"invalid-api-key",{appName:ue.name}),te(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:ue.name});const Xe={apiKey:O,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ml(y)},Tt=new ki(ue,Ue,Xe);return function ce(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Tt,g),Tt})(b,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new se.wA("auth-internal",p=>{const g=Re(p.getProvider("auth").getImmediate());return new kg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Pv,Xf,function Fv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Pv,Xf,"esm2017")}("Browser");class rp extends wu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function Hc(y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(y){const p=yield Iu()._get(sp(y));return p&&(yield Iu()._remove(sp(y))),p})).apply(this,arguments)}function jc(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Iu(){return ae(er)}function sp(y){return he("authEvent",y.config.apiKey,y.name)}function yh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function up(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function vh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Rg(y=(0,R.z$)()){return!("file:"!==vh()&&"ionic:"!==vh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function zr(){try{const y=self.localStorage,p=Va();if(y)return y.setItem(p,"1"),y.removeItem(p),!function $a(y=(0,R.z$)()){return function Yv(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function $v(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return fa()&&(0,R.hl)()}return!1}function fa(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gc(){return(function jv(){return"http:"===vh()||"https:"===vh()}()||(0,R.ru)()||Rg())&&!function bh(){return(0,R.b$)()||(0,R.UG)()}()&&zr()&&!fa()}function cp(){return Rg()&&"undefined"!=typeof document}function kl(){return(kl=(0,a.Z)(function*(){return!!cp()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const as={LOCAL:"local",NONE:"none",SESSION:"session"},xl=te,hp="persistence";function Ol(y){return fp.apply(this,arguments)}function fp(){return(fp=(0,a.Z)(function*(y){yield y._initializationPromise;const p=Zc(),g=he(hp,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Zc(){var y;try{return(null===(y=function dp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Gv=te;class Fi{constructor(){this.browserResolver=ae(class ja{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vn,this._completeRedirectFn=ys}_openPopup(p,g,b,I){var O=this;return(0,a.Z)(function*(){var Z;oe(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ue=Jf(p,g,b,xt(),I);return function mh(y,p,g,b=500,I=600){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ue="";const Ue=Object.assign(Object.assign({},Ov),{width:b.toString(),height:I.toString(),top:O,left:Z}),Xe=(0,R.z$)().toLowerCase();g&&(ue=$r(Xe)?"_blank":g),Dt(Xe)&&(p=p||"http://localhost",Ue.scrollbars="yes");const Tt=Object.entries(Ue).reduce((Zn,[vs,Wc])=>`${Zn}${vs}=${Wc},`,"");if(function Wl(y=(0,R.z$)()){var p;return Er(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Xe)&&"_self"!==ue)return function Kf(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ue),new ph(null);const at=window.open(p||"",ue,Tt);te(at,y,"popup-blocked");try{at.focus()}catch(Zn){}return new ph(at)}(p,ue,Va())})()}_openRedirect(p,g,b,I){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(p),function Gf(y){Mn().location.href=y}(Jf(p,g,b,xt(),I)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:O}=this.eventManagers[g];return I?Promise.resolve(I):(oe(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,a.Z)(function*(){const b=yield function xv(y){return Ha.apply(this,arguments)}(p),I=new wu(p);return b.register("authEvent",O=>(te(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=b,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Po,{type:Po},I=>{var O;const Z=null===(O=null==I?void 0:I[0])||void 0===O?void 0:O[Po];void 0!==Z&&g(!!Z),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Iv(y){return Ws.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ls()||tn()||Er()}}),this.cordovaResolver=ae(class lp{constructor(){this._redirectPersistence=Vn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ys}_initialize(p){var g=this;return(0,a.Z)(function*(){const b=p._key();let I=g.eventManagers.get(b);return I||(I=new rp(p),g.eventManagers.set(b,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,I){var O=this;return(0,a.Z)(function*(){!function _h(y){var p,g,b,I,O,Z,ue,Ue,Xe,Tt;const at=Fo();te("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(O=null===(I=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(ue=null===(Z=null==at?void 0:at.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Tt=null===(Xe=null==at?void 0:at.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Tt?void 0:Tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield O._initialize(p);yield Z.initialized(),Z.resetRedirect(),function W(){yu.clear()}(),yield O._originValidation(p);const ue=function ip(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:jc(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,b,I);yield function ED(y,p){return Iu()._set(sp(y),p)}(p,ue);const Ue=yield function ep(y,p,g){return Tu.apply(this,arguments)}(p,ue,g),Xe=yield function Uc(y){const{cordova:p}=Fo();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let I=null;b?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function Jo(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(Ue);return function xg(y,p,g){return gh.apply(this,arguments)}(p,Z,Xe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function tp(y){return os.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:O}=Fo(),Z=setTimeout((0,a.Z)(function*(){yield Hc(p),g.onEvent(up())}),500),ue=function(){var Tt=(0,a.Z)(function*(at){clearTimeout(Z);const Zn=yield Hc(p);let vs=null;Zn&&(null==at?void 0:at.url)&&(vs=function Uv(y,p){var g,b;const I=function Yc(y){const p=yh(y),g=p.link?decodeURIComponent(p.link):void 0,b=yh(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return yh(I).link||I||b||g||y}(p);if(I.includes("/__/auth/callback")){const O=yh(I),Z=O.firebaseError?function op(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ue=null===(b=null===(g=null==Z?void 0:Z.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=ue?be(ue):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Zn,at.url)),g.onEvent(vs||up())});return function(Zn){return Tt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ue);const Ue=I,Xe=`${O.packageName.toLowerCase()}://`;Fo().handleOpenURL=function(){var Tt=(0,a.Z)(function*(at){if(at.toLowerCase().startsWith(Xe)&&ue({url:at}),"function"==typeof Ue)try{Ue(at)}catch(Zn){console.error(Zn)}});return function(at){return Tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vn,this._completeRedirectFn=ys}_initialize(p){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,I){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,I)})()}_openRedirect(p,g,b,I){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return cp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const g=yield function ii(){return kl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Fg(y){return y.unwrap()}function Ll(y){return Vg(y)}function Vg(y){const{_tokenResponse:p}=y instanceof R.ZR?y.customData:y;if(!p)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return is.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=_l;break;case"facebook.com":b=Xo;break;case"github.com":b=jd;break;case"twitter.com":b=eu;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:ue,nonce:Ue}=p;return O||Z||I||ue?ue?g.startsWith("saml.")?qt._create(g,ue):Ps._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:I,accessToken:O}):new Oa(g).credential({idToken:I,accessToken:O,rawNonce:Ue}):null}return y instanceof R.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Kr(y,p){return p.catch(g=>{throw g instanceof R.ZR&&function qv(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Wv(y,function pu(y,p){var g;const b=(0,R.m9)(y),I=p;return te(p.customData.operationType,b,"argument-error"),te(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Dl._fromError(b,I)}(y,p));else if(b){const I=Vg(p),O=p;I&&(O.credential=I,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:Ll(g),additionalUserInfo:Wr(g),user:pa.getOrCreate(I)}})}function pp(y,p){return mp.apply(this,arguments)}function mp(){return(mp=(0,a.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Kr(y,g.confirm(b))}})).apply(this,arguments)}class Wv{constructor(p,g){this.resolver=g,this.auth=function Zv(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Kr(Fg(this.auth),this.resolver.resolveSignIn(p))}}class pa{constructor(p){this._delegate=p,this.multiFactor=function Qd(y){const p=(0,R.m9)(y);return Fa.has(p)||Fa.set(p,Us._fromUser(p)),Fa.get(p)}(p)}static getOrCreate(p){return pa.USER_MAP.has(p)||pa.USER_MAP.set(p,new pa(p)),pa.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,a.Z)(function*(){return Kr(g.auth,Qi(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,a.Z)(function*(){return pp(b.auth,function Lc(y,p,g){return la.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,a.Z)(function*(){return Kr(g.auth,function qs(y,p,g){return Rc.apply(this,arguments)}(g._delegate,p,Fi))})()}linkWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Ol(Re(g.auth)),function jt(y,p,g){return function Sl(y,p,g){return ss.apply(this,arguments)}(y,p,g)}(g._delegate,p,Fi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,a.Z)(function*(){return Kr(g.auth,bo(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return pp(this.auth,function sh(y,p,g){return Cl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Kr(this.auth,function ah(y,p,g){return Zs.apply(this,arguments)}(this._delegate,p,Fi))}reauthenticateWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Ol(Re(g.auth)),function Bt(y,p,g){return function Ct(y,p,g){return Et.apply(this,arguments)}(y,p,g)}(g._delegate,p,Fi)})()}sendEmailVerification(p){return function Xi(y,p){return bc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,a.Z)(function*(){return yield function yl(y,p){return fc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Cc(y,p){return Ec((0,R.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Zd(y,p){return Ec((0,R.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function El(y,p){return $s.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Pa(y,p){return Dc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function hu(y,p,g){return fu.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pa.USER_MAP=new WeakMap;const qc=te;let gp=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;qc(I,"invalid-api-key",{appName:g.name}),qc(I,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Fi:void 0;this._delegate=b.initialize({options:{persistence:zv(I,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function In(y,p,g){const b=Re(y);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),O=Lr(p),{host:Z,port:ue}=function ho(y){const p=Lr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const O=I[1];return{host:O,port:sr(b.substr(O.length+1))}}{const[O,Z]=b.split(":");return{host:O,port:sr(Z)}}}(p);b.config.emulator={url:`${O}//${Z}${null===ue?"":`:${ue}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function fs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function mc(y,p){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ht(this._delegate,g)}confirmPasswordReset(g,b){return function uu(y,p,g){return pc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,a.Z)(function*(){return Kr(I._delegate,function Na(y,p,g){return bi.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function du(y,p){return Eo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function vc(y,p){const g=Qo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){qc(Gc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function ca(y,p){return ri.apply(this,arguments)}(g._delegate,Fi);return b?Kr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Lg(y,p){Re(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:O,error:Z,complete:ue}=_p(g,b,I);return this._delegate.onAuthStateChanged(O,Z,ue)}onIdTokenChanged(g,b,I){const{next:O,error:Z,complete:ue}=_p(g,b,I);return this._delegate.onIdTokenChanged(O,Z,ue)}sendSignInLinkToEmail(g,b){return function yc(y,p,g){return Gd.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function au(y,p,g){return lu.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,a.Z)(function*(){let I;switch(function Ng(y,p){xl(Object.values(as).includes(p),y,"invalid-persistence-type"),(0,R.b$)()?xl(p!==as.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?xl(p===as.NONE,y,"unsupported-persistence-type"):fa()?xl(p===as.NONE||p===as.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):xl(p===as.NONE||zr(),y,"unsupported-persistence-type")}(b._delegate,g),g){case as.SESSION:I=Vn;break;case as.LOCAL:I=(yield ae(ts)._isAvailable())?ts:er;break;case as.NONE:I=G;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Kr(this._delegate,function nu(y){return Yd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Kr(this._delegate,Qn(this._delegate,g))}signInWithCustomToken(g){return Kr(this._delegate,function wo(y,p){return Do.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Kr(this._delegate,function _c(y,p,g){return Qn((0,R.m9)(y),hc.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Kr(this._delegate,function cu(y,p,g){return Co.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return pp(this._delegate,function gu(y,p,g){return Un.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,a.Z)(function*(){return qc(Gc(),b._delegate,"operation-not-supported-in-this-environment"),Kr(b._delegate,function Lo(y,p,g){return Ro.apply(this,arguments)}(b._delegate,g,Fi))})()}signInWithRedirect(g){var b=this;return(0,a.Z)(function*(){return qc(Gc(),b._delegate,"operation-not-supported-in-this-environment"),yield Ol(b._delegate),function Qe(y,p,g){return function At(y,p,g){return St.apply(this,arguments)}(y,p,g)}(b._delegate,g,Fi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Rn(y,p){return Ra.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=as,y})();function _p(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const I=b;return{next:Z=>I(Z&&pa.getOrCreate(Z)),error:p,complete:g}}function zv(y,p){const g=function Pg(y,p){const g=Zc();if(!g)return[];const b=he(hp,y,p);switch(g.getItem(b)){case as.NONE:return[G];case as.LOCAL:return[ts,Vn];case as.SESSION:return[Vn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(ts)&&g.push(ts),"undefined"!=typeof window)for(const b of[er,Vn])g.includes(b)||g.push(b);return g.includes(G)||g.push(G),g}class yp{constructor(){this.providerId="phone",this._delegate=new is(Fg(K.Z.auth()))}static credential(p,g){return is.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}yp.PHONE_SIGN_IN_METHOD=is.PHONE_SIGN_IN_METHOD,yp.PROVIDER_ID=is.PROVIDER_ID;const Kv=te;class Jv{constructor(p,g,b=K.Z.app()){var I;Kv(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Tg(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ug(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new gp(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hc,FacebookAuthProvider:Xo,GithubAuthProvider:jd,GoogleAuthProvider:_l,OAuthProvider:Oa,SAMLAuthProvider:xi,PhoneAuthProvider:yp,PhoneMultiFactorGenerator:Nv,RecaptchaVerifier:Jv,TwitterAuthProvider:eu,Auth:gp,AuthCredential:vn,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(st,Ce,L)=>{L.d(Ce,{y:()=>j});var a=L(930),K=L(727),R=L(8822),le=L(4671);var se=L(2416),ie=L(576),ne=L(2806);let j=(()=>{class Me{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const fe=new Me;return fe.source=this,fe.operator=Fe,fe}subscribe(Fe,fe,De){const tt=function qe(Me){return Me&&Me instanceof a.Lv||function Q(Me){return Me&&(0,ie.m)(Me.next)&&(0,ie.m)(Me.error)&&(0,ie.m)(Me.complete)}(Me)&&(0,K.Nn)(Me)}(Fe)?Fe:new a.Hp(Fe,fe,De);return(0,ne.x)(()=>{const{operator:ze,source:Se}=this;tt.add(ze?ze.call(tt,Se):Se?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(fe){Fe.error(fe)}}forEach(Fe,fe){return new(fe=Y(fe))((De,tt)=>{const ze=new a.Hp({next:Se=>{try{Fe(Se)}catch(be){tt(be),ze.unsubscribe()}},error:tt,complete:De});this.subscribe(ze)})}_subscribe(Fe){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Fe)}[R.L](){return this}pipe(...Fe){return function pe(Me){return 0===Me.length?le.y:1===Me.length?Me[0]:function(Fe){return Me.reduce((fe,De)=>De(fe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=Y(Fe))((fe,De)=>{let tt;this.subscribe(ze=>tt=ze,ze=>De(ze),()=>fe(tt))})}}return Me.create=Le=>new Me(Le),Me})();function Y(Me){var Le;return null!==(Le=null!=Me?Me:se.v.Promise)&&void 0!==Le?Le:Promise}},7579:(st,Ce,L)=>{L.d(Ce,{x:()=>se});var a=L(8306),K=L(727);const le=(0,L(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=L(8737),pe=L(2806);let se=(()=>{class ne extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Q=new ie(this,this);return Q.operator=Y,Q}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(Y)}})}error(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Q}=this;for(;Q.length;)Q.shift().error(Y)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Q,isStopped:qe,observers:Me}=this;return Q||qe?K.Lc:(this.currentObservers=null,Me.push(Y),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Me,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Q,thrownError:qe,isStopped:Me}=this;Q?Y.error(qe):Me&&Y.complete()}asObservable(){const Y=new a.y;return Y.source=this,Y}}return ne.create=(j,Y)=>new ie(j,Y),ne})();class ie extends se{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Q||Q.call(Y,j)}error(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Q||Q.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,Q;return null!==(Q=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==Q?Q:K.Lc}}},930:(st,Ce,L)=>{L.d(Ce,{Hp:()=>Fe,Lv:()=>Q});var a=L(576),K=L(727),R=L(2416),le=L(7849),X=L(5032);const pe=ne("C",void 0,void 0);function ne(Se,be,we){return{kind:Se,value:be,error:we}}var j=L(3410),Y=L(2806);class Q extends K.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,K.Nn)(be)&&be.add(this)):this.destination=ze}static create(be,we,$e){return new Fe(be,we,$e)}next(be){this.isStopped?tt(function ie(Se){return ne("N",Se,void 0)}(be),this):this._next(be)}error(be){this.isStopped?tt(function se(Se){return ne("E",void 0,Se)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?tt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Me(Se,be){return qe.call(Se,be)}class Le{constructor(be){this.partialObserver=be}next(be){const{partialObserver:we}=this;if(we.next)try{we.next(be)}catch($e){fe($e)}}error(be){const{partialObserver:we}=this;if(we.error)try{we.error(be)}catch($e){fe($e)}else fe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(we){fe(we)}}}class Fe extends Q{constructor(be,we,$e){let je;if(super(),(0,a.m)(be)||!be)je={next:null!=be?be:void 0,error:null!=we?we:void 0,complete:null!=$e?$e:void 0};else{let te;this&&R.v.useDeprecatedNextContext?(te=Object.create(be),te.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&Me(be.next,te),error:be.error&&Me(be.error,te),complete:be.complete&&Me(be.complete,te)}):je=be}this.destination=new Le(je)}}function fe(Se){R.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Se):(0,le.h)(Se)}function tt(Se,be){const{onStoppedNotification:we}=R.v;we&&j.z.setTimeout(()=>we(Se,be))}const ze={closed:!0,next:X.Z,error:function De(Se){throw Se},complete:X.Z}},727:(st,Ce,L)=>{L.d(Ce,{Lc:()=>pe,w0:()=>X,Nn:()=>se});var a=L(576);const R=(0,L(3888).d)(ne=>function(Y){ne(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Q,qe)=>`${qe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=L(8737);class X{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Me of Y)Me.remove(this);else Y.remove(this);const{initialTeardown:Q}=this;if((0,a.m)(Q))try{Q()}catch(Me){j=Me instanceof R?Me.errors:[Me]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Me of qe)try{ie(Me)}catch(Le){j=null!=j?j:[],Le instanceof R?j=[...j,...Le.errors]:j.push(Le)}}if(j)throw new R(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)ie(j);else{if(j instanceof X){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,le.P)(Y,j),j instanceof X&&j._removeParent(this)}}X.EMPTY=(()=>{const ne=new X;return ne.closed=!0,ne})();const pe=X.EMPTY;function se(ne){return ne instanceof X||ne&&"closed"in ne&&(0,a.m)(ne.remove)&&(0,a.m)(ne.add)&&(0,a.m)(ne.unsubscribe)}function ie(ne){(0,a.m)(ne)?ne():ne.unsubscribe()}},2416:(st,Ce,L)=>{L.d(Ce,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,L)=>{L.d(Ce,{E:()=>K});const K=new(L(8306).y)(X=>X.complete())},8996:(st,Ce,L)=>{L.d(Ce,{D:()=>be});var a=L(8421),K=L(5363),R=L(9468),pe=L(8306),ie=L(2202),ne=L(576),j=L(9672);function Q(we,$e){if(!we)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,j.f)(je,$e,()=>{const te=we[Symbol.asyncIterator]();(0,j.f)(je,$e,()=>{te.next().then(z=>{z.done?je.complete():je.next(z.value)})},0,!0)})})}var qe=L(3670),Me=L(8239),Le=L(1144),Fe=L(6495),fe=L(2206),De=L(4532),tt=L(3260);function be(we,$e){return $e?function Se(we,$e){if(null!=we){if((0,qe.c)(we))return function le(we,$e){return(0,a.Xf)(we).pipe((0,R.R)($e),(0,K.Q)($e))}(we,$e);if((0,Le.z)(we))return function se(we,$e){return new pe.y(je=>{let te=0;return $e.schedule(function(){te===we.length?je.complete():(je.next(we[te++]),je.closed||this.schedule())})})}(we,$e);if((0,Me.t)(we))return function X(we,$e){return(0,a.Xf)(we).pipe((0,R.R)($e),(0,K.Q)($e))}(we,$e);if((0,fe.D)(we))return Q(we,$e);if((0,Fe.T)(we))return function Y(we,$e){return new pe.y(je=>{let te;return(0,j.f)(je,$e,()=>{te=we[ie.h](),(0,j.f)(je,$e,()=>{let z,oe;try{({value:z,done:oe}=te.next())}catch(ge){return void je.error(ge)}oe?je.complete():je.next(z)},0,!0)}),()=>(0,ne.m)(null==te?void 0:te.return)&&te.return()})}(we,$e);if((0,tt.L)(we))return function ze(we,$e){return Q((0,tt.Q)(we),$e)}(we,$e)}throw(0,De.z)(we)}(we,$e):(0,a.Xf)(we)}},8421:(st,Ce,L)=>{L.d(Ce,{Xf:()=>qe});var a=L(655),K=L(1144),R=L(8239),le=L(8306),X=L(3670),pe=L(2206),se=L(4532),ie=L(6495),ne=L(3260),j=L(576),Y=L(7849),Q=L(8822);function qe(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,X.c)(Se))return function Me(Se){return new le.y(be=>{const we=Se[Q.L]();if((0,j.m)(we.subscribe))return we.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,K.z)(Se))return function Le(Se){return new le.y(be=>{for(let we=0;we<Se.length&&!be.closed;we++)be.next(Se[we]);be.complete()})}(Se);if((0,R.t)(Se))return function Fe(Se){return new le.y(be=>{Se.then(we=>{be.closed||(be.next(we),be.complete())},we=>be.error(we)).then(null,Y.h)})}(Se);if((0,pe.D)(Se))return De(Se);if((0,ie.T)(Se))return function fe(Se){return new le.y(be=>{for(const we of Se)if(be.next(we),be.closed)return;be.complete()})}(Se);if((0,ne.L)(Se))return function tt(Se){return De((0,ne.Q)(Se))}(Se)}throw(0,se.z)(Se)}function De(Se){return new le.y(be=>{(function ze(Se,be){var we,$e,je,te;return(0,a.mG)(this,void 0,void 0,function*(){try{for(we=(0,a.KL)(Se);!($e=yield we.next()).done;)if(be.next($e.value),be.closed)return}catch(z){je={error:z}}finally{try{$e&&!$e.done&&(te=we.return)&&(yield te.call(we))}finally{if(je)throw je.error}}be.complete()})})(Se,be).catch(we=>be.error(we))})}},6451:(st,Ce,L)=>{L.d(Ce,{T:()=>pe});var a=L(8189),K=L(8421),R=L(515),le=L(3269),X=L(8996);function pe(...se){const ie=(0,le.yG)(se),ne=(0,le._6)(se,1/0),j=se;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,a.J)(ne)((0,X.D)(j,ie)):R.E}},5403:(st,Ce,L)=>{L.d(Ce,{x:()=>K});var a=L(930);function K(le,X,pe,se,ie){return new R(le,X,pe,se,ie)}class R extends a.Lv{constructor(X,pe,se,ie,ne,j){super(X),this.onFinalize=ne,this.shouldUnsubscribe=j,this._next=pe?function(Y){try{pe(Y)}catch(Q){X.error(Q)}}:super._next,this._error=ie?function(Y){try{ie(Y)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(Y){X.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(st,Ce,L)=>{L.d(Ce,{U:()=>R});var a=L(4482),K=L(5403);function R(le,X){return(0,a.e)((pe,se)=>{let ie=0;pe.subscribe((0,K.x)(se,ne=>{se.next(le.call(X,ne,ie++))}))})}},8189:(st,Ce,L)=>{L.d(Ce,{J:()=>R});var a=L(5577),K=L(4671);function R(le=1/0){return(0,a.z)(K.y,le)}},5577:(st,Ce,L)=>{L.d(Ce,{z:()=>ie});var a=L(4004),K=L(8421),R=L(4482),le=L(9672),X=L(5403),se=L(576);function ie(ne,j,Y=1/0){return(0,se.m)(j)?ie((Q,qe)=>(0,a.U)((Me,Le)=>j(Q,Me,qe,Le))((0,K.Xf)(ne(Q,qe))),Y):("number"==typeof j&&(Y=j),(0,R.e)((Q,qe)=>function pe(ne,j,Y,Q,qe,Me,Le,Fe){const fe=[];let De=0,tt=0,ze=!1;const Se=()=>{ze&&!fe.length&&!De&&j.complete()},be=$e=>De<Q?we($e):fe.push($e),we=$e=>{Me&&j.next($e),De++;let je=!1;(0,K.Xf)(Y($e,tt++)).subscribe((0,X.x)(j,te=>{null==qe||qe(te),Me?be(te):j.next(te)},()=>{je=!0},void 0,()=>{if(je)try{for(De--;fe.length&&De<Q;){const te=fe.shift();Le?(0,le.f)(j,Le,()=>we(te)):we(te)}Se()}catch(te){j.error(te)}}))};return ne.subscribe((0,X.x)(j,be,()=>{ze=!0,Se()})),()=>{null==Fe||Fe()}}(Q,qe,ne,Y)))}},5363:(st,Ce,L)=>{L.d(Ce,{Q:()=>le});var a=L(9672),K=L(4482),R=L(5403);function le(X,pe=0){return(0,K.e)((se,ie)=>{se.subscribe((0,R.x)(ie,ne=>(0,a.f)(ie,X,()=>ie.next(ne),pe),()=>(0,a.f)(ie,X,()=>ie.complete(),pe),ne=>(0,a.f)(ie,X,()=>ie.error(ne),pe)))})}},3099:(st,Ce,L)=>{L.d(Ce,{B:()=>pe});var a=L(8996),K=L(5698),R=L(7579),le=L(930),X=L(4482);function pe(ie={}){const{connector:ne=(()=>new R.x),resetOnError:j=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Q=!0}=ie;return qe=>{let Me=null,Le=null,Fe=null,fe=0,De=!1,tt=!1;const ze=()=>{null==Le||Le.unsubscribe(),Le=null},Se=()=>{ze(),Me=Fe=null,De=tt=!1},be=()=>{const we=Me;Se(),null==we||we.unsubscribe()};return(0,X.e)((we,$e)=>{fe++,!tt&&!De&&ze();const je=Fe=null!=Fe?Fe:ne();$e.add(()=>{fe--,0===fe&&!tt&&!De&&(Le=se(be,Q))}),je.subscribe($e),Me||(Me=new le.Hp({next:te=>je.next(te),error:te=>{tt=!0,ze(),Le=se(Se,j,te),je.error(te)},complete:()=>{De=!0,ze(),Le=se(Se,Y),je.complete()}}),(0,a.D)(we).subscribe(Me))})(qe)}}function se(ie,ne,...j){return!0===ne?(ie(),null):!1===ne?null:ne(...j).pipe((0,K.q)(1)).subscribe(()=>ie())}},9468:(st,Ce,L)=>{L.d(Ce,{R:()=>K});var a=L(4482);function K(R,le=0){return(0,a.e)((X,pe)=>{pe.add(R.schedule(()=>X.subscribe(pe),le))})}},5698:(st,Ce,L)=>{L.d(Ce,{q:()=>le});var a=L(515),K=L(4482),R=L(5403);function le(X){return X<=0?()=>a.E:(0,K.e)((pe,se)=>{let ie=0;pe.subscribe((0,R.x)(se,ne=>{++ie<=X&&(se.next(ne),X<=ie&&se.complete())}))})}},8505:(st,Ce,L)=>{L.d(Ce,{b:()=>X});var a=L(576),K=L(4482),R=L(5403),le=L(4671);function X(pe,se,ie){const ne=(0,a.m)(pe)||se||ie?{next:pe,error:se,complete:ie}:pe;return ne?(0,K.e)((j,Y)=>{var Q;null===(Q=ne.subscribe)||void 0===Q||Q.call(ne);let qe=!0;j.subscribe((0,R.x)(Y,Me=>{var Le;null===(Le=ne.next)||void 0===Le||Le.call(ne,Me),Y.next(Me)},()=>{var Me;qe=!1,null===(Me=ne.complete)||void 0===Me||Me.call(ne),Y.complete()},Me=>{var Le;qe=!1,null===(Le=ne.error)||void 0===Le||Le.call(ne,Me),Y.error(Me)},()=>{var Me,Le;qe&&(null===(Me=ne.unsubscribe)||void 0===Me||Me.call(ne)),null===(Le=ne.finalize)||void 0===Le||Le.call(ne)}))}):le.y}},4408:(st,Ce,L)=>{L.d(Ce,{o:()=>X});var a=L(727);class K extends a.w0{constructor(se,ie){super()}schedule(se,ie=0){return this}}const R={setInterval(pe,se,...ie){const{delegate:ne}=R;return(null==ne?void 0:ne.setInterval)?ne.setInterval(pe,se,...ie):setInterval(pe,se,...ie)},clearInterval(pe){const{delegate:se}=R;return((null==se?void 0:se.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=L(8737);class X extends K{constructor(se,ie){super(se,ie),this.scheduler=se,this.work=ie,this.pending=!1}schedule(se,ie=0){if(this.closed)return this;this.state=se;const ne=this.id,j=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(j,ne,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(j,this.id,ie),this}requestAsyncId(se,ie,ne=0){return R.setInterval(se.flush.bind(se,this),ne)}recycleAsyncId(se,ie,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return ie;R.clearInterval(ie)}execute(se,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(se,ie);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ie){let j,ne=!1;try{this.work(se)}catch(Y){ne=!0,j=Y||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:se,scheduler:ie}=this,{actions:ne}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ne,this),null!=se&&(this.id=this.recycleAsyncId(ie,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,L)=>{L.d(Ce,{v:()=>R});var a=L(6063);class K{constructor(X,pe=K.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,se){return new this.schedulerActionCtor(this,X).schedule(se,pe)}}K.now=a.l.now;class R extends K{constructor(X,pe=K.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let se;this._active=!0;do{if(se=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,se){for(;X=pe.shift();)X.unsubscribe();throw se}}}},4986:(st,Ce,L)=>{L.d(Ce,{z:()=>R,P:()=>le});var a=L(4408);const R=new(L(7565).v)(a.o),le=R},6063:(st,Ce,L)=>{L.d(Ce,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},233:(st,Ce,L)=>{L.d(Ce,{N:()=>X});var a=L(4408),R=L(7565);const X=new class le extends R.v{}(class K extends a.o{constructor(ie,ne){super(ie,ne),this.scheduler=ie,this.work=ne}schedule(ie,ne=0){return ne>0?super.schedule(ie,ne):(this.delay=ne,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ne){return ne>0||this.closed?super.execute(ie,ne):this._execute(ie,ne)}requestAsyncId(ie,ne,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(ie,ne,j):ie.flush(this)}})},3410:(st,Ce,L)=>{L.d(Ce,{z:()=>a});const a={setTimeout(K,R,...le){const{delegate:X}=a;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,R,...le):setTimeout(K,R,...le)},clearTimeout(K){const{delegate:R}=a;return((null==R?void 0:R.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(st,Ce,L)=>{L.d(Ce,{h:()=>K});const K=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,L)=>{L.d(Ce,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,L)=>{L.d(Ce,{jO:()=>le,yG:()=>X,_6:()=>pe});var a=L(576),K=L(3532);function R(se){return se[se.length-1]}function le(se){return(0,a.m)(R(se))?se.pop():void 0}function X(se){return(0,K.K)(R(se))?se.pop():void 0}function pe(se,ie){return"number"==typeof R(se)?se.pop():ie}},8737:(st,Ce,L)=>{function a(K,R){if(K){const le=K.indexOf(R);0<=le&&K.splice(le,1)}}L.d(Ce,{P:()=>a})},3888:(st,Ce,L)=>{function a(K){const le=K(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(Ce,{d:()=>a})},2806:(st,Ce,L)=>{L.d(Ce,{x:()=>R,O:()=>le});var a=L(2416);let K=null;function R(X){if(a.v.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),X(),pe){const{errorThrown:se,error:ie}=K;if(K=null,se)throw ie}}else X()}function le(X){a.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(st,Ce,L)=>{function a(K,R,le,X=0,pe=!1){const se=R.schedule(function(){le(),pe?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(se),!pe)return se}L.d(Ce,{f:()=>a})},4671:(st,Ce,L)=>{function a(K){return K}L.d(Ce,{y:()=>a})},1144:(st,Ce,L)=>{L.d(Ce,{z:()=>a});const a=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(st,Ce,L)=>{L.d(Ce,{D:()=>K});var a=L(576);function K(R){return Symbol.asyncIterator&&(0,a.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(st,Ce,L)=>{function a(K){return"function"==typeof K}L.d(Ce,{m:()=>a})},3670:(st,Ce,L)=>{L.d(Ce,{c:()=>R});var a=L(8822),K=L(576);function R(le){return(0,K.m)(le[a.L])}},6495:(st,Ce,L)=>{L.d(Ce,{T:()=>R});var a=L(2202),K=L(576);function R(le){return(0,K.m)(null==le?void 0:le[a.h])}},8239:(st,Ce,L)=>{L.d(Ce,{t:()=>K});var a=L(576);function K(R){return(0,a.m)(null==R?void 0:R.then)}},3260:(st,Ce,L)=>{L.d(Ce,{Q:()=>R,L:()=>le});var a=L(655),K=L(576);function R(X){return(0,a.FC)(this,arguments,function*(){const se=X.getReader();try{for(;;){const{value:ie,done:ne}=yield(0,a.qq)(se.read());if(ne)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ie)}}finally{se.releaseLock()}})}function le(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(st,Ce,L)=>{L.d(Ce,{K:()=>K});var a=L(576);function K(R){return R&&(0,a.m)(R.schedule)}},4482:(st,Ce,L)=>{L.d(Ce,{A:()=>K,e:()=>R});var a=L(576);function K(le){return(0,a.m)(null==le?void 0:le.lift)}function R(le){return X=>{if(K(X))return X.lift(function(pe){try{return le(pe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,L)=>{function a(){}L.d(Ce,{Z:()=>a})},7849:(st,Ce,L)=>{L.d(Ce,{h:()=>R});var a=L(2416),K=L(3410);function R(le){K.z.setTimeout(()=>{const{onUnhandledError:X}=a.v;if(!X)throw le;X(le)})}},4532:(st,Ce,L)=>{function a(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>a})},655:(st,Ce,L)=>{function le(z,oe){var ge={};for(var ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&oe.indexOf(ae)<0&&(ge[ae]=z[ae]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ae=Object.getOwnPropertySymbols(z);xe<ae.length;xe++)oe.indexOf(ae[xe])<0&&Object.prototype.propertyIsEnumerable.call(z,ae[xe])&&(ge[ae[xe]]=z[ae[xe]])}return ge}function X(z,oe,ge,ae){var xt,xe=arguments.length,ce=xe<3?oe:null===ae?ae=Object.getOwnPropertyDescriptor(oe,ge):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(z,oe,ge,ae);else for(var un=z.length-1;un>=0;un--)(xt=z[un])&&(ce=(xe<3?xt(ce):xe>3?xt(oe,ge,ce):xt(oe,ge))||ce);return xe>3&&ce&&Object.defineProperty(oe,ge,ce),ce}function se(z,oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,oe)}function ie(z,oe,ge,ae){return new(ge||(ge=Promise))(function(ce,xt){function un(wt){try{lt(ae.next(wt))}catch(Dn){xt(Dn)}}function zn(wt){try{lt(ae.throw(wt))}catch(Dn){xt(Dn)}}function lt(wt){wt.done?ce(wt.value):function xe(ce){return ce instanceof ge?ce:new ge(function(xt){xt(ce)})}(wt.value).then(un,zn)}lt((ae=ae.apply(z,oe||[])).next())})}function fe(z){return this instanceof fe?(this.v=z,this):new fe(z)}function De(z,oe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ae=ge.apply(z,oe||[]),ce=[];return xe={},xt("next"),xt("throw"),xt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function xt(Cn){ae[Cn]&&(xe[Cn]=function(Ji){return new Promise(function(yn,ks){ce.push([Cn,Ji,yn,ks])>1||un(Cn,Ji)})})}function un(Cn,Ji){try{!function zn(Cn){Cn.value instanceof fe?Promise.resolve(Cn.value.v).then(lt,wt):Dn(ce[0][2],Cn)}(ae[Cn](Ji))}catch(yn){Dn(ce[0][3],yn)}}function lt(Cn){un("next",Cn)}function wt(Cn){un("throw",Cn)}function Dn(Cn,Ji){Cn(Ji),ce.shift(),ce.length&&un(ce[0][0],ce[0][1])}}function ze(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,oe=z[Symbol.asyncIterator];return oe?oe.call(z):(z=function Q(z){var oe="function"==typeof Symbol&&Symbol.iterator,ge=oe&&z[oe],ae=0;if(ge)return ge.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ae>=z.length&&(z=void 0),{value:z&&z[ae++],done:!z}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),ge={},ae("next"),ae("throw"),ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ae(ce){ge[ce]=z[ce]&&function(xt){return new Promise(function(un,zn){!function xe(ce,xt,un,zn){Promise.resolve(zn).then(function(lt){ce({value:lt,done:un})},xt)}(un,zn,(xt=z[ce](xt)).done,xt.value)})}}}L.d(Ce,{_T:()=>le,gn:()=>X,w6:()=>se,mG:()=>ie,qq:()=>fe,FC:()=>De,KL:()=>ze})},5e3:(st,Ce,L)=>{L.d(Ce,{deG:()=>Dg,tb:()=>yT,AFp:()=>pT,ip1:()=>di,CZH:()=>rw,hGG:()=>VT,z2F:()=>pw,sBO:()=>gw,Sil:()=>ky,_Vd:()=>cy,EJc:()=>vT,SBq:()=>Uu,qLn:()=>Kr,vpe:()=>Ta,tBr:()=>No,XFs:()=>ct,OlP:()=>Gn,zs3:()=>Ka,ZZ4:()=>By,aQg:()=>Sm,soG:()=>My,YKP:()=>kb,h0i:()=>Xa,PXZ:()=>ET,R0b:()=>Zo,FiY:()=>bu,Lbi:()=>_T,g9A:()=>gT,Qsj:()=>qE,FYo:()=>dy,JOm:()=>ue,tp0:()=>Du,Rgc:()=>$o,dDg:()=>cw,q4F:()=>Tb,GfV:()=>Ir,s_b:()=>Yu,ifc:()=>Kt,eFA:()=>fw,G48:()=>kT,Gpc:()=>Y,X6Q:()=>vd,_c5:()=>Mm,VLi:()=>uM,c2e:()=>yd,zSh:()=>d_,wAp:()=>bt,vHH:()=>Le,cg1:()=>Zp,kL8:()=>AE,dqk:()=>Zt,sIi:()=>Np,CqO:()=>A_,QGY:()=>Yo,F4k:()=>XC,RDi:()=>Fs,AaK:()=>ie,qOj:()=>PC,TTD:()=>Xo,_Bn:()=>bb,xp6:()=>Dp,uIk:()=>k0,Tol:()=>N_,ekj:()=>Hp,Suo:()=>qb,Xpm:()=>Ut,lG2:()=>tn,Yz7:()=>yn,cJS:()=>cn,oAB:()=>J,Yjl:()=>$r,Y36:()=>Yh,_UZ:()=>j0,BQk:()=>Y0,ynx:()=>od,qZA:()=>M_,TgZ:()=>I_,EpF:()=>QC,n5z:()=>rh,LFG:()=>jt,$8M:()=>js,$Z:()=>JC,NdJ:()=>eE,CRH:()=>vr,kcU:()=>Ev,O4$:()=>Kd,oxw:()=>Up,ALo:()=>fd,lcZ:()=>tT,xi3:()=>yy,Hsn:()=>iE,F$t:()=>rE,Q6J:()=>U0,s9C:()=>sE,DdM:()=>Nb,VKq:()=>gy,iGM:()=>Wt,MAs:()=>GC,Jf7:()=>Bg,CHM:()=>gc,LSH:()=>Mu,Udp:()=>et,YNc:()=>$C,W1O:()=>rn,_uU:()=>ji,Oqu:()=>Yp,hij:()=>ai,AsE:()=>V_,Gf:()=>pd});var a=L(7579),K=L(727),R=L(8306),le=L(6451),X=L(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ne(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=pe({__forward_ref__:pe});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return ie(this())},s}function Q(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===Y}class Le extends Error{constructor(o,u){super(function Fe(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function be(s,o){const u=o?` in ${o}`:"";throw new Le(-201,`No provider for ${De(s)} found${u}`)}function lt(s,o){null==s&&function wt(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function yn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return kr(s,ds)||kr(s,xs)}function kr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Xr(s){return s&&(s.hasOwnProperty(ei)||s.hasOwnProperty(Os))?s[ei]:null}const ds=pe({\u0275prov:pe}),ei=pe({\u0275inj:pe}),xs=pe({ngInjectableDef:pe}),Os=pe({ngInjectorDef:pe});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let mi;function mr(s){const o=mi;return mi=s,o}function Ai(s,o,u){const d=zt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ct.Optional?null:void 0!==o?o:void be(ie(s),"Injector")}function Ln(s){return{toString:s}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,xr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ot||"undefined"!=typeof global&&global||It||xr,Or={},dt=[],Yr=pe({\u0275cmp:pe}),Yt=pe({\u0275dir:pe}),Ke=pe({\u0275pipe:pe}),Ie=pe({\u0275mod:pe}),Je=pe({\u0275fac:pe}),ht=pe({__NG_ELEMENT_ID__:pe});let Gt=0;function Ut(s){return Ln(()=>{const u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c",styles:s.styles||dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=Gt++,d.inputs=Dt(s.inputs,u),d.outputs=Dt(s.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(G):null,d})}function V(s){return Jt(s)||function jn(s){return s[Yt]||null}(s)}function G(s){return function Pt(s){return s[Ke]||null}(s)}const he={};function J(s){return Ln(()=>{const o={type:s.type,bootstrap:s.bootstrap||dt,declarations:s.declarations||dt,imports:s.imports||dt,exports:s.exports||dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function Dt(s,o){if(null==s)return Or;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,o&&(o[h]=m)}return u}const tn=Ut;function $r(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[Yr]||null}function Sn(s,o){const u=s[Ie]||null;if(!u&&!0===o)throw new Error(`Type ${ie(s)} does not have '\u0275mod' property.`);return u}function gi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ti(s){return Array.isArray(s)&&!0===s[1]}function Pd(s){return 0!=(8&s.flags)}function mo(s){return 2==(2&s.flags)}function Jl(s){return 1==(1&s.flags)}function _i(s){return null!==s.template}function Hf(s){return 0!=(512&s[2])}function yi(s,o){return s.hasOwnProperty(Je)?s[Je]:null}class Oa{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Xo(){return _l}function _l(s){return s.type.prototype.ngOnChanges&&(s.setInput=vg),jd}function jd(){const s=yo(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===Or)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function vg(s,o,u,d){const h=yo(s)||function xi(s,o){return s[qt]=o}(s,{previous:Or,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[u],C=v[w];m[w]=new Oa(C&&C.currentValue,o,v===Or),s[d]=o}Xo.ngInherit=!0;const qt="__ngSimpleChanges__";function yo(s){return s[qt]||null}let iu;function Fs(s){iu=s}function kn(s){return!!s.listen}const La={createRenderer:(s,o)=>function yl(){return void 0!==iu?iu:"undefined"!=typeof document?document:void 0}()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function ta(s,o){return wn(o[s])}function Zr(s,o){return wn(o[s.index])}function vl(s,o){return s.data[o]}function Qi(s,o){return s[o]}function qr(s,o){const u=o[s];return gi(u)?u:u[0]}function bo(s){return 4==(4&s[2])}function Vs(s){return 128==(128&s[2])}function vi(s,o){return null==o?null:s[o]}function wo(s){s[18]=0}function Do(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const ft={lFrame:ra(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uu(){return ft.bindingsEnabled}function Ee(){return ft.lFrame.lView}function Ht(){return ft.lFrame.tView}function gc(s){return ft.lFrame.contextLView=s,s[8]}function Rn(){let s=Ra();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ra(){return ft.lFrame.currentTNode}function bi(s,o){const u=ft.lFrame;u.currentTNode=s,u.isParent=o}function _c(){return ft.lFrame.isParent}function yc(){ft.lFrame.isParent=!1}function cu(){return ft.isInCheckNoChangesMode}function Co(s){ft.isInCheckNoChangesMode=s}function Nr(){const s=ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Eo(){return ft.lFrame.bindingIndex++}function Xi(s){const o=ft.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function fu(s,o){const u=ft.lFrame;u.bindingIndex=u.bindingRootIndex=s,wl(o)}function wl(s){ft.lFrame.currentDirectiveIndex=s}function Dc(){return ft.lFrame.currentQueryIndex}function Cc(s){ft.lFrame.currentQueryIndex=s}function Zd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ec(s,o,u){if(u&ct.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||u&ct.Host||(h=Zd(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=ft.lFrame=qd();return d.currentTNode=o,d.lView=s,!0}function na(s){const o=qd(),u=s[1];ft.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function qd(){const s=ft.lFrame,o=null===s?null:s.child;return null===o?ra(s):o}function ra(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wd(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zd=Wd;function ia(){const s=Wd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Wr(){return ft.lFrame.selectedIndex}function So(s){ft.lFrame.selectedIndex=s}function Yn(){const s=ft.lFrame;return vl(s.tView,s.selectedIndex)}function Kd(){ft.lFrame.currentNamespace="svg"}function Ev(){!function Sc(){ft.lFrame.currentNamespace=null}()}function Bs(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),M&&((s.viewHooks||(s.viewHooks=[])).push(u,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(u,k)}}function Dl(s,o,u){Jd(s,o,3,u)}function pu(s,o,u,d){(3&s[2])===u&&Jd(s,o,u,d)}function ar(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Jd(s,o,u,d){const m=null!=d?d:-1,v=o.length-1;let w=0;for(let C=void 0!==d?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=d&&w>=d)break}else o[C]<0&&(s[18]+=65536),(w<m||-1==m)&&(bg(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function bg(s,o,u,d){const h=u[d]<0,m=u[d+1],w=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Fa{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function pt(s,o,u){const d=kn(s);let h=0;for(;h<u.length;){const m=u[h];if("number"==typeof m){if(0!==m)break;h++;const v=u[h++],w=u[h++],C=u[h++];d?s.setAttribute(o,w,C,v):o.setAttributeNS(v,w,C)}else{const v=m,w=u[++h];lr(v)?d&&s.setProperty(o,v,w):d?s.setAttribute(o,v,w):o.setAttribute(v,w),h++}}return h}function Vn(s){return 3===s||4===s||6===s}function lr(s){return 64===s.charCodeAt(0)}function Tr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||Va(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function Va(s,o,u,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===u){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,u),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function eh(s){return-1!==s}function Mn(s){return 32767&s}function es(s,o){let u=function Gf(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let mu=!0;function Li(s){const o=mu;return mu=s,o}let kc=0;function $n(s,o){const u=aa(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Hs(d.data,s),Hs(o,null),Hs(d.blueprint,null));const h=Ri(s,o),m=s.injectorIndex;if(eh(h)){const v=Mn(h),w=es(h,o),C=w[1].data;for(let M=0;M<8;M++)o[m+M]=w[v+M]|C[v+M]}return o[m+8]=h,m}function Hs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function aa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ri(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Io(s,o,u){!function oa(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(ht)&&(d=u[ht]),null==d&&(d=u[ht]=kc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function ms(s,o,u){if(u&ct.Optional)return s;be(o,"NodeInjector")}function xc(s,o,u,d){if(u&ct.Optional&&void 0===d&&(d=null),0==(u&(ct.Self|ct.Host))){const h=s[9],m=mr(void 0);try{return h?h.get(o,d,u&ct.Optional):Ai(o,d,u&ct.Optional)}finally{mr(m)}}return ms(d,o,u)}function Mo(s,o,u,d=ct.Default,h){if(null!==s){const m=function Ba(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ht)?s[ht]:void 0;return"number"==typeof o?o>=0?255&o:Oc:o}(u);if("function"==typeof m){if(!Ec(o,s,d))return d&ct.Host?ms(h,u,d):xc(o,u,d,h);try{const v=m(d);if(null!=v||d&ct.Optional)return v;be(u)}finally{zd()}}else if("number"==typeof m){let v=null,w=aa(s,o),C=-1,M=d&ct.Host?o[16][6]:null;for((-1===w||d&ct.SkipSelf)&&(C=-1===w?Ri(s,o):o[w+8],-1!==C&&Pr(d,!1)?(v=o[1],w=Mn(C),o=es(C,o)):w=-1);-1!==w;){const k=o[1];if(ns(m,w,k.data)){const P=nh(w,o,u,v,d,M);if(P!==gs)return P}C=o[w+8],-1!==C&&Pr(d,o[1].data[w+8]===M)&&ns(m,w,o)?(v=k,w=Mn(C),o=es(C,o)):w=-1}}}return xc(o,u,d,h)}const gs={};function Oc(){return new rs(Rn(),Ee())}function nh(s,o,u,d,h,m){const v=o[1],w=v.data[s+8],k=Ao(w,v,u,null==d?mo(w)&&mu:d!=v&&0!=(3&w.type),h&ct.Host&&m===w);return null!==k?ts(o,v,k,w):gs}function Ao(s,o,u,d,h){const m=s.providerIndexes,v=o.data,w=1048575&m,C=s.directiveStart,k=m>>20,U=h?w+k:s.directiveEnd;for(let q=d?w:w+k;q<U;q++){const ve=v[q];if(q<C&&u===ve||q>=C&&ve.type===u)return q}if(h){const q=v[C];if(q&&_i(q)&&q.type===u)return C}return null}function ts(s,o,u,d){let h=s[u];const m=o.data;if(function Qd(s){return s instanceof Fa}(h)){const v=h;v.resolving&&function tt(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${u}`)}(De(m[u]));const w=Li(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?mr(v.injectImpl):null;Ec(s,d,ct.Default);try{h=s[u]=v.factory(void 0,m,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Ic(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=_l(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],o)}finally{null!==C&&mr(C),Li(w),v.resolving=!1,zd()}}return h}function ns(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Pr(s,o){return!(s&ct.Self||s&ct.Host&&o)}class rs{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Mo(this._tNode,this._lView,o,d,u)}}function rh(s){return Ln(()=>{const o=s.prototype.constructor,u=o[Je]||hn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Je]||hn(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function hn(s){return qe(s)?()=>{const o=hn(Q(s));return o&&o()}:yi(s)}function js(s){return function Ni(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(Vn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===o)return u[h+1];h+=2}}}return null}(Rn(),s)}const Ua="__parameters__";function Bn(s,o,u){return Ln(()=>{const d=function _s(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(C,M,k){const P=C.hasOwnProperty(Ua)?C[Ua]:Object.defineProperty(C,Ua,{value:[]})[Ua];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Gn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=yn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dg=new Gn("AnalyzeForEntryComponents");function Sr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),Sr(d,o)):o!==s&&o.push(d)}return o}function ni(s,o){s.forEach(u=>Array.isArray(u)?ni(u,o):o(u))}function El(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function $s(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function is(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function tr(s,o,u){let d=Lo(s,o);return d>=0?s[1|d]=u:(d=~d,function Sg(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function _u(s,o){const u=Lo(s,o);if(u>=0)return s[1|u]}function Lo(s,o){return function ah(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<u];if(o===v)return m<<u;v>o?h=m:d=m+1}return~(h<<u)}(s,o,1)}const x={},F="__NG_DI_FLAG__",W="ngTempTokenPath",ke=/\n/gm,At="__source",St=pe({provide:String,useValue:pe});let Bt;function Ct(s){const o=Bt;return Bt=s,o}function Et(s,o=ct.Default){if(void 0===Bt)throw new Le(203,"");return null===Bt?Ai(s,void 0,o):Bt.get(s,o&ct.Optional?null:void 0,o)}function jt(s,o=ct.Default){return(function Dr(){return mi}()||Et)(Q(s),o)}const ss=jt;function ca(s){const o=[];for(let u=0;u<s.length;u++){const d=Q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new Le(900,"");let h,m=ct.Default;for(let v=0;v<d.length;v++){const w=d[v],C=ys(w);"number"==typeof C?-1===C?h=w.token:m|=C:h=w}o.push(jt(h,m))}else o.push(jt(d))}return o}function ri(s,o){return s[F]=o,s.prototype[F]=o,s}function ys(s){return s[F]}const No=ri(Bn("Inject",s=>({token:s})),-1),bu=ri(Bn("Optional"),8),Du=ri(Bn("SkipSelf"),4);class mh{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Po(s){return s instanceof mh?s.changingThisBreaksApplicationSecurity:s}const Fo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ep=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function Mu(s){const o=function $a(){const s=Ee();return s&&s[12]}();return o?o.sanitize(pn.URL,s)||"":function ja(s,o){const u=function Eu(s){return s instanceof mh&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}(s,"URL")?Po(s):function Tu(s){return(s=String(s)).match(Fo)||s.match(ep)?s:"unsafe:"+s}(fe(s))}const cp="__ngContext__";function ii(s,o){s[cp]=o}function dp(s){const o=function kl(s){return s[cp]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ll(s){return s.ngOriginalError}function Vg(s,...o){s.error(...o)}class Kr{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),d=function qv(s){return s&&s.ngErrorLogger||Vg}(o);d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Ll(o);for(;u&&Ll(u);)u=Ll(u);return u||null}}const Jv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Bg(s){return s.ownerDocument.defaultView}function g(s){return s instanceof Function?s():s}var ue=(()=>((ue=ue||{})[ue.Important=1]="Important",ue[ue.DashCase=2]="DashCase",ue))();function Xe(s,o){return undefined(s,o)}function Zn(s){const o=s[3];return ti(o)?o[3]:o}function Au(s){return vp(s[13])}function ku(s){return vp(s[4])}function vp(s){for(;null!==s&&!ti(s);)s=s[4];return s}function Ga(s,o,u,d,h){if(null!=d){let m,v=!1;ti(d)?m=d:gi(d)&&(v=!0,d=d[0]);const w=wn(d);0===s&&null!==u?null==h?n0(o,u,w):zs(o,u,w,h||null,!0):1===s&&null!==u?zs(o,u,w,h||null,!0):2===s?function a0(s,o,u){const d=qn(s,o);d&&function gS(s,o,u,d){kn(s)?s.removeChild(o,u,d):o.removeChild(u)}(s,d,o,u)}(o,w,v):3===s&&o.destroyNode(w),null!=m&&function RD(s,o,u,d,h){const m=u[7];m!==wn(u)&&Ga(o,s,d,m,h);for(let w=10;w<u.length;w++){const C=u[w];Gg(C[1],C,s,o,d,m)}}(o,s,m,u,h)}}function Ch(s,o,u){if(kn(s))return s.createElement(o,u);{const d=null!==u?function ru(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function TD(s,o){const u=s[9],d=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Do(h,-1)),u.splice(d,1)}function Xv(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&TD(h,d),o>0&&(s[u-1][4]=d[4]);const m=$s(s,10+o);!function Vi(s,o){Gg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function e0(s,o){if(!(256&o[2])){const u=o[11];kn(u)&&u.destroyNode&&Gg(s,o,u,3,null,null),function jg(s){let o=s[13];if(!o)return t0(s[1],s);for(;o;){let u=null;if(gi(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)gi(o)&&t0(o[1],o),o=o[3];null===o&&(o=s),gi(o)&&t0(o[1],o),u=o&&o[4]}o=u}}(o)}}function t0(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function ID(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Fa)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],C=m[v+1];try{C.call(w)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function SD(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],w="function"==typeof v?v(o):wn(o[v]),C=d[h=u[m+2]],M=u[m+3];"boolean"==typeof M?w.removeEventListener(u[m],C,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),m+=2}else{const v=d[h=u[m+1]];u[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(s,o),1===o[1].type&&kn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&ti(o[3])){u!==o[3]&&TD(u,o);const d=o[19];null!==d&&d.detachView(s)}}}function Yg(s,o,u){return function mS(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Kt.None||h===Kt.Emulated)return null}return Zr(d,u)}(s,o.parent,u)}function zs(s,o,u,d,h){kn(s)?s.insertBefore(o,u,d,h):o.insertBefore(u,d,h)}function n0(s,o,u){kn(s)?s.appendChild(o,u):o.appendChild(u)}function MD(s,o,u,d,h){null!==d?zs(s,o,u,d,h):n0(s,o,u)}function qn(s,o){return kn(s)?s.parentNode(o):o.parentNode}function AD(s,o,u){return r0(s,o,u)}let r0=function kD(s,o,u){return 40&s.type?Zr(s,u):null};function $g(s,o,u,d){const h=Yg(s,d,o),m=o[11],w=AD(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)MD(m,h,u[C],w,!1);else MD(m,h,u,w,!1)}function Th(s,o){if(null!==o){const u=o.type;if(3&u)return Zr(o,s);if(4&u)return o0(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Th(s,d);{const h=s[o.index];return ti(h)?o0(-1,h):wn(h)}}if(32&u)return Xe(o,s)()||wn(s[o.index]);{const d=OD(s,o);return null!==d?Array.isArray(d)?d[0]:Th(Zn(s[16]),d):Th(s,o.next)}}return null}function OD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function o0(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return Th(d,h)}return o[7]}function l0(s,o,u,d,h,m,v){for(;null!=u;){const w=d[u.index],C=u.type;if(v&&0===o&&(w&&ii(wn(w),d),u.flags|=4),64!=(64&u.flags))if(8&C)l0(s,o,u.child,d,h,m,!1),Ga(o,s,h,w,m);else if(32&C){const M=Xe(u,d);let k;for(;k=M();)Ga(o,s,h,k,m);Ga(o,s,h,w,m)}else 16&C?LD(s,o,d,u,h,m):Ga(o,s,h,w,m);u=v?u.projectionNext:u.next}}function Gg(s,o,u,d,h,m){l0(u,d,s.firstChild,o,h,m,!1)}function LD(s,o,u,d,h,m){const v=u[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Ga(o,s,h,C[M],m);else l0(s,o,C,v[3],h,m,!0)}function bs(s,o,u){kn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function u0(s,o,u){kn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function c0(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}u=h+1}}const ND="ng-template";function yS(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==c0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ks(s){return 4===s.type&&s.value!==ND}function xu(s,o,u){return o===(4!==s.type||u?s.value:ND)}function PD(s,o,u){let d=4;const h=s.attrs||[],m=function VD(s){for(let o=0;o<s.length;o++)if(Vn(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!xu(s,C,u)||""===C&&1===o.length){if(Nn(d))return!1;v=!0}}else{const M=8&d?C:o[++w];if(8&d&&null!==s.attrs){if(!yS(s.attrs,M,u)){if(Nn(d))return!1;v=!0}continue}const P=Ou(8&d?"class":C,h,Ks(s),u);if(-1===P){if(Nn(d))return!1;v=!0;continue}if(""!==M){let U;U=P>m?"":h[P+1].toLowerCase();const q=8&d?U:null;if(q&&-1!==c0(q,M,0)||2&d&&M!==U){if(Nn(d))return!1;v=!0}}}}else{if(!v&&!Nn(d)&&!Nn(C))return!1;if(v&&Nn(C))continue;v=!1,d=C|1&d}}return Nn(d)||v}function Nn(s){return 0==(1&s)}function Ou(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function BD(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function FD(s,o,u=!1){for(let d=0;d<o.length;d++)if(PD(s,o[d],u))return!0;return!1}function UD(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function d0(s,o){return s?":not("+o.trim()+")":o}function HD(s){let o=s[0],u=1,d=2,h="",m=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const w=s[++u];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Nn(v)&&(o+=d0(m,h),h=""),d=v,m=m||!Nn(d);u++}return""!==h&&(o+=d0(m,h)),o}const Nt={};function Dp(s){h0(Ht(),Ee(),Wr()+s,cu())}function h0(s,o,u,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Dl(o,m,u)}else{const m=s.preOrderHooks;null!==m&&pu(o,m,0,u)}So(u)}function Cp(s,o){return s<<17|o<<2}function Vo(s){return s>>17&32767}function qg(s){return 2|s}function ma(s){return(131068&s)>>2}function Wg(s,o){return-131069&s|o<<2}function Kg(s){return 1|s}function eC(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],m=u[d+1];if(-1!==m){const v=s.data[m];Cc(h),v.contentQueries(2,o[m],m)}}}function Jc(s,o,u,d,h,m,v,w,C,M){const k=o.blueprint.slice();return k[0]=h,k[2]=140|d,wo(k),k[3]=k[15]=s,k[8]=u,k[10]=v||s&&s[10],k[11]=w||s&&s[11],k[12]=C||s&&s[12]||null,k[9]=M||s&&s[9]||null,k[6]=m,k[16]=2==o.type?s[16]:k,k}function Ih(s,o,u,d,h){let m=s.data[o];if(null===m)m=function n_(s,o,u,d,h){const m=Ra(),v=_c(),C=s.data[o]=function b0(s,o,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,u,d,h),function bc(){return ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const v=function Na(){const s=ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return bi(m,!0),m}function Lu(s,o,u,d){if(0===u)return-1;const h=o.length;for(let m=0;m<u;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Qc(s,o,u){na(o);try{const d=s.viewQuery;null!==d&&u_(1,d,u);const h=s.template;null!==h&&Mh(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&eC(s,o),s.staticViewQueries&&u_(2,s.viewQuery,u);const m=s.components;null!==m&&function _O(s,o){for(let u=0;u<o.length;u++)IS(s,o[u])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ia()}}function Ip(s,o,u,d){const h=o[2];if(256==(256&h))return;na(o);const m=cu();try{wo(o),function du(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Mh(s,o,u,2,d);const v=3==(3&h);if(!m)if(v){const M=s.preOrderCheckHooks;null!==M&&Dl(o,M,null)}else{const M=s.preOrderHooks;null!==M&&pu(o,M,0,null),ar(o,0)}if(function C0(s){for(let o=Au(s);null!==o;o=ku(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],m=h[3];0==(1024&h[2])&&Do(m,1),h[2]|=1024}}}(o),function yC(s){for(let o=Au(s);null!==o;o=ku(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];Vs(d)&&Ip(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&eC(s,o),!m)if(v){const M=s.contentCheckHooks;null!==M&&Dl(o,M)}else{const M=s.contentHooks;null!==M&&pu(o,M,1),ar(o,1)}!function gO(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)So(~h);else{const m=h,v=u[++d],w=u[++d];fu(v,m),w(2,o[m])}}}finally{So(-1)}}(s,o);const w=s.components;null!==w&&function tC(s,o){for(let u=0;u<o.length;u++)SS(s,o[u])}(o,w);const C=s.viewQuery;if(null!==C&&u_(2,C,d),!m)if(v){const M=s.viewCheckHooks;null!==M&&Dl(o,M)}else{const M=s.viewHooks;null!==M&&pu(o,M,2),ar(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Do(o[3],-1))}finally{ia()}}function y0(s,o,u,d){const h=o[10],m=!cu(),v=bo(o);try{m&&!v&&h.begin&&h.begin(),v&&Qc(s,o,d),Ip(s,o,u,d)}finally{m&&!v&&h.end&&h.end()}}function Mh(s,o,u,d,h){const m=Wr(),v=2&d;try{So(-1),v&&o.length>20&&h0(s,o,20,cu()),u(d,h)}finally{So(m)}}function Mp(s,o,u){if(Pd(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function Ru(s,o,u){!uu()||(function bO(s,o,u,d){const h=u.directiveStart,m=u.directiveEnd;s.firstCreatePass||$n(u,o),ii(d,o);const v=u.initialInputs;for(let w=h;w<m;w++){const C=s.data[w],M=_i(C);M&&pC(o,u,C);const k=ts(o,s,w,u);ii(k,o),null!==v&&gC(0,w-h,k,C,0,v),M&&(qr(u.index,o)[8]=k)}}(s,o,u,Zr(u,o)),128==(128&u.flags)&&function wO(s,o,u){const d=u.directiveStart,h=u.directiveEnd,v=u.index,w=function wc(){return ft.lFrame.currentDirectiveIndex}();try{So(v);for(let C=d;C<h;C++){const M=s.data[C],k=o[C];wl(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&lC(M,k)}}finally{So(-1),wl(w)}}(s,o,u))}function Xc(s,o,u=Zr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?u(o,s):s[v];s[h++]=w}}}function nC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ah(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ah(s,o,u,d,h,m,v,w,C,M){const k=20+d,P=k+h,U=function rC(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Nt);return u}(k,P),q="function"==typeof M?M():M;return U[1]={type:s,blueprint:U,template:u,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function v0(s,o,u,d){const h=bC(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&wC(s).push(d,h.length-1))}function iC(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function Cs(s,o,u,d,h,m,v,w){const C=Zr(o,u);let k,M=o.inputs;!w&&null!=M&&(k=M[d])?(kS(s,u,k,d,h),mo(o)&&function w0(s,o){const u=qr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(d=function oC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,kn(m)?m.setProperty(C,d,h):lr(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function s_(s,o,u,d){let h=!1;if(uu()){const m=function uC(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];FD(u,v.selectors,!1)&&(h||(h=[]),Io($n(u,o),s,v.type),_i(v)?(cC(s,u),h.unshift(v)):h.push(v))}return h}(s,o,u),v=null===d?null:{"":-1};if(null!==m){h=!0,ya(u,s.data.length,m.length);for(let k=0;k<m.length;k++){const P=m[k];P.providersResolver&&P.providersResolver(P)}let w=!1,C=!1,M=Lu(s,o,m.length,null);for(let k=0;k<m.length;k++){const P=m[k];u.mergedAttrs=Tr(u.mergedAttrs,P.hostAttrs),fC(s,u,o,M,P),hC(M,P,v),null!==P.contentQueries&&(u.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=128);const U=P.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),M++}!function sC(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let w=null,C=null;for(let M=o.directiveStart;M<d;M++){const k=h[M],P=k.inputs,U=null===m||Ks(o)?null:ES(P,m);v.push(U),w=iC(P,M,w),C=iC(k.outputs,M,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=C}(s,u)}v&&function dC(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=u[o[h+1]];if(null==m)throw new Le(-301,!1);d.push(o[h],m)}}}(u,d,v)}return u.mergedAttrs=Tr(u.mergedAttrs,u.attrs),h}function CS(s,o,u,d,h,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function vO(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=C&&w.push(C),w.push(d,h,v)}}function lC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function cC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function hC(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;_i(o)&&(u[""]=s)}}function ya(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function fC(s,o,u,d,h){s.data[d]=h;const m=h.factory||(h.factory=yi(h.type)),v=new Fa(m,_i(h),null);s.blueprint[d]=v,u[d]=v,CS(s,o,0,d,Lu(s,u,h.hostVars,Nt),h)}function pC(s,o,u){const d=Zr(o,s),h=nC(u),m=s[10],v=a_(s,Jc(s,h,null,u.onPush?64:16,d,o,m,m.createRenderer(d,u),null,null));s[o.index]=v}function Wa(s,o,u,d,h,m){const v=Zr(s,o);!function mC(s,o,u,d,h,m,v){if(null==m)kn(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const w=null==v?fe(m):v(m,d||"",h);kn(s)?s.setAttribute(o,h,w,u):u?o.setAttributeNS(u,h,w):o.setAttribute(h,w)}}(o[11],v,m,s.value,u,d,h)}function gC(s,o,u,d,h,m){const v=m[o];if(null!==v){const w=d.setInput;for(let C=0;C<v.length;){const M=v[C++],k=v[C++],P=v[C++];null!==w?d.setInput(u,P,M,k):u[k]=P}}}function ES(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function _C(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function SS(s,o){const u=qr(o,s);if(Vs(u)){const d=u[1];80&u[2]?Ip(d,u,d.template,u[8]):u[5]>0&&o_(u)}}function o_(s){for(let d=Au(s);null!==d;d=ku(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];Ip(v,m,v.template,m[8])}else m[5]>0&&o_(m)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=qr(u[d],s);Vs(h)&&h[5]>0&&o_(h)}}function IS(s,o){const u=qr(o,s),d=u[1];(function Uo(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Qc(d,u,u[8])}function a_(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function kp(s){for(;s;){s[2]|=64;const o=Zn(s);if(Hf(s)&&!o)return s;s=o}return null}function l_(s,o,u){const d=o[10];d.begin&&d.begin();try{Ip(s,o,s.template,u)}catch(h){throw DC(o,h),h}finally{d.end&&d.end()}}function vC(s){!function xp(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],d=dp(u),h=d[1];y0(h,d,h.template,u)}}(s[8])}function u_(s,o,u){Cc(0),o(s,u)}const E0=(()=>Promise.resolve(null))();function bC(s){return s[7]||(s[7]=[])}function wC(s){return s.cleanup||(s.cleanup=[])}function DC(s,o){const u=s[9],d=u?u.get(Kr,null):null;d&&d.handleError(o)}function kS(s,o,u,d,h){for(let m=0;m<u.length;){const v=u[m++],w=u[m++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,d,w):C[w]=h}}function ba(s,o,u){const d=ta(o,s);!function Dh(s,o,u){kn(s)?s.setValue(o,u):o.textContent=u}(s[11],d,u)}function c_(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?h=ne(h,w):2==m&&(d=ne(d,w+": "+o[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}const Nl=new Gn("INJECTOR",-1);class EC{get(o,u=x){if(u===x){const d=new Error(`NullInjectorError: No provider for ${ie(o)}!`);throw d.name="NullInjectorError",d}return u}}const d_=new Gn("Set Injector scope."),Op={},TC={};let S0;function SC(){return void 0===S0&&(S0=new EC),S0}function h_(s,o=null,u=null,d){const h=I0(s,o,u,d);return h._resolveInjectorDefTypes(),h}function I0(s,o=null,u=null,d){return new LS(s,u,o||SC(),d)}class LS{constructor(o,u,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&ni(u,w=>this.processProvider(w,o,u)),ni([o],w=>this.processInjectorType(w,[],m)),this.records.set(Nl,ed(void 0,this));const v=this.records.get(d_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ie(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=x,d=ct.Default){this.assertNotDestroyed();const h=Ct(this),m=mr(void 0);try{if(!(d&ct.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function za(s){return"function"==typeof s||"object"==typeof s&&s instanceof Gn}(o)&&zt(o);w=C&&this.injectableDefInScope(C)?ed(f_(o),Op):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&ct.Self?SC():this.parent).get(o,u=d&ct.Optional&&u===x?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[W]=v[W]||[]).unshift(ie(o)),h)throw v;return function vu(s,o,u,d){const h=s[W];throw o[At]&&h.unshift(o[At]),s.message=function Nc(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ie(o);if(Array.isArray(o))h=o.map(ie).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ie(w)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(ke,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[W]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{mr(m),Ct(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ie(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(o,u,d){if(!(o=Q(o)))return!1;let h=Xr(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,w=-1!==d.indexOf(v);if(void 0!==m&&(h=Xr(m)),null==h)return!1;if(null!=h.imports&&!w){let k;d.push(v);try{ni(h.imports,P=>{this.processInjectorType(P,u,d)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:U,providers:q}=k[P];ni(q,ve=>this.processProvider(ve,U,q||dt))}}this.injectorDefTypes.add(v);const C=yi(v)||(()=>new v);this.records.set(v,ed(C,Op));const M=h.providers;if(null!=M&&!w){const k=o;ni(M,P=>this.processProvider(P,k,M))}return void 0!==m&&void 0!==o.providers}processProvider(o,u,d){let h=Lp(o=Q(o))?o:Q(o&&o.provide);const m=function IC(s,o,u){return AC(s)?ed(void 0,s.useValue):ed(MC(s),Op)}(o);if(Lp(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ed(void 0,Op,!0),v.factory=()=>ca(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,u){return u.value===Op&&(u.value=TC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function TO(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Q(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function f_(s){const o=zt(s),u=null!==o?o.factory:yi(s);if(null!==u)return u;if(s instanceof Gn)throw new Le(204,!1);if(s instanceof Function)return function RS(s){const o=s.length;if(o>0)throw is(o,"?"),new Le(204,!1);const u=function Mi(s){const o=s&&(s[ds]||s[xs]);if(o){const u=function uo(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Le(204,!1)}function MC(s,o,u){let d;if(Lp(s)){const h=Q(s);return yi(h)||f_(h)}if(AC(s))d=()=>Q(s.useValue);else if(function CO(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...ca(s.deps||[]));else if(function kC(s){return!(!s||!s.useExisting)}(s))d=()=>jt(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function NS(s){return!!s.deps}(s))return yi(h)||f_(h);d=()=>new h(...ca(s.deps))}return d}function ed(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function AC(s){return null!==s&&"object"==typeof s&&St in s}function Lp(s){return"function"==typeof s}let Ka=(()=>{class s{static create(u,d){var h;if(Array.isArray(u))return h_({name:""},d,u,"");{const m=null!==(h=u.name)&&void 0!==h?h:"";return h_({name:m},u.parent,u.providers,m)}}}return s.THROW_IF_NOT_FOUND=x,s.NULL=new EC,s.\u0275prov=yn({token:s,providedIn:"any",factory:()=>jt(Nl)}),s.__NG_ELEMENT_ID__=-1,s})();function g_(s,o){Bs(dp(s)[1],Rn())}function PC(s){let o=function __(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(_i(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,"");h=o.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=y_(s.inputs),v.declaredInputs=y_(s.declaredInputs),v.outputs=y_(s.outputs);const w=h.hostBindings;w&&WS(s,w);const C=h.viewQuery,M=h.contentQueries;if(C&&qS(s,C),M&&kh(s,M),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),_i(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===PC&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Pl(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Tr(h.hostAttrs,u=Tr(u,h.hostAttrs))}}(d)}function y_(s){return s===Or?{}:s===dt?[]:s}function qS(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function kh(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,m)=>{o(d,h,m),u(d,h,m)}:o}function WS(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Rp=null;function xh(){if(!Rp){const s=Zt.Symbol;if(s&&s.iterator)Rp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Rp=d)}}}return Rp}function Np(s){return!!VC(s)&&(Array.isArray(s)||!(s instanceof Map)&&xh()in s)}function VC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function wa(s,o,u){return s[o]=u}function Hi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function td(s,o,u,d){const h=Hi(s,o,u);return Hi(s,o+1,d)||h}function k0(s,o,u,d){const h=Ee();return Hi(h,Eo(),o)&&(Ht(),Wa(Yn(),h,s,o,u,d)),k0}function nd(s,o,u,d){return Hi(s,Eo(),u)?o+fe(u)+d:Nt}function rd(s,o,u,d,h,m){const w=td(s,function Oi(){return ft.lFrame.bindingIndex}(),u,h);return Xi(2),w?o+fe(u)+d+fe(h)+m:Nt}function $C(s,o,u,d,h,m,v,w){const C=Ee(),M=Ht(),k=s+20,P=M.firstCreatePass?function JS(s,o,u,d,h,m,v,w,C){const M=o.consts,k=Ih(o,s,4,v||null,vi(M,w));s_(o,u,k,vi(M,C)),Bs(o,k);const P=k.tViews=Ah(2,k,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,M,C,o,u,d,h,m,v):M.data[k];bi(P,!1);const U=C[11].createComment("");$g(M,C,U,P),ii(U,C),a_(C,C[k]=_C(U,C,U,P)),Jl(P)&&Ru(M,C,P),null!=v&&Xc(C,P,w)}function GC(s){return Qi(function vc(){return ft.lFrame.contextLView}(),20+s)}function Yh(s,o=ct.Default){const u=Ee();return null===u?jt(s,o):Mo(Rn(),u,Q(s),o)}function JC(){throw new Error("invalid")}function U0(s,o,u){const d=Ee();return Hi(d,Eo(),o)&&Cs(Ht(),Yn(),d,s,o,d[11],u,!1),U0}function H0(s,o,u,d,h){const v=h?"class":"style";kS(s,u,o.inputs[v],v,d)}function I_(s,o,u,d){const h=Ee(),m=Ht(),v=20+s,w=h[11],C=h[v]=Ch(w,o,function Tv(){return ft.lFrame.currentNamespace}()),M=m.firstCreatePass?function dI(s,o,u,d,h,m,v){const w=o.consts,M=Ih(o,s,2,h,vi(w,m));return s_(o,u,M,vi(w,v)),null!==M.attrs&&c_(M,M.attrs,!1),null!==M.mergedAttrs&&c_(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,u,d):m.data[v];bi(M,!0);const k=M.mergedAttrs;null!==k&&pt(w,C,k);const P=M.classes;null!==P&&u0(w,C,P);const U=M.styles;return null!==U&&bs(w,C,U),64!=(64&M.flags)&&$g(m,h,C,M),0===function bl(){return ft.lFrame.elementDepthCount}()&&ii(C,h),function au(){ft.lFrame.elementDepthCount++}(),Jl(M)&&(Ru(m,h,M),Mp(m,M,h)),null!==d&&Xc(h,M),I_}function M_(){let s=Rn();_c()?yc():(s=s.parent,bi(s,!1));const o=s;!function lu(){ft.lFrame.elementDepthCount--}();const u=Ht();return u.firstCreatePass&&(Bs(u,s),Pd(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $f(s){return 0!=(16&s.flags)}(o)&&H0(u,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function wg(s){return 0!=(32&s.flags)}(o)&&H0(u,o,Ee(),o.stylesWithoutHost,!1),M_}function j0(s,o,u,d){return I_(s,o,u,d),M_(),j0}function od(s,o,u){const d=Ee(),h=Ht(),m=s+20,v=h.firstCreatePass?function Fl(s,o,u,d,h){const m=o.consts,v=vi(m,d),w=Ih(o,s,8,"ng-container",v);return null!==v&&c_(w,v,!0),s_(o,u,w,vi(m,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(m,h,d,o,u):h.data[m];bi(v,!0);const w=d[m]=d[11].createComment("");return $g(h,d,w,v),ii(w,d),Jl(v)&&(Ru(h,d,v),Mp(h,v,d)),null!=u&&Xc(d,v),od}function Y0(){let s=Rn();const o=Ht();return _c()?yc():(s=s.parent,bi(s,!1)),o.firstCreatePass&&(Bs(o,s),Pd(s)&&o.queries.elementEnd(s)),Y0}function QC(){return Ee()}function Yo(s){return!!s&&"function"==typeof s.then}function XC(s){return!!s&&"function"==typeof s.subscribe}const A_=XC;function eE(s,o,u,d){const h=Ee(),m=Ht(),v=Rn();return function tE(s,o,u,d,h,m,v,w){const C=Jl(d),k=s.firstCreatePass&&wC(s),P=o[8],U=bC(o);let q=!0;if(3&d.type||w){const He=Zr(d,o),nt=w?w(He):He,Te=U.length,gt=w?Xt=>w(wn(Xt[d.index])):d.index;if(kn(u)){let Xt=null;if(!w&&C&&(Xt=function k_(s,o,u,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===u&&h[m+1]===d){const w=o[7],C=h[m+2];return w.length>C?w[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=m,Xt.__ngLastListenerFn__=m,q=!1;else{m=nE(d,o,P,m,!1);const An=u.listen(nt,h,m);U.push(m,An),k&&k.push(h,gt,Te,Te+1)}}else m=nE(d,o,P,m,!0),nt.addEventListener(h,m,v),U.push(m),k&&k.push(h,gt,Te,v)}else m=nE(d,o,P,m,!1);const ve=d.outputs;let Ne;if(q&&null!==ve&&(Ne=ve[h])){const He=Ne.length;if(He)for(let nt=0;nt<He;nt+=2){const no=o[Ne[nt]][Ne[nt+1]].subscribe(m),Cd=U.length;U.push(m,no),k&&k.push(h,d.index,Cd,-(Cd+1))}}}(m,h,h[11],v,s,o,!!u,d),eE}function ls(s,o,u,d){try{return!1!==u(d)}catch(h){return DC(s,h),!1}}function nE(s,o,u,d,h){return function m(v){if(v===Function)return d;const w=2&s.flags?qr(s.index,o):o;0==(32&o[2])&&kp(w);let C=ls(o,0,d,v),M=m.__ngNextListenerFn__;for(;M;)C=ls(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Up(s=1){return function To(s){return(ft.lFrame.contextLView=function Tc(s,o){for(;s>0;)o=o[15],s--;return o}(s,ft.lFrame.contextLView))[8]}(s)}function G0(s,o){let u=null;const d=function ws(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?FD(s,m,!0):UD(d,m))return h}else u=h}return u}function rE(s){const o=Ee()[16][6];if(!o.projection){const d=o.projection=is(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?G0(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function iE(s,o=0,u){const d=Ee(),h=Ht(),m=Ih(h,20+s,16,null,u||null);null===m.projection&&(m.projection=o),yc(),64!=(64&m.flags)&&function Zg(s,o,u){LD(o[11],0,o,u,Yg(s,u,o),AD(u.parent||o[6],u,o))}(h,d,m)}function sE(s,o,u){return oE(s,"",o,"",u),sE}function oE(s,o,u,d,h){const m=Ee(),v=nd(m,o,u,d);return v!==Nt&&Cs(Ht(),Yn(),m,s,v,m[11],h,!1),oE}function hE(s,o,u,d,h){const m=s[u+1],v=null===o;let w=d?Vo(m):ma(m),C=!1;for(;0!==w&&(!1===C||v);){const k=s[w+1];gI(s[w],o)&&(C=!0,s[w+1]=d?Kg(k):qg(k)),w=d?Vo(k):ma(k)}C&&(s[u+1]=d?qg(m):Kg(m))}function gI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Lo(s,o)>=0}const Jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oi(s){return s.substring(Jr.key,Jr.keyEnd)}function fE(s,o){const u=Jr.textEnd;return u===o?-1:(o=Jr.keyEnd=function ad(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Jr.key=o,u),ye(s,o,u))}function ye(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function et(s,o,u){return Ca(s,o,u,!1),et}function Hp(s,o){return Ca(s,o,null,!0),Hp}function N_(s){!function Qs(s,o,u,d){const h=Ht(),m=Xi(2);h.firstUpdatePass&&_E(h,null,m,d);const v=Ee();if(u!==Nt&&Hi(v,m,u)){const w=h.data[Wr()];if(z0(w,d)&&!gE(h,m)){let C=d?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(u=ne(C,u||"")),H0(h,w,v,u,d)}else!function yE(s,o,u,d,h,m,v,w){h===Nt&&(h=dt);let C=0,M=0,k=0<h.length?h[0]:null,P=0<m.length?m[0]:null;for(;null!==k||null!==P;){const U=C<h.length?h[C+1]:void 0,q=M<m.length?m[M+1]:void 0;let Ne,ve=null;k===P?(C+=2,M+=2,U!==q&&(ve=P,Ne=q)):null===P||null!==k&&k<P?(C+=2,ve=k):(M+=2,ve=P,Ne=q),null!==ve&&vE(s,o,u,d,ve,Ne,v,w),k=C<h.length?h[C]:null,P=M<m.length?m[M]:null}}(h,w,v,v[11],v[m+1],v[m+1]=function vI(s,o,u){if(null==u||""===u)return dt;const d=[],h=Po(u);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,m)}}(tr,Es,s,!0)}function Es(s,o){for(let u=function O_(s){return function pE(s){Jr.key=0,Jr.keyEnd=0,Jr.value=0,Jr.valueEnd=0,Jr.textEnd=s.length}(s),fE(s,ye(s,0,Jr.textEnd))}(o);u>=0;u=fE(o,u))tr(s,oi(o),!0)}function Ca(s,o,u,d){const h=Ee(),m=Ht(),v=Xi(2);m.firstUpdatePass&&_E(m,s,v,d),o!==Nt&&Hi(h,v,o)&&vE(m,m.data[Wr()],h,h[11],s,h[v+1]=function F_(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ie(Po(s)))),s}(o,u),d,v)}function gE(s,o){return o>=s.expandoStartIndex}function _E(s,o,u,d){const h=s.data;if(null===h[u+1]){const m=h[Wr()],v=gE(s,u);z0(m,d)&&null===o&&!v&&(o=!1),o=function yI(s,o,u,d){const h=function Pa(s){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=jp(u=Qa(null,s,o,u,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=Qa(h,s,o,u,d),null===m){let C=function Di(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==ma(d))return s[Vo(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=Qa(null,s,o,C[1],d),C=jp(C,o.attrs,d),function P_(s,o,u,d){s[Vo(u?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else m=function Ci(s,o,u){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=jp(d,s[m].hostAttrs,u);return jp(d,o.attrs,u)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),u}(h,m,o,d),function pI(s,o,u,d,h,m){let v=m?o.classBindings:o.styleBindings,w=Vo(v),C=ma(v);s[d]=u;let k,M=!1;if(Array.isArray(u)){const P=u;k=P[1],(null===k||Lo(P,k)>0)&&(M=!0)}else k=u;if(h)if(0!==C){const U=Vo(s[w+1]);s[d+1]=Cp(U,w),0!==U&&(s[U+1]=Wg(s[U+1],d)),s[w+1]=function GD(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Cp(w,0),0!==w&&(s[w+1]=Wg(s[w+1],d)),w=d;else s[d+1]=Cp(C,0),0===w?w=d:s[C+1]=Wg(s[C+1],d),C=d;M&&(s[d+1]=qg(s[d+1])),hE(s,k,d,!0),hE(s,k,d,!1),function mI(s,o,u,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Lo(m,o)>=0&&(u[d+1]=Kg(u[d+1]))}(o,k,s,d,m),v=Cp(w,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,u,v,d)}}function Qa(s,o,u,d,h){let m=null;const v=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<v&&(m=o[w],d=jp(d,m.hostAttrs,h),m!==s);)w++;return null!==s&&(u.directiveStylingLast=w),d}function jp(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),tr(s,v,!!u||o[++m]))}return void 0===s?null:s}function vE(s,o,u,d,h,m,v,w){if(!(3&o.type))return;const C=s.data,M=C[w+1];Gh(function zg(s){return 1==(1&s)}(M)?W0(C,o,u,h,ma(M),v):void 0)||(Gh(m)||function $D(s){return 2==(2&s)}(M)&&(m=W0(C,null,u,h,w,v)),function zc(s,o,u,d,h){const m=kn(s);if(o)h?m?s.addClass(u,d):u.classList.add(d):m?s.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ue.DashCase;if(null==h)m?s.removeStyle(u,d,v):u.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=ue.Important),m?s.setStyle(u,d,h,v):u.style.setProperty(d,h,w?"important":"")}}}(d,v,ta(Wr(),u),h,m))}function W0(s,o,u,d,h,m){const v=null===o;let w;for(;h>0;){const C=s[h],M=Array.isArray(C),k=M?C[1]:C,P=null===k;let U=u[h+1];U===Nt&&(U=P?dt:void 0);let q=P?_u(U,d):k===d?U:void 0;if(M&&!Gh(q)&&(q=_u(C,d)),Gh(q)&&(w=q,v))return w;const ve=s[h+1];h=v?Vo(ve):ma(ve)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(w=_u(C,d))}return w}function Gh(s){return void 0!==s}function z0(s,o){return 0!=(s.flags&(o?16:32))}function ji(s,o=""){const u=Ee(),d=Ht(),h=s+20,m=d.firstCreatePass?Ih(d,h,1,o,null):d.data[h],v=u[h]=function wh(s,o){return kn(s)?s.createText(o):s.createTextNode(o)}(u[11],o);$g(d,u,v,m),bi(m,!1)}function Yp(s){return ai("",s,""),Yp}function ai(s,o,u){const d=Ee(),h=nd(d,s,o,u);return h!==Nt&&ba(d,Wr(),h),ai}function V_(s,o,u,d,h){const m=Ee(),v=rd(m,s,o,u,d,h);return v!==Nt&&ba(m,Wr(),v),V_}const Pu=void 0;var SI=["en",[["a","p"],["AM","PM"],Pu],[["AM","PM"],Pu,Pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pu,"{1} 'at' {0}",Pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ME(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let ld={};function Zp(s){const o=function li(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Z_(o);if(u)return u;const d=o.split("-")[0];if(u=Z_(d),u)return u;if("en"===d)return SI;throw new Error(`Missing locale data for the locale "${s}".`)}function AE(s){return Zp(s)[bt.PluralCase]}function Z_(s){return s in ld||(ld[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),ld[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const zh="en-US";let z_=zh;function oy(s,o,u,d,h){if(s=Q(s),Array.isArray(s))for(let m=0;m<s.length;m++)oy(s[m],o,u,d,h);else{const m=Ht(),v=Ee();let w=Lp(s)?s:Q(s.provide),C=MC(s);const M=Rn(),k=1048575&M.providerIndexes,P=M.directiveStart,U=M.providerIndexes>>20;if(Lp(s)||!s.multi){const q=new Fa(C,h,Yh),ve=Bu(w,o,h?k:k+U,P);-1===ve?(Io($n(M,v),m,w),ay(m,s,o.length),o.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),u.push(q),v.push(q)):(u[ve]=q,v[ve]=q)}else{const q=Bu(w,o,k+U,P),ve=Bu(w,o,k,k+U),Ne=q>=0&&u[q],He=ve>=0&&u[ve];if(h&&!He||!h&&!Ne){Io($n(M,v),m,w);const nt=function $I(s,o,u,d,h){const m=new Fa(s,u,Yh);return m.multi=[],m.index=o,m.componentProviders=0,vb(m,h,d&&!u),m}(h?YI:jI,u.length,h,d,C);!h&&He&&(u[ve].providerFactory=nt),ay(m,s,o.length,0),o.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),u.push(nt),v.push(nt)}else ay(m,s,q>-1?q:ve,vb(u[h?ve:q],C,!h&&d));!h&&d&&He&&u[ve].componentProviders++}}}function ay(s,o,u,d){const h=Lp(o),m=function EO(s){return!!s.useClass}(o);if(h||m){const C=(m?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(u);-1===k?M.push(u,[d,C]):M[k+1].push(d,C)}else M.push(u,C)}}}function vb(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Bu(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function jI(s,o,u,d){return ly(this.multi,[])}function YI(s,o,u,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ts(u,u[1],this.providerFactory.index,d);m=w.slice(0,v),ly(h,m);for(let C=v;C<w.length;C++)m.push(w[C])}else m=[],ly(h,m);return m}function ly(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function bb(s,o=[]){return u=>{u.providersResolver=(d,h)=>function Vu(s,o,u){const d=Ht();if(d.firstCreatePass){const h=_i(s);oy(u,d.data,d.blueprint,h,!0),oy(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class uy{}class Cb{resolveComponentFactory(o){throw function wb(s){const o=Error(`No component factory found for ${ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let cy=(()=>{class s{}return s.NULL=new Cb,s})();function ZI(){return rf(Rn(),Ee())}function rf(s,o){return new Uu(Zr(s,o))}let Uu=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=ZI,s})();function um(s){return s instanceof Uu?s.nativeElement:s}class dy{}let qE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function dm(){const s=Ee(),u=qr(Rn().index,s);return function cm(s){return s[11]}(gi(u)?u:s)}(),s})(),qI=(()=>{class s{}return s.\u0275prov=yn({token:s,providedIn:"root",factory:()=>null}),s})();class Ir{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Tb=new Ir("13.2.7"),Sb={};function hy(s,o,u,d,h=!1){for(;null!==u;){const m=o[u.index];if(null!==m&&d.push(wn(m)),ti(m))for(let w=10;w<m.length;w++){const C=m[w],M=C[1].firstChild;null!==M&&hy(C[1],C,M,d)}const v=u.type;if(8&v)hy(s,o,u.child,d);else if(32&v){const w=Xe(u,o);let C;for(;C=w();)d.push(C)}else if(16&v){const w=OD(o,u);if(Array.isArray(w))d.push(...w);else{const C=Zn(o[16]);hy(C[1],C,w,d,!0)}}u=h?u.projectionNext:u.next}return d}class hm{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return hy(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ti(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(Xv(o,d),$s(u,d))}this._attachedToViewContainer=!1}e0(this._lView[1],this._lView)}onDestroy(o){v0(this._lView[1],this._lView,null,o)}markForCheck(){kp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){l_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function va(s,o,u){Co(!0);try{l_(s,o,u)}finally{Co(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hg(s,o){Gg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=o}}class WI extends hm{constructor(o){super(o),this._view=o}detectChanges(){vC(this._view)}checkNoChanges(){!function AS(s){Co(!0);try{vC(s)}finally{Co(!1)}}(this._view)}get context(){return null}}class Ib extends cy{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Jt(o);return new py(u,this.ngModule)}}function Mb(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class py extends uy{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function jD(s){return s.map(HD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Mb(this.componentDef.inputs)}get outputs(){return Mb(this.componentDef.outputs)}create(o,u,d,h){const m=(h=h||this.ngModule)?function fy(s,o){return{get:(u,d,h)=>{const m=s.get(u,Sb,h);return m!==Sb||d===Sb?m:o.get(u,d,h)}}}(o,h.injector):o,v=m.get(dy,La),w=m.get(qI,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=d?function Ap(s,o,u){if(kn(s))return s.selectRootElement(o,u===Kt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(C,d,this.componentDef.encapsulation):Ch(v.createRenderer(null,this.componentDef),M,function WE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),P=this.componentDef.onPush?576:528,U=function ZS(s,o){return{components:[],scheduler:s||Jv,clean:E0,playerHandler:o||null,flags:0}}(),q=Ah(0,null,null,1,0,null,null,null,null,null),ve=Jc(null,q,U,P,null,null,v,C,w,m);let Ne,He;na(ve);try{const nt=function $S(s,o,u,d,h,m){const v=u[1];u[20]=s;const C=Ih(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(c_(C,M,!0),null!==s&&(pt(h,s,M),null!==C.classes&&u0(h,s,C.classes),null!==C.styles&&bs(h,s,C.styles)));const k=d.createRenderer(s,o),P=Jc(u,nC(o),null,o.onPush?64:16,u[20],C,d,k,m||null,null);return v.firstCreatePass&&(Io($n(C,u),v,o.type),cC(v,C),ya(C,u.length,1)),a_(u,P),u[20]=P}(k,this.componentDef,ve,v,C);if(k)if(d)pt(C,k,["ng-version",Tb.full]);else{const{attrs:Te,classes:gt}=function YD(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&u.push(m);else{if(!Nn(h))break;h=m}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Te&&pt(C,k,Te),gt&&gt.length>0&&u0(C,k,gt.join(" "))}if(He=vl(q,20),void 0!==u){const Te=He.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Xt=u[gt];Te.push(null!=Xt?Array.from(Xt):null)}}Ne=function GS(s,o,u,d,h){const m=u[1],v=function D0(s,o,u){const d=Rn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),fC(s,d,o,Lu(s,o,1,null),u));const h=ts(o,s,d.directiveStart,d);ii(h,o);const m=Zr(d,o);return m&&ii(m,o),h}(m,u,o);if(d.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=Rn();o.contentQueries(1,v,C.directiveStart)}const w=Rn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(So(w.index),CS(u[1],w,0,w.directiveStart,w.directiveEnd,o),lC(o,v)),v}(nt,this.componentDef,ve,U,[g_]),Qc(q,ve,null)}finally{ia()}return new KI(this.componentType,Ne,rf(He,ve),ve,He)}}class KI extends class ZE{}{constructor(o,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new WI(h),this.componentType=o}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Xa{}class kb{}const Hu=new Map;class sf extends Xa{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ib(this);const d=Sn(o);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=I0(o,u,[{provide:Xa,useValue:this},{provide:cy,useValue:this.componentFactoryResolver}],ie(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Ka.THROW_IF_NOT_FOUND,d=ct.Default){return o===Ka||o===Xa||o===Nl?this:this._r3Injector.get(o,u,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class my extends kb{constructor(o){super(),this.moduleType=o,null!==Sn(o)&&function Lb(s){const o=new Set;!function u(d){const h=Sn(d,!0),m=h.id;null!==m&&(function Ob(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${ie(o)} vs ${ie(o.name)}`)}(m,Hu.get(m),d),Hu.set(m,d));const v=g(h.imports);for(const w of v)o.has(w)||(o.add(w),u(w))}(s)}(o)}create(o){return new sf(this.moduleType,o)}}function Nb(s,o,u){const d=Nr()+s,h=Ee();return h[d]===Nt?wa(h,d,u?o.call(u):o()):function Pp(s,o){return s[o]}(h,d)}function gy(s,o,u,d){return Fb(Ee(),Nr(),s,o,u,d)}function of(s,o){const u=s[o];return u===Nt?void 0:u}function Fb(s,o,u,d,h,m){const v=o+u;return Hi(s,v,h)?wa(s,v+1,m?d.call(m,h):d(h)):of(s,v+1)}function fd(s,o){const u=Ht();let d;const h=s+20;u.firstCreatePass?(d=function QI(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=yi(d.type)),v=mr(Yh);try{const w=Li(!1),C=m();return Li(w),function QS(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,Ee(),h,C),C}finally{mr(v)}}function tT(s,o,u){const d=s+20,h=Ee(),m=Qi(h,d);return pm(h,d)?Fb(h,Nr(),o,m.transform,u,m):m.transform(u)}function yy(s,o,u,d){const h=s+20,m=Ee(),v=Qi(m,h);return pm(m,h)?function fm(s,o,u,d,h,m,v){const w=o+u;return td(s,w,h,m)?wa(s,w+2,v?d.call(v,h,m):d(h,m)):of(s,w+2)}(m,Nr(),o,v.transform,u,d,v):v.transform(u,d)}function pm(s,o){return s[1].data[o].pure}function Ub(s){return o=>{setTimeout(s,void 0,o)}}const Ta=class vy extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){var h,m,v;let w=o,C=u||(()=>null),M=d;if(o&&"object"==typeof o){const P=o;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),M=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=Ub(C),w&&(w=Ub(w)),M&&(M=Ub(M)));const k=super.subscribe({next:w,error:C,complete:M});return o instanceof K.w0&&o.add(k),k}};function Ti(){return this._results[xh()]()}class ju{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=xh(),d=ju.prototype;d[u]||(d[u]=Ti)}get changes(){return this._changes||(this._changes=new Ta)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=Sr(o);(this._changesDetected=!function Cl(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $o=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pe,s})();const Hb=$o,tM=class extends Hb{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o){const u=this._declarationTContainer.tViews,d=Jc(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),Qc(u,d,o),new hm(d)}};function Pe(){return cr(Rn(),Ee())}function cr(s,o){return 4&s.type?new tM(o,s,rf(s,o)):null}let Yu=(()=>{class s{}return s.__NG_ELEMENT_ID__=jb,s})();function jb(){return de(Rn(),Ee())}const rt=Yu,Lt=class extends rt{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return rf(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ri(this._hostTNode,this._hostLView);if(eh(o)){const u=es(o,this._hostLView),d=Mn(o);return new rs(u[1].data[d+8],u)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=rT(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){const h=o.createEmbeddedView(u||{});return this.insert(h,d),h}createComponent(o,u,d,h,m){const v=o&&!function la(s){return"function"==typeof s}(o);let w;if(v)w=u;else{const P=u||{};w=P.index,d=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?o:new py(Jt(o)),M=d||this.parentInjector;if(!m&&null==C.ngModule){const U=(v?M:this.parentInjector).get(Xa,null);U&&(m=U)}const k=C.create(M,h,void 0,m);return this.insert(k.hostView,w),k}insert(o,u){const d=o._lView,h=d[1];if(function su(s){return ti(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=d[3],U=new Lt(P,P[6],P[3]);U.detach(U.indexOf(o))}}const m=this._adjustIndex(u),v=this._lContainer;!function Bi(s,o,u,d){const h=10+d,m=u.length;d>0&&(u[h-1][4]=o),d<m-10?(o[4]=u[h],El(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function Eh(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,v,m);const w=o0(m,v),C=d[11],M=qn(C,v[7]);return null!==M&&function wp(s,o,u,d,h,m){d[0]=h,d[6]=o,Gg(s,d,u,1,h,m)}(h,v[6],C,d,M,w),o.attachToViewContainerRef(),El(Ge(v),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=rT(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=Xv(this._lContainer,u);d&&($s(Ge(this._lContainer),u),e0(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=Xv(this._lContainer,u);return d&&null!=$s(Ge(this._lContainer),u)?new hm(d):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function rT(s){return s[8]}function Ge(s){return s[8]||(s[8]=[])}function de(s,o){let u;const d=o[s.index];if(ti(d))u=d;else{let h;if(8&s.type)h=wn(d);else{const m=o[11];h=m.createComment("");const v=Zr(s,o);zs(m,qn(m,v),h,function _S(s,o){return kn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=u=_C(d,o,h,s),a_(o,u)}return new Lt(u,s,o)}class Yb{constructor(o){this.queryList=o,this.matches=null}clone(){return new Yb(this.queryList)}setDirty(){this.queryList.setDirty()}}class $b{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new $b(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==af(o,u).matches&&this.queries[u].setDirty()}}class iT{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Gb{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Gb(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zb{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Zb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,u,sT(u,m)),this.matchTNodeWithReadOption(o,u,Ao(u,o,m,!1,!1))}else d===$o?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ao(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Uu||h===Yu||h===$o&&4&u.type)this.addMatch(u.index,-2);else{const m=Ao(u,o,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function sT(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function NO(s,o,u,d){return-1===u?function rM(s,o){return 11&s.type?rf(s,o):4&s.type?cr(s,o):null}(o,s):-2===u?function Xs(s,o,u){return u===Uu?rf(o,s):u===$o?cr(o,s):u===Yu?de(o,s):void 0}(s,o,d):ts(s,s[1],u,o)}function oT(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=u.matches,w=[];for(let C=0;C<v.length;C+=2){const M=v[C];w.push(M<0?null:NO(o,m[M],v[C+1],u.metadata.read))}h.matches=w}return h.matches}function by(s,o,u,d){const h=s.queries.getByIndex(u),m=h.matches;if(null!==m){const v=oT(s,o,h,u);for(let w=0;w<m.length;w+=2){const C=m[w];if(C>0)d.push(v[w/2]);else{const M=m[w+1],k=o[-C];for(let P=10;P<k.length;P++){const U=k[P];U[17]===U[3]&&by(U[1],U,M,d)}if(null!==k[9]){const P=k[9];for(let U=0;U<P.length;U++){const q=P[U];by(q[1],q,M,d)}}}}}return d}function Wt(s){const o=Ee(),u=Ht(),d=Dc();Cc(d+1);const h=af(u,d);if(s.dirty&&bo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?by(u,o,d,[]):oT(u,o,h,d);s.reset(m,um),s.notifyOnChanges()}return!0}return!1}function pd(s,o,u){const d=Ht();d.firstCreatePass&&($u(d,new iT(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),Wb(d,Ee(),o)}function qb(s,o,u,d){const h=Ht();if(h.firstCreatePass){const m=Rn();$u(h,new iT(o,u,d),m.index),function aT(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}Wb(h,Ee(),u)}function vr(){return function kt(s,o){return s[19].queries[o].queryList}(Ee(),Dc())}function Wb(s,o,u){const d=new ju(4==(4&u));v0(s,o,d,d.destroy),null===o[19]&&(o[19]=new $b),o[19].queries.push(new Yb(d))}function $u(s,o,u){null===s.queries&&(s.queries=new Gb),s.queries.track(new Zb(o,u))}function af(s,o){return s.queries.getByIndex(o)}function rn(s,o){return cr(s,o)}function gd(...s){}const di=new Gn("Application Initializer");let rw=(()=>{class s{constructor(u){this.appInits=u,this.resolve=gd,this.reject=gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Yo(m))u.push(m);else if(A_(m)){const v=new Promise((w,C)=>{m.subscribe({complete:w,error:C})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(jt(di,8))},s.\u0275prov=yn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const pT=new Gn("AppId",{providedIn:"root",factory:function mT(){return`${iw()}${iw()}${iw()}`}});function iw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gT=new Gn("Platform Initializer"),_T=new Gn("Platform ID"),yT=new Gn("appBootstrapListener");let yd=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})();const My=new Gn("LocaleId",{providedIn:"root",factory:()=>ss(My,ct.Optional|ct.SkipSelf)||function aM(){return"undefined"!=typeof $localize&&$localize.locale||zh}()}),vT=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ay{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let ky=(()=>{class s{compileModuleSync(u){return new my(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=g(Sn(u).declarations).reduce((v,w)=>{const C=Jt(w);return C&&v.push(new py(C)),v},[]);return new Ay(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=yn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ow=(()=>Promise.resolve(0))();function Xu(s){"undefined"==typeof Zone?ow.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Zo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Go(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function lw(s){const o=()=>{!function aw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Oy(s),s.isCheckStableRunning=!0,xy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Oy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,v,w)=>{try{return uw(s),u.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),wT(s)}},onInvoke:(u,d,h,m,v,w,C)=>{try{return uw(s),u.invoke(h,m,v,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),wT(s)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Oy(s),xy(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,bm,gd,gd);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const bm={};function xy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Oy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function uw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function wT(s){s._nesting--,xy(s)}class DT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}let cw=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),Xu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xu(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(jt(Zo))},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})(),dw=(()=>{class s{constructor(){this._applications=new Map,hw.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return hw.findTestabilityInTree(this,u,d)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})();class Ly{addToWindow(o){}findTestabilityInTree(o,u,d){return null}}function uM(s){hw=s}let qo,hw=new Ly;const ec=new Gn("AllowMultipleToken");class ET{constructor(o,u){this.name=o,this.token=u}}function fw(s,o,u=[]){const d=`Platform: ${o}`,h=new Gn(d);return(m=[])=>{let v=ST();if(!v||v.injector.get(ec,!1))if(s)s(u.concat(m).concat({provide:h,useValue:!0}));else{const w=u.concat(m).concat({provide:h,useValue:!0},{provide:d_,useValue:"platform"});!function _f(s){if(qo&&!qo.destroyed&&!qo.injector.get(ec,!1))throw new Le(400,"");qo=s.get(IT);const o=s.get(gT,null);o&&o.forEach(u=>u())}(Ka.create({providers:w,name:d}))}return function TT(s){const o=ST();if(!o)throw new Le(401,"");return o}()}}function ST(){return qo&&!qo.destroyed?qo:null}let IT=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const w=function Vr(s,o){let u;return u="noop"===s?new DT:("zone.js"===s?void 0:s)||new Zo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Zo,useValue:w}];return w.run(()=>{const M=Ka.create({providers:C,parent:this.injector,name:u.moduleType.name}),k=u.create(M),P=k.injector.get(Kr,null);if(!P)throw new Le(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:q=>{P.handleError(q)}});k.onDestroy(()=>{Dm(this._modules,k),U.unsubscribe()})}),function Ny(s,o,u){try{const d=u();return Yo(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(P,w,()=>{const U=k.injector.get(rw);return U.runInitializers(),U.donePromise.then(()=>(function sb(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(z_=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(My,zh)||zh),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,d=[]){const h=wm({},d);return function mf(s,o,u){const d=new my(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(pw);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Le(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(jt(Ka))},s.\u0275prov=yn({token:s,factory:s.\u0275fac}),s})();function wm(s,o){return Array.isArray(o)?o.reduce(wm,s):Object.assign(Object.assign({},s),o)}let pw=(()=>{class s{constructor(u,d,h,m,v){this._zone=u,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new R.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),Xu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,C.pipe((0,X.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Le(405,"");let h;h=u instanceof uy?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const m=function CT(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Xa),w=h.create(Ka.NULL,[],d||h.selector,m),C=w.location.nativeElement,M=w.injector.get(cw,null),k=M&&w.injector.get(dw);return M&&k&&k.registerApplication(C,M),w.onDestroy(()=>{this.detachView(w.hostView),Dm(this.components,w),k&&k.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Dm(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(yT,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(jt(Zo),jt(Ka),jt(Kr),jt(cy),jt(rw))},s.\u0275prov=yn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Dm(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let mw=!0,yf=!1;function vd(){return yf=!0,mw}function kT(){if(yf)throw new Error("Cannot enable prod mode after platform setup.");mw=!1}let gw=(()=>{class s{}return s.__NG_ELEMENT_ID__=hM,s})();function hM(s){return function Br(s,o,u){if(mo(s)&&!u){const d=qr(s.index,o);return new hm(d,d)}return 47&s.type?new hm(o[16],o):null}(Rn(),Ee(),16==(16&s))}class Tm{constructor(){}supports(o){return Np(o)}create(o){return new LT(o)}}const OT=(s,o)=>o;class LT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||OT}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<Dw(d,h,m)?u:d,w=Dw(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{m||(m=[]);const M=w-h,k=C-h;if(M!=k){for(let U=0;U<M;U++){const q=U<m.length?m[U]:m[U]=0,ve=q+U;k<=ve&&ve<M&&(m[U]=q+1)}m[v.previousIndex]=k-M}}w!==C&&o(v,w,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Np(o))throw new Le(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,w),d=!0),u=u._next}else h=0,function FC(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[xh()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,w=>{v=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,w,v,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,m,h)):o=this._addAfter(new RT(u,d),m,h),o}_verifyReinsertion(o,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new ww),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ww),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class RT{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mM{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ww{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new mM,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dw(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class NT{constructor(){}supports(o){return o instanceof Map||VC(o)}create(){return new gM}}class gM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||VC(o)))throw new Le(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new _M(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class _M{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bf(){return new By([new Tm])}let By=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||bf()),deps:[[s,new Du,new bu]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new Le(901,"")}}return s.\u0275prov=yn({token:s,providedIn:"root",factory:bf}),s})();function Qr(){return new Sm([new NT])}let Sm=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Qr()),deps:[[s,new Du,new bu]]}}find(u){const d=this.factories.find(m=>m.supports(u));if(d)return d;throw new Le(901,"")}}return s.\u0275prov=yn({token:s,providedIn:"root",factory:Qr}),s})();const Mm=fw(null,"core",[{provide:_T,useValue:"unknown"},{provide:IT,deps:[Ka]},{provide:dw,deps:[]},{provide:yd,deps:[]}]);let VT=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(jt(pw))},s.\u0275mod=J({type:s}),s.\u0275inj=cn({}),s})()},3942:(st,Ce,L)=>{L.d(Ce,{Z:()=>Le});var a=L(2090),K=L(4859),R=L(9681),le=L(1877);class X{constructor(fe,De){this._delegate=fe,this.firebase=De,(0,R._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(fe,De=R._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(fe);return!ze.isInitialized()&&"EXPLICIT"===(null===(tt=ze.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:De})}_removeServiceInstance(fe,De=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(De)}_addComponent(fe){(0,R._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,R._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ne(){const Fe=function ie(Fe){const fe={},De={__esModule:!0,initializeApp:function Se(je,te={}){const z=R.initializeApp(je,te);if((0,a.r3)(fe,z.name))return fe[z.name];const oe=new Fe(z,De);return fe[z.name]=oe,oe},app:ze,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(je){const te=je.name,z=te.replace("-compat","");if(R._registerComponent(je)&&"PUBLIC"===je.type){const oe=(ge=ze())=>{if("function"!=typeof ge[z])throw se.create("invalid-app-argument",{appName:te});return ge[z]()};void 0!==je.serviceProps&&(0,a.ZB)(oe,je.serviceProps),De[z]=oe,Fe.prototype[z]=function(...ge){return this._getService.bind(this,te).apply(this,je.multipleInstances?ge:[])}}return"PUBLIC"===je.type?De[z]:null},removeApp:function tt(je){delete fe[je]},useAsService:function $e(je,te){return"serverAuth"===te?null:te},modularAPIs:R}};function ze(je){if(!(0,a.r3)(fe,je=je||R._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:je});return fe[je]}return De.default=De,Object.defineProperty(De,"apps",{get:function be(){return Object.keys(fe).map(je=>fe[je])}}),ze.App=Fe,De}(X);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function fe(De){(0,a.ZB)(Fe,De)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Fe}(),Y=new le.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=j;!function Me(Fe){(0,R.registerVersion)("@firebase/app-compat","0.1.21",Fe)}()},9681:(st,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>Ji,_apps:()=>wt,_clearComponents:()=>zt,_components:()=>Dn,_getProvider:()=>ks,_registerComponent:()=>yn,_removeServiceInstance:()=>cn,deleteApp:()=>Os,getApp:()=>ei,getApps:()=>xs,initializeApp:()=>ds,onLog:()=>Dr,registerVersion:()=>mi,setLogLevel:()=>mr});var a=L(5861),K=L(4859),R=L(1877),le=L(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function pe(Ke){const Ie=Ke.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Je)){const ht=Je.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Je=>Je).join(" ")}}const se="@firebase/app",ne=new R.Yd("@firebase/app"),zn="[DEFAULT]",lt={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Dn=new Map;function Cn(Ke,Ie){try{Ke.container.addComponent(Ie)}catch(Je){ne.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ke.name}`,Je)}}function Ji(Ke,Ie){Ke.container.addOrOverwriteComponent(Ie)}function yn(Ke){const Ie=Ke.name;if(Dn.has(Ie))return ne.debug(`There were multiple attempts to register component ${Ie}.`),!1;Dn.set(Ie,Ke);for(const Je of wt.values())Cn(Je,Ke);return!0}function ks(Ke,Ie){const Je=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Ke.container.getProvider(Ie)}function cn(Ke,Ie,Je=zn){ks(Ke,Ie).clearInstance(Je)}function zt(){Dn.clear()}const Mi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class uo{constructor(Ie,Je,ht){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const Xr="9.6.10";function ds(Ke,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Je=Object.assign({name:zn,automaticDataCollectionEnabled:!1},Ie),ht=Je.name;if("string"!=typeof ht||!ht)throw Mi.create("bad-app-name",{appName:String(ht)});const Gt=wt.get(ht);if(Gt){if((0,le.vZ)(Ke,Gt.options)&&(0,le.vZ)(Je,Gt.config))return Gt;throw Mi.create("duplicate-app",{appName:ht})}const Ut=new K.H0(ht);for(const V of Dn.values())Ut.addComponent(V);const H=new uo(Ke,Je,Ut);return wt.set(ht,H),H}function ei(Ke=zn){const Ie=wt.get(Ke);if(!Ie)throw Mi.create("no-app",{appName:Ke});return Ie}function xs(){return Array.from(wt.values())}function Os(Ke){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(Ke){const Ie=Ke.name;wt.has(Ie)&&(wt.delete(Ie),yield Promise.all(Ke.container.getProviders().map(Je=>Je.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function mi(Ke,Ie,Je){var ht;let Gt=null!==(ht=lt[Ke])&&void 0!==ht?ht:Ke;Je&&(Gt+=`-${Je}`);const Ut=Gt.match(/\s|\//),H=Ie.match(/\s|\//);if(Ut||H){const V=[`Unable to register library "${Gt}" with version "${Ie}":`];return Ut&&V.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Ut&&H&&V.push("and"),H&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ne.warn(V.join(" "))}yn(new K.wA(`${Gt}-version`,()=>({library:Gt,version:Ie}),"VERSION"))}function Dr(Ke,Ie){if(null!==Ke&&"function"!=typeof Ke)throw Mi.create("invalid-log-argument");(0,R.Am)(Ke,Ie)}function mr(Ke){(0,R.Ub)(Ke)}const Ln="firebase-heartbeat-store";let Cr=null;function co(){return Cr||(Cr=(0,le.X3)("firebase-heartbeat-database",1,(Ke,Ie)=>{0===Ie&&Ke.createObjectStore(Ln)}).catch(Ke=>{throw Mi.create("storage-open",{originalErrorMessage:Ke.message})})),Cr}function Kt(){return(Kt=(0,a.Z)(function*(Ke){try{return(yield co()).transaction(Ln).objectStore(Ln).get(xr(Ke))}catch(Ie){throw Mi.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function ot(Ke,Ie){return It.apply(this,arguments)}function It(){return(It=(0,a.Z)(function*(Ke,Ie){try{const ht=(yield co()).transaction(Ln,"readwrite");return yield ht.objectStore(Ln).put(Ie,xr(Ke)),ht.complete}catch(Je){throw Mi.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function xr(Ke){return`${Ke.name}!${Ke.options.appId}`}class Ko{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new dt(Je),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Ie=this;return(0,a.Z)(function*(){const ht=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=jr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!Ie._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Gt))return Ie._heartbeatsCache.heartbeats.push({date:Gt,agent:ht}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ut=>{const H=new Date(Ut.date).valueOf();return Date.now()-H<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,a.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Je=jr(),{heartbeatsToSend:ht,unsentEntries:Gt}=function Or(Ke,Ie=1024){const Je=[];let ht=Ke.slice();for(const Gt of Ke){const Ut=Je.find(H=>H.agent===Gt.agent);if(Ut){if(Ut.dates.push(Gt.date),Yr(Je)>Ie){Ut.dates.pop();break}}else if(Je.push({agent:Gt.agent,dates:[Gt.date]}),Yr(Je)>Ie){Je.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Je,unsentEntries:ht}}(Ie._heartbeatsCache.heartbeats),Ut=(0,le.L)(JSON.stringify({version:2,heartbeats:ht}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Je,Gt.length>0?(Ie._heartbeatsCache.heartbeats=Gt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ut})()}}function jr(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,a.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function fl(Ke){return Kt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Je=this;return(0,a.Z)(function*(){var ht;if(yield Je._canUseIndexedDBPromise){const Ut=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ht=Ie.lastSentHeartbeatDate)&&void 0!==ht?ht:Ut.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Je=this;return(0,a.Z)(function*(){var ht;if(yield Je._canUseIndexedDBPromise){const Ut=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ht=Ie.lastSentHeartbeatDate)&&void 0!==ht?ht:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ie.heartbeats]})}})()}}function Yr(Ke){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Yt(Ke){yn(new K.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),yn(new K.wA("heartbeat",Ie=>new Ko(Ie),"PRIVATE")),mi(se,"0.7.20",Ke),mi(se,"0.7.20","esm2017"),mi("fire-js","")}("")},4859:(st,Ce,L)=>{L.d(Ce,{wA:()=>R,H0:()=>ie});var a=L(5861),K=L(2090);class R{constructor(j,Y,Q){this.name=j,this.instanceFactory=Y,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class X{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const Q=new K.BH;if(this.instancesDeferred.set(Y,Q),this.isInitialized(Y)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Y});qe&&Q.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),qe=null!==(Y=null==j?void 0:j.optional)&&void 0!==Y&&Y;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(qe)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function se(ne){return"EAGER"===ne.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Y){}for(const[Y,Q]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Y);try{const Me=this.getOrInitializeService({instanceIdentifier:qe});Q.resolve(Me)}catch(Me){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,a.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...Y.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Q,options:Y});for(const[Me,Le]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&Le.resolve(qe);return qe}onInit(j,Y){var Q;const qe=this.normalizeInstanceIdentifier(Y),Me=null!==(Q=this.onInitCallbacks.get(qe))&&void 0!==Q?Q:new Set;Me.add(j),this.onInitCallbacks.set(qe,Me);const Le=this.instances.get(qe);return Le&&j(Le,qe),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,Y){const Q=this.onInitCallbacks.get(Y);if(Q)for(const qe of Q)try{qe(j,Y)}catch(Me){}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=j,ne===le?void 0:ne),options:Y}),this.instances.set(j,Q),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(qe){}var ne;return Q||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new X(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,L)=>{L.d(Ce,{in:()=>K,Yd:()=>se,Ub:()=>ie,Am:()=>ne});const a=[];var K=(()=>{return(j=K||(K={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",K;var j})();const R={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},le=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(j,Y,...Q)=>{if(Y<j.logLevel)return;const qe=(new Date).toISOString(),Me=X[Y];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Me](`[${qe}]  ${j.name}:`,...Q)};class se{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?R[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function ie(j){a.forEach(Y=>{Y.setLogLevel(j)})}function ne(j,Y){for(const Q of a){let qe=null;Y&&Y.level&&(qe=R[Y.level]),Q.userLogHandler=null===j?null:(Me,Le,...Fe)=>{const fe=Fe.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(tt){return null}}).filter(De=>De).join(" ");Le>=(null!=qe?qe:Me.logLevel)&&j({level:K[Le].toLowerCase(),message:fe,args:Fe,type:Me.name})}}}},5861:(st,Ce,L)=>{function a(R,le,X,pe,se,ie,ne){try{var j=R[ie](ne),Y=j.value}catch(Q){return void X(Q)}j.done?le(Y):Promise.resolve(Y).then(pe,se)}function K(R){return function(){var le=this,X=arguments;return new Promise(function(pe,se){var ie=R.apply(le,X);function ne(Y){a(ie,pe,se,ne,j,"next",Y)}function j(Y){a(ie,pe,se,ne,j,"throw",Y)}ne(void 0)})}}L.d(Ce,{Z:()=>K})}},st=>{st(st.s=2944)}]);