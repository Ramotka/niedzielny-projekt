"use strict";(self.webpackChunkniedzielny_projekt=self.webpackChunkniedzielny_projekt||[]).push([[179],{2011:(st,Ce,R)=>{R.d(Ce,{hO:()=>qe,xv:()=>ne,Dh:()=>ie,GT:()=>me,cc:()=>Me,on:()=>j,pX:()=>X});var u=R(5e3),K=R(127),L=R(6351);st=R.hmd(st);const le=["ngOnDestroy"],X=(De,tt,Ze,Se={})=>new Proxy(De,{get:(ve,be)=>Ze.runOutsideAngular(()=>{var $e;if(De[be])return(null===($e=null==Se?void 0:Se.spy)||void 0===$e?void 0:$e.get)&&Se.spy.get(be,De[be]),De[be];if(le.indexOf(be)>-1)return()=>{};const Ye=tt.toPromise().then(te=>{const z=te&&te[be];return"function"==typeof z?z.bind(te):z&&z.then?z.then(se=>Ze.run(()=>se)):Ze.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>Ye[z],apply:(te,z,se)=>Ye.then(ge=>{var ae;const xe=ge&&ge(...se);return(null===(ae=null==Se?void 0:Se.spy)||void 0===ae?void 0:ae.apply)&&Se.spy.apply(be,se,xe),xe})})})}),me=(De,tt)=>{tt.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Se=>{Object.defineProperty(De.prototype,Se,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Se))})})};class oe{constructor(tt){return tt}}const ie=new u.OlP("angularfire2.app.options"),ne=new u.OlP("angularfire2.app.name");function j(De,tt,Ze){const ve="object"==typeof Ze&&Ze||{};ve.name=ve.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const $e=K.Z.apps.filter(Ye=>Ye&&Ye.name===ve.name)[0]||tt.runOutsideAngular(()=>K.Z.initializeApp(De,ve));try{JSON.stringify(De)!==JSON.stringify($e.options)&&Y("error",`${$e.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ye){}return new oe($e)}const Y=(De,...tt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)},J={provide:oe,useFactory:j,deps:[ie,u.R0b,[new u.FiY,ne]]};let qe=(()=>{class De{constructor(Ze){K.Z.registerVersion("angularfire",L.q4.full,"core"),K.Z.registerVersion("angularfire",L.q4.full,"app-compat"),K.Z.registerVersion("angular",u.q4F.full,Ze.toString())}static initializeApp(Ze,Se){return{ngModule:De,providers:[{provide:ie,useValue:Ze},{provide:ne,useValue:Se}]}}}return De.\u0275fac=function(Ze){return new(Ze||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[J]}),De})();function Me(De,tt,Ze,Se,ve){const[,be,$e]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===De)||[];if(be)return function Re(De,tt){try{return De.toString()===tt.toString()}catch(Ze){return De===tt}}(ve,$e)||(pe("error",`${tt} was already initialized on the ${Ze} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ve,was:$e})),be;{const Ye=Se();return globalThis.\u0275AngularfireInstanceCache.push([De,Ye,ve]),Ye}}const Fe=!!st.hot,pe=(De,...tt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(st,Ce,R)=>{R.d(Ce,{q4:()=>Xo,iC:()=>wl,HU:()=>Io,vb:()=>$t,JM:()=>pp});var u=R(5e3),K=R(5867),L=R(5861),le=R(9681),X=R(2090),me=R(4859),oe=R(1877);const ie="@firebase/installations",Y="w:0.5.7",J="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(E){return E instanceof X.ZR&&E.code.includes("request-failed")}function Ze({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Se(E){return{token:E.token,requestStatus:2,expiresIn:se(E.expiresIn),creationTime:Date.now()}}function ve(E,T){return be.apply(this,arguments)}function be(){return(be=(0,L.Z)(function*(E,T){const F=(yield T.json()).error;return De.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function $e({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Ye(E,{refreshToken:T}){const x=$e(E);return x.append("Authorization",function ge(E){return`${J} ${E}`}(T)),x}function te(E){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function se(E){return Number(E.replace("s","000"))}function ae(E,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const F=Ze(E),q=$e(E),re=T.getImmediate({optional:!0});if(re){const Tt=yield re.getHeartbeatsHeader();Tt&&q.append("x-firebase-client",Tt)}const Xe={method:"POST",headers:q,body:JSON.stringify({fid:x,authVersion:J,appId:E.appId,sdkVersion:Y})},It=yield te(()=>fetch(F,Xe));if(It.ok){const Tt=yield It.json();return{fid:Tt.fid||x,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Se(Tt.authToken)}}throw yield ve("Create Installation",It)})).apply(this,arguments)}function ce(E){return new Promise(T=>{setTimeout(T,E)})}const an=/^[cdef][\w-]{21}$/;function lt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function wt(E){return function At(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return an.test(x)?x:""}catch(E){return""}}function _n(E){return`${E.appName}!${E.appId}`}const yn=new Map;function Wi(E,T){const x=_n(E);ln(x,T),function zt(E,T){const x=function xi(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=E=>{ln(E.data.key,E.data.fid)}),xr}();x&&x.postMessage({key:E,fid:T}),function no(){0===yn.size&&xr&&(xr.close(),xr=null)}()}(x,T)}function ln(E,T){const x=yn.get(E);if(x)for(const F of x)F(T)}let xr=null;const ni="firebase-installations-store";let Ts=null;function Ss(){return Ts||(Ts=(0,X.X3)("firebase-installations-database",1,(E,T)=>{0===T&&E.createObjectStore(ni)})),Ts}function ct(E,T){return gi.apply(this,arguments)}function gi(){return(gi=(0,L.Z)(function*(E,T){const x=_n(E),q=(yield Ss()).transaction(ni,"readwrite"),re=q.objectStore(ni),ke=yield re.get(x);return yield re.put(T,x),yield q.complete,(!ke||ke.fid!==T.fid)&&Wi(E,T.fid),T})).apply(this,arguments)}function wr(E){return hr.apply(this,arguments)}function hr(){return(hr=(0,L.Z)(function*(E){const T=_n(E),F=(yield Ss()).transaction(ni,"readwrite");yield F.objectStore(ni).delete(T),yield F.complete})).apply(this,arguments)}function Oi(E,T){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(E,T){const x=_n(E),q=(yield Ss()).transaction(ni,"readwrite"),re=q.objectStore(ni),ke=yield re.get(x),Xe=T(ke);return void 0===Xe?yield re.delete(x):yield re.put(Xe,x),yield q.complete,Xe&&(!ke||ke.fid!==Xe.fid)&&Wi(E,Xe.fid),Xe})).apply(this,arguments)}function An(E){return br.apply(this,arguments)}function br(){return(br=(0,L.Z)(function*(E){let T;const x=yield Oi(E.appConfig,F=>{const q=ro(F),re=ll(E,q);return T=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function ro(E){return Wt(E||{fid:lt(),registrationStatus:0})}function ll(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(De.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function Zt(E,T){return ot.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:St(E)}:{installationEntry:T}}function ot(){return(ot=(0,L.Z)(function*(E,T){try{const x=yield ae(E,T);return ct(E.appConfig,x)}catch(x){throw tt(x)&&409===x.customData.serverCode?yield wr(E.appConfig):yield ct(E.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function St(E){return Or.apply(this,arguments)}function Or(){return(Or=(0,L.Z)(function*(E){let T=yield ls(E.appConfig);for(;1===T.registrationStatus;)yield ce(100),T=yield ls(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield An(E);return F||x}return T})).apply(this,arguments)}function ls(E){return Oi(E,T=>{if(!T)throw De.create("installation-not-found");return Wt(T)})}function Wt(E){return function Ho(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function jr(E,T){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,L.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const F=ht(E,x),q=Ye(E,x),re=T.getImmediate({optional:!0});if(re){const Tt=yield re.getHeartbeatsHeader();Tt&&q.append("x-firebase-client",Tt)}const Xe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Y,appId:E.appId}})},It=yield te(()=>fetch(F,Xe));if(It.ok)return Se(yield It.json());throw yield ve("Generate Auth Token",It)})).apply(this,arguments)}function ht(E,{fid:T}){return`${Ze(E)}/${T}/authTokens:generate`}function Yr(E){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,L.Z)(function*(E,T=!1){let x;const F=yield Oi(E.appConfig,re=>{if(!Ut(re))throw De.create("not-registered");const ke=re.authToken;if(!T&&H(ke))return re;if(1===ke.requestStatus)return x=Ke(E,T),re;{if(!navigator.onLine)throw De.create("app-offline");const Xe=G(re);return x=ft(E,Xe),Xe}});return x?yield x:F.authToken})).apply(this,arguments)}function Ke(E,T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(E,T){let x=yield Je(E.appConfig);for(;1===x.authToken.requestStatus;)yield ce(100),x=yield Je(E.appConfig);const F=x.authToken;return 0===F.requestStatus?Yr(E,T):F})).apply(this,arguments)}function Je(E){return Oi(E,T=>{if(!Ut(T))throw De.create("not-registered");return function he(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function ft(E,T){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,L.Z)(function*(E,T){try{const x=yield jr(E,T),F=Object.assign(Object.assign({},T),{authToken:x});return yield ct(E.appConfig,F),x}catch(x){if(!tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ct(E.appConfig,F)}else yield wr(E.appConfig);throw x}})).apply(this,arguments)}function Ut(E){return void 0!==E&&2===E.registrationStatus}function H(E){return 2===E.requestStatus&&!function V(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function G(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function Ue(){return(Ue=(0,L.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:F}=yield An(T);return F?F.catch(console.error):Yr(T).catch(console.error),x.fid})).apply(this,arguments)}function en(){return(en=(0,L.Z)(function*(E,T=!1){const x=E;return yield $r(x),(yield Yr(x,T)).token})).apply(this,arguments)}function $r(E){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,L.Z)(function*(E){const{registrationPromise:T}=yield An(E);T&&(yield T)})).apply(this,arguments)}function fr(E){return De.create("missing-app-config-values",{valueName:E})}const cl="installations",Le=E=>{const T=E.getProvider("app").getImmediate(),x=function Is(E){if(!E||!E.options)throw fr("App Configuration");if(!E.name)throw fr("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw fr(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=E=>{const T=E.getProvider("app").getImmediate(),x=(0,le._getProvider)(T,cl).getImmediate();return{getId:()=>function Q(E){return Ue.apply(this,arguments)}(x),getToken:q=>function bt(E){return en.apply(this,arguments)}(x,q)}};(function En(){(0,le._registerComponent)(new me.wA(cl,Le,"PUBLIC")),(0,le._registerComponent)(new me.wA("installations-internal",Vt,"PRIVATE"))})(),(0,le.registerVersion)(ie,"0.5.7"),(0,le.registerVersion)(ie,"0.5.7","esm2017");const Lr="@firebase/remote-config",Qn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lp{constructor(T,x,F,q){this.client=T,this.storage=x,this.storageCache=F,this.logger=q}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,q=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${q}.`),q}fetch(T){var x=this;return(0,L.Z)(function*(){const[F,q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(q&&x.isCachedDataFresh(T.cacheMaxAgeMillis,F))return q;T.eTag=q&&q.eTag;const re=yield x.client.fetch(T),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(ke),re})()}}function sh(E=navigator){return E.languages&&E.languages[0]||E.language}class Jl{constructor(T,x,F,q,re,ke){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=F,this.projectId=q,this.apiKey=re,this.appId=ke}fetch(T){var x=this;return(0,L.Z)(function*(){const[F,q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},It={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:q,app_id:x.appId,language_code:sh()},Tt={method:"POST",headers:Xe,body:JSON.stringify(It)},Bt=fetch(ke,Tt),Dt=new Promise((oi,ms)=>{T.signal.addEventListener(()=>{const vu=new Error("The operation was aborted.");vu.name="AbortError",ms(vu)})});let Ct;try{yield Promise.race([Bt,Dt]),Ct=yield Bt}catch(oi){let ms="fetch-client-network";throw"AbortError"===oi.name&&(ms="fetch-timeout"),Qn.create(ms,{originalErrorMessage:oi.message})}let jt=Ct.status;const bl=Ct.headers.get("ETag")||void 0;let es,ta;if(200===Ct.status){let oi;try{oi=yield Ct.json()}catch(ms){throw Qn.create("fetch-client-parse",{originalErrorMessage:ms.message})}es=oi.entries,ta=oi.state}if("INSTANCE_STATE_UNSPECIFIED"===ta?jt=500:"NO_CHANGE"===ta?jt=304:("NO_TEMPLATE"===ta||"EMPTY_CONFIG"===ta)&&(es={}),304!==jt&&200!==jt)throw Qn.create("fetch-status",{httpStatus:jt});return{status:jt,eTag:bl,config:es}})()}}class kg{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,L.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:F}){var q=this;return(0,L.Z)(function*(){yield function sr(E,T){return new Promise((x,F)=>{const q=Math.max(T-Date.now(),0),re=setTimeout(x,q);E.addEventListener(()=>{clearTimeout(re),F(Qn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const re=yield q.client.fetch(T);return yield q.storage.deleteThrottleMetadata(),re}catch(re){if(!function oh(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(re))throw re;const ke={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield q.storage.setThrottleMetadata(ke),q.attemptFetch(T,ke)}})()}}class cs{constructor(T,x,F,q,re){this.app=T,this._client=x,this._storageCache=F,this._storage=q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dc(E,T){const x=E.target.error||void 0;return Qn.create(T,{originalErrorMessage:x&&x.message})}const lo="app_namespace_store";class up{constructor(T,x,F,q=function Rg(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{T(Dc(F,"storage-open"))},x.onsuccess=F=>{E(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(x){T(Qn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=F,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,L.Z)(function*(){const F=yield x.openDbPromise;return new Promise((q,re)=>{const Xe=F.transaction([lo],"readonly").objectStore(lo),It=x.createCompositeKey(T);try{const Tt=Xe.get(It);Tt.onerror=Bt=>{re(Dc(Bt,"storage-get"))},Tt.onsuccess=Bt=>{const Dt=Bt.target.result;q(Dt?Dt.value:void 0)}}catch(Tt){re(Qn.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(T,x){var F=this;return(0,L.Z)(function*(){const q=yield F.openDbPromise;return new Promise((re,ke)=>{const It=q.transaction([lo],"readwrite").objectStore(lo),Tt=F.createCompositeKey(T);try{const Bt=It.put({compositeKey:Tt,value:x});Bt.onerror=Dt=>{ke(Dc(Dt,"storage-set"))},Bt.onsuccess=()=>{re()}}catch(Bt){ke(Qn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(T){var x=this;return(0,L.Z)(function*(){const F=yield x.openDbPromise;return new Promise((q,re)=>{const Xe=F.transaction([lo],"readwrite").objectStore(lo),It=x.createCompositeKey(T);try{const Tt=Xe.delete(It);Tt.onerror=Bt=>{re(Dc(Bt,"storage-delete"))},Tt.onsuccess=()=>{q()}}catch(Tt){re(Qn.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class lh{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const x=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),q=T.storage.getActiveConfig(),re=yield x;re&&(T.lastFetchStatus=re);const ke=yield F;ke&&(T.lastSuccessfulFetchTimestampMillis=ke);const Xe=yield q;Xe&&(T.activeConfig=Xe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Yo(){return cp.apply(this,arguments)}function cp(){return(cp=(0,L.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Ta(){(0,le._registerComponent)(new me.wA("remote-config",function E(T,{instanceIdentifier:x}){const F=T.getProvider("app").getImmediate(),q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Qn.create("registration-window");if(!(0,X.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:re,apiKey:ke,appId:Xe}=F.options;if(!re)throw Qn.create("registration-project-id");if(!ke)throw Qn.create("registration-api-key");if(!Xe)throw Qn.create("registration-app-id");const It=new up(Xe,F.name,x=x||"firebase"),Tt=new lh(It),Bt=new oe.Yd(Lr);Bt.logLevel=oe.in.ERROR;const Dt=new Jl(q,le.SDK_VERSION,x,re,ke,Xe),Ct=new kg(Dt,It),jt=new lp(Ct,It,Tt,Bt),bl=new cs(F,jt,Tt,It,Bt);return function Pn(E){const T=(0,X.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(bl),bl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Lr,"0.3.6"),(0,le.registerVersion)(Lr,"0.3.6","esm2017")}();const Cc="/firebase-messaging-sw.js",uo="/firebase-cloud-messaging-push-scope",vi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$o="google.c.a.c_id",hl="google.c.a.c_l",uh="google.c.a.ts",Lg="google.c.a.e";var co=(()=>{return(E=co||(co={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",co;var E})();function Li(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eu(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),q=new Uint8Array(F.length);for(let re=0;re<F.length;++re)q[re]=F.charCodeAt(re);return q}const tu="fcm_token_details_db",Nr="fcm_token_object_Store";function dp(E){return nu.apply(this,arguments)}function nu(){return nu=(0,L.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(tu))return null;let T=null;return(yield(0,X.X3)(tu,5,function(){var F=(0,L.Z)(function*(q,re,ke,Xe){var It;if(re<2||!q.objectStoreNames.contains(Nr))return;const Tt=Xe.objectStore(Nr),Bt=yield Tt.index("fcmSenderId").get(E);if(yield Tt.clear(),Bt)if(2===re){const Dt=Bt;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;T={token:Dt.fcmToken,createTime:null!==(It=Dt.createTime)&&void 0!==It?It:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:Li(Dt.vapidKey)}}}else if(3===re){const Dt=Bt;T={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:Li(Dt.auth),p256dh:Li(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:Li(Dt.vapidKey)}}}else if(4===re){const Dt=Bt;T={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:Li(Dt.auth),p256dh:Li(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:Li(Dt.vapidKey)}}}});return function(q,re,ke,Xe){return F.apply(this,arguments)}}())).close(),yield(0,X.Lj)(tu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),ch(T)?T:null}),nu.apply(this,arguments)}function ch(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Os="firebase-messaging-store";let fl=null;function Ec(){return fl||(fl=(0,X.X3)("firebase-messaging-database",1,(E,T)=>{0===T&&E.createObjectStore(Os)})),fl}function In(E){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,L.Z)(function*(E){const T=Wo(E),F=yield(yield Ec()).transaction(Os).objectStore(Os).get(T);if(F)return F;{const q=yield dp(E.appConfig.senderId);if(q)return yield ho(E,q),q}})).apply(this,arguments)}function ho(E,T){return gn.apply(this,arguments)}function gn(){return(gn=(0,L.Z)(function*(E,T){const x=Wo(E),q=(yield Ec()).transaction(Os,"readwrite");return yield q.objectStore(Os).put(T,x),yield q.complete,T})).apply(this,arguments)}function dh(E){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(E){const T=Wo(E),F=(yield Ec()).transaction(Os,"readwrite");yield F.objectStore(Os).delete(T),yield F.complete})).apply(this,arguments)}function Wo({appConfig:E}){return E.appId}const Jn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pl(E,T){return qi.apply(this,arguments)}function qi(){return(qi=(0,L.Z)(function*(E,T){const x=yield po(E),F=pt(T),q={method:"POST",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(wi(E.appConfig),q)).json()}catch(ke){throw Jn.create("token-subscribe-failed",{errorInfo:ke})}if(re.error)throw Jn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Jn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Wr(E,T){return fo.apply(this,arguments)}function fo(){return(fo=(0,L.Z)(function*(E,T){const x=yield po(E),F=pt(T.subscriptionOptions),q={method:"PATCH",headers:x,body:JSON.stringify(F)};let re;try{re=yield(yield fetch(`${wi(E.appConfig)}/${T.token}`,q)).json()}catch(ke){throw Jn.create("token-update-failed",{errorInfo:ke})}if(re.error)throw Jn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Jn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Rs(E,T){return su.apply(this,arguments)}function su(){return(su=(0,L.Z)(function*(E,T){const F={method:"DELETE",headers:yield po(E)};try{const re=yield(yield fetch(`${wi(E.appConfig)}/${T}`,F)).json();if(re.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(q){throw Jn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function wi({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function po(E){return mo.apply(this,arguments)}function mo(){return(mo=(0,L.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function pt({p256dh:E,auth:T,endpoint:x,vapidKey:F}){const q={web:{endpoint:x,auth:T,p256dh:E}};return F!==vi&&(q.web.applicationPubKey=F),q}const ou=6048e5;function ml(E){return au.apply(this,arguments)}function au(){return(au=(0,L.Z)(function*(E){const T=yield Ic(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:Li(T.getKey("auth")),p256dh:Li(T.getKey("p256dh"))},F=yield In(E.firebaseDependencies);if(F){if(Ma(F.subscriptionOptions,x))return Date.now()>=F.createTime+ou?Tc(E,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield Rs(E.firebaseDependencies,F.token)}catch(q){console.warn(q)}return Ee(E.firebaseDependencies,x)}return Ee(E.firebaseDependencies,x)})).apply(this,arguments)}function lu(E){return uu.apply(this,arguments)}function uu(){return(uu=(0,L.Z)(function*(E){const T=yield In(E.firebaseDependencies);T&&(yield Rs(E.firebaseDependencies,T.token),yield dh(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Tc(E,T){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,L.Z)(function*(E,T){try{const x=yield Wr(E.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield ho(E.firebaseDependencies,F),x}catch(x){throw yield lu(E),x}})).apply(this,arguments)}function Ee(E,T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,L.Z)(function*(E,T){const F={token:yield pl(E,T),createTime:Date.now(),subscriptionOptions:T};return yield ho(E,F),F.token})).apply(this,arguments)}function Ic(E,T){return xn.apply(this,arguments)}function xn(){return(xn=(0,L.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eu(T)})})).apply(this,arguments)}function Ma(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function Aa(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function bi(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const F=T.notification.body;F&&(E.notification.body=F);const q=T.notification.image;q&&(E.notification.image=q)}(T,E),function Mc(E,T){!T.data||(E.data=T.data)}(T,E),function Ac(E,T){if(!T.fcmOptions)return;E.fcmOptions={};const x=T.fcmOptions.link;x&&(E.fcmOptions.link=x);const F=T.fcmOptions.analytics_label;F&&(E.fcmOptions.analyticsLabel=F)}(T,E),T}function hh(E){return"object"==typeof E&&!!E&&$o in E}function kc(E,T){const x=[];for(let F=0;F<E.length;F++)x.push(E.charAt(F)),F<T.length&&x.push(T.charAt(F));return x.join("")}function go(E){return Jn.create("missing-app-config-values",{valueName:E})}kc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pr{constructor(T,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function cu(E){if(!E||!E.options)throw go("App Configuration Object");if(!E.name)throw go("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const F of T)if(!x[F])throw go(F);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:q,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Ni(E){return du.apply(this,arguments)}function du(){return(du=(0,L.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Cc,{scope:uo}),E.swRegistration.update().catch(()=>{})}catch(T){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function _o(E,T){return zi.apply(this,arguments)}function zi(){return(zi=(0,L.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield Ni(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function xc(E,T){return hu.apply(this,arguments)}function hu(){return(hu=(0,L.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=vi)})).apply(this,arguments)}function Oc(){return(Oc=(0,L.Z)(function*(E,T){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield xc(E,null==T?void 0:T.vapidKey),yield _o(E,null==T?void 0:T.serviceWorkerRegistration),ml(E)})).apply(this,arguments)}function gl(E,T,x){return ka.apply(this,arguments)}function ka(){return(ka=(0,L.Z)(function*(E,T,x){const F=Rc(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[$o],message_name:x[hl],message_time:x[uh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rc(E){switch(E){case co.NOTIFICATION_CLICKED:return"notification_open";case co.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fh(){return(fh=(0,L.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===co.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Aa(x)):E.onMessageHandler.next(Aa(x)));const F=x.data;hh(F)&&"1"===F[Lg]&&(yield gl(E,x.messageType,F))})).apply(this,arguments)}const Nc="@firebase/messaging",ph=E=>{const T=new Pr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Lc(E,T){return fh.apply(this,arguments)}(T,x)),T},zo=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:F=>function fu(E,T){return Oc.apply(this,arguments)}(T,F)}};function gh(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,L.Z)(function*(){try{yield(0,X.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mh(){(0,le._registerComponent)(new me.wA("messaging",ph,"PUBLIC")),(0,le._registerComponent)(new me.wA("messaging-internal",zo,"PRIVATE")),(0,le.registerVersion)(Nc,"0.9.11"),(0,le.registerVersion)(Nc,"0.9.11","esm2017")}();const Fc="analytics",Sv="firebase_id",_l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pu="https://www.googletagmanager.com/gtag/js",or=new oe.Yd("@firebase/analytics");function yh(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function Ng(E,T){const x=document.createElement("script");x.src=`${pu}?l=${E}&id=${T}`,x.async=!0,document.head.appendChild(x)}function xa(E,T,x,F,q,re){return vh.apply(this,arguments)}function vh(){return(vh=(0,L.Z)(function*(E,T,x,F,q,re){const ke=F[q];try{if(ke)yield T[ke];else{const It=(yield yh(x)).find(Tt=>Tt.measurementId===q);It&&(yield T[It.appId])}}catch(Xe){or.error(Xe)}E("config",q,re)})).apply(this,arguments)}function Bc(E,T,x,F,q){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,L.Z)(function*(E,T,x,F,q){try{let re=[];if(q&&q.send_to){let ke=q.send_to;Array.isArray(ke)||(ke=[ke]);const Xe=yield yh(x);for(const It of ke){const Tt=Xe.find(Dt=>Dt.measurementId===It),Bt=Tt&&T[Tt.appId];if(!Bt){re=[];break}re.push(Bt)}}0===re.length&&(re=Object.values(T)),yield Promise.all(re),E("event",F,q||{})}catch(re){or.error(re)}})).apply(this,arguments)}function Pg(){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(pu))return T;return null}const er=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cr=new class ar{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Oa(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function bh(E){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,L.Z)(function*(E){var T;const{appId:x,apiKey:F}=E,q={method:"GET",headers:Oa(F)},re=_l.replace("{app-id}",x),ke=yield fetch(re,q);if(200!==ke.status&&304!==ke.status){let Xe="";try{const It=yield ke.json();(null===(T=It.error)||void 0===T?void 0:T.message)&&(Xe=It.error.message)}catch(It){}throw er.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Xe})}return ke.json()})).apply(this,arguments)}function fp(E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,L.Z)(function*(E,T=Cr,x){const{appId:F,apiKey:q,measurementId:re}=E.options;if(!F)throw er.create("no-app-id");if(!q){if(re)return{measurementId:re,appId:F};throw er.create("no-api-key")}const ke=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Uc;return setTimeout((0,L.Z)(function*(){Xe.abort()}),void 0!==x?x:6e4),mu({appId:F,apiKey:q,measurementId:re},ke,Xe,T)})).apply(this,arguments)}function mu(E,T,x){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,L.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},F,q=Cr){const{appId:re,measurementId:ke}=E;try{yield xt(F,T)}catch(Xe){if(ke)return or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:re,measurementId:ke};throw Xe}try{const Xe=yield bh(E);return q.deleteThrottleMetadata(re),Xe}catch(Xe){if(!Dh(Xe)){if(q.deleteThrottleMetadata(re),ke)return or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:re,measurementId:ke};throw Xe}const It=503===Number(Xe.customData.httpStatus)?(0,X.$s)(x,q.intervalMillis,30):(0,X.$s)(x,q.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+It,backoffCount:x+1};return q.setThrottleMetadata(re,Tt),or.debug(`Calling attemptFetch again in ${It} millis`),mu(E,Tt,F,q)}})).apply(this,arguments)}function xt(E,T){return new Promise((x,F)=>{const q=Math.max(T-Date.now(),0),re=setTimeout(x,q);E.addEventListener(()=>{clearTimeout(re),F(er.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Dh(E){if(!(E instanceof X.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Uc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Hc(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,L.Z)(function*(){if(!(0,X.hl)())return or.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(E){return or.warn(er.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Ps(){return(Ps=(0,L.Z)(function*(E,T,x,F,q,re,ke){var Xe;const It=fp(E);It.then(jt=>{x[jt.measurementId]=jt.appId,E.options.measurementId&&jt.measurementId!==E.options.measurementId&&or.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${jt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jt=>or.error(jt)),T.push(It);const Tt=Hc().then(jt=>{if(jt)return F.getId()}),[Bt,Dt]=yield Promise.all([It,Tt]);Pg()||Ng(re,Bt.measurementId),q("js",new Date);const Ct=null!==(Xe=null==ke?void 0:ke.config)&&void 0!==Xe?Xe:{};return Ct.origin="firebase",Ct.update=!0,null!=Dt&&(Ct[Sv]=Dt),q("config",Bt.measurementId,Ct),Bt.measurementId})).apply(this,arguments)}class Jo{constructor(T){this.app=T}_delete(){return delete Fi[this.app.options.appId],Promise.resolve()}}let Fi={},wo=[];const Vi={};let bo,hs,ds="dataLayer",Yc=!1;function Ki(E,T,x){!function Do(){const E=[];if((0,X.ru)()&&E.push("This is a browser extension environment."),(0,X.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((F,q)=>`(${q+1}) ${F}`).join(" "),x=er.create("invalid-analytics-context",{errorInfo:T});or.warn(x.message)}}();const F=E.options.appId;if(!F)throw er.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw er.create("no-api-key");or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fi[F])throw er.create("already-exists",{id:F});if(!Yc){!function Ns(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(ds);const{wrappedGtag:re,gtagCore:ke}=function hp(E,T,x,F,q){let re=function(...ke){window[F].push(arguments)};return window[q]&&"function"==typeof window[q]&&(re=window[q]),window[q]=function wh(E,T,x,F){function re(){return(re=(0,L.Z)(function*(ke,Xe,It){try{"event"===ke?yield Bc(E,T,x,Xe,It):"config"===ke?yield xa(E,T,x,F,Xe,It):E("set",Xe)}catch(Tt){or.error(Tt)}})).apply(this,arguments)}return function q(ke,Xe,It){return re.apply(this,arguments)}}(re,E,T,x),{gtagCore:re,wrappedGtag:window[q]}}(Fi,wo,Vi,ds,"gtag");hs=re,bo=ke,Yc=!0}return Fi[F]=function tr(E,T,x,F,q,re,ke){return Ps.apply(this,arguments)}(E,wo,Vi,T,bo,ds,x),new Jo(E)}function fs(){return(fs=(0,L.Z)(function*(E,T,x,F,q){if(q&&q.global)E("event",x,F);else{const re=yield T;E("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Bn(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,L.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(E){return!1}})).apply(this,arguments)}const To="@firebase/analytics";!function Ug(){(0,le._registerComponent)(new me.wA(Fc,(T,{options:x})=>Ki(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new me.wA("analytics-internal",function E(T){try{const x=T.getProvider(Fc).getImmediate();return{logEvent:(F,q,re)=>function Bg(E,T,x,F){E=(0,X.m9)(E),function Ra(E,T,x,F,q){return fs.apply(this,arguments)}(hs,Fi[E.app.options.appId],T,x,F).catch(q=>or.error(q))}(x,F,q,re)}}catch(x){throw er.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(To,"0.7.7"),(0,le.registerVersion)(To,"0.7.7","esm2017")}();var So=R(233),Fs=R(4986),gu=R(8505),Un=R(9468),$c=R(5363);const Xo=new u.GfV("7.3.0"),Sh="__angularfire_symbol__analyticsIsSupportedValue",yl="__angularfire_symbol__analyticsIsSupported",Er="__angularfire_symbol__remoteConfigIsSupportedValue",si="__angularfire_symbol__remoteConfigIsSupported",vl="__angularfire_symbol__messagingIsSupportedValue",Vs="__angularfire_symbol__messagingIsSupported";function pp(E,T,x){if(T){if(1===T.length)return T[0];const re=T.filter(ke=>ke.app===x);if(1===re.length)return re[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[yl]||(globalThis[yl]=Bn().then(E=>globalThis[Sh]=E).catch(()=>globalThis[Sh]=!1)),globalThis[Vs]||(globalThis[Vs]=gh().then(E=>globalThis[vl]=E).catch(()=>globalThis[vl]=!1)),globalThis[si]||(globalThis[si]=Yo().then(E=>globalThis[Er]=E).catch(()=>globalThis[Er]=!1));const $t=(E,T)=>{const x=T?[T]:(0,K.C6)(),F=[];return x.forEach(q=>{q.container.getProvider(E).instances.forEach(ke=>{F.includes(ke)||F.push(ke)})}),F};function Bs(){}class nr{constructor(T,x=So.N){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,F){const q=this.zone;return this.delegate.schedule(function(ke){q.runGuarded(()=>{T.apply(this,[ke])})},x,F)}}class _u{constructor(T){this.zone=T,this.task=null}call(T,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),x.pipe((0,gu.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Io=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new nr(Zone.current)),this.insideAngular=x.run(()=>new nr(Zone.current,Fs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Mo(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function wl(E){return Mo(),function Ah(E){return function(x){return(x=x.lift(new _u(E.ngZone))).pipe((0,Un.R)(E.outsideAngular),(0,$c.Q)(E.insideAngular))}}(Mo())(E)}},2090:(st,Ce,R)=>{R.d(Ce,{BH:()=>Me,LL:()=>At,ZR:()=>ce,zI:()=>ge,US:()=>oe,tV:()=>j,L:()=>ne,$s:()=>Ho,r3:()=>ln,Sg:()=>Re,ne:()=>ct,vZ:()=>no,ZB:()=>J,Lj:()=>Gt,pd:()=>Ts,m9:()=>ht,z$:()=>Fe,jU:()=>tt,ru:()=>Ze,d:()=>ve,xb:()=>xr,w1:()=>be,hl:()=>z,uI:()=>pe,UG:()=>De,b$:()=>Se,G6:()=>te,Mn:()=>$e,X3:()=>ft,xO:()=>as,zd:()=>ni,eu:()=>se});var u=R(5861);const X=function(H){const V=[];let G=0;for(let he=0;he<H.length;he++){let Q=H.charCodeAt(he);Q<128?V[G++]=Q:Q<2048?(V[G++]=Q>>6|192,V[G++]=63&Q|128):55296==(64512&Q)&&he+1<H.length&&56320==(64512&H.charCodeAt(he+1))?(Q=65536+((1023&Q)<<10)+(1023&H.charCodeAt(++he)),V[G++]=Q>>18|240,V[G++]=Q>>12&63|128,V[G++]=Q>>6&63|128,V[G++]=63&Q|128):(V[G++]=Q>>12|224,V[G++]=Q>>6&63|128,V[G++]=63&Q|128)}return V},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let Q=0;Q<H.length;Q+=3){const Ue=H[Q],bt=Q+1<H.length,en=bt?H[Q+1]:0,$r=Q+2<H.length,Kt=$r?H[Q+2]:0;let Cn=(15&en)<<2|Kt>>6,Dr=63&Kt;$r||(Dr=64,bt||(Cn=64)),he.push(G[Ue>>2],G[(3&Ue)<<4|en>>4],G[Cn],G[Dr])}return he.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(X(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let G=0,he=0;for(;G<H.length;){const Q=H[G++];if(Q<128)V[he++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ue=H[G++];V[he++]=String.fromCharCode((31&Q)<<6|63&Ue)}else if(Q>239&&Q<365){const $r=((7&Q)<<18|(63&H[G++])<<12|(63&H[G++])<<6|63&H[G++])-65536;V[he++]=String.fromCharCode(55296+($r>>10)),V[he++]=String.fromCharCode(56320+(1023&$r))}else{const Ue=H[G++],bt=H[G++];V[he++]=String.fromCharCode((15&Q)<<12|(63&Ue)<<6|63&bt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let Q=0;Q<H.length;){const Ue=G[H.charAt(Q++)],en=Q<H.length?G[H.charAt(Q)]:0;++Q;const Kt=Q<H.length?G[H.charAt(Q)]:64;++Q;const Pt=Q<H.length?G[H.charAt(Q)]:64;if(++Q,null==Ue||null==en||null==Kt||null==Pt)throw Error();he.push(Ue<<2|en>>4),64!==Kt&&(he.push(en<<4&240|Kt>>2),64!==Pt&&he.push(Kt<<6&192|Pt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ne=function(H){return function(H){const V=X(H);return oe.encodeByteArray(V,!0)}(H).replace(/\./g,"")},j=function(H){try{return oe.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!qe(G)||(H[G]=J(H[G],V[G]));return H}function qe(H){return"__proto__"!==H}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,he)=>{G?this.reject(G):this.resolve(he),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,he))}}}function Re(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=V||"demo-project",Q=H.iat||0,Ue=H.sub||H.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:Q,exp:Q+3600,auth_time:Q,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(bt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function tt(){return"object"==typeof self&&self.self===self}function Ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Fe().indexOf("Electron/")>=0}function be(){const H=Fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function $e(){return Fe().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function se(){return new Promise((H,V)=>{try{let G=!0;const he="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(he);Q.onsuccess=()=>{Q.result.close(),G||self.indexedDB.deleteDatabase(he),H(!0)},Q.onupgradeneeded=()=>{G=!1},Q.onerror=()=>{var Ue;V((null===(Ue=Q.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(G){V(G)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(V,G,he){super(G),this.code=V,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(V,G,he){this.service=V,this.serviceName=G,this.errors=he}create(V,...G){const he=G[0]||{},Q=`${this.service}/${V}`,Ue=this.errors[V],bt=Ue?function an(H,V){return H.replace(Kn,(G,he)=>{const Q=V[he];return null!=Q?String(Q):`<${he}?>`})}(Ue,he):"Error";return new ce(Q,`${this.serviceName}: ${bt} (${Q}).`,he)}}const Kn=/\{\$([^}]+)}/g;function ln(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function xr(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function no(H,V){if(H===V)return!0;const G=Object.keys(H),he=Object.keys(V);for(const Q of G){if(!he.includes(Q))return!1;const Ue=H[Q],bt=V[Q];if(ti(Ue)&&ti(bt)){if(!no(Ue,bt))return!1}else if(Ue!==bt)return!1}for(const Q of he)if(!G.includes(Q))return!1;return!0}function ti(H){return null!==H&&"object"==typeof H}function as(H){const V=[];for(const[G,he]of Object.entries(H))Array.isArray(he)?he.forEach(Q=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(he));return V.length?"&"+V.join("&"):""}function ni(H){const V={};return H.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[Q,Ue]=he.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Ue)}}),V}function Ts(H){const V=H.indexOf("?");if(!V)return"";const G=H.indexOf("#",V);return H.substring(V,G>0?G:void 0)}function ct(H,V){const G=new gi(H,V);return G.subscribe.bind(G)}class gi{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(he=>{this.error(he)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,he){let Q;if(void 0===V&&void 0===G&&void 0===he)throw new Error("Missing Observer.");Q=function hr(H,V){if("object"!=typeof H||null===H)return!1;for(const G of V)if(G in H&&"function"==typeof H[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:he},void 0===Q.next&&(Q.next=Oi),void 0===Q.error&&(Q.error=Oi),void 0===Q.complete&&(Q.complete=Oi);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(bt){}}),this.observers.push(Q),Ue}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oi(){}function Ho(H,V=1e3,G=2){const he=V*Math.pow(G,H),Q=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+Q)}function ht(H){return H&&H._delegate?H._delegate:H}function Yr(H,V){return new Promise((G,he)=>{H.onsuccess=Q=>{G(Q.target.result)},H.onerror=Q=>{var Ue;he(`${V}: ${null===(Ue=Q.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class Yt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,G){return new Ke(this._db.transaction.call(this._db,V,G))}createObjectStore(V,G){return new Ie(this._db.createObjectStore(V,G))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise((G,he)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new Je(this._store.index(V))}createIndex(V,G,he){return new Je(this._store.createIndex(V,G,he))}get(V){return Yr(this._store.get(V),"Error reading from IndexedDB")}put(V,G){return Yr(this._store.put(V,G),"Error writing to IndexedDB")}delete(V){return Yr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Yr(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(V){this._index=V}get(V){return Yr(this._index.get(V),"Error reading from IndexedDB")}}function ft(H,V,G){return new Promise((he,Q)=>{try{const Ue=indexedDB.open(H,V);Ue.onsuccess=bt=>{he(new Yt(bt.target.result))},Ue.onerror=bt=>{var en;Q(`Error opening indexedDB: ${null===(en=bt.target.error)||void 0===en?void 0:en.message}`)},Ue.onupgradeneeded=bt=>{G(new Yt(Ue.result),bt.oldVersion,bt.newVersion,new Ke(Ue.transaction))}}catch(Ue){Q(`Error opening indexedDB: ${Ue.message}`)}})}function Gt(H){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(H){return new Promise((V,G)=>{try{const he=indexedDB.deleteDatabase(H);he.onsuccess=()=>{V()},he.onerror=Q=>{var Ue;G(`Error deleting indexedDB database "${H}": ${null===(Ue=Q.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(he){G(`Error deleting indexedDB database "${H}": ${he.message}`)}})})).apply(this,arguments)}},9541:(st,Ce,R)=>{var u=R(5e3);let K=null;function L(){return K}const oe=new u.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ne(){return(0,u.LFG)(Y)}()},providedIn:"platform"}),n})();const j=new u.OlP("Location Initialized");let Y=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function qe(){return new Y((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const e=(0,u.LFG)(oe).location;return new Ze((0,u.LFG)(ie),e&&e.origin||"")}()},providedIn:"root"}),n})();const tt=new u.OlP("appBaseHref");let Ze=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Fe(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Fe(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(tt,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Fe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Fe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(tt,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(Ye(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Me,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return new ve((0,u.LFG)(pe),(0,u.LFG)(ie))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function fn(n,e){return wr((0,u.cg1)(n)[u.wAp.DateFormat],e)}function Es(n,e){return wr((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function ln(n,e){return wr((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function zt(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(void 0===r){if(e===ce.CurrencyDecimal)return t[u.wAp.NumberSymbols][ce.Decimal];if(e===ce.CurrencyGroup)return t[u.wAp.NumberSymbols][ce.Group]}return r}function Ts(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function hr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const br=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ro={},ll=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.ShortGMT=1]="ShortGMT",Zt[Zt.Long=2]="Long",Zt[Zt.Extended=3]="Extended",Zt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),St=(()=>((St=St||{})[St.DayPeriods=0]="DayPeriods",St[St.Days=1]="Days",St[St.Months=2]="Months",St[St.Eras=3]="Eras",St))();function Or(n,e,t,r){let i=function en(n){if(Kt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return ls(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(br))return function $r(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,_,D),e}(r)}const e=new Date(n);if(!Kt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Wt(t,e)||e;let f,c=[];for(;e;){if(f=ll.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const S=c.pop();if(!S)break;e=S}}let _=i.getTimezoneOffset();r&&(_=Q(r,_),i=function bt(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Ue(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Q(e,i)-i))}(i,r,!0));let D="";return c.forEach(S=>{const A=function he(n){if(G[n])return G[n];let e;switch(n){case"G":case"GG":case"GGG":e=Yt(St.Eras,ae.Abbreviated);break;case"GGGG":e=Yt(St.Eras,ae.Wide);break;case"GGGGG":e=Yt(St.Eras,ae.Narrow);break;case"y":e=ht(ot.FullYear,1,0,!1,!0);break;case"yy":e=ht(ot.FullYear,2,0,!0,!0);break;case"yyy":e=ht(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=ht(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ht(ot.Month,1,1);break;case"MM":case"LL":e=ht(ot.Month,2,1);break;case"MMM":e=Yt(St.Months,ae.Abbreviated);break;case"MMMM":e=Yt(St.Months,ae.Wide);break;case"MMMMM":e=Yt(St.Months,ae.Narrow);break;case"LLL":e=Yt(St.Months,ae.Abbreviated,ge.Standalone);break;case"LLLL":e=Yt(St.Months,ae.Wide,ge.Standalone);break;case"LLLLL":e=Yt(St.Months,ae.Narrow,ge.Standalone);break;case"w":e=H(1);break;case"ww":e=H(2);break;case"W":e=H(1,!0);break;case"d":e=ht(ot.Date,1);break;case"dd":e=ht(ot.Date,2);break;case"c":case"cc":e=ht(ot.Day,1);break;case"ccc":e=Yt(St.Days,ae.Abbreviated,ge.Standalone);break;case"cccc":e=Yt(St.Days,ae.Wide,ge.Standalone);break;case"ccccc":e=Yt(St.Days,ae.Narrow,ge.Standalone);break;case"cccccc":e=Yt(St.Days,ae.Short,ge.Standalone);break;case"E":case"EE":case"EEE":e=Yt(St.Days,ae.Abbreviated);break;case"EEEE":e=Yt(St.Days,ae.Wide);break;case"EEEEE":e=Yt(St.Days,ae.Narrow);break;case"EEEEEE":e=Yt(St.Days,ae.Short);break;case"a":case"aa":case"aaa":e=Yt(St.DayPeriods,ae.Abbreviated);break;case"aaaa":e=Yt(St.DayPeriods,ae.Wide);break;case"aaaaa":e=Yt(St.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=Yt(St.DayPeriods,ae.Abbreviated,ge.Standalone,!0);break;case"bbbb":e=Yt(St.DayPeriods,ae.Wide,ge.Standalone,!0);break;case"bbbbb":e=Yt(St.DayPeriods,ae.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yt(St.DayPeriods,ae.Abbreviated,ge.Format,!0);break;case"BBBB":e=Yt(St.DayPeriods,ae.Wide,ge.Format,!0);break;case"BBBBB":e=Yt(St.DayPeriods,ae.Narrow,ge.Format,!0);break;case"h":e=ht(ot.Hours,1,-12);break;case"hh":e=ht(ot.Hours,2,-12);break;case"H":e=ht(ot.Hours,1);break;case"HH":e=ht(ot.Hours,2);break;case"m":e=ht(ot.Minutes,1);break;case"mm":e=ht(ot.Minutes,2);break;case"s":e=ht(ot.Seconds,1);break;case"ss":e=ht(ot.Seconds,2);break;case"S":e=ht(ot.FractionalSeconds,1);break;case"SS":e=ht(ot.FractionalSeconds,2);break;case"SSS":e=ht(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ie(Zt.Short);break;case"ZZZZZ":e=Ie(Zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ie(Zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ie(Zt.Long);break;default:return null}return G[n]=e,e}(S);D+=A?A(i,t,_):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function ls(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wt(n,e){const t=function an(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(ro[t]=ro[t]||{},ro[t][e])return ro[t][e];let r="";switch(e){case"shortDate":r=fn(n,xe.Short);break;case"mediumDate":r=fn(n,xe.Medium);break;case"longDate":r=fn(n,xe.Long);break;case"fullDate":r=fn(n,xe.Full);break;case"shortTime":r=Es(n,xe.Short);break;case"mediumTime":r=Es(n,xe.Medium);break;case"longTime":r=Es(n,xe.Long);break;case"fullTime":r=Es(n,xe.Full);break;case"short":const i=Wt(n,"shortTime"),a=Wt(n,"shortDate");r=Ho(ln(n,xe.Short),[i,a]);break;case"medium":const c=Wt(n,"mediumTime"),f=Wt(n,"mediumDate");r=Ho(ln(n,xe.Medium),[c,f]);break;case"long":const _=Wt(n,"longTime"),D=Wt(n,"longDate");r=Ho(ln(n,xe.Long),[_,D]);break;case"full":const S=Wt(n,"fullTime"),A=Wt(n,"fullDate");r=Ho(ln(n,xe.Full),[S,A])}return r&&(ro[t][e]=r),r}function Ho(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function jr(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),a+c}function ht(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function Yr(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===ot.Hours)0===f&&-12===t&&(f=12);else if(n===ot.FractionalSeconds)return function Rr(n,e){return jr(n,3).substr(0,e)}(f,e);const _=zt(c,ce.MinusSign);return jr(f,e,_,r,i)}}function Yt(n,e,t=ge.Format,r=!1){return function(i,a){return function Ke(n,e,t,r,i,a){switch(t){case St.Months:return function wt(n,e,t){const r=(0,u.cg1)(n),a=wr([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return wr(a,t)}(e,i,r)[n.getMonth()];case St.Days:return function lt(n,e,t){const r=(0,u.cg1)(n),a=wr([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return wr(a,t)}(e,i,r)[n.getDay()];case St.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const D=function Ss(n){const e=(0,u.cg1)(n);return Ts(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?hr(r):[hr(r[0]),hr(r[1])])}(e),S=function ct(n,e,t){const r=(0,u.cg1)(n);Ts(r);const a=wr([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return wr(a,t)||[]}(e,i,r),A=D.findIndex(N=>{if(Array.isArray(N)){const[B,$]=N,ee=c>=B.hours&&f>=B.minutes,_e=c<$.hours||c===$.hours&&f<$.minutes;if(B.hours<$.hours){if(ee&&_e)return!0}else if(ee||_e)return!0}else if(N.hours===c&&N.minutes===f)return!0;return!1});if(-1!==A)return S[A]}return function Kn(n,e,t){const r=(0,u.cg1)(n),a=wr([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return wr(a,t)}(e,i,r)[c<12?0:1];case St.Eras:return function _n(n,e){return wr((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Ie(n){return function(e,t,r){const i=-1*r,a=zt(t,ce.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Zt.Short:return(i>=0?"+":"")+jr(c,2,a)+jr(Math.abs(i%60),2,a);case Zt.ShortGMT:return"GMT"+(i>=0?"+":"")+jr(c,1,a);case Zt.Long:return"GMT"+(i>=0?"+":"")+jr(c,2,a)+":"+jr(Math.abs(i%60),2,a);case Zt.Extended:return 0===r?"Z":(i>=0?"+":"")+jr(c,2,a)+":"+jr(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ut(n){return ls(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function H(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=Ut(t),c=function Gt(n){const e=ls(n,0,1).getDay();return ls(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return jr(i,n,zt(r,ce.MinusSign))}}function V(n,e=!1){return function(t,r){return jr(Ut(t).getFullYear(),n,zt(r,ce.MinusSign),e)}}const G={};function Q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Kt(n){return n instanceof Date&&!isNaN(n.valueOf())}let Ms=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class oo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new oo(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),As(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{As(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function As(n,e){n.context.$implicit=e.item}let Pn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class mn{constructor(){this.$implicit=null,this.ngIf=null}}function Zl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Kl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let _i=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ri=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Kl(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(_i,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function sr(n,e){return new u.vHH(2100,"")}class oh{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class kg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const xs=new kg,xg=new oh;let cs=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return xs;if((0,u.F4k)(t))return xg;throw sr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})();const Rg=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let up=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,a){var c;if(null==t||""===t||t!=t)return null;try{return Or(t,r,a||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(f){throw sr()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(Rg,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0}),n})(),kn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const co="browser";function Nr(n){return"server"===n}let ru=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new iu((0,u.LFG)(oe),window)}),n})();class iu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function fl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Os(this.window.history)||Os(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Os(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ho extends class Ia extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new ho)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dh(){return gn=gn||document.querySelector("base"),gn?gn.getAttribute("href"):null}();return null==t?null:function Wo(n){Go=Go||document.createElement("a"),Go.setAttribute("href",n);const e=Go.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ea(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Go,gn=null;const Gr=new u.OlP("TRANSITION_ID"),pl=[{provide:u.ip1,useFactory:function Jn(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Gr,oe,u.zs3],multi:!0}];class qi{static init(){(0,u.VLi)(new qi)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Wr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fo=new u.OlP("EventManagerPlugins");let Rs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class su{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),po=(()=>{class n extends wi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(mo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(mo))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function mo(n){L().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ou=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ee(n,i,t):(i=i.replace(ou,n),t.push(i))}return t}function Ht(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let xn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ma(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Mc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Ac(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rs),u.LFG(po),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ma{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=pt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ht(r)):this.eventManager.addEventListener(e,t,Ht(r))}}class Mc extends Ma{constructor(e,t,r,i){super(e),this.component=r;const a=Ee(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Tc(n){return"_ngcontent-%COMP%".replace(ou,n)}(i+"-"+r.id),this.hostAttr=function Sc(n){return"_nghost-%COMP%".replace(ou,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ac extends Ma{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ee(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hh=(()=>{class n extends su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const kc=["alt","control","meta","shift"],go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let du=(()=>{class n extends su{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(kc.forEach(_=>{const D=r.indexOf(_);D>-1&&(r.splice(D,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function _o(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Pr.hasOwnProperty(e)&&(e=Pr[e]))}return go[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kc.forEach(a=>{a!=i&&Ni[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Oc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:co},{provide:u.g9A,useValue:function zi(){ho.makeCurrent(),qi.init()},multi:!0},{provide:oe,useFactory:function hu(){return(0,u.RDi)(document),document},deps:[]}]),gl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function xc(){return new u.qLn},deps:[]},{provide:fo,useClass:hh,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:fo,useClass:du,multi:!0,deps:[oe]},{provide:xn,useClass:xn,deps:[Rs,po,u.AFp]},{provide:u.FYo,useExisting:xn},{provide:wi,useExisting:po},{provide:po,useClass:po,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Rs,useClass:Rs,deps:[fo,u.R0b]},{provide:class In{},useClass:Wr,deps:[]}];let ka=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Gr,useExisting:u.AFp},pl]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:gl,imports:[kn,u.hGG]}),n})();"undefined"!=typeof window&&window;var Xn=R(8996),er=R(3269);function mt(...n){const e=(0,er.yG)(n);return(0,Xn.D)(n,e)}var Fn=R(7579);class ar extends Fn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Cr=R(8306);const{isArray:Oa}=Array,{getPrototypeOf:bh,prototype:Tn,keys:fp}=Object;function Zi(n){if(1===n.length){const e=n[0];if(Oa(e))return{args:e,keys:null};if(function mu(n){return n&&"object"==typeof n&&bh(n)===Tn}(e)){const t=fp(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Pi=R(4671),xt=R(4004);const{isArray:Dh}=Array;function Hc(n){return(0,xt.U)(e=>function Uc(n,e){return Dh(e)?n(...e):n(e)}(n,e))}function Qo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var tr=R(5403),Ps=R(9672);function Jo(...n){const e=(0,er.yG)(n),t=(0,er.jO)(n),{args:r,keys:i}=Zi(n);if(0===r.length)return(0,Xn.D)([],e);const a=new Cr.y(function Fi(n,e,t=Pi.y){return r=>{wo(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)wo(e,()=>{const D=(0,Xn.D)(n[_],e);let S=!1;D.subscribe((0,tr.x)(r,A=>{a[_]=A,S||(S=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Qo(i,c):Pi.y));return t?a.pipe(Hc(t)):a}function wo(n,e,t){n?(0,Ps.f)(t,n,e):e()}var Vi=R(576);function ds(n,e){const t=(0,Vi.m)(n)?n:()=>n,r=i=>i.error(t());return new Cr.y(e?i=>e.schedule(r,0,i):r)}const bo=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hs=R(8189);function Ch(...n){return function Yc(){return(0,hs.J)(1)}()((0,Xn.D)(n,(0,er.yG)(n)))}var Do=R(8421);function Ki(n){return new Cr.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var Ra=R(515),fs=R(727),zr=R(4482);function Qi(){return(0,zr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,tr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Eh extends Cr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,zr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,tr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fs.w0.EMPTY)}return e}refCount(){return Qi()(this)}}function Vn(n,e){return(0,zr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,tr.x)(r,_=>{null==i||i.unsubscribe();let D=0;const S=a++;(0,Do.Xf)(n(_,S)).subscribe(i=(0,tr.x)(r,A=>r.next(e?e(_,A,S,D++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var Co=R(5698);function Ji(...n){const e=(0,er.yG)(n);return(0,zr.e)((t,r)=>{(e?Ch(n,t,e):Ch(n,t)).subscribe(r)})}function La(n,e,t,r,i){return(a,c)=>{let f=t,_=e,D=0;a.subscribe((0,tr.x)(c,S=>{const A=D++;_=f?n(_,S,A):(f=!0,S),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function Fr(n,e){return(0,zr.e)(La(n,e,arguments.length>=2,!0))}function On(n,e){return(0,zr.e)((t,r)=>{let i=0;t.subscribe((0,tr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function ps(n){return(0,zr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,tr.x)(t,void 0,void 0,c=>{a=(0,Do.Xf)(n(c,ps(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Bn=R(5577);function Eo(n,e){return(0,Vi.m)(e)?(0,Bn.z)(n,e,1):(0,Bn.z)(n,1)}function Th(n){return n<=0?()=>Ra.E:(0,zr.e)((e,t)=>{let r=[];e.subscribe((0,tr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gn(n=Fg){return(0,zr.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fg(){return new bo}function Vg(n){return(0,zr.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function To(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,a)=>n(i,a,r)):Pi.y,(0,Co.q)(1),t?Vg(e):Gn(()=>new bo))}var Di=R(8505);class So{constructor(e,t){this.id=e,this.url=t}}class Fs extends So{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gu extends So{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Un extends So{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $c extends So{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xo extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sh extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yl extends So{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Er extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ih{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hg{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pp{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class Bs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nr(n){return new Bs(n)}const _u="ngNavigationCancelingError";function Io(n){const e=Error("NavigationCancelingError: "+n);return e[_u]=!0,e}function Mh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Gc(n[i],e[i]))return!1;return!0}function Gc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function wl(n){return Array.prototype.concat.apply([],n)}function Ah(n){return n.length>0?n[n.length-1]:null}function pr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function E(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):mt(n)}const x={exact:function ke(n,e,t){if(!es(n.segments,e.segments)||!Bt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ke(n.children[r],e.children[r],t))return!1;return!0},subset:It},F={exact:function re(n,e){return Hs(n,e)},subset:function Xe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gc(n[t],e[t]))},ignored:()=>!0};function q(n,e,t){return x[t.paths](n.root,e.root,t.matrixParams)&&F[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function It(n,e,t){return Tt(n,e,e.segments,t)}function Tt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!es(i,t)||e.hasChildren()||!Bt(i,t,r))}if(n.segments.length===t.length){if(!es(n.segments,t)||!Bt(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!It(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(es(n.segments,i)&&Bt(n.segments,i,r)&&n.children[$t])&&Tt(n.children[$t],e,a,r)}}function Bt(n,e,t){return e.every((r,i)=>F[t](n[i].parameters,r.parameters))}class Dt{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return vu.serialize(this)}}class Ct{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wc(this)}}class jt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return Dl(this)}}function es(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class oi{}class ms{parse(e){const t=new xh(e);return new Dt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ao(e.root,!0)}`,r=function Iv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bu(t)}=${bu(i)}`).join("&"):`${bu(t)}=${bu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Du(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vu=new ms;function Wc(n){return n.segments.map(e=>Dl(e)).join("/")}function Ao(n,e){if(!n.hasChildren())return Wc(n);if(e){const t=n.children[$t]?Ao(n.children[$t],!1):"",r=[];return pr(n.children,(i,a)=>{a!==$t&&r.push(`${a}:${Ao(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ta(n,e){let t=[];return pr(n.children,(r,i)=>{i===$t&&(t=t.concat(e(r,i)))}),pr(n.children,(r,i)=>{i!==$t&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===$t?[Ao(n.children[$t],!1)]:[`${i}:${Ao(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${Wc(n)}/${t[0]}`:`${Wc(n)}/(${t.join("//")})`}}function wu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bu(n){return wu(n).replace(/%3B/gi,";")}function kh(n){return wu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qc(n){return decodeURIComponent(n)}function zc(n){return qc(n.replace(/\+/g,"%20"))}function Dl(n){return`${kh(n.path)}${function jg(n){return Object.keys(n).map(e=>`;${kh(e)}=${kh(n[e])}`).join("")}(n.parameters)}`}const Mv=/^[^\/()?;=#]+/;function js(n){const e=n.match(Mv);return e?e[0]:""}const Zc=/^[^=?&#]+/,kv=/^[^&#]+/;class xh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$t]=new Ct(e,t)),r}parseSegment(){const e=js(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new jt(qc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=js(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=js(this.remaining);i&&(r=i,this.capture(r))}e[qc(t)]=qc(r)}parseQueryParam(e){const t=function Av(n){const e=n.match(Zc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Yg(n){const e=n.match(kv);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=zc(t),a=zc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=js(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=$t);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[$t]:new Ct([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gp(e,this._root).map(t=>t.value)}}function mp(n,e){if(n===e.value)return e;for(const t of e.children){const r=mp(n,t);if(r)return r}return null}function gp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=gp(n,t);if(r.length)return r.unshift(e),r}return[]}class na{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ra(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Oh extends xv{constructor(e,t){super(e),this.snapshot=t,Lh(this,e)}toString(){return this.snapshot.toString()}}function Cl(n,e){const t=function Ov(n,e){const c=new Cu([],{},{},"",{},$t,e,null,n.root,-1,{});return new _p("",new na(c,[]))}(n,e),r=new ar([new jt("",{})]),i=new ar({}),a=new ar({}),c=new ar({}),f=new ar(""),_=new Na(r,i,c,f,a,$t,e,t.root);return _.snapshot=t.root,new Oh(new na(_,[]),t)}class Na{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>nr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>nr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Rh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cu{constructor(e,t,r,i,a,c,f,_,D,S,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=S,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _p extends xv{constructor(e,t){super(t),this.url=e,Lh(this,t)}toString(){return Nh(this._root)}}function Lh(n,e){e.value._routerState=n,e.children.forEach(t=>Lh(n,t))}function Nh(n){const e=n.children.length>0?` { ${n.children.map(Nh).join(", ")} } `:"";return`${n.value}${e}`}function Ph(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hs(e.params,t.params)||n.params.next(t.params),function Us(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yp(n,e){const t=Hs(n.params,e.params)&&function bl(n,e){return es(n,e)&&n.every((t,r)=>Hs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yp(n.parent,e.parent))}function Kc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function vp(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kc(n,r,i);return Kc(n,r)})}(n,e,t);return new na(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Kc(n,f)),c}}const r=function Nv(n){return new Na(new ar(n.url),new ar(n.params),new ar(n.queryParams),new ar(n.fragment),new ar(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Kc(n,a));return new na(r,i)}}function Pa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eu(n){return"object"==typeof n&&null!=n&&n.outlets}function $g(n,e,t,r,i){let a={};if(r&&pr(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(D=>`${D}`):`${f}`}),n===e)return new Dt(t,a,i);const c=wp(n,e,t);return new Dt(c,a,i)}function wp(n,e,t){const r={};return pr(n.children,(i,a)=>{r[a]=i===e?t:wp(i,e,t)}),new Ct(n.segments,r)}class Pv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pa(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Eu);if(i&&i!==Ah(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uv(n,e,t){if(n||(n=new Ct([],{})),0===n.segments.length&&n.hasChildren())return xo(n,e,t);const r=function uD(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(Eu(f))break;const _=`${f}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!ts(_,D,c))return a;r+=2}else{if(!ts(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ct(n.segments.slice(0,r.pathIndex),{});return a.children[$t]=new Ct(n.segments.slice(r.pathIndex),n.children),xo(a,0,i)}return r.match&&0===i.length?new Ct(n.segments,{}):r.match&&!n.hasChildren()?Dp(n,e,t):r.match?xo(n,0,i):Dp(n,e,t)}function xo(n,e,t){if(0===t.length)return new Ct(n.segments,{});{const r=function Bv(n){return Eu(n[0])?n[0].outlets:{[$t]:n}}(t),i={};return pr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Uv(n.children[c],e,a))}),pr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Ct(n.segments,i)}}function Dp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Eu(a)){const _=Tu(a.outlets);return new Ct(r,_)}if(0===i&&Pa(t[0])){r.push(new jt(n.segments[e].path,Cp(t[0]))),i++;continue}const c=Eu(a)?a.outlets[$t]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Pa(f)?(r.push(new jt(c,Cp(f))),i+=2):(r.push(new jt(c,{})),i++)}return new Ct(r,{})}function Tu(n){const e={};return pr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Dp(new Ct([],{}),0,t))}),e}function Cp(n){const e={};return pr(n,(t,r)=>e[r]=`${t}`),e}function ts(n,e,t){return n==t.path&&Hs(e,t.parameters)}class Wg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ph(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ra(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),pr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ra(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ra(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ra(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Hg(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ea(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Ph(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Ph(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function Fh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Vh{constructor(e,t){this.routes=e,this.module=t}}function El(n){return"function"==typeof n}function Su(n){return n instanceof Dt}const Jc=Symbol("INITIAL_VALUE");function Fa(){return Vn(n=>Jo(n.map(e=>e.pipe((0,Co.q)(1),Ji(Jc)))).pipe(Fr((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Jc?i:(a===Jc&&(r=!0),r||!1!==a&&c!==t.length-1&&!Su(a)?i:a),e)},Jc),On(e=>e!==Jc),(0,xt.U)(e=>Su(e)?e:!0===e),(0,Co.q)(1)))}class Hv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xc,this.attachRef=null}}class Xc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Iu=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Ip(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xc),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ip{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Na?this.route:e===Xc?this.childContexts:this.parent.get(e,t)}}let Mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Iu],encapsulation:2}),n})();function ed(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Bh(r,Ap(e,r))}}function Bh(n,e){n.children&&ed(n.children,e)}function Ap(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function kp(n){const e=n.children&&n.children.map(kp),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=Mp),t}function dn(n){return n.outlet||$t}function xp(n,e){const t=n.filter(r=>dn(r)===e);return t.push(...n.filter(r=>dn(r)!==e)),t}const zg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},zg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Mh)(t,n,e);if(!a)return Object.assign({},zg);const c={};pr(a.posParams,(_,D)=>{c[D]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function td(n,e,t,r,i="corrected"){if(t.length>0&&function Yv(n,e,t){return t.some(r=>Hh(n,e,r)&&dn(r)!==$t)}(n,t,r)){const c=new Ct(e,function Uh(n,e,t,r){const i={};i[$t]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&dn(a)!==$t){const c=new Ct([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[dn(a)]=c}return i}(n,e,r,new Ct(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Zg(n,e,t){return t.some(r=>Hh(n,e,r))}(n,t,r)){const c=new Ct(n.segments,function jv(n,e,t,r,i,a){const c={};for(const f of r)if(Hh(n,t,f)&&!i[dn(f)]){const _=new Ct([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[dn(f)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Ct(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Hh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $v(n,e,t,r){return!!(dn(n)===r||r!==$t&&Hh(e,t,n))&&("**"===n.path||Mu(e,n,t).matched)}function Gv(n,e,t){return 0===e.length&&!n.children[t]}class Va{constructor(e){this.segmentGroup=e||null}}class Zr{constructor(e){this.urlTree=e}}function ia(n){return ds(new Va(n))}function nd(n){return ds(new Zr(n))}class Rp{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=td(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ct(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,xt.U)(a=>this.createUrlTree(Sl(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ps(a=>{if(a instanceof Zr)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Va?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,xt.U)(i=>this.createUrlTree(Sl(i),e.queryParams,e.fragment))).pipe(ps(i=>{throw i instanceof Va?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ct([],{[$t]:e}):e;return new Dt(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(a=>new Ct([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Xn.D)(i).pipe(Eo(a=>{const c=r.children[a],f=xp(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,xt.U)(_=>({segment:_,outlet:a})))}),Fr((a,c)=>(a[c.outlet]=c.segment,a),{}),function Bg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,a)=>n(i,a,r)):Pi.y,Th(1),t?Vg(e):Gn(()=>new bo))}())}expandSegment(e,t,r,i,a,c){return(0,Xn.D)(r).pipe(Eo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(ps(D=>{if(D instanceof Va)return mt(null);throw D}))),To(f=>!!f),ps((f,_)=>{if(f instanceof bo||"EmptyError"===f.name)return Gv(t,i,a)?mt(new Ct([],{})):ia(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return $v(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):ia(t):ia(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nd(a):this.lineralizeSegments(r,a).pipe((0,Bn.z)(c=>{const f=new Ct(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:D,positionalParamSegments:S}=Mu(t,i,a);if(!f)return ia(t);const A=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?nd(A):this.lineralizeSegments(i,A).pipe((0,Bn.z)(N=>this.expandSegment(e,t,r,N.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?mt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,xt.U)(A=>(r._loadedConfig=A,new Ct(i,{})))):mt(new Ct(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=Mu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Bn.z)(S=>{const A=S.module,N=S.routes,{segmentGroup:B,slicedSegments:$}=td(t,f,_,N),ee=new Ct(B.segments,B.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(A,N,ee).pipe((0,xt.U)(ze=>new Ct(f,ze)));if(0===N.length&&0===$.length)return mt(new Ct(f,{}));const _e=dn(r)===a;return this.expandSegment(A,ee,N,$,_e?$t:a,!0).pipe((0,xt.U)(Oe=>new Ct(f.concat(Oe.segments),Oe.children)))})):ia(t)}getChildConfig(e,t,r){return t.children?mt(new Vh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?mt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Bn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,xt.U)(a=>(t._loadedConfig=a,a))):function ai(n){return ds(Io(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):mt(new Vh([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?mt(i.map(c=>{const f=e.get(c);let _;if(function Ep(n){return n&&El(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!El(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return E(_)})).pipe(Fa(),(0,Di.b)(c=>{if(!Su(c))return;const f=Io(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,xt.U)(c=>!0===c)):mt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[$t])return ds(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[$t]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Dt(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return pr(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new Ct(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Sl(n){const e={};for(const r of Object.keys(n.children)){const a=Sl(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ns(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new Ct(n.segments.concat(e.segments),e.children)}return n}(new Ct(n.segments,e))}class Kg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Il{constructor(e,t){this.component=e,this.route=t}}function Np(n,e,t){const r=n._root;return Bi(r,e?e._root:null,t,[r.value])}function rd(n,e,t){const r=function Wv(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Bi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ra(e);return n.children.forEach(c=>{(function Jg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function qv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!es(n.url,e.url);case"pathParamsOrQueryParamsChange":return!es(n.url,e.url)||!Hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yp(n,e)||!Hs(n.queryParams,e.queryParams);default:return!yp(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Kg(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Bi(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Il(f.outlet.component,c))}else c&&Ml(e,f,i),i.canActivateChecks.push(new Kg(r)),Bi(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),pr(a,(c,f)=>Ml(c,t.getContext(f),i)),i}function Ml(n,e,t){const r=ra(n),i=n.value;pr(r,(a,c)=>{Ml(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Il(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Vp{}function Bp(n){return new Cr.y(e=>e.error(n))}class Up{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=td(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const r=new Cu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new na(r,t),a=new _p(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Rv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=xp(e,a),_=this.processSegmentGroup(f,c,a);if(null===_)return null;r.push(..._)}const i=e_(r);return function Qv(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return Gv(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!$v(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?Ah(r).parameters:{};a=new Cu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),dn(e),e.component,e,p(t),g(t)+r.length,I(e))}else{const B=Mu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new Cu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),dn(e),e.component,e,p(t),g(t)+c.length,I(e))}const _=function Jv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:S}=td(t,c,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&D.hasChildren()){const B=this.processChildren(_,D);return null===B?null:[new na(a,B)]}if(0===_.length&&0===S.length)return[new na(a,[])];const A=dn(e)===i,N=this.processSegment(_,D,S,A?$t:i);return null===N?null:[new na(a,N)]}}function Xv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function e_(n){const e=[],t=new Set;for(const r of n){if(!Xv(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=e_(r.children);e.push(new na(r.value,i))}return e.filter(r=>!t.has(r))}function p(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function w(n){return n.data||{}}function I(n){return n.resolve||{}}function et(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return Vn(e=>{const t=n(e);return t?(0,Xn.D)(t).pipe((0,xt.U)(()=>e)):mt(e)})}class sd extends class gs{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Au=new u.OlP("ROUTES");class ku{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,xt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new Vh(wl(c.injector.get(Au,void 0,u.XFs.Self|u.XFs.Optional)).map(kp),c)}),ps(a=>{throw t._loader$=void 0,a}));return t._loader$=new Eh(i,()=>new Fn.x).pipe(Qi()),t._loader$}loadModuleFactory(e){return E(e()).pipe((0,Bn.z)(t=>t instanceof u.YKP?mt(t):(0,Xn.D)(this.compiler.compileModuleAsync(t))))}}class e0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ba(n){throw n}function jh(n,e,t){return e.parse("/")}function Yh(n,e){return mt(null)}const jp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$h={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fn.x,this.errorHandler=Ba,this.malformedUriErrorHandler=jh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yh,afterPreactivation:Yh},this.urlHandlingStrategy=new e0,this.routeReuseStrategy=new sd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const A=c.get(u.R0b);this.isNgZoneEnabled=A instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function T(){return new Dt(new Ct([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ku(c,f,N=>this.triggerEvent(new vl(N)),N=>this.triggerEvent(new Vs(N))),this.routerState=Cl(this.currentUrlTree,this.rootComponentType),this.transitions=new ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(On(i=>0!==i.id),(0,xt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vn(i=>{let a=!1,c=!1;return mt(i).pipe((0,Di.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vn(f=>{const _=this.browserUrlTree.toString(),D=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return t_(f.source)&&(this.browserUrlTree=f.extractedUrl),mt(f).pipe(Vn(A=>{const N=this.transitions.getValue();return r.next(new Fs(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),N!==this.transitions.getValue()?Ra.E:Promise.resolve(A)}),function Lp(n,e,t,r){return Vn(i=>function Tl(n,e,t,r,i){return new Rp(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Di.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function O(n,e,t,r,i){return(0,Bn.z)(a=>function Kv(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new Up(n,e,t,r,i,a).recognize();return null===c?Bp(new Vp):mt(c)}catch(c){return Bp(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,xt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Di.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const N=new Xo(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(N)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:B,source:$,restoredState:ee,extras:_e}=f,Be=new Fs(N,this.serializeUrl(B),$,ee);r.next(Be);const Oe=Cl(B,this.rootComponentType).snapshot;return mt(Object.assign(Object.assign({},f),{targetSnapshot:Oe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ra.E}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!B})}),(0,Di.b)(f=>{const _=new Sh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,xt.U)(f=>Object.assign(Object.assign({},f),{guards:Np(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function zv(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?mt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Xg(n,e,t,r){return(0,Xn.D)(n).pipe((0,Bn.z)(i=>function id(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?mt(a.map(f=>{const _=rd(f,e,i);let D;if(function cD(n){return n&&El(n.canDeactivate)}(_))D=E(_.canDeactivate(n,e,t,r));else{if(!El(_))throw new Error("Invalid CanDeactivate guard");D=E(_(n,e,t,r))}return D.pipe(To())})).pipe(Fa()):mt(!0)}(i.component,i.route,t,e,r)),To(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Bn.z)(f=>f&&function qg(n){return"boolean"==typeof n}(f)?function Kr(n,e,t,r){return(0,Xn.D)(e).pipe(Eo(i=>Ch(function Fp(n,e){return null!==n&&e&&e(new Xi(n)),mt(!0)}(i.route.parent,r),function Pp(n,e){return null!==n&&e&&e(new Ih(n)),mt(!0)}(i.route,r),function sa(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Qg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ki(()=>mt(c.guards.map(_=>{const D=rd(_,c.node,t);let S;if(function Sp(n){return n&&El(n.canActivateChild)}(D))S=E(D.canActivateChild(r,n));else{if(!El(D))throw new Error("Invalid CanActivateChild guard");S=E(D(r,n))}return S.pipe(To())})).pipe(Fa())));return mt(a).pipe(Fa())}(n,i.path,t),function Zv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(a=>Ki(()=>{const c=rd(a,e,t);let f;if(function Tp(n){return n&&El(n.canActivate)}(c))f=E(c.canActivate(e,n));else{if(!El(c))throw new Error("Invalid CanActivate guard");f=E(c(e,n))}return f.pipe(To())}));return mt(i).pipe(Fa())}(n,i.route,t))),To(i=>!0!==i,!0))}(r,a,n,e):mt(f)),(0,xt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Di.b)(f=>{if(Su(f.guardsResult)){const D=Io(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw D.url=f.guardsResult,D}const _=new yl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),On(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),at(f=>{if(f.guards.canActivateChecks.length)return mt(f).pipe((0,Di.b)(_=>{const D=new Er(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}),Vn(_=>{let D=!1;return mt(_).pipe(function W(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let a=0;return(0,Xn.D)(i).pipe(Eo(c=>function ue(n,e,t,r){return function He(n,e,t,r){const i=et(n);if(0===i.length)return mt({});const a={};return(0,Xn.D)(i).pipe((0,Bn.z)(c=>function Et(n,e,t,r){const i=rd(n,e,r);return E(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Di.b)(f=>{a[c]=f}))),Th(1),(0,Bn.z)(()=>et(a).length===i.length?mt(a):Ra.E))}(n._resolve,n,e,r).pipe((0,xt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Rv(n,t).resolve),null)))}(c.route,r,n,e)),(0,Di.b)(()=>a++),Th(1),(0,Bn.z)(c=>a===i.length?mt(t):Ra.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Di.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Di.b)(_=>{const D=new si(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(D)}))}),at(f=>{const{targetSnapshot:_,id:D,extractedUrl:S,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:D,appliedUrlTree:S,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!B})}),(0,xt.U)(f=>{const _=function Lv(n,e,t){const r=Kc(n,e._root,t?t._root:void 0);return new Oh(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Di.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new Wg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Di.b)({next(){a=!0},complete(){a=!0}}),function Ug(n){return(0,zr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),ps(f=>{if(c=!0,function Mo(n){return n&&n[_u]}(f)){const _=Su(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const D=new Un(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(D),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||t_(i.source)};this.scheduleNavigation(S,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new $c(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return Ra.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ed(t),this.config=t.map(kp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,D=i||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function ko(n,e,t,r,i){if(0===t.length)return $g(e.root,e.root,e.root,r,i);const a=function Fv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return pr(a.outlets,(_,D)=>{f[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Pv(t,e,r)}(t);if(a.toRoot())return $g(e.root,e.root,new Ct([],{}),r,i);const c=function Gg(n,e,t){if(n.isAbsolute)return new bp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new bp(a,a===e.root,0)}const r=Pa(n.commands[0])?0:1;return function Vv(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new bp(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?xo(c.segmentGroup,c.index,a.commands):Uv(c.segmentGroup,c.index,a.commands);return $g(e.root,c.segmentGroup,f,r,i)}(D,this.currentUrlTree,t,A,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Su(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Yp(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},jp):!1===r?Object.assign({},$h):r,Su(t))return q(this.currentUrlTree,t,i);const a=this.parseUrl(t);return q(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,_;if(this.disposed)return Promise.resolve(!1);let D,S,A;c?(D=c.resolve,S=c.reject,A=c.promise):A=new Promise(($,ee)=>{D=$,S=ee});const N=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:N,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:D,reject:S,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Un(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function t_(n){return"imperative"!==n}let xu=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Fn.x,this.subscription=t.events.subscribe(a=>{a instanceof gu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Gh(this.skipLocationChange),replaceUrl:Gh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rs),u.Y36(Na),u.Y36(pe))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function Gh(n){return""===n||!!n}class r0{}class hD{preload(e,t){return mt(null)}}let fD=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new ku(i,r,_=>t.triggerEvent(new vl(_)),_=>t.triggerEvent(new Vs(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(On(t=>t instanceof gu),Eo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Xn.D)(i).pipe((0,hs.J)(),(0,xt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?mt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Bn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rs),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(r0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),n_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ys=new u.OlP("ROUTER_CONFIGURATION"),o0=new u.OlP("ROUTER_FORROOT_GUARD"),pD=[ve,{provide:oi,useClass:ms},{provide:rs,useFactory:function l0(n,e,t,r,i,a,c={},f,_){const D=new rs(null,n,e,t,r,i,wl(a));return f&&(D.urlHandlingStrategy=f),_&&(D.routeReuseStrategy=_),function _D(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),c.enableTracing&&D.events.subscribe(S=>{var A,N;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(N=console.groupEnd)||void 0===N||N.call(console)}),D},deps:[oi,Xc,ve,u.zs3,u.Sil,Au,Ys,[class Hp{},new u.FiY],[class Wn{},new u.FiY]]},Xc,{provide:Na,useFactory:function r_(n){return n.routerState.root},deps:[rs]},fD,hD,class s0{preload(e,t){return t().pipe(ps(()=>mt(null)))}},{provide:Ys,useValue:{enableTracing:!1}}];function FS(){return new u.PXZ("Router",rs)}let li=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[pD,a0(t),{provide:o0,useFactory:gD,deps:[[rs,new u.FiY,new u.tp0]]},{provide:Ys,useValue:r||{}},{provide:pe,useFactory:mD,deps:[ie,[new u.tBr(tt),new u.FiY],Ys]},{provide:n_,useFactory:VS,deps:[rs,ru,Ys]},{provide:r0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:hD},{provide:u.PXZ,multi:!0,useFactory:FS},[Wh,{provide:u.ip1,multi:!0,useFactory:yD,deps:[Wh]},{provide:c0,useFactory:u0,deps:[Wh]},{provide:u.tb,multi:!0,useExisting:c0}]]}}static forChild(t){return{ngModule:n,providers:[a0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(o0,8),u.LFG(rs,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function VS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new n_(n,e,t)}function mD(n,e,t={}){return t.useHash?new Se(n,e):new Ze(n,e)}function gD(n){return"guarded"}function a0(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Au,multi:!0,useValue:n}]}let Wh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(rs),c=this.injector.get(Ys);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?mt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ys),i=this.injector.get(fD),a=this.injector.get(n_),c=this.injector.get(rs),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function yD(n){return n.appInitializer.bind(n)}function u0(n){return n.bootstrapListener.bind(n)}const c0=new u.OlP("Router Initializer"),vD=new u.OlP("GETS_ALL_EVENT_DTO");let bD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),od=(()=>{class n extends bD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const _s=new u.OlP("NgValueAccessor"),ax={provide:_s,useExisting:(0,u.Gpc)(()=>Ua),multi:!0},BS=new u.OlP("CompositionEventMode");let Ua=(()=>{class n extends bD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DD(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(BS,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([ax]),u.qOj]}),n})();function Ou(n){return null==n||0===n.length}function CD(n){return null!=n&&"number"==typeof n.length}const Rn=new u.OlP("NgValidators"),Ru=new u.OlP("NgAsyncValidators"),ED=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lu{static min(e){return function TD(n){return e=>{if(Ou(e.value)||Ou(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function SD(n){return e=>{if(Ou(e.value)||Ou(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function ID(n){return Ou(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function p0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function MD(n){return Ou(n.value)||ED.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function AD(n){return e=>Ou(e.value)||!CD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function kD(n){return e=>CD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Lt(n){if(!n)return $p;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ou(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return s_(e)}static composeAsync(e){return o_(e)}}function $p(n){return null}function m0(n){return null!=n}function g0(n){const e=(0,u.QGY)(n)?(0,Xn.D)(n):n;return(0,u.CqO)(e),e}function Gp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Oo(n,e){return e.map(t=>t(n))}function OD(n){return n.map(e=>function xD(n){return!n.validate}(e)?e:t=>e.validate(t))}function s_(n){if(!n)return null;const e=n.filter(m0);return 0==e.length?null:function(t){return Gp(Oo(t,e))}}function oa(n){return null!=n?s_(OD(n)):null}function o_(n){if(!n)return null;const e=n.filter(m0);return 0==e.length?null:function(t){return function wD(...n){const e=(0,er.jO)(n),{args:t,keys:r}=Zi(n),i=new Cr.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,D=c;for(let S=0;S<c;S++){let A=!1;(0,Do.Xf)(t[S]).subscribe((0,tr.x)(a,N=>{A||(A=!0,D--),f[S]=N},()=>_--,void 0,()=>{(!_||!A)&&(D||a.next(r?Qo(r,f):f),a.complete())}))}});return e?i.pipe(Hc(e)):i}(Oo(t,e).map(g0)).pipe((0,xt.U)(Gp))}}function a_(n){return null!=n?o_(OD(n)):null}function l_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function US(n){return n._rawValidators}function _0(n){return n._rawAsyncValidators}function RD(n){return n?Array.isArray(n)?n:[n]:[]}function ad(n,e){return Array.isArray(n)?n.includes(e):n===e}function Wp(n,e){const t=RD(e);return RD(n).forEach(i=>{ad(t,i)||t.push(i)}),t}function u_(n,e){return RD(e).filter(t=>!ad(n,t))}class c_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=a_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ha extends c_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ys extends c_{get formDirective(){return null}get path(){return null}}class LD{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let ld=(()=>{class n extends LD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ha,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),Nu=(()=>{class n extends LD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ys,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Ro(n,e){qp(n,e),e.valueAccessor.writeValue(n.value),function v0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Al(n,e)})}(n,e),function BD(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Al(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function VD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function f_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qp(n,e){const t=US(n);null!==e.validator?n.setValidators(l_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=_0(n);null!==e.asyncValidator?n.setAsyncValidators(l_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();f_(e._rawValidators,i),f_(e._rawAsyncValidators,i)}function zp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=US(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=_0(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return f_(e._rawValidators,r),f_(e._rawAsyncValidators,r),t}function Al(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Zh="VALID",Kp="INVALID",Fu="PENDING",dd="DISABLED";function Kh(n){return(Qp(n)?n.validators:n)||null}function $D(n){return Array.isArray(n)?oa(n):n||null}function m_(n,e){return(Qp(e)?e.asyncValidators:n)||null}function YS(n){return Array.isArray(n)?a_(n):n||null}function Qp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const D0=n=>n instanceof aa,C0=n=>n instanceof Vu;function WD(n){return D0(n)?n.value:n.getRawValue()}function qD(n,e){const t=C0(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function vs(n,e){C0(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class E0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$D(this._rawValidators),this._composedAsyncValidatorFn=YS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zh}get invalid(){return this.status===Kp}get pending(){return this.status==Fu}get disabled(){return this.status===dd}get enabled(){return this.status!==dd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$D(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=YS(e)}addValidators(e){this.setValidators(Wp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(u_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(u_(e,this._rawAsyncValidators))}hasValidator(e){return ad(this._rawValidators,e)}hasAsyncValidator(e){return ad(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zh||this.status===Fu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dd:Zh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fu,this._hasOwnPendingAsyncValidator=!0;const t=g0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function YD(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=C0(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof yx)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?dd:this.errors?Kp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fu)?Fu:this._anyControlsHaveStatus(Kp)?Kp:Zh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class aa extends E0{constructor(e=null,t,r){super(Kh(t),m_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Vu extends E0{constructor(e,t,r){super(Kh(t),m_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vs(this,e),Object.keys(e).forEach(r=>{qD(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=WD(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yx extends E0{constructor(e,t,r){super(Kh(t),m_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vs(this,e),e.forEach((r,i)=>{qD(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>WD(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Bu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),rC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const S0=new u.OlP("NgModelWithFormControlWarning"),zS={provide:ys,useExisting:(0,u.Gpc)(()=>kl)};let kl=(()=>{class n extends ys{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ro(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qh(t.control||null,t,!1),cd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function p_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(qh(r||null,t),D0(i)&&(Ro(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function UD(n,e){qp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function w0(n,e){return zp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qp(this.form,this),this._oldForm&&zp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Rn,10),u.Y36(Ru,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([zS]),u.qOj,u.TTD]}),n})();const oC={provide:Ha,useExisting:(0,u.Gpc)(()=>Uu)};let Uu=(()=>{class n extends Ha{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Pu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Ua?t=a:function zh(n){return Object.getPrototypeOf(n.constructor)===od}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function ud(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function y0(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(ys,13),u.Y36(Rn,10),u.Y36(Ru,10),u.Y36(_s,10),u.Y36(S0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([oC]),u.qOj,u.TTD]}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[rC]]}),n})(),Qh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:S0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[nI]}),n})();const x0=new u.OlP("REMOVES_EVENT_DTO");function vC(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",20)(1,"td",21),u.O4$(),u.TgZ(2,"svg",22),u._UZ(3,"path",23)(4,"path",24)(5,"path",25),u.qZA(),u.kcU(),u.TgZ(6,"p",26),u._uU(7),u.qZA()(),u.TgZ(8,"td")(9,"a",27),u._uU(10,"Go to Event"),u.qZA()(),u.TgZ(11,"td")(12,"p",26),u._uU(13),u.ALo(14,"date"),u.ALo(15,"date"),u.qZA()(),u.TgZ(16,"td")(17,"button",28)(18,"a",29),u._uU(19,"Edit"),u.qZA()()(),u.TgZ(20,"td")(21,"button",30),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(3).onDeleteButtonClicked(a.id)}),u.O4$(),u.TgZ(22,"svg",31),u._UZ(23,"path",32)(24,"path",33),u.qZA()()()()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.xp6(7),u.Oqu(t.title),u.xp6(2),u.Q6J("routerLink","/event/"+t.id),u.xp6(4),u.AsE(" ",u.xi3(14,5,r.formatDate(t.date[0]),"dd.MM.YYYY")," - ",u.xi3(15,8,r.formatDate(t.date[1]),"dd.MM.YYYY")," "),u.xp6(5),u.Q6J("routerLink","/event/"+t.id+"/editEvent")}}function wC(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"p",7),u._uU(4,"Events"),u.qZA(),u.TgZ(5,"p",8),u._uU(6,"Users"),u.qZA()(),u.TgZ(7,"div",9)(8,"a",10)(9,"button",11),u._uU(10," Create new event "),u.qZA()()()(),u.TgZ(11,"div",12)(12,"form",13),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw(2);return i.onSearchButtonSubmited(i.searchedEvent)}),u._UZ(13,"input",14)(14,"input",15),u.qZA()(),u.TgZ(15,"div",16)(16,"table",17)(17,"thead",18)(18,"tr")(19,"th"),u._uU(20,"Event Title"),u.qZA(),u.TgZ(21,"th"),u._uU(22,"Link"),u.qZA(),u.TgZ(23,"th"),u._uU(24,"Date"),u.qZA(),u.TgZ(25,"th"),u._uU(26,"Manage"),u.qZA(),u.TgZ(27,"th"),u._uU(28,"Delete"),u.qZA()()(),u.TgZ(29,"tbody"),u.YNc(30,vC,25,11,"tr",19),u.ALo(31,"async"),u.qZA()()()()}if(2&n){const t=u.oxw(2);u.xp6(12),u.Q6J("formGroup",t.searchedEvent),u.xp6(18),u.Q6J("ngForOf",u.lcZ(31,2,t.events$))}}function iI(n,e){if(1&n&&(u.TgZ(0,"div",2),u.YNc(1,wC,32,4,"div",3),u.qZA()),2&n){const t=e.ngIf;u.oxw();const r=u.MAs(3);u.xp6(1),u.Q6J("ngIf",t.length)("ngIfElse",r)}}function sI(n,e){1&n&&(u.TgZ(0,"div",34)(1,"h1"),u._uU(2,"Start building your dashboard"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"Create your first event"),u.qZA(),u.TgZ(5,"a",35),u._uU(6,"Create event"),u.qZA()())}let bC=(()=>{class n{constructor(t,r){this._getsAllEventDto=t,this._removesEventDto=r,this.events$=this._getsAllEventDto.getAll(),this.searchedEvent=new Vu({title:new aa})}onSearchButtonSubmited(t){this.events$=this._getsAllEventDto.getAll().pipe((0,xt.U)(r=>r.filter(i=>{var a;return i.title.includes(null===(a=t.get("title"))||void 0===a?void 0:a.value)})))}onDeleteButtonClicked(t){this._removesEventDto.remove(t)}formatDate(t){return t.toDate()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vD),u.Y36(x0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-events-list"]],decls:4,vars:3,consts:[["class","h-100",4,"ngIf"],["template",""],[1,"h-100"],["class","container-fluid w-75 mx-auto",4,"ngIf","ngIfElse"],[1,"container-fluid","w-75","mx-auto"],[1,"container","d-flex","align-items-center","justify-content-between","border-bottom","mx-auto","pt-3"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fs-3","fw-bold","me-5"],[1,"fs-3","fw-bold"],[1,"py-3"],["routerLink","/event-form"],["type","button",1,"btn","btn-success"],[1,"mt-4","w-50"],[1,"d-flex","align-items-center",3,"formGroup","ngSubmit"],["type","text","formControlName","title","placeholder","Search event",1,"me-3","ps-3","py-2","rounded","border-0","w-75"],["type","submit","value","Search",1,"btn","bg-gray-400","text-dark"],[1,"container-fluid","bg-white","mx-auto","py-4","px-5","mt-5"],[1,"table","table-borderless","text-center"],[1,"bg-gray-400"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar2-minus","me-2"],["d","M5.5 10.5A.5.5 0 0 1 6 10h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"],["d","M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"],[1,"m-0","text-dark"],[1,"text-decoration-none",3,"routerLink"],["type","button",1,"btn","bg-gray-400","border-0"],[1,"text-decoration-none","text-dark",3,"routerLink"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-dark","g-col-2"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],[1,"container-fluid","w-75","mx-auto","d-flex","justify-content-center","align-items-center","flex-column","my-auto","h-75"],["routerLink","/event-form","role","button",1,"btn","bg-success","text-white"]],template:function(t,r){1&t&&(u.YNc(0,iI,2,2,"div",0),u.ALo(1,"async"),u.YNc(2,sI,7,0,"ng-template",null,1,u.W1O)),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.events$))},directives:[Pn,xu,Bu,Nu,kl,Ua,ld,Uu,Sn],pipes:[cs,up],encapsulation:2,changeDetection:0}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-events-list")},directives:[bC],encapsulation:2,changeDetection:0}),n})(),O0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li,Qh]]}),n})();var aI=R(4986),ui=R(6351);function R0(){return(0,zr.e)((n,e)=>{let t,r=!1;n.subscribe((0,tr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function S_(n,e=Pi.y){return n=null!=n?n:Sx,(0,zr.e)((t,r)=>{let i,a=!0;t.subscribe((0,tr.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function Sx(n,e){return n===e}var nt,$a=R(2011),lI=(R(4087),R(3942)),we=R(5861),Hu=R(9681),L0=R(4859),ci=R(1877),Jt=R(2090),Ix="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ga={},I_=I_||{},Nt=Ix||self;function N0(){}function M_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nm="closure_uid_"+(1e9*Math.random()>>>0),cI=0;function dI(n,e,t){return n.call.apply(n.bind,arguments)}function hI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ci(n,e,t){return(Ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dI:hI).apply(null,arguments)}function A_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function ua(){this.s=this.s,this.o=this.o}var fI={};ua.prototype.s=!1,ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function uI(n){return Object.prototype.hasOwnProperty.call(n,nm)&&n[nm]||(n[nm]=++cI)}(this);delete fI[n]}},ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},CC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function k_(n){return Array.prototype.concat.apply([],arguments)}function Lo(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ju(n){return/^[\s\xa0]*$/.test(n)}var Hn,Ti=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Tr(n,e){return-1!=n.indexOf(e)}function ef(n,e){return n<e?-1:n>e?1:0}e:{var x_=Nt.navigator;if(x_){var pd=x_.userAgent;if(pd){Hn=pd;break e}}Hn=""}function Yu(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function md(n){const e={};for(const t in n)e[t]=n[t];return e}var gd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _d(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<gd.length;a++)t=gd[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $u(n){return $u[" "](n),n}$u[" "]=N0;var rm,n,nf=Tr(Hn,"Opera"),ca=Tr(Hn,"Trident")||Tr(Hn,"MSIE"),P0=Tr(Hn,"Edge"),O_=P0||ca,F0=Tr(Hn,"Gecko")&&!(Tr(Hn.toLowerCase(),"webkit")&&!Tr(Hn,"Edge"))&&!(Tr(Hn,"Trident")||Tr(Hn,"MSIE"))&&!Tr(Hn,"Edge"),EC=Tr(Hn.toLowerCase(),"webkit")&&!Tr(Hn,"Edge");function V0(){var n=Nt.document;return n?n.documentMode:void 0}e:{var R_="",L_=(n=Hn,F0?/rv:([^\);]+)(\)|;)/.exec(n):P0?/Edge\/([\d\.]+)/.exec(n):ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):EC?/WebKit\/(\S+)/.exec(n):nf?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(L_&&(R_=L_?L_[1]:""),ca){var N_=V0();if(null!=N_&&N_>parseFloat(R_)){rm=String(N_);break e}}rm=R_}var mI={};var SC=Nt.document&&ca&&(V0()||parseInt(rm,10))||void 0,gI=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",N0,e),Nt.removeEventListener("test",N0,e)}catch(t){}return n}();function Ui(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function rf(n,e){if(Ui.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(F0){e:{try{$u(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:_I[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rf.Z.h.call(this)}}Ui.prototype.h=function(){this.defaultPrevented=!0},Ei(rf,Ui);var _I={2:"touch",3:"pen",4:"mouse"};rf.prototype.h=function(){rf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sf="closure_listenable_"+(1e6*Math.random()|0),yI=0;function vI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++yI,this.ca=this.fa=!1}function H0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function P_(n){this.src=n,this.g={},this.h=0}function im(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Xh(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(H0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sm(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}P_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=sm(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new vI(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var j0="closure_lm_"+(1e6*Math.random()|0),IC={};function wI(n,e,t,r,i){if(r&&r.once)return Y0(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)wI(n,e[a],t,r,i);return null}return t=V_(t),n&&n[sf]?n.N(e,t,fd(r)?!!r.capture:!!r,i):bI(n,e,t,!1,r,i)}function bI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=fd(i)?!!i.capture:!!i,f=F_(n);if(f||(n[j0]=f=new P_(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function DI(){var e=EI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)gI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(yd(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Y0(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Y0(n,e[a],t,r,i);return null}return t=V_(t),n&&n[sf]?n.O(e,t,fd(r)?!!r.capture:!!r,i):bI(n,e,t,!0,r,i)}function CI(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)CI(n,e[a],t,r,i);else r=fd(r)?!!r.capture:!!r,t=V_(t),n&&n[sf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sm(a=n.g[e],t,r,i))&&(H0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=F_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sm(e,t,r,i)),(t=-1<n?e[n]:null)&&$0(t))}function $0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[sf])im(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(yd(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=F_(e))?(im(t,n),0==t.h&&(t.src=null,e[j0]=null)):H0(n)}}}function yd(n){return n in IC?IC[n]:IC[n]="on"+n}function EI(n,e){if(n.ca)n=!0;else{e=new rf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$0(n),n=t.call(r,e)}return n}function F_(n){return(n=n[j0])instanceof P_?n:null}var G0="__closure_events_fn_"+(1e9*Math.random()>>>0);function V_(n){return"function"==typeof n?n:(n[G0]||(n[G0]=function(e){return n.handleEvent(e)}),n[G0])}function Sr(){ua.call(this),this.i=new P_(this),this.P=this,this.I=null}function Si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ui(e,n);else if(e instanceof Ui)e.target=e.target||n;else{var i=e;_d(e=new Ui(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=om(c,r,!0,e)&&i}if(i=om(c=e.g=n,r,!0,e)&&i,i=om(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=om(c=e.g=t[a],r,!1,e)&&i}function om(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&im(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ei(Sr,ua),Sr.prototype[sf]=!0,Sr.prototype.removeEventListener=function(n,e,t,r){CI(this,n,e,t,r)},Sr.prototype.M=function(){if(Sr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)H0(t[r]);delete n.g[e],n.h--}}this.I=null},Sr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Sr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var W0=Nt.JSON.stringify;function TI(){var n=MI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var B_,MC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new II,n=>n.reset());class II{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AC(n){Nt.setTimeout(()=>{throw n},0)}function q0(n,e){B_||function kC(){var n=Nt.Promise.resolve(void 0);B_=function(){n.then(z0)}}(),am||(B_(),am=!0),MI.add(n,e)}var am=!1,MI=new class SI{constructor(){this.h=this.g=null}add(e,t){const r=MC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function z0(){for(var n;n=TI();){try{n.h.call(n.g)}catch(t){AC(t)}var e=MC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}am=!1}function U_(n,e){Sr.call(this),this.h=n||1,this.g=e||Nt,this.j=Ci(this.kb,this),this.l=Date.now()}function xC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function vd(n,e,t){if("function"==typeof n)t&&(n=Ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function Z0(n){n.g=vd(()=>{n.g=null,n.i&&(n.i=!1,Z0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(U_,Sr),(nt=U_.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Si(this,"tick"),this.da&&(xC(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){U_.Z.M.call(this),xC(this),delete this.g};class K0 extends ua{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z0(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wd(n){ua.call(this),this.h=n,this.g={}}Ei(wd,ua);var OC=[];function lm(n,e,t,r){Array.isArray(t)||(t&&(OC[0]=t.toString()),t=OC);for(var i=0;i<t.length;i++){var a=wI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function um(n){Yu(n.g,function(e,t){this.g.hasOwnProperty(t)&&$0(e)},n),n.g={}}function of(){this.g=!0}function Ol(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return W0(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}wd.prototype.M=function(){wd.Z.M.call(this),um(this)},wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},of.prototype.Aa=function(){this.g=!1},of.prototype.info=function(){};var Gu={},j_=null;function cm(){return j_=j_||new Sr}function Q0(n){Ui.call(this,Gu.Ma,n)}function bd(n){const e=cm();Si(e,new Q0(e,n))}function J0(n,e){Ui.call(this,Gu.STAT_EVENT,n),this.stat=e}function is(n){const e=cm();Si(e,new J0(e,n))}function X0(n,e){Ui.call(this,Gu.Na,n),this.size=e}function af(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}Gu.Ma="serverreachability",Ei(Q0,Ui),Gu.STAT_EVENT="statevent",Ei(J0,Ui),Gu.Na="timingevent",Ei(X0,Ui);var lf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ew={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tw(){}function rw(){}tw.prototype.h=null;var $_,Dd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dm(){Ui.call(this,"d")}function Y_(){Ui.call(this,"c")}function hm(){}function uf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new wd(this),this.P=LC,this.W=new U_(n=O_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iw}function iw(){this.i=null,this.g="",this.h=!1}Ei(dm,Ui),Ei(Y_,Ui),Ei(hm,tw),hm.prototype.g=function(){return new XMLHttpRequest},hm.prototype.i=function(){return{}},$_=new hm;var LC=45e3,G_={},fm={};function NC(n,e,t){n.K=1,n.v=Gs(zu(e)),n.s=t,n.U=!0,PC(n,null)}function PC(n,e){n.F=Date.now(),lr(n),n.A=zu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),hw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new iw,n.g=Em(n.l,t?e:null,!n.s),0<n.O&&(n.L=new K0(Ci(n.Ia,n,n.g),n.O)),lm(n.V,n.g,"readystatechange",n.gb),e=n.H?md(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),bd(1),function Mx(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var D=f[_].split("=");if(1<D.length){var S=D[0];D=D[1];var A=S.split("_");c=2<=A.length&&"type"==A[1]?c+(S+"=")+D+"&":c+(S+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function FC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function sw(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=kI(n,t),i==fm){4==e&&(n.o=4,is(14),r=!1),Ol(n.j,n.m,null,"[Incomplete Response]");break}if(i==G_){n.o=4,is(15),Ol(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ol(n.j,n.m,i,null),aw(n,i)}FC(n)&&i!=fm&&i!=G_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,is(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),oy(e),e.L=!0,is(11))):(Ol(n.j,n.m,t,"[Invalid Chunked Response]"),Wu(n),pm(n))}function kI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fm:(t=Number(e.substring(t,r)),isNaN(t)?G_:(r+=1)+t>e.length?fm:(e=e.substr(r,t),n.C=r+t,e))}function lr(n){n.Y=Date.now()+n.P,ow(n,n.P)}function ow(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=af(Ci(n.eb,n),e)}function W_(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function pm(n){0==n.l.G||n.I||QC(n.l,n)}function Wu(n){W_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xC(n.W),um(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function aw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Z_(t.i,n)))if(t.I=n.N,!n.J&&Z_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=af(Ci(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_t(t),Dm(t)}sy(t),is(18)}if(1>=z_(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else Td(t,11)}else if((n.J||t.g==n)&&_t(t),!ju(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const A=D[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const N=D[5];null!=N&&"number"==typeof N&&0<N&&(t.K=r=1.5*N,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.i;!a.g&&(Tr($,"spdy")||Tr($,"quic")||Tr($,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(K_(a,a.h),a.h=null))}if(r.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,qn(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=XC(r,r.H?r.la:null,r.W),c.J){mw(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(W_(f),lr(f)),r.g=c}else YI(r);0<t.l.length&&ny(t)}else"stop"!=D[0]&&"close"!=D[0]||Td(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Td(t,7):ty(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}bd(4)}catch(D){}}function q_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(M_(n)||"string"==typeof n)CC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(M_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function VC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(M_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function da(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof da)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function lw(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Cd(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Cd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=uf.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==Wa(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const S=Wa(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>S)&&(3!=S||O_||this.g&&(this.h.h||this.g.ga()||vw(this.g)))){this.I||4!=S||7==e||bd(8==e||0>=A?3:2),W_(this);var t=this.g.ba();this.N=t;t:if(FC(this)){var r=vw(this.g);n="";var i=r.length,a=4==Wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wu(this),pm(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function AI(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ju(f)){var D=f;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,is(12),Wu(this),pm(this);break e}Ol(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,aw(this,t)}this.U?(sw(this,S,c),O_&&this.i&&3==S&&(lm(this.V,this.W,"tick",this.fb),this.W.start())):(Ol(this.j,this.m,c,null),aw(this,c)),4==S&&Wu(this),this.i&&!this.I&&(4==S?QC(this.l,this):(this.i=!1,lr(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),Wu(this),pm(this)}}}catch(S){}},nt.fb=function(){if(this.g){var n=Wa(this.g),e=this.g.ga();this.C<e.length&&(W_(this),sw(this,n,e),this.i&&4!=n&&lr(this))}},nt.cancel=function(){this.I=!0,Wu(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function H_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bd(3),is(17)),Wu(this),this.o=2,pm(this)):ow(this,this.Y-n)},(nt=da.prototype).R=function(){lw(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return lw(this),this.g.concat()},nt.get=function(n,e){return Cd(this.h,n)?this.h[n]:e},nt.set=function(n,e){Cd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var uw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof qu){this.g=void 0!==e?e:n.g,cf(this,n.j),this.s=n.s,df(this,n.i),$s(this,n.m),this.l=n.l,e=n.h;var t=new gm;t.i=e.i,e.g&&(t.g=new da(e.g),t.h=e.h),BC(this,t),this.o=n.o}else n&&(t=String(n).match(uw))?(this.g=!!e,cf(this,t[1]||"",!0),this.s=hf(t[2]||""),df(this,t[3]||"",!0),$s(this,t[4]),this.l=hf(t[5]||"",!0),BC(this,t[6]||"",!0),this.o=hf(t[7]||"")):(this.g=!!e,this.h=new gm(null,this.g))}function zu(n){return new qu(n)}function cf(n,e,t){n.j=t?hf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function df(n,e,t){n.i=t?hf(e,!0):e}function $s(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BC(n,e,t){e instanceof gm?(n.h=e,function NI(n,e){e&&!n.j&&(Rl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(HC(this,r),hw(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ff(e,cw)),n.h=new gm(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function Gs(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ff(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ff(e,UC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ff(e,UC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ff(t,"/"==t.charAt(0)?LI:RI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ff(t,mm)),n.join("")};var UC=/[#\/\?@]/g,RI=/[#\?:]/g,LI=/[#\?]/g,cw=/[#\?@]/g,mm=/#/g;function gm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rl(n){n.g||(n.g=new da,n.h=0,n.i&&function xI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function HC(n,e){Rl(n),e=Ll(n,e),Cd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&lw(n)))}function dw(n,e){return Rl(n),e=Ll(n,e),Cd(n.g.h,e)}function hw(n,e,t){HC(n,e),0<t.length&&(n.i=null,n.g.set(Ll(n,e),Lo(t)),n.h+=t.length)}function Ll(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fw(n){this.l=n||pw,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=gm.prototype).add=function(n,e){Rl(this),this.i=null,n=Ll(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){Rl(this),this.g.forEach(function(t,r){CC(t,function(i){n.call(e,i,r,this)},this)},this)},nt.T=function(){Rl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},nt.R=function(n){Rl(this);var e=[];if("string"==typeof n)dw(this,n)&&(e=k_(e,this.g.get(Ll(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=k_(e,n[t])}return e},nt.set=function(n,e){return Rl(this),this.i=null,dw(this,n=Ll(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var pw=10;function _m(n){return!!n.h||!!n.g&&n.g.size>=n.j}function z_(n){return n.h?1:n.g?n.g.size:0}function Z_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function K_(n,e){n.g?n.g.add(e):n.h=e}function mw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Lo(n.i)}function Q_(){}function YC(){this.g=new Q_}function $C(n,e,t){const r=t||"";try{q_(n,function(i,a){let c=i;fd(i)&&(c=W0(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function J_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function ym(n){this.l=n.$b||null,this.j=n.ib||!1}function X_(n,e){Sr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=_w,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fw.prototype.cancel=function(){if(this.i=gw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Q_.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},Q_.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},Ei(ym,tw),ym.prototype.g=function(){return new X_(this.l,this.j)},ym.prototype.i=function(n){return function(){return n}}({}),Ei(X_,Sr);var _w=0;function GC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function vm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wm(n)}function wm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=X_.prototype).open=function(n,e){if(this.readyState!=_w)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wm(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vm(this)),this.readyState=_w},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wm(this)),this.g&&(this.readyState=3,wm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?vm(this):wm(this),3==this.readyState&&GC(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,vm(this))},nt.Ta=function(n){this.g&&(this.response=n,vm(this))},nt.ha=function(){this.g&&vm(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(X_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FI=Nt.JSON.parse;function Vr(n){Sr.call(this),this.headers=new da,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WC,this.K=this.L=!1}Ei(Vr,Sr);var WC="",VI=/^https?$/i,BI=["POST","PUT"];function HI(n){return"content-type"==n.toLowerCase()}function qC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zC(n),bm(n)}function zC(n){n.D||(n.D=!0,Si(n,"complete"),Si(n,"error"))}function ZC(n){if(n.h&&void 0!==I_&&(!n.C[1]||4!=Wa(n)||2!=n.ba()))if(n.v&&4==Wa(n))vd(n.Fa,0,n);else if(Si(n,"readystatechange"),4==Wa(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(uw)[1]||null;if(!i&&Nt.self&&Nt.self.location){var a=Nt.self.location.protocol;i=a.substr(0,a.length-1)}r=!VI.test(i?i.toLowerCase():"")}t=r}if(t)Si(n,"complete"),Si(n,"success");else{n.m=6;try{var c=2<Wa(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.ba()+"]",zC(n)}}finally{bm(n)}}}function bm(n,e){if(n.g){yw(n);const t=n.g,r=n.C[0]?N0:null;n.g=null,n.C=null,e||Si(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function yw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function Wa(n){return n.g?n.g.readyState:0}function vw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case WC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ey(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function KC(n){let e="";return Yu(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function pf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ww(n){this.za=0,this.l=[],this.h=new of,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pf("baseRetryDelayMs",5e3,n),this.$a=pf("retryDelaySeedMs",1e4,n),this.Ya=pf("forwardChannelMaxRetries",2,n),this.ra=pf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new fw(n&&n.concurrentRequestLimit),this.Ca=new YC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ty(n){if(bw(n),3==n.G){var e=n.V++,t=zu(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),ry(n,t),(e=new uf(n,n.h,e,void 0)).K=2,e.v=Gs(zu(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Em(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lr(e)}Cm(n)}function Dm(n){n.g&&(oy(n),n.g.cancel(),n.g=null)}function bw(n){Dm(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),_t(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function Nl(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ny(n)}function ny(n){_m(n.i)||n.m||(n.m=!0,q0(n.Ha,n),n.C=0)}function Ed(n,e){var t;t=e?e.m:n.V++;const r=zu(n.F);qn(r,"SID",n.J),qn(r,"RID",t),qn(r,"AID",n.U),ry(n,r),n.o&&n.s&&ey(r,n.o,n.s),t=new uf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=iy(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),K_(n.i,t),NC(t,r,e)}function ry(n,e){n.j&&q_({},function(t,r){qn(e,r,t)})}function iy(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ci(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let D=i[_].h;const S=i[_].g;if(D-=a,0>D)a=Math.max(0,i[_].h-100),f=!1;else try{$C(S,c,"req"+D+"_")}catch(A){r&&r(S)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function YI(n){n.g||n.u||(n.Y=1,q0(n.Ga,n),n.A=0)}function sy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=af(Ci(n.Ga,n),JC(n,n.A)),n.A++,0))}function oy(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function $I(n){n.g=new uf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=zu(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),ry(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&ey(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Gs(zu(e)),t.s=null,t.U=!0,PC(t,n)}function _t(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function QC(n,e){var t=null;if(n.g==e){_t(n),oy(n),n.g=null;var r=2}else{if(!Z_(n.i,e))return;t=e.D,mw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Si(r=cm(),new X0(r,t,e,i)),ny(n)}else YI(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function jI(n,e){return!(z_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=af(Ci(n.Ha,n,e),JC(n,n.C)),n.C++,0)))}(n,e)||2==r&&sy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Td(n,5);break;case 4:Td(n,10);break;case 3:Td(n,6);break;default:Td(n,2)}}function JC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Td(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ci(n.jb,n);t||(t=new qu("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||cf(t,"https"),Gs(t)),function PI(n,e){const t=new of;if(Nt.Image){const r=new Image;r.onload=A_(J_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=A_(J_,t,r,"TestLoadImage: error",!1,e),r.onabort=A_(J_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=A_(J_,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else is(2);n.G=0,n.j&&n.j.va(e),Cm(n),bw(n)}function Cm(n){n.G=0,n.I=-1,n.j&&((0!=gw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Lo(n.l),n.l.length=0),n.j.ua())}function XC(n,e,t){let r=function ha(n){return n instanceof qu?zu(n):new qu(n,void 0)}(t);if(""!=r.i)e&&df(r,e+"."+r.i),$s(r,r.m);else{const i=Nt.location;r=function fa(n,e,t,r){var i=new qu(null,void 0);return n&&cf(i,n),e&&df(i,e),t&&$s(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Yu(n.aa,function(i,a){qn(r,a,i)}),t=n.sa,(e=n.D)&&t&&qn(r,e,t),qn(r,"VER",n.ma),ry(n,r),r}function Em(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&n.Ba&&!n.qa?new ym({ib:!0}):n.qa)).L=n.H,e}function Tm(){}function zn(){if(ca&&!(10<=Number(SC)))throw Error("Environmental error: no available transport.")}function No(n,e){Sr.call(this),this.g=new ww(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ju(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ju(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mf(this)}function Dw(n){dm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function eE(){Y_.call(this),this.status=1}function mf(n){this.g=n}(nt=Vr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$_.g(),this.C=function nw(n){return n.h||(n.h=n.i())}(this.u?this.u:$_),this.g.onreadystatechange=Ci(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void qC(this,a)}n=t||"";const i=new da(this.headers);r&&q_(r,function(a,c){i.set(c,a)}),r=function pI(n){e:{var e=HI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=Xh(BI,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yw(this),0<this.B&&((this.K=function UI(n){return ca&&function TC(){return function tf(n){var e=mI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ti(String(rm)).split("."),t=Ti("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=ef(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||ef(0==i[2].length,0==a[2].length)||ef(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ci(this.pa,this)):this.A=vd(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){qC(this,a)}},nt.pa=function(){void 0!==I_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Si(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Si(this,"complete"),Si(this,"abort"),bm(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bm(this,!0)),Vr.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?ZC(this):this.cb())},nt.cb=function(){ZC(this)},nt.ba=function(){try{return 2<Wa(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),FI(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=ww.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new uf(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=md(a),_d(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=iy(this,i,e),qn(t=zu(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),ry(this,t),this.o&&a&&ey(t,this.o,a),K_(this.i,i),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),i.$=!0,NC(i,t,null)):NC(i,t,e),this.G=2}}else 3==this.G&&(n?Ed(this,n):0==this.l.length||_m(this.i)||Ed(this))},nt.Ga=function(){if(this.u=null,$I(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=af(Ci(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,is(10),Dm(this),$I(this))},nt.ab=function(){null!=this.v&&(this.v=null,Dm(this),sy(this),is(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),is(2)):(this.h.info("Failed to ping google.com"),is(1))},(nt=Tm.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},zn.prototype.g=function(n,e){return new No(n,e)},Ei(No,Sr),No.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),q0(Ci(n.hb,n,e))),is(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=XC(n,null,n.W),ny(n)},No.prototype.close=function(){ty(this.g)},No.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Nl(this.g,e)}else this.v?((e={}).__data__=W0(n),Nl(this.g,e)):Nl(this.g,n)},No.prototype.M=function(){this.g.j=null,delete this.j,ty(this.g),delete this.g,No.Z.M.call(this)},Ei(Dw,dm),Ei(eE,Y_),Ei(mf,Tm),mf.prototype.xa=function(){Si(this.g,"a")},mf.prototype.wa=function(n){Si(this.g,new Dw(n))},mf.prototype.va=function(n){Si(this.g,new eE(n))},mf.prototype.ua=function(){Si(this.g,"b")},zn.prototype.createWebChannel=zn.prototype.g,No.prototype.send=No.prototype.u,No.prototype.open=No.prototype.m,No.prototype.close=No.prototype.close,lf.NO_ERROR=0,lf.TIMEOUT=8,lf.HTTP_ERROR=6,ew.COMPLETE="complete",rw.EventType=Dd,Dd.OPEN="a",Dd.CLOSE="b",Dd.ERROR="c",Dd.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,Vr.prototype.listenOnce=Vr.prototype.O,Vr.prototype.getLastError=Vr.prototype.La,Vr.prototype.getLastErrorCode=Vr.prototype.Da,Vr.prototype.getStatus=Vr.prototype.ba,Vr.prototype.getResponseJson=Vr.prototype.Qa,Vr.prototype.getResponseText=Vr.prototype.ga,Vr.prototype.send=Vr.prototype.ea;var tE=Ga.createWebChannelTransport=function(){return new zn},nE=Ga.getStatEventTarget=function(){return cm()},ay=Ga.ErrorCode=lf,rE=Ga.EventType=ew,GI=Ga.Event=Gu,iE=Ga.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},WI=Ga.FetchXmlHttpFactory=ym,Zu=Ga.WebChannel=rw,qI=Ga.XhrIo=Vr;const sE="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Pl="9.6.10";const Fl=new ci.Yd("@firebase/firestore");function ly(){return Fl.logLevel}function Pe(n,...e){if(Fl.logLevel<=ci.in.DEBUG){const t=e.map(Cw);Fl.debug(`Firestore (${Pl}): ${n}`,...t)}}function rr(n,...e){if(Fl.logLevel<=ci.in.ERROR){const t=e.map(Cw);Fl.error(`Firestore (${Pl}): ${n}`,...t)}}function Vl(n,...e){if(Fl.logLevel<=ci.in.WARN){const t=e.map(Cw);Fl.warn(`Firestore (${Pl}): ${n}`,...t)}}function Cw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function Ot(n,e){n||rt()}function Ge(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class Ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kx{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const D=c;e.enqueueRetryable((0,we.Z)(function*(){yield D.promise,yield a(r.currentUser)}))},_=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new lE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new Ii(e)}}class xx{constructor(e,t,r){this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Ox{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new xx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uy{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.p=t.token,new Ew(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ws{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function uE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ws.A=-1;class gf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uE(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Qt(n,e){return n<e?-1:n>e?1:0}function _f(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function cE(n){return n+"\0"}class Ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Ir(0,0))}static max(){return new Mt(new Ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Tw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qa{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qa?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends qa{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new un(t)}static emptyPath(){return new un([])}}const hE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends qa{construct(e,t,r){return new di(e,t,r)}static isValidIdentifier(e){return hE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new di(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new di(t)}static emptyPath(){return new di([])}}class Id{constructor(e){this.fields=e,e.sort(di.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function za(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=KI.exec(n);if(Ot(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ku(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}function cy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fE(n){const e=n.mapValue.fields.__previous_value__;return cy(e)?fE(e):e}function Sm(n){const e=za(n.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}class QI{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class pa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pa&&e.projectId===this.projectId&&e.database===this.database}}function Md(n){return null==n}function yf(n){return 0===n&&1/n==-1/0}function pE(n){return"number"==typeof n&&Number.isInteger(n)&&!yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(e){this.path=e}static fromPath(e){return new je(un.fromString(e))}static fromName(e){return new je(un.fromString(e).popFirst(5))}static empty(){return new je(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new un(e.slice()))}}const mE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gE={nullValue:"NULL_VALUE"};function Ad(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cy(n)?4:Mw(n)?9:10:rt()}function Za(n,e){if(n===e)return!0;const t=Ad(n);if(t!==Ad(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sm(n).isEqual(Sm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=za(r.timestampValue),c=za(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ku(n.bytesValue).isEqual(Ku(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return mr(r.geoPointValue.latitude)===mr(i.geoPointValue.latitude)&&mr(r.geoPointValue.longitude)===mr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return mr(r.integerValue)===mr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=mr(r.doubleValue),c=mr(i.doubleValue);return a===c?yf(a)===yf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return _f(n.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Tw(a)!==Tw(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Za(a[f],c[f])))return!1;return!0}(n,e);default:return rt()}var i}function Im(n,e){return void 0!==(n.values||[]).find(t=>Za(t,e))}function Qu(n,e){if(n===e)return 0;const t=Ad(n),r=Ad(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=mr(i.integerValue||i.doubleValue),f=mr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Sw(n.timestampValue,e.timestampValue);case 4:return Sw(Sm(n),Sm(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Ku(i),f=Ku(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const D=Qt(c[_],f[_]);if(0!==D)return D}return Qt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Qt(mr(i.latitude),mr(a.latitude));return 0!==c?c:Qt(mr(i.longitude),mr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const D=Qu(c[_],f[_]);if(D)return D}return Qt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),_=a.fields||{},D=Object.keys(_);f.sort(),D.sort();for(let S=0;S<f.length&&S<D.length;++S){const A=Qt(f[S],D[S]);if(0!==A)return A;const N=Qu(c[f[S]],_[D[S]]);if(0!==N)return N}return Qt(f.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Sw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=za(n),r=za(e),i=Qt(t.seconds,r.seconds);return 0!==i?i:Qt(t.nanos,r.nanos)}function kd(n){return Iw(n)}function Iw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=za(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ku(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=Iw(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${Iw(r.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function vf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dy(n){return!!n&&"integerValue"in n}function Mm(n){return!!n&&"arrayValue"in n}function _E(n){return!!n&&"nullValue"in n}function yE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function xd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hy(n,e){return void 0===n?e:void 0===e||Qu(n,e)>0?n:e}function vE(n,e){return void 0===n?e:void 0===e||Qu(n,e)<0?n:e}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xd(t)}setAll(e){let t=di.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=xd(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sd(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Hi(xd(this.value))}}function fy(n){const e=[];return Sd(n.fields,(t,r)=>{const i=new di([t]);if(wf(r)){const a=fy(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Id(e)}class Zn{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Zn(e,0,Mt.min(),Mt.min(),Hi.empty(),0)}static newFoundDocument(e,t,r){return new Zn(e,1,t,Mt.min(),r,0)}static newNoDocument(e,t){return new Zn(e,2,t,Mt.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,Mt.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Am{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Aw(n){return n.fields.find(e=>2===e.kind)}function Od(n){return n.fields.filter(e=>2!==e.kind)}Am.UNKNOWN_ID=-1;class py{constructor(e,t){this.fieldPath=e,this.kind=t}}class bf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bf(0,Po.min())}}function JI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new Ir(t+1,0):new Ir(t,r));return new Po(i,je.empty(),e)}function XI(n){return new Po(n.readTime,n.key,-1)}class Po{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Po(Mt.min(),je.empty(),-1)}static max(){return new Po(Mt.max(),je.empty(),-1)}}function eM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}class Df{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function Cf(n,e=null,t=[],r=[],i=null,a=null,c=null){return new Df(n,e,t,r,i,a,c)}function Rd(n){const e=Ge(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+kd(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kd(r)).join(",")),e.P=t}return e.P}function Ef(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!rM(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Za(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CE(n.startAt,e.startAt)&&CE(n.endAt,e.endAt)}function my(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function gy(n,e){return n.filters.filter(t=>t instanceof Mi&&t.field.isEqual(e))}class Mi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new tM(e,t,r):"array-contains"===t?new yy(e,r):"in"===t?new km(e,r):"not-in"===t?new nM(e,r):"array-contains-any"===t?new DE(e,r):new Mi(e,t,r)}static V(e,t,r){return"in"===t?new wE(e,r):new bE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Qu(t,this.value)):null!==t&&Ad(this.value)===Ad(t)&&this.v(Qu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tM extends Mi{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.v(t)}}class wE extends Mi{constructor(e,t){super(e,"in",t),this.keys=_y(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bE extends Mi{constructor(e,t){super(e,"not-in",t),this.keys=_y(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _y(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class yy extends Mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mm(t)&&Im(t.arrayValue,this.value)}}class km extends Mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Im(this.value.arrayValue,t)}}class nM extends Mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Im(this.value.arrayValue,t)}}class DE extends Mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Im(this.value.arrayValue,r))}}class Bl{constructor(e,t){this.position=e,this.inclusive=t}}class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function rM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function vy(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?je.comparator(je.fromName(c.referenceValue),t.key):Qu(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function CE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Za(n.position[t],e.position[t]))return!1;return!0}class Ju{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function EE(n,e,t,r,i,a,c,f){return new Ju(n,e,t,r,i,a,c,f)}function Sf(n){return new Ju(n)}function Ul(n){return!Md(n.limit)&&"F"===n.limitType}function xm(n){return!Md(n.limit)&&"L"===n.limitType}function Xu(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function TE(n){for(const e of n.filters)if(e.S())return e.field;return null}function wy(n){return null!==n.collectionGroup}function If(n){const e=Ge(n);if(null===e.D){e.D=[];const t=TE(e),r=Xu(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Tf(t)),e.D.push(new Tf(di.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Tf(di.keyField(),a))}}}return e.D}function ma(n){const e=Ge(n);if(!e.C)if("F"===e.limitType)e.C=Cf(e.path,e.collectionGroup,If(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of If(e))t.push(new Tf(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Bl(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Bl(e.startAt.position,!e.startAt.inclusive):null;e.C=Cf(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function kw(n,e,t){return new Ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function by(n,e){return Ef(ma(n),ma(e))&&n.limitType===e.limitType}function xw(n){return`${Rd(ma(n))}|lt:${n.limitType}`}function Om(n){return`Query(target=${function Lx(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${kd(r.value)}`;var r}).join(", ")}]`),Md(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>kd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>kd(t)).join(",")),`Target(${e})`}(ma(n))}; limitType=${n.limitType})`}function Dy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=vy(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,If(t),r)||t.endAt&&!function(i,a,c){const f=vy(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,If(t),r)));var t,r}function SE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IE(n){return(e,t)=>{let r=!1;for(const i of If(n)){const a=iM(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function iM(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Qu(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function ME(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function AE(n){return{integerValue:""+n}}function kE(n,e){return pE(e)?AE(e):ME(n,e)}class Cy{constructor(){this._=void 0}}function sM(n,e,t){return n instanceof Ld?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof ec?Ow(n,e):n instanceof tc?Rw(n,e):function(r,i){const a=Mf(r,i),c=xE(a)+xE(r.k);return dy(a)&&dy(r.k)?AE(c):ME(r.M,c)}(n,e)}function oM(n,e,t){return n instanceof ec?Ow(n,e):n instanceof tc?Rw(n,e):t}function Mf(n,e){return n instanceof Nd?dy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ld extends Cy{}class ec extends Cy{constructor(e){super(),this.elements=e}}function Ow(n,e){const t=Lw(e);for(const r of n.elements)t.some(i=>Za(i,r))||t.push(r);return{arrayValue:{values:t}}}class tc extends Cy{constructor(e){super(),this.elements=e}}function Rw(n,e){let t=Lw(e);for(const r of n.elements)t=t.filter(i=>!Za(i,r));return{arrayValue:{values:t}}}class Nd extends Cy{constructor(e,t){super(),this.M=e,this.k=t}}function xE(n){return mr(n.integerValue||n.doubleValue)}function Lw(n){return Mm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Af{constructor(e,t){this.field=e,this.transform=t}}class lM{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ey{}function Nw(n,e,t){n instanceof Rm?function(r,i,a){const c=r.value.clone(),f=Lm(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Pd?function(r,i,a){if(!nc(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Lm(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(OE(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fo(n,e,t){var i;n instanceof Rm?function(r,i,a){if(!nc(r.precondition,i))return;const c=r.value.clone(),f=Nm(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(kf(i),c).setHasLocalMutations()}(n,e,t):n instanceof Pd?function(r,i,a){if(!nc(r.precondition,i))return;const c=Nm(r.fieldTransforms,a,i),f=i.data;f.setAll(OE(r)),f.setAll(c),i.convertToFoundDocument(kf(i),f).setHasLocalMutations()}(n,e,t):nc(n.precondition,i=e)&&i.convertToNoDocument(Mt.min())}function uM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Mf(r.transform,i||null);null!=a&&(null==t&&(t=Hi.empty()),t.set(r.field,a))}return t||null}function Ty(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_f(t,r,(i,a)=>function aM(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ec&&r instanceof ec||t instanceof tc&&r instanceof tc?_f(t.elements,r.elements,Za):t instanceof Nd&&r instanceof Nd?Za(t.k,r.k):t instanceof Ld&&r instanceof Ld);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function kf(n){return n.isFoundDocument()?n.version:Mt.min()}class Rm extends Ey{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Pd extends Ey{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function OE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lm(n,e,t){const r=new Map;Ot(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,oM(c,f,t[i]))}return r}function Nm(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,sM(a,c,e))}return r}class Pm extends Ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Pw extends Ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class RE{constructor(e){this.count=e}}var Mr,tn;function Fw(n){switch(n){default:return rt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function LE(n){if(void 0===n)return rr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Mr.OK:return de.OK;case Mr.CANCELLED:return de.CANCELLED;case Mr.UNKNOWN:return de.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return de.INTERNAL;case Mr.UNAVAILABLE:return de.UNAVAILABLE;case Mr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Mr.NOT_FOUND:return de.NOT_FOUND;case Mr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Mr.ABORTED:return de.ABORTED;case Mr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Mr.DATA_LOSS:return de.DATA_LOSS;default:return rt()}}(tn=Mr||(Mr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sd(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}class Hr{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Jr.RED,this.left=null!=i?i:Jr.EMPTY,this.right=null!=a?a:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Jr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sy(this.data.getIterator())}getIteratorFrom(e){return new Sy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class Sy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ic(n){return n.hasNext()?n.getNext():void 0}const cM=new Hr(je.comparator);function Vo(){return cM}const dM=new Hr(je.comparator);function Vw(){return dM}function Of(){return new rc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bw=new Hr(je.comparator),NE=new jn(je.comparator);function vn(...n){let e=NE;for(const t of n)e=e.add(t);return e}const PE=new jn(Qt);function Fm(){return PE}class Vm{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Vm(Mt.min(),r,Fm(),Vo(),vn())}}class Rf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Rf(Br.EMPTY_BYTE_STRING,t,vn(),vn(),vn())}}class Bm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class FE{constructor(e,t){this.targetId=e,this.$=t}}class Uw{constructor(e,t,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Hw{constructor(){this.B=0,this.L=VE(),this.U=Br.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=vn(),t=vn(),r=vn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Rf(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=VE()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class ss{constructor(e){this.nt=e,this.st=new Map,this.it=Vo(),this.rt=Fd(),this.ot=new jn(Qt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(my(a))if(0===r){const c=new je(a.path);this.ct(t,c,Zn.newNoDocument(c,Mt.min()))}else Ot(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&my(f.target)){const _=new je(f.target.path);null!==this.it.get(_)||this.It(c,_)||this.ct(c,_,Zn.newNoDocument(_,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=vn();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const D=this.wt(_);return!D||2===D.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new Vm(e,t,this.ot,this.it,r);return this.it=Vo(),this.rt=Fd(),this.ot=new jn(Qt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Hw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jn(Qt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Fd(){return new Hr(je.comparator)}function VE(){return new Hr(je.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},Nx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Um{constructor(e,t){this.databaseId=e,this.N=t}}function Hm(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iy(n,e){return n.N?e.toBase64():e.toUint8Array()}function fM(n,e){return Hm(n,e.toTimestamp())}function Xr(n){return Ot(!!n),Mt.fromTimestamp(function(e){const t=za(e);return new Ir(t.seconds,t.nanos)}(n))}function jw(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BE(n){const e=un.fromString(n);return Ot(GE(e)),e}function Vd(n,e){return jw(n.databaseId,e.path)}function ga(n,e){const t=BE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(pM(t))}function My(n,e){return jw(n.databaseId,e)}function jm(n){const e=BE(n);return 4===e.length?un.emptyPath():pM(e)}function Bd(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pM(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Yw(n,e,t){return{name:Vd(n,e),fields:t.value.mapValue.fields}}function UE(n,e,t){const r=ga(n,e.name),i=Xr(e.updateTime),a=new Hi({mapValue:{fields:e.fields}}),c=Zn.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Lf(n,e){let t;if(e instanceof Rm)t={update:Yw(n,e.key,e.value)};else if(e instanceof Pm)t={delete:Vd(n,e.key)};else if(e instanceof Pd)t={update:Yw(n,e.key,e.data),updateMask:$E(e.fieldMask)};else{if(!(e instanceof Pw))return rt();t={verify:Vd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Ld)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ec)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof tc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nd)return{fieldPath:a.field.canonicalString(),increment:c.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:fM(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function $w(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ur.updateTime(Xr(i.updateTime)):void 0!==i.exists?Ur.exists(i.exists):Ur.none():Ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Ot("REQUEST_TIME"===c.setToServerValue),f=new Ld):"appendMissingElements"in c?f=new ec(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new tc(c.removeAllFromArray.values||[]):"increment"in c?f=new Nd(a,c.increment):rt();const _=di.fromServerFormat(c.fieldPath);return new Af(_,f)}(n,i)):[];var i;if(e.update){const i=ga(n,e.update.name),a=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Id((e.updateMask.fieldPaths||[]).map(D=>di.fromServerFormat(D)));return new Pd(i,a,c,t,r)}return new Rm(i,a,t,r)}if(e.delete){const i=ga(n,e.delete);return new Pm(i,t)}if(e.verify){const i=ga(n,e.verify);return new Pw(i,t)}return rt()}function ky(n,e){return{documents:[My(n,e.path)]}}function mM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=My(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=My(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const D=_.map(S=>function(A){if("=="===A.op){if(yE(A.value))return{unaryFilter:{field:Ud(A.field),op:"IS_NAN"}};if(_E(A.value))return{unaryFilter:{field:Ud(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(yE(A.value))return{unaryFilter:{field:Ud(A.field),op:"IS_NOT_NAN"}};if(_E(A.value))return{unaryFilter:{field:Ud(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(A.field),op:_M(A.op),value:A.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(D=>{return{field:Ud((S=D).field),direction:YE(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(D=e.limit,n.N||Md(D)?D:{value:D});var D,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function jE(n){let e=jm(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ot(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=Ww(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new Tf(Hd((A=S).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(S){let A;return A="object"==typeof S?S.value:S,Md(A)?null:A}(t.limit));let _=null;var S;t.startAt&&(_=new Bl((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new Bl(S.values||[],!S.before)}(t.endAt)),EE(e,i,c,a,f,"F",_,D)}function Ww(n){return n?void 0!==n.unaryFilter?[vM(n)]:void 0!==n.fieldFilter?[yM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ww(e)).reduce((e,t)=>e.concat(t)):rt():[]}function YE(n){return hM[n]}function _M(n){return Nx[n]}function Ud(n){return{fieldPath:n.canonicalString()}}function Hd(n){return di.fromServerFormat(n.fieldPath)}function yM(n){return Mi.create(Hd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function vM(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Hd(n.unaryFilter.field);return Mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Hd(n.unaryFilter.field);return Mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hd(n.unaryFilter.field);return Mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hd(n.unaryFilter.field);return Mi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function $E(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qw(e)),e=WE(n.get(t),e);return qw(e)}function WE(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function qw(n){return n+"\x01\x01"}function Bo(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&rt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:rt()}a=c+2}return new un(r)}const qE=["userId","batchId"];function xy(n,e){return[n,ei(e)]}function wM(n,e,t){return[n,ei(e),t]}const zE={},Px=["prefixPath","collectionGroup","readTime","documentId"],Fx=["prefixPath","collectionGroup","documentId"],Vx=["collectionGroup","readTime","prefixPath","documentId"],Bx=["canonicalId","targetId"],Ux=["targetId","path"],Hx=["path","targetId"],jx=["collectionId","parent"],Yx=["indexId","uid"],Oy=["uid","sequenceNumber"],$x=["indexId","uid","arrayValue","directionalValue","documentKey"],ZE=["indexId","uid","documentKey"],zw=["userId","collectionPath","documentId"],KE=["userId","collectionPath","largestBatchId"],QE=["userId","collectionGroup","largestBatchId"],bM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zw=[...bM,"documentOverlays"],Kw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JE=[...Kw,"indexConfiguration","indexState","indexEntries"],Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class Ry{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Qr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ly(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=Jw(r.target.error);this.At.reject(new Ly(e,i))}}static open(e,t,r,i){try{return new Ry(t,e.transaction(i,r))}catch(a){throw new Ly(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Gx(t)}}class qs{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===qs.Vt((0,Jt.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),jd(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Jt.hl)())return!1;if(qs.St())return!0;const e=(0,Jt.z$)(),t=qs.Vt(e),r=0<t&&t<10,i=qs.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Ly(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Ae(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ae(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ly(e,f))},a.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=Ry.open(a.db,e,c?"readonly":"readwrite",r),D=i(_).next(S=>(_.bt(),S)).catch(S=>(_.abort(S),fe.reject(S))).toPromise();return D.catch(()=>{}),yield _.Rt,D}catch(_){const D="FirebaseError"!==_.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",D),a.close(),!D)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class CM{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return jd(this.Ft.delete())}}class Ly extends Ae{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Nf(n){return"IndexedDbTransactionError"===n.name}class Gx{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jd(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),jd(this.store.add(e))}get(e){return jd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),jd(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),jd(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Gt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new fe((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new fe((r,i)=>{t.onerror=a=>{const c=Jw(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new fe((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new CM(f),D=t(f.primaryKey,f.value,_);if(D instanceof fe){const S=D.catch(A=>(_.done(),fe.reject(A)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jd(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Jw(r.target.error);t(i)}})}let XE=!1;function Jw(n){const e=qs.Vt((0,Jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XE||(XE=!0,setTimeout(()=>{throw r},0)),r}}return n}class EM extends DM{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function hi(n,e){const t=Ge(n);return qs.xt(t.Ht,e)}class Ym{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Nw(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Fo(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Fo(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Mt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vn())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,(t,r)=>Ty(t,r))&&_f(this.baseMutations,e.baseMutations,(t,r)=>Ty(t,r))}}class Xw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ot(e.mutations.length===r.length);let i=Bw;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new Xw(e,t,r,i)}}class zs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sc{constructor(e,t,r,i,a=Mt.min(),c=Mt.min(),f=Br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ny{constructor(e){this.Jt=e}}function eT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Vd(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Hm(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:oc(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:oc(e.version)}}var i,a;return r}function Pf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function oc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ac(n){const e=new Ir(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Ff(n,e){const t=(e.baseMutations||[]).map(a=>$w(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>$w(n.Jt,a)),i=Ir.fromMillis(e.localWriteTimeMs);return new Ym(e.batchId,i,t,r)}function Vf(n){const e=ac(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ac(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=ma(Sf(jm(i.documents[0])))):r=ma(jE(n.query)),new sc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Br.fromBase64String(n.resumeToken))}function eb(n,e){const t=oc(e.snapshotVersion),r=oc(e.lastLimboFreeSnapshotVersion);let i;i=my(e.target)?ky(n.Jt,e.target):mM(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rd(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tb(n){const e=jE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kw(e,e.limit,"L"):e}function nb(n,e){return new zs(e.largestBatchId,$w(n.Jt,e.overlayMutation))}function Py(n,e){const t=e.path.lastSegment();return[n,ei(e.path.popLast()),t]}class _a{getBundleMetadata(e,t){return tT(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ac(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return tT(e).put({bundleId:(r=t).id,createTime:oc(Xr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return SM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:tb(i.bundledQuery),readTime:ac(i.readTime)};var i})}saveNamedQuery(e,t){return SM(e).put({name:(r=t).name,readTime:oc(Xr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tT(n){return hi(n,"bundles")}function SM(n){return hi(n,"namedQueries")}class rb{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new rb(e,t.uid||"")}getOverlay(e,t){return Bf(e).get(Py(this.userId,t)).next(r=>r?nb(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new zs(t,c);i.push(this.Xt(e,f))}),fe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ei(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Bf(e).Qt("collectionPathOverlayIndex",f))}),fe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Of(),a=ei(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bf(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const D=nb(this.M,_);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Of();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bf(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,D,S)=>{const A=nb(this.M,D);a.size()<i||A.largestBatchId===c?(a.set(A.getKey(),A),c=A.largestBatchId):S.done()}).next(()=>a)}Xt(e,t){return Bf(e).put(function(r,i,a){const[c,f,_]=Py(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lf(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Bf(n){return hi(n,"documentOverlays")}class Uf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(mr(e.integerValue));else if("doubleValue"in e){const r=mr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),yf(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ku(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Mw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),je.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function IM(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function ib(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=IM(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Uf.fe=new Uf;class MM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=ib(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=ib(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Wx{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class nT{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class $m{constructor(){this.De=new MM,this.Ce=new Wx(this.De),this.xe=new nT(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class lc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new lc(this.indexId,this.documentKey,this.arrayValue,r)}}function Yd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sb(n.arrayValue,e.arrayValue),0!==t?t:(t=sb(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function sb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class ob{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Aw(e);if(void 0!==t&&!this.Be(t))return!1;const r=Od(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ab{constructor(){this.qe=new Fy}addToCollectionParentIndex(e,t){return this.qe.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getFieldIndex(e,t){return fe.resolve(null)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class Fy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(un.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(un.comparator)).toArray()}}const Vy=new Uint8Array(0);class rT{constructor(e){this.user=e,this.Ge=new Fy,this.Ke=new rc(t=>Rd(t),(t,r)=>Ef(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:r,parent:ei(i)};return lb(e).put(a)}return fe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[cE(t),""],!1,!0);return lb(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Bo(c.parent))}return r})}addFieldIndex(e,t){const r=By(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=By(e),i=ub(e),a=Gm(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Gm(e);let i=!0;const a=new Map;return fe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=vn();return fe.forEach(a,(f,_)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=f,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${Rd(t)}`);const S=function(Oe,ze){const We=Aw(ze);if(void 0===We)return null;for(const vt of gy(Oe,We.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null}(_,f),A=function(Oe,ze){const We=new Map;for(const vt of Od(ze))for(const ut of gy(Oe,vt.fieldPath))switch(ut.op){case"==":case"in":We.set(vt.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return We.set(vt.fieldPath.canonicalString(),ut.value),Array.from(We.values())}return null}(_,f),N=function(Oe,ze){const We=[];let vt=!0;for(const on of Od(ze)){let Ln,Mn=!0;for(const Xt of gy(Oe,on.fieldPath)){let Nn,eo=!0;switch(Xt.op){case"<":case"<=":Nn="nullValue"in(ut=Xt.value)?gE:"booleanValue"in ut?{booleanValue:!1}:"integerValue"in ut||"doubleValue"in ut?{doubleValue:NaN}:"timestampValue"in ut?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ut?{stringValue:""}:"bytesValue"in ut?{bytesValue:""}:"referenceValue"in ut?vf(pa.empty(),je.empty()):"geoPointValue"in ut?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ut?{arrayValue:{}}:"mapValue"in ut?{mapValue:{}}:rt();break;case"==":case"in":case">=":Nn=Xt.value;break;case">":Nn=Xt.value,eo=!1;break;case"!=":case"not-in":Nn=gE}hy(Ln,Nn)===Nn&&(Ln=Nn,Mn=eo)}if(null!==Oe.startAt)for(let Xt=0;Xt<Oe.orderBy.length;++Xt)if(Oe.orderBy[Xt].field.isEqual(on.fieldPath)){const Nn=Oe.startAt.position[Xt];hy(Ln,Nn)===Nn&&(Ln=Nn,Mn=Oe.startAt.inclusive);break}if(void 0===Ln)return null;We.push(Ln),vt&&(vt=Mn)}var ut;return new Bl(We,vt)}(_,f),B=function(Oe,ze){const We=[];let vt=!0;for(const on of Od(ze)){let Ln,Mn=!0;for(const Xt of gy(Oe,on.fieldPath)){let Nn,eo=!0;switch(Xt.op){case">=":case">":Nn="nullValue"in(ut=Xt.value)?{booleanValue:!1}:"booleanValue"in ut?{doubleValue:NaN}:"integerValue"in ut||"doubleValue"in ut?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ut?{stringValue:""}:"stringValue"in ut?{bytesValue:""}:"bytesValue"in ut?vf(pa.empty(),je.empty()):"referenceValue"in ut?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ut?{arrayValue:{}}:"arrayValue"in ut?{mapValue:{}}:"mapValue"in ut?mE:rt(),eo=!1;break;case"==":case"in":case"<=":Nn=Xt.value;break;case"<":Nn=Xt.value,eo=!1;break;case"!=":case"not-in":Nn=mE}vE(Ln,Nn)===Nn&&(Ln=Nn,Mn=eo)}if(null!==Oe.endAt)for(let Xt=0;Xt<Oe.orderBy.length;++Xt)if(Oe.orderBy[Xt].field.isEqual(on.fieldPath)){const Nn=Oe.endAt.position[Xt];vE(Ln,Nn)===Nn&&(Ln=Nn,Mn=Oe.endAt.inclusive);break}if(void 0===Ln)return null;We.push(Ln),vt&&(vt=Mn)}var ut;return new Bl(We,vt)}(_,f),$=this.je(f,_,N),ee=this.je(f,_,B),_e=this.We(f,_,A),Be=this.ze(f.indexId,S,$,!!N&&N.inclusive,ee,!!B&&B.inclusive,_e);return fe.forEach(Be,Oe=>r.Kt(Oe,t.limit).next(ze=>{ze.forEach(We=>{c=c.add(new je(Bo(We.documentKey)))})}))}).next(()=>c)}return fe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),D=_/(null!=t?t.length:1),S=[];for(let A=0;A<_;++A){const N=t?this.He(t[A/D]):Vy,B=r?this.Je(e,N,r[A%D],i):this.Ye(e),$=a?this.Xe(e,N,a[A%D],c):this.Ye(e+1);S.push(...this.createRange(B,$,f.map(ee=>this.Je(e,N,ee,!0))))}return S}Je(e,t,r,i){const a=new lc(e,je.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new lc(e,je.empty(),t,r);return i?a.ke():a}Ye(e){return new lc(e,je.empty(),Vy,Vy)}getFieldIndex(e,t){const r=new ob(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,_)=>_.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new $m;for(const i of Od(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);Uf.fe.Zt(a,c)}return r.Se()}He(e){const t=new $m;return Uf.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new $m);let a=0;for(const c of Od(e)){const f=r[a++];for(const _ of i)if(this.tn(t,c.fieldPath)&&Mm(f))i=this.en(i,c,f);else{const D=_.Ne(c.kind);Uf.fe.Zt(f,D)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new $m;_.seed(f.Se()),Uf.fe.Zt(c,_.Ne(t.kind)),a.push(_)}return a}tn(e,t){return!!e.filters.find(r=>r instanceof Mi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=By(e),i=ub(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return fe.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(D,S){const A=S?new bf(S.sequenceNumber,new Po(ac(S.readTime),new je(Bo(S.documentKey)),S.largestBatchId)):bf.empty(),N=D.fields.map(([B,$])=>new py(di.fromServerFormat(B),$));return new Am(D.indexId,D.collectionGroup,N,A)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Qt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=By(e),a=ub(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>fe.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:oc((N=r).readTime),documentKey:ei(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),fe.forEach(f,_=>this.rn(e,i,_).next(D=>{const S=this.on(a,_);return D.isEqual(S)?fe.resolve():this.un(e,a,D,S)}))))})}an(e,t,r){return Gm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:ei(t.key.path)})}cn(e,t,r){return Gm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,ei(t.key.path)])}rn(e,t,r){const i=Gm(e);let a=new jn(Yd);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,ei(t.path)])},(c,f)=>{a=a.add(new lc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let r=new jn(Yd);const i=this.Ze(t,e);if(null==i)return r;const a=Aw(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Mm(c))for(const f of c.arrayValue.values||[])r=r.add(new lc(t.indexId,e.key,this.He(f),i))}else r=r.add(new lc(t.indexId,e.key,Vy,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(c,f,_,D,S){const A=c.getIterator(),N=f.getIterator();let B=ic(A),$=ic(N);for(;B||$;){let ee=!1,_e=!1;if(B&&$){const Be=_(B,$);Be<0?_e=!0:Be>0&&(ee=!0)}else null!=B?_e=!0:ee=!0;ee?(D($),$=ic(N)):_e?(S(B),B=ic(A)):(B=ic(A),$=ic(N))}}(r,i,Yd,c=>{a.push(this.an(e,t,c))},c=>{a.push(this.cn(e,t,c))}),fe.waitFor(a)}sn(e){let t=1;return ub(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Yd(c,f)).filter((c,f,_)=>!f||0!==Yd(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=Yd(c,e),_=Yd(c,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(c),i.push(c.ke());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return a}}function lb(n){return hi(n,"collectionParents")}function Gm(n){return hi(n,"indexEntries")}function By(n){return hi(n,"indexConfiguration")}function ub(n){return hi(n,"indexState")}const AM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class os{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iT(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:c},(S,A,N)=>(f++,N.delete()));a.push(_.next(()=>{Ot(1===f)}));const D=[];for(const S of t.mutations){const A=wM(e,S.key.path,t.batchId);a.push(i.delete(A)),D.push(S.key)}return fe.waitFor(a).next(()=>D)}function Uy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(41943040,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class cb{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Ot(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new cb(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $d(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Wm(e),c=$d(e);return c.add({}).next(f=>{Ot("number"==typeof f);const _=new Ym(f,t,r,i),D=function(N,B,$){const ee=$.baseMutations.map(Be=>Lf(N.Jt,Be)),_e=$.mutations.map(Be=>Lf(N.Jt,Be));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:_e}}(this.M,this.userId,_),S=[];let A=new jn((N,B)=>Qt(N.canonicalString(),B.canonicalString()));for(const N of i){const B=wM(this.userId,N.key.path,f);A=A.add(N.key.path.popLast()),S.push(c.put(D)),S.push(a.put(B,zE))}return A.forEach(N=>{S.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),fe.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return $d(e).get(t).next(r=>r?(Ot(r.userId===this.userId),Ff(this.M,r)):null)}ln(e,t){return this.hn[t]?fe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return $d(e).Wt({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Ot(f.batchId>=r),a=Ff(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $d(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $d(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Ff(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Wm(e).Wt({range:i},(c,f,_)=>{const[D,S,A]=c,N=Bo(S);if(D===this.userId&&t.path.isEqual(N))return $d(e).get(A).next(B=>{if(!B)throw rt();Ot(B.userId===this.userId),a.push(Ff(this.M,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Qt);const i=[];return t.forEach(a=>{const c=xy(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=Wm(e).Wt({range:f},(D,S,A)=>{const[N,B,$]=D,ee=Bo(B);N===this.userId&&a.path.isEqual(ee)?r=r.add($):A.done()});i.push(_)}),fe.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=xy(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new jn(Qt);return Wm(e).Wt({range:c},(_,D,S)=>{const[A,N,B]=_,$=Bo(N);A===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(B)):S.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(a=>{i.push($d(e).get(a).next(c=>{if(null===c)throw rt();Ot(c.userId===this.userId),r.push(Ff(this.M,c))}))}),fe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iT(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),fe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Wm(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=Bo(a[1]);i.push(_)}else f.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,t){return kM(e,this.userId,t)}_n(e){return xM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kM(n,e,t){const r=xy(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return Wm(n).Wt({range:a,jt:!0},(f,_,D)=>{const[S,A,N]=f;S===e&&A===i&&(c=!0),D.done()}).next(()=>c)}function $d(n){return hi(n,"mutations")}function Wm(n){return hi(n,"documentMutations")}function xM(n){return hi(n,"mutationQueues")}class Hf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Hf(0)}static gn(){return new Hf(-1)}}class OM{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Hf(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Mt.fromTimestamp(new Ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hl(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Hl(e).Wt((c,f)=>{const _=Vf(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>fe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Hl(e).Wt((r,i)=>{const a=Vf(i);t(a)})}yn(e){return sT(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}pn(e,t){return sT(e).put("targetGlobalKey",t)}In(e,t){return Hl(e).put(eb(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Rd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Hl(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const D=Vf(f);Ef(t,D.target)&&(a=D,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=uc(e);return t.forEach(c=>{const f=ei(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),fe.waitFor(i)}removeMatchingKeys(e,t,r){const i=uc(e);return fe.forEach(t,a=>{const c=ei(a.path);return fe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=uc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=uc(e);let a=vn();return i.Wt({range:r,jt:!0},(c,f,_)=>{const D=Bo(c[1]),S=new je(D);a=a.add(S)}).next(()=>a)}containsKey(e,t){const r=ei(t.path),i=IDBKeyRange.bound([r],[cE(r)],!1,!0);let a=0;return uc(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],_,D)=>{0!==c&&(a++,D.done())}).next(()=>a>0)}Et(e,t){return Hl(e).get(t).next(r=>r?Vf(r):null)}}function Hl(n){return hi(n,"targets")}function sT(n){return hi(n,"targetGlobal")}function uc(n){return hi(n,"targetDocuments")}function cc(n){return jl.apply(this,arguments)}function jl(){return jl=(0,we.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Qw)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),jl.apply(this,arguments)}function db([n,e],[t,r]){const i=Qt(n,t);return 0===i?Qt(e,r):i}class hb{constructor(e){this.En=e,this.buffer=new jn(db),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();db(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Nf(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield cc(i)}yield t.vn(e)}))}}class RM{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Ws.A);const r=new hb(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(AM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AM):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,a,c,f,_,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(D=Date.now(),ly()<=ci.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(D-_)+`ms\nTotal Duration: ${D-S}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class pb{constructor(e,t){this.db=e,this.garbageCollector=new RM(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return jf(e,r)}removeReference(e,t,r){return jf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jf(e,t)}Mn(e,t){return function(r,i){let a=!1;return xM(r).zt(c=>kM(r,c,i).next(f=>(f&&(a=!0),fe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.kn(e,(c,f)=>{if(f<=t){const _=this.Mn(e,c).next(D=>{if(!D)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Mt.min()),uc(e).delete([0,ei(c.path)])))});i.push(_)}}).next(()=>fe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jf(e,t)}kn(e,t){const r=uc(e);let i,a=Ws.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:D})=>{0===c?(a!==Ws.A&&t(new je(Bo(i)),a),a=D,i=_):a=Ws.A}).next(()=>{a!==Ws.A&&t(new je(Bo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jf(n,e){return uc(n).put((r=n.currentSequenceNumber,{targetId:0,path:ei(e.path),sequenceNumber:r}));var r}class qm{constructor(){this.changes=new rc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qx{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yf(e).put(r)}removeEntry(e,t,r){return Yf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Pf(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Zn.newInvalidDocument(t);return Yf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only($f(t))},(i,a)=>{r=this.Fn(t,a)}).next(()=>r)}$n(e,t){let r={size:0,document:Zn.newInvalidDocument(t)};return Yf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only($f(t))},(i,a)=>{r={document:this.Fn(t,a),size:Uy(a)}}).next(()=>r)}getEntries(e,t){let r=Vo();return this.Bn(e,t,(i,a)=>{const c=this.Fn(i,a);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=Vo(),i=new Hr(je.comparator);return this.Bn(e,t,(a,c)=>{const f=this.Fn(a,c);r=r.insert(a,f),i=i.insert(a,Uy(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return fe.resolve();let i=new jn(aT);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound($f(i.first()),$f(i.last())),c=i.getIterator();let f=c.getNext();return Yf(e).Wt({index:"documentKeyIndex",range:a},(_,D,S)=>{const A=je.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;f&&aT(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,D),f=c.hasNext()?c.getNext():null),f?S.Ut($f(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Pf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yf(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=Vo();for(const _ of c){const D=this.Fn(je.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(D.key,D)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Vo();const c=oT(t,r),f=oT(t,Po.max());return Yf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,D,S)=>{const A=this.Fn(je.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);a=a.insert(A.key,A),a.size===i&&S.done()}).next(()=>a)}newChangeBuffer(e){return new zx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return LM(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}On(e,t){return LM(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function TM(n,e){let t;if(e.document)t=UE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=ac(e.noDocument.readTime);t=Zn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=je.fromSegments(e.unknownDocument.path),i=ac(e.unknownDocument.version);t=Zn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ir(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return Zn.newInvalidDocument(e)}}class zx extends qm{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new rc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((a,c)=>Qt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=eT(this.qn.M,c);i=i.add(a.path.popLast()),r+=Uy(_)-f.size,t.push(this.qn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=eT(this.qn.M,c.convertToNoDocument(Mt.min()));t.push(this.qn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function LM(n){return hi(n,"remoteDocumentGlobal")}function Yf(n){return hi(n,"remoteDocumentsV14")}function $f(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oT(n,e){const t=e.documentKey.path.toArray();return[n,Pf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aT(n,e){const t=n.path.length-e.path.length;return 0!==t?t:je.comparator(n,e)}class NM{constructor(e){this.M=e}kt(e,t,r,i){const a=new Ry("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qE,{unique:!0}),f.createObjectStore("documentMutations"),lT(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=fe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),lT(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",D)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").qt().next(D=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qE,{unique:!0});const S=_.store("mutations"),A=D.map(N=>S.put(N));return fe.waitFor(A)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),r<7&&i>=7&&(c=c.next(()=>this.jn(a))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:zw});_.createIndex("collectionPathOverlayIndex",KE,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",QE,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Px});_.createIndex("documentKeyIndex",Fx),_.createIndex("collectionGroupIndex",Vx)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Yx}).createIndex("sequenceNumberIndex",Oy,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:$x}).createIndex("documentKeyIndex",ZE,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=Uy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>fe.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>fe.forEach(f,_=>{Ot(_.userId===a.userId);const D=Ff(this.M,_);return iT(e,a.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const _=new un(c),D=[0,ei(_)];a.push(t.get(D).next(S=>S?fe.resolve():t.put({targetId:0,path:ei(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>fe.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:jx});const r=t.store("collectionParents"),i=new Fy,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:ei(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const _=new un(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,_],D)=>{const S=Bo(f);return a(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Vf(i),c=eb(this.M,a);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(D=c,D.document?new je(un.fromString(D.document.name).popFirst(5)):D.noDocument?je.fromSegments(D.noDocument.path):D.unknownDocument?je.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(S))}).next(()=>fe.waitFor(i))}}function lT(n){n.createObjectStore("targetDocuments",{keyPath:Ux}).createIndex("documentTargetsIndex",Hx,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bx,{unique:!0}),n.createObjectStore("targetGlobal")}const Hy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jy{constructor(e,t,r,i,a,c,f,_,D,S,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=a,this.window=c,this.document=f,this.Yn=D,this.Xn=S,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=N=>Promise.resolve(),!jy.vt())throw new Ae(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pb(this,i),this.cs=t+"main",this.M=new Ny(_),this.hs=new qs(this.cs,this.Zn,new NM(this.M)),this.ls=new OM(this.referenceDelegate,this.M),this.fs=new qx(this.M),this.ds=new _a,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,Hy);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ws(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Nf(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Gf(e).get("owner").next(t=>fe.resolve(this.bs(t)))}Ps(e){return Yy(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=hi(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ss(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return fe.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?fe.resolve(!0):Gf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,Hy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yy(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new EM(t,Ws.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>Yy(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return cb.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new rT(e)}getDocumentOverlayCache(e){return rb.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.Zn)?JE:13===c?Kw:12===c?Zw:11===c?bM:void rt();var c;let f;return this.hs.runTransaction(e,i,a,_=>(f=new EM(_,this.ts?this.ts.next():Ws.A),"readwrite-primary"===t?this.Ts(f).next(D=>!!D||this.Es(f)).next(D=>{if(!D)throw rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(de.FAILED_PRECONDITION,Qw);return r(f)}).next(D=>this.Rs(f).next(()=>D)):this.Fs(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return Gf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(de.FAILED_PRECONDITION,Hy)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gf(e).put("owner",t)}static vt(){return qs.vt()}As(e){const t=Gf(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(rr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){rr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gf(n){return hi(n,"owner")}function Yy(n){return hi(n,"clientMetadata")}function mb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uT{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):wy(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new je(t)).next(r=>{let i=Vw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let a=Vw();return this.indexManager.getCollectionParents(e,i).next(c=>fe.forEach(c,f=>{const _=(D=t,S=f.child(i),new Ju(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Ws(e,_,r).next(D=>{D.forEach((S,A)=>{a=a.insert(S,A)})})}).next(()=>a))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const _=f.key;let D=i.get(_);null==D&&(D=Zn.newInvalidDocument(_),i=i.insert(_,D)),Fo(f,D,c.localWriteTime),D.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,c)=>{Dy(t,c)||(i=i.remove(a))}),i))}}class zm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=vn(),i=vn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zm(e,t.fromCache,r,i)}}class PM{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Mt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(a=>{const c=this.ti(t,a);return(Ul(t)||xm(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(ly()<=ci.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Om(t)),this.Xs.Ks(e,t,JI(r,-1)).next(f=>(c.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ti(e,t){let r=new jn(IE(e));return t.forEach((i,a)=>{Dy(e,a)&&(r=r.add(a))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Zs(e,t){return ly()<=ci.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Om(t)),this.Xs.Ks(e,t,Po.min())}}class cT{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Hr(Qt),this.ii=new rc(a=>Rd(a),Ef),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new uT(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function $y(n,e,t,r){return new cT(n,e,t,r)}function dT(n,e){return gb.apply(this,arguments)}function gb(){return gb=(0,we.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(a=>(i=a,t.ui(e),t.$s.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=vn();for(const D of i){c.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}for(const D of a){f.push(D.batchId);for(const S of D.mutations)_=_.add(S.key)}return t.ai.qs(r,_).next(D=>({ci:D,removedBatchIds:c,addedBatchIds:f}))})})}),gb.apply(this,arguments)}function Zx(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,D){const S=_.batch,A=S.keys();let N=fe.resolve();return A.forEach(B=>{N=N.next(()=>D.getEntry(f,B)).next($=>{const ee=_.docVersions.get(B);Ot(null!==ee),$.version.compareTo(ee)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),D.addEntry($)))})}),N.next(()=>c.$s.removeMutationBatch(f,S))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function FM(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function Kx(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((D,S)=>{const A=i.get(S);if(!A)return;f.push(t.ls.removeMatchingKeys(a,D.removedDocuments,S).next(()=>t.ls.addMatchingKeys(a,D.addedDocuments,S)));let N=A.withSequenceNumber(a.currentSequenceNumber);var B,$,ee;e.targetMismatches.has(S)?N=N.withResumeToken(Br.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):D.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(D.resumeToken,r)),i=i.insert(S,N),$=N,ee=D,(0===(B=A).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,N))});let _=Vo();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(hT(a,c,e.documentUpdates).next(D=>{_=D})),!r.isEqual(Mt.min())){const D=t.ls.getLastRemoteSnapshotVersion(a).next(S=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(D)}return fe.waitFor(f).next(()=>c.apply(a)).next(()=>t.ai.Gs(a,_)).next(()=>_)}).then(a=>(t.si=i,a))}function hT(n,e,t){let r=vn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Vo();return t.forEach((c,f)=>{const _=i.get(c);f.isNoDocument()&&f.version.isEqual(Mt.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",_.version," Watch version:",f.version)}),a})}function VM(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Zm(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(a=>a?(i=a,fe.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new sc(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Km(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=(0,we.Z)(function*(n,e,t){const r=Ge(n),i=r.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Nf(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),fT.apply(this,arguments)}function _b(n,e,t){const r=Ge(n);let i=Mt.min(),a=vn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,D){const S=Ge(f),A=S.ii.get(D);return void 0!==A?fe.resolve(S.si.get(A)):S.ls.getTargetData(_,D)}(r,c,ma(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.ni.Ks(c,e,t?i:Mt.min(),t?a:vn())).next(f=>(UM(r,SE(e),f),{documents:f,hi:a})))}function BM(n,e){const t=Ge(n),r=Ge(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function pT(n,e){const t=Ge(n),r=t.ri.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,JI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(UM(t,e,i),i))}function UM(n,e,t){let r=Mt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ri.set(e,r)}function mT(){return mT=(0,we.Z)(function*(n,e,t,r){const i=Ge(n);let a=vn(),c=Vo();for(const D of t){const S=e.li(D.metadata.name);D.document&&(a=a.add(S));const A=e.fi(D);A.setReadTime(e.di(D.metadata.readTime)),c=c.insert(S,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),_=yield Zm(i,(D=r,ma(Sf(un.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>hT(D,f,c).next(S=>(f.apply(D),S)).next(S=>i.ls.removeMatchingKeysForTargetId(D,_.targetId).next(()=>i.ls.addMatchingKeys(D,a,_.targetId)).next(()=>i.ai.Gs(D,S)).next(()=>S)))}),mT.apply(this,arguments)}function Jx(n,e){return s.apply(this,arguments)}function s(){return s=(0,we.Z)(function*(n,e,t=vn()){const r=yield Zm(n,ma(tb(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Xr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(a,e);const f=r.withResumeToken(Br.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(a,f).next(()=>i.ls.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.ls.addMatchingKeys(a,t,r.targetId)).next(()=>i.ds.saveNamedQuery(a,e))})}),s.apply(this,arguments)}class o{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return fe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Xr(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:tb(r.bundledQuery),readTime:Xr(r.readTime)}),fe.resolve();var r}}class l{constructor(){this.overlays=new Hr(je.comparator),this.mi=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=Of(),a=t.length+1,c=new je(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Hr((D,S)=>D-S);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=a.get(D.largestBatchId);null===S&&(S=Of(),a=a.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const f=Of(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,S)=>f.set(D,S)),!(f.size()>=i)););return fe.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new zs(t,r));let a=this.mi.get(t);void 0===a&&(a=vn(),this.mi.set(t,a)),this.mi.set(t,a.add(r.key))}}class d{constructor(){this.gi=new jn(h.yi),this.pi=new jn(h.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new h(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new h(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new je(new un([])),r=new h(t,e),i=new h(t,e+1),a=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),a.push(c.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new je(new un([])),r=new h(t,e),i=new h(t,e+1);let a=vn();return this.pi.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new h(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class h{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return je.comparator(e.key,t.key)||Qt(e.Vi,t.Vi)}static Ii(e,t){return Qt(e.Vi,t.Vi)||je.comparator(e.key,t.key)}}class m{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new jn(h.yi)}checkEmpty(e){return fe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const a=this.vi;this.vi++;const c=new Ym(a,t,r,i);this.$s.push(c);for(const f of i)this.Si=this.Si.add(new h(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),a=i<0?0:i;return fe.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return fe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new h(t,0),i=new h(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],c=>{const f=this.Di(c.Vi);a.push(f)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Qt);return t.forEach(i=>{const a=new h(i,0),c=new h(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,c],f=>{r=r.add(f.Vi)})}),fe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const c=new h(new je(a),0);let f=new jn(Qt);return this.Si.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(f=f.add(_.Vi)),!0)},c),fe.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ot(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return fe.forEach(t.mutations,i=>{const a=new h(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new h(t,0),i=this.Si.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class v{constructor(e){this.ki=e,this.docs=new Hr(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let r=Vo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Zn.newInvalidDocument(i))}),fe.resolve(r)}getAllFromCollection(e,t,r){let i=Vo();const a=new je(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||eM(XI(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}Mi(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new b(this)}getSize(e){return fe.resolve(this.size)}}class b extends qm{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class C{constructor(e){this.persistence=e,this.Oi=new rc(t=>Rd(t),Ef),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new d,this.targetCount=0,this.Bi=Hf.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),fe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Hf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.In(t),fe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Oi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.$i.containsKey(t))}}class M{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ws(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new C(this),this.indexManager=new ab,this.fs=new v(r=>this.referenceDelegate.Ui(r)),this.M=new Ny(t),this.ds=new o(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new l,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new m(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new k(this.ts.next());return this.referenceDelegate.qi(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ki(e,t){return fe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class k extends DM{constructor(e){super(),this.currentSequenceNumber=e}}class P{constructor(e){this.persistence=e,this.Qi=new d,this.ji=null}static Wi(e){return new P(e)}get zi(){if(this.ji)return this.ji;throw rt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.zi,r=>{const i=je.fromPath(r);return this.Hi(e,i).next(a=>{a||t.removeEntry(i,Mt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return fe.or([()=>fe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function U(n,e){return`firestore_clients_${n}_${e}`}function Z(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ye(n,e){return`firestore_targets_${n}_${e}`}class Ne{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Ae(i.error.code,i.error.message))),c?new Ne(e,t,i.state,a):(rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ve{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ae(r.error.code,r.error.message))),a?new Ve(e,r.state,i):(rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qe{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fm();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=pE(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new Qe(e,a):(rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Te{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Te(t.clientId,t.onlineState):(rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dt{constructor(){this.activeTargetIds=Fm()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qt{constructor(e,t,r,i,a){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Hr(Qt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=U(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new dt),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const a=e.getItem(U(e.persistenceKey,i));if(a){const c=Qe.Ji(i,a);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ye(this.persistenceKey,e));if(r){const i=Ve.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ye(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let c=Ws.A;if(null!=a)try{const f=JSON.parse(a);Ot("number"==typeof f),c=f}catch(f){rr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Ws.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new Ne(this.currentUser,e,t,r),a=Z(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=Z(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=ye(this.persistenceKey,e),a=new Ve(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Qe.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return Ne.Ji(new Ii(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Ve.Ji(i,t)}wr(e){return Te.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Or(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Fm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class wn{constructor(){this.Fr=new dt,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new dt,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zs{Br(e){}shutdown(){}}class dc{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vb{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class wb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,a),this.ao(e,c,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Vl("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}co(e,t,r,i,a){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${yb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((a,c)=>{const f=new qI;f.listenOnce(rE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ay.NO_ERROR:const D=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),a(D);break;case ay.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case ay.HTTP_ERROR:const S=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const N=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN}(A.status);c(new Ae(N,A.message))}else c(new Ae(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tE(),c=nE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new WI({})),this.uo(f.initMessageHeaders,t,r),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const D=a.createWebChannel(_,f);let S=!1,A=!1;const N=new vb({jr:$=>{A?Pe("Connection","Not sending because WebChannel is closed:",$):(S||(Pe("Connection","Opening WebChannel transport."),D.open(),S=!0),Pe("Connection","WebChannel sending:",$),D.send($))},Wr:()=>D.close()}),B=($,ee,_e)=>{$.listen(ee,Be=>{try{_e(Be)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return B(D,Zu.EventType.OPEN,()=>{A||Pe("Connection","WebChannel transport opened.")}),B(D,Zu.EventType.CLOSE,()=>{A||(A=!0,Pe("Connection","WebChannel transport closed"),N.eo())}),B(D,Zu.EventType.ERROR,$=>{A||(A=!0,Vl("Connection","WebChannel transport errored:",$),N.eo(new Ae(de.UNAVAILABLE,"The operation could not be completed")))}),B(D,Zu.EventType.MESSAGE,$=>{var ee;if(!A){const _e=$.data[0];Ot(!!_e);const Be=_e,Oe=Be.error||(null===(ee=Be[0])||void 0===ee?void 0:ee.error);if(Oe){Pe("Connection","WebChannel received error:",Oe);const ze=Oe.status;let We=function(ut){const on=Mr[ut];if(void 0!==on)return LE(on)}(ze),vt=Oe.message;void 0===We&&(We=de.INTERNAL,vt="Unknown error status: "+ze+" with message "+Oe.message),A=!0,N.eo(new Ae(We,vt)),D.close()}else Pe("Connection","WebChannel received:",_e),N.no(_e)}}),B(c,GI.STAT_EVENT,$=>{$.stat===iE.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===iE.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.Zr()},0),N}}function Gy(){return"undefined"!=typeof window?window:null}function Wf(){return"undefined"!=typeof document?document:null}function Gd(n){return new Um(n,!0)}class Qm{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Wy{constructor(e,t,r,i,a,c,f,_){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Qm(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bb extends Wy{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Ay(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),i=e.targetChange.targetIds||[],a=function(_,D){return _.N?(Ot(void 0===D||"string"==typeof D),Br.fromBase64String(D||"")):(Ot(void 0===D||D instanceof Uint8Array),Br.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const D=void 0===_.code?de.UNKNOWN:LE(_.code);return new Ae(D,_.message||"")}(c);t=new Uw(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=ga(n,r.document.name),a=Xr(r.document.updateTime),c=new Hi({mapValue:{fields:r.document.fields}}),f=Zn.newFoundDocument(i,a,c);t=new Bm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=ga(n,r.document),a=r.readTime?Xr(r.readTime):Mt.min(),c=Zn.newNoDocument(i,a);t=new Bm([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=ga(n,r.document);t=new Bm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,a=new RE(r.count||0);t=new FE(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Mt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?Xr(a.readTime):Mt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Bd(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=my(f)?{documents:ky(i,f)}:{query:mM(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=Iy(i,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(c.readTime=Hm(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function gM(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Bd(this.M),t.removeTarget=e,this.Oo(t)}}class yF extends Wy{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Gw(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,i){let a=Xr(r.updateTime?r.updateTime:i);return a.isEqual(Mt.min())&&(a=Xr(i)),new lM(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.Jo(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Bd(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lf(this.M,r))};this.Oo(t)}}class vF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class wF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(rr(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class bF{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var _;qf(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(D){const S=Ge(D);S.lu.add(4),yield qy(S),S._u.set("Unknown"),S.lu.delete(4),yield Db(S)}),function(D){return _.apply(this,arguments)})(c))}))}),this._u=new wF(r,i)}}function Db(n){return HM.apply(this,arguments)}function HM(){return HM=(0,we.Z)(function*(n){if(qf(n))for(const e of n.fu)yield e(!0)}),HM.apply(this,arguments)}function qy(n){return jM.apply(this,arguments)}function jM(){return jM=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),jM.apply(this,arguments)}function gT(n,e){const t=Ge(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),GM(t)?$M(t):Zy(t).Co()&&YM(t,e))}function Cb(n,e){const t=Ge(n),r=Zy(t);t.hu.delete(e),r.Co()&&Xx(t,e),0===t.hu.size&&(r.Co()?r.ko():qf(t)&&t._u.set("Unknown"))}function YM(n,e){n.wu.Z(e.targetId),Zy(n).Qo(e)}function Xx(n,e){n.wu.Z(e),Zy(n).jo(e)}function $M(n){n.wu=new ss({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Zy(n).start(),n._u.iu()}function GM(n){return qf(n)&&!Zy(n).Do()&&n.hu.size>0}function qf(n){return 0===Ge(n).lu.size}function eO(n){n.wu=void 0}function DF(n){return WM.apply(this,arguments)}function WM(){return WM=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{YM(n,e)})}),WM.apply(this,arguments)}function CF(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,we.Z)(function*(n,e){eO(n),GM(n)?(n._u.uu(e),$M(n)):n._u.set("Unknown")}),qM.apply(this,arguments)}function EF(n,e,t){return zM.apply(this,arguments)}function zM(){return zM=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Uw&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _T(n,r)}else if(e instanceof Bm?n.wu.ut(e):e instanceof FE?n.wu._t(e):n.wu.ht(e),!t.isEqual(Mt.min()))try{const r=yield FM(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.wu.yt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const D=i.hu.get(_);D&&i.hu.set(_,D.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(Br.EMPTY_BYTE_STRING,_.snapshotVersion)),Xx(i,f);const D=new sc(_.target,f,1,_.sequenceNumber);YM(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield _T(n,r)}var r}),zM.apply(this,arguments)}function _T(n,e,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,we.Z)(function*(n,e,t){if(!Nf(e))throw e;n.lu.add(1),yield qy(n),n._u.set("Offline"),t||(t=()=>FM(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Db(n)}))}),ZM.apply(this,arguments)}function tO(n,e){return e().catch(t=>_T(n,t,e))}function zy(n){return KM.apply(this,arguments)}function KM(){return KM=(0,we.Z)(function*(n){const e=Ge(n),t=zf(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;TF(e);)try{const i=yield VM(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,SF(e,i)}catch(i){yield _T(e,i)}nO(e)&&rO(e)}),KM.apply(this,arguments)}function TF(n){return qf(n)&&n.cu.length<10}function SF(n,e){n.cu.push(e);const t=zf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function nO(n){return qf(n)&&!zf(n).Do()&&n.cu.length>0}function rO(n){zf(n).start()}function IF(n){return QM.apply(this,arguments)}function QM(){return QM=(0,we.Z)(function*(n){zf(n).Xo()}),QM.apply(this,arguments)}function MF(n){return JM.apply(this,arguments)}function JM(){return JM=(0,we.Z)(function*(n){const e=zf(n);for(const t of n.cu)e.Ho(t.mutations)}),JM.apply(this,arguments)}function AF(n,e,t){return XM.apply(this,arguments)}function XM(){return XM=(0,we.Z)(function*(n,e,t){const r=n.cu.shift(),i=Xw.from(r,e,t);yield tO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zy(n)}),XM.apply(this,arguments)}function kF(n,e){return e1.apply(this,arguments)}function e1(){return e1=(0,we.Z)(function*(n,e){var t;e&&zf(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(Fw(a=i.code)&&a!==de.ABORTED){const c=r.cu.shift();zf(r).No(),yield tO(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield zy(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),nO(n)&&rO(n)}),e1.apply(this,arguments)}function iO(n,e){return t1.apply(this,arguments)}function t1(){return t1=(0,we.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=qf(t);t.lu.add(3),yield qy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Db(t)}),t1.apply(this,arguments)}function n1(n,e){return r1.apply(this,arguments)}function r1(){return r1=(0,we.Z)(function*(n,e){const t=Ge(n);e?(t.lu.delete(2),yield Db(t)):e||(t.lu.add(2),yield qy(t),t._u.set("Unknown"))}),r1.apply(this,arguments)}function Zy(n){return n.mu||(n.mu=function(e,t,r){const i=Ge(e);return i.tu(),new bb(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:DF.bind(null,n),Jr:CF.bind(null,n),Ko:EF.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),GM(n)?$M(n):n._u.set("Unknown")):(yield n.mu.stop(),eO(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function zf(n){return n.gu||(n.gu=function(e,t,r){const i=Ge(e);return i.tu(),new yF(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:IF.bind(null,n),Jr:kF.bind(null,n),Yo:MF.bind(null,n),Jo:AF.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield zy(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class i1{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new i1(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(n,e){if(rr("AsyncQueue",`${e}: ${n}`),Nf(n))return new Ae(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Qy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=Vw(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new Qy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sO{constructor(){this.yu=new Hr(je.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jy{constructor(e,t,r,i,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new Jy(e,t,Qy.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&by(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xF{constructor(){this.Iu=void 0,this.listeners=[]}}class OF{constructor(){this.queries=new rc(e=>xw(e),by),this.onlineState="Unknown",this.Tu=new Set}}function s1(n,e){return o1.apply(this,arguments)}function o1(){return o1=(0,we.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new xF),i)try{a.Iu=yield t.onListen(r)}catch(c){const f=Ky(c,`Initialization of query '${Om(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&u1(t)}),o1.apply(this,arguments)}function a1(n,e){return l1.apply(this,arguments)}function l1(){return l1=(0,we.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),l1.apply(this,arguments)}function RF(n,e){const t=Ge(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&u1(t)}function LF(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function u1(n){n.Tu.forEach(e=>{e.next()})}class c1{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Jy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class NF{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class oO{constructor(e){this.M=e}li(e){return ga(this.M,e)}fi(e){return e.metadata.exists?UE(this.M,e.document,!1):Zn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Xr(e)}}class PF{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new oO(this.M);for(const i of e)if(i.metadata.queries){const a=r.li(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||vn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function Qx(n,e,t,r){return mT.apply(this,arguments)}(e.localStore,new oO(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield Jx(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function aO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lO{constructor(e){this.key=e}}class uO{constructor(e){this.key=e}}class cO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=vn(),this.mutatedKeys=vn(),this.Lu=IE(e),this.Uu=new Qy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new sO,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _=Ul(this.query)&&i.size===this.query.limit?i.last():null,D=xm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,A)=>{const N=i.get(S),B=Dy(this.query,A)?A:null,$=!!N&&this.mutatedKeys.has(N.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;N&&B?N.data.isEqual(B.data)?$!==ee&&(r.track({type:3,doc:B}),_e=!0):this.Qu(N,B)||(r.track({type:2,doc:B}),_e=!0,(_&&this.Lu(B,_)>0||D&&this.Lu(B,D)<0)&&(f=!0)):!N&&B?(r.track({type:0,doc:B}),_e=!0):N&&!B&&(r.track({type:1,doc:N}),_e=!0,(_||D)&&(f=!0)),_e&&(B?(c=c.add(B),a=ee?a.add(S):a.delete(S)):(c=c.delete(S),a=a.delete(S)))}),Ul(this.query)||xm(this.query))for(;c.size>this.query.limit;){const S=Ul(this.query)?c.last():c.first();c=c.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Ku:r,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((D,S)=>function(A,N){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(A)-B(N)}(D.type,S.type)||this.Lu(D.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new Jy(this.query,e.Uu,i,a,e.mutatedKeys,0===f,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new sO,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=vn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new uO(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new lO(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=vn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Jy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class FF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VF{constructor(e){this.key=e,this.Xu=!1}}class BF{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new rc(f=>xw(f),by),this.ea=new Map,this.na=new Set,this.sa=new Hr(je.comparator),this.ia=new Map,this.ra=new d,this.oa={},this.ua=new Map,this.aa=Hf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function UF(n,e){return d1.apply(this,arguments)}function d1(){return d1=(0,we.Z)(function*(n,e){const t=L1(n);let r,i;const a=t.ta.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const c=yield Zm(t.localStore,ma(e));t.isPrimaryClient&&gT(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield h1(t,e,r,"current"===f)}return i}),d1.apply(this,arguments)}function h1(n,e,t,r){return f1.apply(this,arguments)}function f1(){return f1=(0,we.Z)(function*(n,e,t,r){n.ha=(S,A,N)=>{return(B=(0,we.Z)(function*($,ee,_e,Be){let Oe=ee.view.Gu(_e);Oe.ei&&(Oe=yield _b($.localStore,ee.query,!1).then(({documents:vt})=>ee.view.Gu(vt,Oe)));const ze=Be&&Be.targetChanges.get(ee.targetId),We=ee.view.applyChanges(Oe,$.isPrimaryClient,ze);return C1($,ee.targetId,We.zu),We.snapshot}),function($,ee,_e,Be){return B.apply(this,arguments)})(n,S,A,N);var B};const i=yield _b(n.localStore,e,!0),a=new cO(e,i.hi),c=a.Gu(i.documents),f=Rf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);C1(n,t,_.zu);const D=new FF(e,t,a);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),f1.apply(this,arguments)}function HF(n,e){return p1.apply(this,arguments)}function p1(){return p1=(0,we.Z)(function*(n,e){const t=Ge(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(a=>!by(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Km(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Cb(t.remoteStore,r.targetId),Xy(t,r.targetId)}).catch(cc))):(Xy(t,r.targetId),yield Km(t.localStore,r.targetId,!0))}),p1.apply(this,arguments)}function m1(){return m1=(0,we.Z)(function*(n,e,t){const r=N1(n);try{const i=yield function(a,c){const f=Ge(a),_=Ir.now(),D=c.reduce((A,N)=>A.add(N.key),vn());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,D).next(N=>{S=N;const B=[];for(const $ of c){const ee=uM($,S.get($.key));null!=ee&&B.push(new Pd($.key,ee,fy(ee.value.mapValue),Ur.exists(!0)))}return f.$s.addMutationBatch(A,_,B,c)})).then(A=>(A.applyToLocalDocumentSet(S),{batchId:A.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.oa[a.currentUser.toKey()];_||(_=new Hr(Qt)),_=_.insert(c,f),a.oa[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Wd(r,i.changes),yield zy(r.remoteStore)}catch(i){const a=Ky(i,"Failed to persist write");t.reject(a)}}),m1.apply(this,arguments)}function dO(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,we.Z)(function*(n,e){const t=Ge(n);try{const r=yield Kx(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ia.get(a);c&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Ot(c.Xu):i.removedDocuments.size>0&&(Ot(c.Xu),c.Xu=!1))}),yield Wd(t,r,e)}catch(r){yield cc(r)}}),g1.apply(this,arguments)}function hO(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((a,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Ge(a);f.onlineState=c;let _=!1;f.queries.forEach((D,S)=>{for(const A of S.listeners)A.Eu(c)&&(_=!0)}),_&&u1(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YF(n,e,t){return _1.apply(this,arguments)}function _1(){return _1=(0,we.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),a=i&&i.key;if(a){let c=new Hr(je.comparator);c=c.insert(a,Zn.newNoDocument(a,Mt.min()));const f=vn().add(a),_=new Vm(Mt.min(),new Map,new jn(Qt),c,f);yield dO(r,_),r.sa=r.sa.remove(a),r.ia.delete(e),E1(r)}else yield Km(r.localStore,e,!1).then(()=>Xy(r,e,t)).catch(cc)}),_1.apply(this,arguments)}function $F(n,e){return y1.apply(this,arguments)}function y1(){return y1=(0,we.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield Zx(t.localStore,e);D1(t,r,null),b1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wd(t,i)}catch(i){yield cc(i)}}),y1.apply(this,arguments)}function GF(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=(0,we.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(a,c){const f=Ge(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return f.$s.lookupMutationBatch(_,c).next(S=>(Ot(null!==S),D=S.keys(),f.$s.removeMutationBatch(_,S))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,D))})}(r.localStore,e);D1(r,e,t),b1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wd(r,i)}catch(i){yield cc(i)}}),v1.apply(this,arguments)}function w1(){return w1=(0,we.Z)(function*(n,e){const t=Ge(n);qf(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=Ge(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Ky(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),w1.apply(this,arguments)}function b1(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function D1(n,e,t){const r=Ge(n);let i=r.oa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function Xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||fO(n,r)})}function fO(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Cb(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),E1(n))}function C1(n,e,t){for(const r of t)r instanceof lO?(n.ra.addReference(r.key,e),qF(n,r)):r instanceof uO?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||fO(n,r.key)):rt()}function qF(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),E1(n))}function E1(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new je(un.fromString(e)),r=n.aa.next();n.ia.set(r,new VF(t)),n.sa=n.sa.insert(t,r),gT(n.remoteStore,new sc(ma(Sf(t.path)),r,2,Ws.A))}}function Wd(n,e,t){return T1.apply(this,arguments)}function T1(){return T1=(0,we.Z)(function*(n,e,t){const r=Ge(n),i=[],a=[],c=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,_)=>{c.push(r.ha(_,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D.fromCache?"not-current":"current"),i.push(D);const S=zm.Js(_.targetId,D);a.push(S)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(f=(0,we.Z)(function*(_,D){const S=Ge(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>fe.forEach(D,N=>fe.forEach(N.zs,B=>S.persistence.referenceDelegate.addReference(A,N.targetId,B)).next(()=>fe.forEach(N.Hs,B=>S.persistence.referenceDelegate.removeReference(A,N.targetId,B)))))}catch(A){if(!Nf(A))throw A;Pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const N=A.targetId;if(!A.fromCache){const B=S.si.get(N),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(N,ee)}}}),function(_,D){return f.apply(this,arguments)})(r.localStore,a))}),T1.apply(this,arguments)}function zF(n,e){return S1.apply(this,arguments)}function S1(){return S1=(0,we.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield dT(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(f=>{f.reject(new Ae(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wd(t,r.ci)}var i}),S1.apply(this,arguments)}function ZF(n,e){const t=Ge(n),r=t.ia.get(e);if(r&&r.Xu)return vn().add(r.key);{let i=vn();const a=t.ea.get(e);if(!a)return i;for(const c of a){const f=t.ta.get(c);i=i.unionWith(f.view.qu)}return i}}function KF(n,e){return I1.apply(this,arguments)}function I1(){return I1=(0,we.Z)(function*(n,e){const t=Ge(n),r=yield _b(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&C1(t,e.targetId,i.zu),i}),I1.apply(this,arguments)}function QF(n,e){return M1.apply(this,arguments)}function M1(){return M1=(0,we.Z)(function*(n,e){const t=Ge(n);return pT(t.localStore,e).then(r=>Wd(t,r))}),M1.apply(this,arguments)}function JF(n,e,t,r){return A1.apply(this,arguments)}function A1(){return A1=(0,we.Z)(function*(n,e,t,r){const i=Ge(n),a=yield function(c,f){const _=Ge(c),D=Ge(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.ln(S,f).next(A=>A?_.ai.qs(S,A):fe.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield zy(i.remoteStore):"acknowledged"===t||"rejected"===t?(D1(i,e,r||null),b1(i,e),f=e,Ge(Ge(i.localStore).$s).dn(f)):rt(),yield Wd(i,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),A1.apply(this,arguments)}function k1(){return k1=(0,we.Z)(function*(n,e){const t=Ge(n);if(L1(t),N1(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield pO(t,r.toArray());t.ca=!0,yield n1(t.remoteStore,!0);for(const a of i)gT(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Xy(t,c),Km(t.localStore,c,!0))),Cb(t.remoteStore,c)}),yield i,yield pO(t,r),function(a){const c=Ge(a);c.ia.forEach((f,_)=>{Cb(c.remoteStore,_)}),c.ra.bi(),c.ia=new Map,c.sa=new Hr(je.comparator)}(t),t.ca=!1,yield n1(t.remoteStore,!1)}}),k1.apply(this,arguments)}function pO(n,e,t){return x1.apply(this,arguments)}function x1(){return x1=(0,we.Z)(function*(n,e,t){const r=Ge(n),i=[],a=[];for(const c of e){let f;const _=r.ea.get(c);if(_&&0!==_.length){f=yield Zm(r.localStore,ma(_[0]));for(const D of _){const S=r.ta.get(D),A=yield KF(r,S);A.snapshot&&a.push(A.snapshot)}}else{const D=yield BM(r.localStore,c);f=yield Zm(r.localStore,D),yield h1(r,mO(D),c,!1)}i.push(f)}return r.Zu.Ko(a),i}),x1.apply(this,arguments)}function mO(n){return EE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function e2(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Os()}function t2(n,e,t,r){return O1.apply(this,arguments)}function O1(){return O1=(0,we.Z)(function*(n,e,t,r){const i=Ge(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=i.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield pT(i.localStore,SE(a[0])),f=Vm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Wd(i,c,f);break}case"rejected":yield Km(i.localStore,e,!0),Xy(i,e,r);break;default:rt()}}),O1.apply(this,arguments)}function n2(n,e,t){return R1.apply(this,arguments)}function R1(){return R1=(0,we.Z)(function*(n,e,t){const r=L1(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const a=yield BM(r.localStore,i),c=yield Zm(r.localStore,a);yield h1(r,mO(a),c.targetId,!1),gT(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield Km(r.localStore,i,!1).then(()=>{Cb(r.remoteStore,i),Xy(r,i)}).catch(cc))}}),R1.apply(this,arguments)}function L1(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YF.bind(null,e),e.Zu.Ko=RF.bind(null,e.eventManager),e.Zu.la=LF.bind(null,e.eventManager),e}function N1(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$F.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GF.bind(null,e),e}class gO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=Gd(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return $y(this.persistence,new PM,e.initialUser,this.M)}_a(e){return new M(P.Wi,this.M)}da(e){return new wn}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _O extends gO{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield N1(r.ga.syncEngine),yield zy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return $y(this.persistence,new PM,e.initialUser,this.M)}wa(e){return new fb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=mb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new jy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Gy(),Wf(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new wn}}class s2 extends _O{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof qt&&(r.sharedClientState.syncEngine={kr:JF.bind(null,i),Mr:t2.bind(null,i),Or:n2.bind(null,i),Os:e2.bind(null,i),Nr:QF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var a=(0,we.Z)(function*(c){yield function XF(n,e){return k1.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}da(e){const t=Gy();if(!qt.vt(t))throw new Ae(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qt(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class P1{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>hO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zF.bind(null,r.syncEngine),yield n1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new OF}createDatastore(e){const t=Gd(e.databaseInfo.databaseId),r=new wb(e.databaseInfo);return new vF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>hO(this.syncEngine,f,0),c=dc.vt()?new dc:new Zs,new bF(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,D){const S=new BF(r,i,a,c,f,_);return D&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Ge(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield qy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yO(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class o2{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Qr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new NF(JSON.parse(a),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class a2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,c){const f=Ge(a),_=Bd(f.M)+"/documents",D={documents:c.map(B=>Vd(f.M,B))},S=yield f.co("BatchGetDocuments",_,D),A=new Map;S.forEach(B=>{const $=function HE(n,e){return"found"in e?function(t,r){Ot(!!r.found);const i=ga(t,r.found.name),a=Xr(r.found.updateTime),c=new Hi({mapValue:{fields:r.found.fields}});return Zn.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const i=ga(t,r.missing),a=Xr(r.readTime);return Zn.newNoDocument(i,a)}(n,e):rt()}(f.M,B);A.set($.key.toString(),$)});const N=[];return c.forEach(B=>{const $=A.get(B.toString());Ot(!!$),N.push($)}),N}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=je.fromPath(i);e.mutations.push(new Pw(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const c=Ge(i),f=Bd(c.M)+"/documents",_={writes:a.map(D=>Lf(c.M,D))};yield c.ro("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Ae(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class l2{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new Qm(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new a2(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ca(a)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Md(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Fw(t)}return!1}}class u2{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ii.UNAUTHENTICATED,this.clientId=gf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,we.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ky(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function vO(n,e){return F1.apply(this,arguments)}function F1(){return F1=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield dT(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),F1.apply(this,arguments)}function wO(n,e){return V1.apply(this,arguments)}function V1(){return V1=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield B1(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>iO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>iO(e.remoteStore,a)),n.onlineComponents=e}),V1.apply(this,arguments)}function B1(n){return U1.apply(this,arguments)}function U1(){return U1=(0,we.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield vO(n,new gO)),n.offlineComponents}),U1.apply(this,arguments)}function vT(n){return H1.apply(this,arguments)}function H1(){return H1=(0,we.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield wO(n,new P1)),n.onlineComponents}),H1.apply(this,arguments)}function bO(n){return B1(n).then(e=>e.persistence)}function j1(n){return B1(n).then(e=>e.localStore)}function DO(n){return vT(n).then(e=>e.remoteStore)}function Y1(n){return vT(n).then(e=>e.syncEngine)}function ev(n){return $1.apply(this,arguments)}function $1(){return $1=(0,we.Z)(function*(n){const e=yield vT(n),t=e.eventManager;return t.onListen=UF.bind(null,e.syncEngine),t.onUnlisten=HF.bind(null,e.syncEngine),t}),$1.apply(this,arguments)}function CO(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,_){const D=new yT({next:A=>{a.enqueueAndForget(()=>a1(i,S));const N=A.docs.has(c);!N&&A.fromCache?_.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&f&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new c1(Sf(c.path),D,{includeMetadataChanges:!0,Du:!0});return s1(i,S)}(yield ev(n),n.asyncQueue,e,t,r)})),r.promise}function EO(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,_){const D=new yT({next:A=>{a.enqueueAndForget(()=>a1(i,S)),A.fromCache&&"server"===f.source?_.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),S=new c1(c,D,{includeMetadataChanges:!0,Du:!0});return s1(i,S)}(yield ev(n),n.asyncQueue,e,t,r)})),r.promise}const TO=new Map;function G1(n,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SO(n,e,t,r){if(!0===e&&!0===r)throw new Ae(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IO(n){if(!je.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MO(n){if(je.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wT(n);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AO(n,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class kO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,SO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kO({}),this._settingsFrozen=!1,e instanceof pa?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zI;switch(t.type){case"gapi":const r=t.client;return Ot(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Ox(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TO.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),TO.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class hc extends ws{constructor(e,t,r){super(e,t,Sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new je(e))}withConverter(e){return new hc(this.firestore,e,this._path)}}function xO(n,e,...t){if(n=(0,Jt.m9)(n),G1("collection","path",e),n instanceof Eb){const r=un.fromString(e,...t);return MO(r),new hc(n,null,r)}{if(!(n instanceof ur||n instanceof hc))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return MO(r),new hc(n.firestore,null,r)}}function bT(n,e,...t){if(n=(0,Jt.m9)(n),1===arguments.length&&(e=gf.R()),G1("doc","path",e),n instanceof Eb){const r=un.fromString(e,...t);return IO(r),new ur(n,null,new je(r))}{if(!(n instanceof ur||n instanceof hc))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return IO(r),new ur(n.firestore,n instanceof hc?n.converter:null,new je(r))}}function OO(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),(n instanceof ur||n instanceof hc)&&(e instanceof ur||e instanceof hc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RO(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),n instanceof ws&&e instanceof ws&&n.firestore===e.firestore&&by(n._query,e._query)&&n.converter===e.converter}class w2{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Qm(this,"async_queue_retry"),this.Ua=()=>{const t=Wf();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Wf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Wf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Qr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Nf(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,rr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=i1.createAndSchedule(this,e,t,r,a=>this.Qa(a));return this.Oa.push(i),i}qa(){this.Fa&&rt()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function W1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class b2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gr extends Eb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new w2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||LO(this),this._firestoreClient.terminate()}}function fi(n){return n._firestoreClient||LO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LO(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QI(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new u2(n._authCredentials,n._appCheckCredentials,n._queue,r)}function NO(n,e,t){const r=new Qr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield vO(n,t),yield wO(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function PO(n){if(n._initialized||n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Br.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jm{constructor(e){this._methodName=e}}class DT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const x2=/^__.*__$/;class O2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rm(e,this.data,t,this.fieldTransforms)}}class FO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class CT{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new CT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return ST(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(VO(this.Ya)&&x2.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class R2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Gd(e)}uc(e,t,r,i=!1){return new CT({Ya:e,methodName:t,oc:r,path:di.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Xm(n){const e=n._freezeSettings(),t=Gd(n._databaseId);return new R2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ET(n,e,t,r,i,a={}){const c=n.uc(a.merge||a.mergeFields?2:0,e,t,i);K1("Data must be an object, but it was:",c,r);const f=HO(r,c);let _,D;if(a.merge)_=new Id(c.fieldMask),D=c.fieldTransforms;else if(a.mergeFields){const S=[];for(const A of a.mergeFields){const N=Q1(e,A,t);if(!c.contains(N))throw new Ae(de.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);YO(S,N)||S.push(N)}_=new Id(S),D=c.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=c.fieldTransforms;return new O2(new Hi(f),_,D)}class Tb extends Jm{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tb}}function BO(n,e,t){return new CT({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class q1 extends Jm{_toFieldTransform(e){return new Af(e.path,new Ld)}isEqual(e){return e instanceof q1}}class L2 extends Jm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=BO(this,e,!0),r=this.ac.map(a=>eg(a,t)),i=new ec(r);return new Af(e.path,i)}isEqual(e){return this===e}}class N2 extends Jm{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=BO(this,e,!0),r=this.ac.map(a=>eg(a,t)),i=new tc(r);return new Af(e.path,i)}isEqual(e){return this===e}}class P2 extends Jm{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Nd(e.M,kE(e.M,this.cc));return new Af(e.path,t)}isEqual(e){return this===e}}function z1(n,e,t,r){const i=n.uc(1,e,t);K1("Data must be an object, but it was:",i,r);const a=[],c=Hi.empty();Sd(r,(_,D)=>{const S=TT(e,_,t);D=(0,Jt.m9)(D);const A=i.nc(S);if(D instanceof Tb)a.push(S);else{const N=eg(D,A);null!=N&&(a.push(S),c.set(S,N))}});const f=new Id(a);return new FO(c,f,i.fieldTransforms)}function Z1(n,e,t,r,i,a){const c=n.uc(1,e,t),f=[Q1(e,r,t)],_=[i];if(a.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<a.length;N+=2)f.push(Q1(e,a[N])),_.push(a[N+1]);const D=[],S=Hi.empty();for(let N=f.length-1;N>=0;--N)if(!YO(D,f[N])){const B=f[N];let $=_[N];$=(0,Jt.m9)($);const ee=c.nc(B);if($ instanceof Tb)D.push(B);else{const _e=eg($,ee);null!=_e&&(D.push(B),S.set(B,_e))}}const A=new Id(D);return new FO(S,A,c.fieldTransforms)}function UO(n,e,t,r=!1){return eg(t,n.uc(r?4:3,e))}function eg(n,e){if(jO(n=(0,Jt.m9)(n)))return K1("Unsupported field value:",e,n),HO(n,e);if(n instanceof Jm)return function(t,r){if(!VO(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=eg(c,r.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kE(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ir.fromDate(t);return{timestampValue:Hm(r.M,i)}}if(t instanceof Ir){const i=new Ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hm(r.M,i)}}if(t instanceof DT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fc)return{bytesValue:Iy(r.M,t._byteString)};if(t instanceof ur){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${wT(t)}`)}(n,e)}function HO(n,e){const t={};return dE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sd(n,(r,i)=>{const a=eg(i,e.Za(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function jO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ir||n instanceof DT||n instanceof fc||n instanceof ur||n instanceof Jm)}function K1(n,e,t){if(!jO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=wT(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function Q1(n,e,t){if((e=(0,Jt.m9)(e))instanceof qd)return e._internalPath;if("string"==typeof e)return TT(n,e);throw ST("Field path arguments must be of type string or ",n,!1,void 0,t)}const F2=new RegExp("[~\\*/\\[\\]]");function TT(n,e,t){if(e.search(F2)>=0)throw ST(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qd(...e.split("."))._internalPath}catch(r){throw ST(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ST(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ae(de.INVALID_ARGUMENT,f+n+_)}function YO(n,e){return n.some(t=>t.isEqual(e))}class Sb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(IT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class V2 extends Sb{data(){return super.data()}}function IT(n,e){return"string"==typeof e?TT(n,e):e instanceof qd?e._internalPath:e._delegate._internalPath}class tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zd extends Sb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(IT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ib extends zd{data(e={}){return super.data(e)}}class Zf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ib(this._firestore,this._userDataWriter,r.key,r,new tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Ib(r._firestore,r._userDataWriter,c.doc.key,c.doc,new tg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Ib(r._firestore,r._userDataWriter,c.doc.key,c.doc,new tg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),D=a.indexOf(c.doc.key)),{type:B2(c.type),doc:f,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function $O(n,e){return n instanceof zd&&e instanceof zd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zf&&e instanceof Zf&&n._firestore===e._firestore&&RO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function GO(n){if(xm(n)&&0===n.explicitOrderBy.length)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{}function Kf(n,...e){for(const t of e)n=t._apply(n);return n}class U2 extends Mb{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Xm(e.firestore),r=function(i,a,c,f,_,D,S){let A;if(_.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){QO(S,D);const B=[];for(const $ of S)B.push(KO(f,i,$));A={arrayValue:{values:B}}}else A=KO(f,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||QO(S,D),A=UO(c,"where",S,"in"===D||"not-in"===D);const N=Mi.create(_,D,A);return function(B,$){if($.S()){const _e=TE(B);if(null!==_e&&!_e.isEqual($.field))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${$.field.toString()}'`);const Be=Xu(B);null!==Be&&JO(0,$.field,Be)}const ee=function(_e,Be){for(const Oe of _e.filters)if(Be.indexOf(Oe.op)>=0)return Oe.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ee)throw new Ae(de.INVALID_ARGUMENT,ee===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,N),N}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ws(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new Ju(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class j2 extends Mb{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Tf(i,a);return function(f,_){if(null===Xu(f)){const D=TE(f);null!==D&&JO(0,D,_.field)}}(r,c),c}(e._query,this.hc,this.dc);return new ws(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ju(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class WO extends Mb{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new ws(e.firestore,e.converter,kw(e._query,this._c,this.wc))}}class qO extends Mb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=ZO(e,this.type,this.mc,this.gc);return new ws(e.firestore,e.converter,(i=t,new Ju((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class zO extends Mb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=ZO(e,this.type,this.mc,this.gc);return new ws(e.firestore,e.converter,(i=t,new Ju((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function ZO(n,e,t,r){if(t[0]=(0,Jt.m9)(t[0]),t[0]instanceof Sb)return function(i,a,c,f,_){if(!f)throw new Ae(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const D=[];for(const S of If(i))if(S.field.isKeyField())D.push(vf(a,f.key));else{const A=f.data.field(S.field);if(cy(A))throw new Ae(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const N=S.field.canonicalString();throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}D.push(A)}return new Bl(D,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xm(n.firestore);return function(a,c,f,_,D,S){const A=a.explicitOrderBy;if(D.length>A.length)throw new Ae(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let B=0;B<D.length;B++){const $=D[B];if(A[B].field.isKeyField()){if("string"!=typeof $)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!wy(a)&&-1!==$.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ee=a.path.child(un.fromString($));if(!je.isDocumentKey(ee))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const _e=new je(ee);N.push(vf(c,_e))}else{const ee=UO(f,_,$);N.push(ee)}}return new Bl(N,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function KO(n,e,t){if("string"==typeof(t=(0,Jt.m9)(t))){if(""===t)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wy(e)&&-1!==t.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!je.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vf(n,new je(r))}if(t instanceof ur)return vf(n,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wT(t)}.`)}function QO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function JO(n,e,t){if(!t.isEqual(e))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class J1{convertValue(e,t="none"){switch(Ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Sd(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new DT(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sm(e));default:return null}}convertTimestamp(e){const t=za(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);Ot(GE(r));const i=new pa(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(t)||rr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function MT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class K2 extends J1{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}class XO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xm(e)}set(e,t,r){this._verifyNotCommitted();const i=Qf(e,this._firestore),a=MT(i.converter,t,r),c=ET(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Qf(e,this._firestore);let c;return c="string"==typeof(t=(0,Jt.m9)(t))||t instanceof qd?Z1(this._dataReader,"WriteBatch.update",a._key,t,r,i):z1(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qf(e,this._firestore);return this._mutations=this._mutations.concat(new Pm(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qf(n,e){if((n=(0,Jt.m9)(n)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ng extends J1{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function eR(n,e,t){n=hn(n,ur);const r=hn(n.firestore,gr),i=MT(n.converter,e,t);return tv(r,[ET(Xm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ur.none())])}function tR(n,e,t,...r){n=hn(n,ur);const i=hn(n.firestore,gr),a=Xm(i);let c;return c="string"==typeof(e=(0,Jt.m9)(e))||e instanceof qd?Z1(a,"updateDoc",n._key,e,t,r):z1(a,"updateDoc",n._key,e),tv(i,[c.toMutation(n._key,Ur.exists(!0))])}function nR(n,...e){var t,r,i;n=(0,Jt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||W1(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(W1(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,D,S;if(n instanceof ur)D=hn(n.firestore,gr),S=Sf(n._key.path),_={next:A=>{e[c]&&e[c](X1(D,n,A))},error:e[c+1],complete:e[c+2]};else{const A=hn(n,ws);D=hn(A.firestore,gr),S=A._query;const N=new ng(D);_={next:B=>{e[c]&&e[c](new Zf(D,N,A,B))},error:e[c+1],complete:e[c+2]},GO(n._query)}return function(A,N,B,$){const ee=new yT($),_e=new c1(N,ee,B);return A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s1(yield ev(A),_e)})),()=>{ee.pa(),A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a1(yield ev(A),_e)}))}}(fi(D),S,f,_)}function tv(n,e){return function(t,r){const i=new Qr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function jF(n,e,t){return m1.apply(this,arguments)}(yield Y1(t),r,i)})),i.promise}(fi(n),e)}function X1(n,e,t){const r=t.docs.get(e._key),i=new ng(n);return new zd(n,i,e._key,r,new tg(t.hasPendingWrites,t.fromCache),e.converter)}class oV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xm(e)}get(e){const t=Qf(e,this._firestore),r=new K2(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const a=i[0];if(a.isFoundDocument())return new Sb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Sb(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const i=Qf(e,this._firestore),a=MT(i.converter,t,r),c=ET(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Qf(e,this._firestore);let c;return c="string"==typeof(t=(0,Jt.m9)(t))||t instanceof qd?Z1(this._dataReader,"Transaction.update",a._key,t,r,i):z1(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Qf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qf(e,this._firestore),r=new ng(this._firestore);return super.get(e).then(i=>new zd(this._firestore,r,t._key,i._document,new tg(!1,!1),t.converter))}}function eA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iR(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function sR(){if(!function ZI(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pl=Hu.SDK_VERSION,(0,Hu._registerComponent)(new L0.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new gr(i,new kx(t.getProvider("auth-internal")),new uy(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Hu.registerVersion)(sE,"3.4.7",n),(0,Hu.registerVersion)(sE,"3.4.7","esm2017")}();class Ab{constructor(e){this._delegate=e}static fromBase64String(e){return sR(),new Ab(fc.fromBase64String(e))}static fromUint8Array(e){return iR(),new Ab(fc.fromUint8Array(e))}toBase64(){return sR(),this._delegate.toBase64()}toUint8Array(){return iR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tA(n){return function mV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class gV{enableIndexedDbPersistence(e,t){return function C2(n,e){PO(n=hn(n,gr));const t=fi(n),r=n._freezeSettings(),i=new P1;return NO(t,i,new _O(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function E2(n){PO(n=hn(n,gr));const e=fi(n),t=n._freezeSettings(),r=new P1;return NO(e,r,new s2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function T2(n){if(n._initialized&&!n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!qs.vt())return Promise.resolve();const i=r+"main";yield qs.delete(i)}),function(r){return t.apply(this,arguments)})(mb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof pa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function y2(n,e,t,r={}){var i;const a=(n=hn(n,Eb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Ii.MOCK_USER;else{c=(0,Jt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ii(_)}n._authCredentials=new Ax(new lE(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function I2(n){return function c2(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield bO(n),t=yield DO(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i.lu.delete(0),Db(i)}(t)}))}(fi(n=hn(n,gr)))}(this._delegate)}disableNetwork(){return function M2(n){return function d2(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield bO(n),t=yield DO(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=Ge(i);a.lu.add(0),yield qy(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(fi(n=hn(n,gr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,SO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function S2(n){return function(e){const t=new Qr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function WF(n,e){return w1.apply(this,arguments)}(yield Y1(e),t)})),t.promise}(fi(n=hn(n,gr)))}(this._delegate)}onSnapshotsInSync(e){return function sV(n,e){return function p2(n,e){const t=new yT(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield ev(n),i=t,Ge(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield ev(n),i=t,void Ge(r).Tu.delete(i);var r,i}))}}(fi(n=hn(n,gr)),W1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nv(this,xO(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ka(this,bT(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qs(this,function v2(n,e){if(n=hn(n,Eb),G1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ws(n,null,(t=e,new Ju(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function aV(n,e){return function m2(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(i=n,vT(i).then(a=>a.datastore));var i;new l2(n.asyncQueue,r,e,t).run()})),t.promise}(fi(n=hn(n,gr)),t=>e(new oV(n,t)))}(this._delegate,t=>e(new aR(this,t)))}batch(){return fi(this._delegate),new lR(new XO(this._delegate,e=>tv(this._delegate,e)))}loadBundle(e){return function A2(n,e){const t=fi(n=hn(n,gr)),r=new b2;return function g2(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,D){if(_ instanceof Uint8Array)return yO(_,D);if(_ instanceof ArrayBuffer)return yO(new Uint8Array(_),D);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new o2(_,c);var _}(t,Gd(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function r2(n,e,t){const r=Ge(n);var i;(i=(0,we.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(N,B){const $=Ge(N),ee=Xr(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",_e=>$.ds.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(aO(_));const D=new PF(_,a.localStore,c.M);let S=yield c.fa();for(;S;){const N=yield D.Nu(S);N&&f._updateProgress(N),S=yield c.fa()}const A=yield D.complete();return yield Wd(a,A.Ou,void 0),yield function(N,B){const $=Ge(N);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.ds.saveBundleMetadata(ee,B))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(_){return Vl("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var N}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Y1(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function k2(n,e){return function _2(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.ds.getNamedQuery(a,r))}(yield j1(n),e)}))}(fi(n=hn(n,gr)),e).then(t=>t?new ws(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Qs(this,t):null)}}class AT extends J1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ab(new fc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ka.forKey(t,this.firestore,null)}}class aR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AT(e)}get(e){const t=ig(e);return this._delegate.get(t).then(r=>new kb(this._firestore,new zd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ig(e);return r?(eA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ig(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class lR{constructor(e){this._delegate=e}set(e,t,r){const i=ig(e);return r?(eA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ig(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ib(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new rg(e,new AT(e),t),i.set(t,a)),a}}rg.INSTANCES=new WeakMap;class Ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ka(t,new ur(t._delegate,r,new je(e)))}static forKey(e,t,r){return new Ka(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nv(this.firestore,xO(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Jt.m9)(e))instanceof ur&&OO(this._delegate,e)}set(e,t){t=eA("DocumentReference.set",t);try{return t?eR(this._delegate,e,t):eR(this._delegate,e)}catch(r){throw Ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tR(this._delegate,e):tR(this._delegate,e,t,...r)}catch(i){throw Ks(i,"updateDoc()","DocumentReference.update()")}}delete(){return function rV(n){return tv(hn(n.firestore,gr),[new Pm(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=uR(e),r=cR(e,i=>new kb(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function J2(n){n=hn(n,ur);const e=hn(n.firestore,gr),t=fi(e),r=new ng(e);return function h2(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield function(_,D){const S=Ge(_);return S.persistence.runTransaction("read document","readonly",A=>S.ai.Bs(A,D))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ae(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Ky(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield j1(n),e,t);var r})),t.promise}(t,n._key).then(i=>new zd(e,r,n._key,i,new tg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function X2(n){n=hn(n,ur);const e=hn(n.firestore,gr);return CO(fi(e),n._key,{source:"server"}).then(t=>X1(e,n,t))}(this._delegate):function Q2(n){n=hn(n,ur);const e=hn(n.firestore,gr);return CO(fi(e),n._key).then(t=>X1(e,n,t))}(this._delegate),t.then(r=>new kb(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ka(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function Ks(n,e,t){return n.message=n.message.replace(e,t),n}function uR(n){for(const e of n)if("object"==typeof e&&!tA(e))return e;return{}}function cR(n,e){var t,r;let i;return i=tA(n[0])?n[0]:tA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $O(this._delegate,e._delegate)}}class xb extends kb{data(e){const t=this._delegate.data(e);return function aE(n,e){n||rt()}(void 0!==t),t}}class Qs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AT(e)}where(e,t,r){try{return new Qs(this.firestore,Kf(this._delegate,function H2(n,e,t){const r=e,i=IT("where",n);return new U2(i,r,t)}(e,t,r)))}catch(i){throw Ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qs(this.firestore,Kf(this._delegate,function Y2(n,e="asc"){const t=e,r=IT("orderBy",n);return new j2(r,t)}(e,t)))}catch(r){throw Ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qs(this.firestore,Kf(this._delegate,function $2(n){return AO("limit",n),new WO("limit",n,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qs(this.firestore,Kf(this._delegate,function G2(n){return AO("limitToLast",n),new WO("limitToLast",n,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qs(this.firestore,Kf(this._delegate,function W2(...n){return new qO("startAt",n,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qs(this.firestore,Kf(this._delegate,function q2(...n){return new qO("startAfter",n,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qs(this.firestore,Kf(this._delegate,function z2(...n){return new zO("endBefore",n,!1)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qs(this.firestore,Kf(this._delegate,function Z2(...n){return new zO("endAt",n,!0)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return RO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tV(n){n=hn(n,ws);const e=hn(n.firestore,gr),t=fi(e),r=new ng(e);return function f2(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield _b(i,a,!0),_=new cO(a,f.hi),D=_.Gu(f.documents),S=_.applyChanges(D,!1);c.resolve(S.snapshot)}catch(f){const _=Ky(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield j1(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zf(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function nV(n){n=hn(n,ws);const e=hn(n.firestore,gr),t=fi(e),r=new ng(e);return EO(t,n._query,{source:"server"}).then(i=>new Zf(e,r,n,i))}(this._delegate):function eV(n){n=hn(n,ws);const e=hn(n.firestore,gr),t=fi(e),r=new ng(e);return GO(n._query),EO(t,n._query).then(i=>new Zf(e,r,n,i))}(this._delegate),t.then(r=>new nA(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uR(e),r=cR(e,i=>new nA(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nR(this._delegate,t,r)}withConverter(e){return new Qs(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}class yV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xb(this._firestore,r))})}isEqual(e){return $O(this._delegate,e._delegate)}}class nv extends Qs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ka(this.firestore,e):null}doc(e){try{return new Ka(this.firestore,void 0===e?bT(this._delegate):bT(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function iV(n,e){const t=hn(n.firestore,gr),r=bT(n),i=MT(n.converter,e);return tv(t,[ET(Xm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ka(this.firestore,t))}isEqual(e){return OO(this._delegate,e._delegate)}withConverter(e){return new nv(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function ig(n){return hn(n,ur)}class rA{constructor(...e){this._delegate=new qd(...e)}static documentId(){return new rA(di.keyField().canonicalString())}isEqual(e){return(e=(0,Jt.m9)(e))instanceof qd&&this._delegate._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uV(){return new q1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sg(e)}static delete(){const e=function lV(){return new Tb("deleteField")}();return e._methodName="FieldValue.delete",new sg(e)}static arrayUnion(...e){const t=function cV(...n){return new L2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sg(t)}static arrayRemove(...e){const t=function dV(...n){return new N2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sg(t)}static increment(e){const t=function hV(n){return new P2("increment",n)}(e);return t._methodName="FieldValue.increment",new sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vV={Firestore:oR,GeoPoint:DT,Timestamp:Ir,Blob:Ab,Transaction:aR,WriteBatch:lR,DocumentReference:Ka,DocumentSnapshot:kb,Query:Qs,QueryDocumentSnapshot:xb,QuerySnapshot:nA,CollectionReference:nv,FieldPath:rA,FieldValue:sg,setLogLevel:function _V(n){!function oE(n){Fl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function bV(n){(function wV(n,e){n.INTERNAL.registerComponent(new L0.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},vV)))})(n,(e,t)=>new oR(e,t,new gV)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(lI.Z);var dR=R(6451),Ob=R(5363),DV=R(6063);class kT extends Fn.x{constructor(e=1/0,t=1/0,r=DV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var CV=R(3099);function hR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,CV.B)({connector:()=>new kT(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function fR(n,e){return(0,Vi.m)(e)?Vn(()=>n,e):Vn(()=>n)}var iA=R(9468);R(5867);const mR=new Map,MV={activated:!1,tokenObservers:[]},AV={initialized:!1,enabled:!1};function ji(n){return mR.get(n)||MV}function Yl(n,e){mR.set(n,e)}function OT(){return AV}class LV{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Jt.BH,yield function NV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Js=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _R(n){if(!ji(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function lA(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(A){throw Js.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw Js.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw Js.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const D=1e3*Number(_[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),uA.apply(this,arguments)}function UV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Rb="firebase-app-check-store";let NT=null;function vR(){return NT||(NT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Js.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rb,{keyPath:"compositeKey"})}}catch(t){e(Js.create("storage-open",{originalErrorMessage:t.message}))}}),NT)}function cA(){return cA=(0,we.Z)(function*(n,e){const r=(yield vR()).transaction(Rb,"readwrite"),a=r.objectStore(Rb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var D;f(Js.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})}),cA.apply(this,arguments)}const Lb=new ci.Yd("@firebase/app-check");function CR(n,e){return(0,Jt.hl)()?function $V(n,e){return function wR(n,e){return cA.apply(this,arguments)}(function DR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Lb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ER(){return OT().enabled}function TR(){return pA.apply(this,arguments)}function pA(){return pA=(0,we.Z)(function*(){const n=OT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pA.apply(this,arguments)}const KV={error:"UNKNOWN_ERROR"};function QV(n){return Jt.US.encodeString(JSON.stringify(n),!1)}function PT(n){return mA.apply(this,arguments)}function mA(){return mA=(0,we.Z)(function*(n,e=!1){const t=n.app;_R(t);const r=ji(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&FT(_)&&(i=_)}if(!e&&i&&FT(i))return{token:i.token};let f,c=!1;if(ER()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lA(UV(t,yield TR()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),c=!0);const _=yield r.exchangeTokenPromise;return yield CR(t,_),Yl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Lb.warn(_.message):Lb.error(_),a=_}return i?(f={token:i.token},Yl(t,Object.assign(Object.assign({},r),{token:i})),yield CR(t,i)):f=XV(a),c&&IR(t,f),f}),mA.apply(this,arguments)}function _A(n,e){const t=ji(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function SR(n){const{app:e}=n,t=ji(e);let r=t.tokenRefresher;r||(r=function JV(n){const{app:e}=n;return new LV((0,we.Z)(function*(){let r;if(r=ji(e).token?yield PT(n,!0):yield PT(n),r.error)throw r.error}),()=>!0,()=>{const t=ji(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Yl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function IR(n,e){const t=ji(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function FT(n){return n.expireTimeMillis-Date.now()>0}function XV(n){return{token:QV(KV),error:n}}class eB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ji(this.app);for(const t of e)_A(this.app,t.next);return Promise.resolve()}}const NR="app-check-internal";!function pB(){(0,Hu._registerComponent)(new L0.wA("app-check",n=>function tB(n,e){return new eB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(NR).initialize()})),(0,Hu._registerComponent)(new L0.wA(NR,n=>function nB(n){return{getToken:e=>PT(n,e),addTokenListener:e=>function gA(n,e,t,r){const{app:i}=n,a=ji(i),c={next:t,error:r,type:e};if(Yl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&FT(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),SR(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>SR(n))}(n,"INTERNAL",e),removeTokenListener:e=>_A(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hu.registerVersion)("@firebase/app-check","0.5.5")}();class bA{constructor(){return(0,ui.vb)("app-check")}}"undefined"!=typeof window&&window;var vB=R(127);const FR=new u.OlP("angularfire2.auth.use-emulator"),VR=new u.OlP("angularfire2.auth.settings"),BR=new u.OlP("angularfire2.auth.tenant-id"),UR=new u.OlP("angularfire2.auth.langugage-code"),HR=new u.OlP("angularfire2.auth.use-device-language"),jR=new u.OlP("angularfire.auth.persistence"),YR=(n,e,t,r,i,a,c,f)=>(0,$a.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[D,S]of Object.entries(c))_.settings[D]=S;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let $R=(()=>{class n{constructor(t,r,i,a,c,f,_,D,S,A,N,B){const $=new Fn.x,ee=mt(void 0).pipe((0,Ob.Q)(c.outsideAngular),Vn(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,4087)))),(0,xt.U)(()=>(0,$a.on)(t,a,r)),(0,xt.U)(_e=>YR(_e,a,f,D,S,A,_,N)),hR({bufferSize:1,refCount:!1}));if(Nr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{ee.pipe(To()).subscribe();const Be=ee.pipe(Vn(We=>We.getRedirectResult().then(vt=>vt,()=>null)),ui.iC,hR({bufferSize:1,refCount:!1})),Oe=ee.pipe(Vn(We=>new Cr.y(vt=>({unsubscribe:a.runOutsideAngular(()=>We.onAuthStateChanged(ut=>vt.next(ut),ut=>vt.error(ut),()=>vt.complete()))})))),ze=ee.pipe(Vn(We=>new Cr.y(vt=>({unsubscribe:a.runOutsideAngular(()=>We.onIdTokenChanged(ut=>vt.next(ut),ut=>vt.error(ut),()=>vt.complete()))}))));this.authState=Be.pipe(fR(Oe),(0,iA.R)(c.outsideAngular),(0,Ob.Q)(c.insideAngular)),this.user=Be.pipe(fR(ze),(0,iA.R)(c.outsideAngular),(0,Ob.Q)(c.insideAngular)),this.idToken=this.user.pipe(Vn(We=>We?(0,Xn.D)(We.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(Vn(We=>We?(0,Xn.D)(We.getIdTokenResult()):mt(null))),this.credential=(0,dR.T)(Be,$,this.authState.pipe(On(We=>!We))).pipe((0,xt.U)(We=>(null==We?void 0:We.user)?We:null),(0,iA.R)(c.outsideAngular),(0,Ob.Q)(c.insideAngular))}return(0,$a.pX)(this,ee,a,{spy:{apply:(_e,Be,Oe)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Oe.then(ze=>$.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($a.Dh),u.LFG($a.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ui.HU),u.LFG(FR,8),u.LFG(VR,8),u.LFG(BR,8),u.LFG(UR,8),u.LFG(HR,8),u.LFG(jR,8),u.LFG(bA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function GR(n,e){return function bB(n,e=aI.z){return new Cr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function CA(n,e){return GR(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function BT(n,e){return CA(n,e).pipe(Ji(void 0),R0(),(0,xt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&D&&JSON.stringify(D.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function WR(n,e,t){return BT(n,t).pipe(Fr((r,i)=>function CB(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function EB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return EA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return EA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return EA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),S_(),(0,xt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function EA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function qR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ji(void 0),R0(),On(([r,i])=>i.length>0||!r),(0,xt.U)(([r,i])=>i),ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=qR(e);return WR(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return CA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ui.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(ui.iC)}add(e){return this.ref.add(e)}doc(e){return new ZR(this.ref.doc(e),this.afs)}}class ZR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=JR(r,t);return new zR(i,a,this.afs)}snapshotChanges(){return function DB(n,e){return GR(n,e).pipe(Ji(void 0),R0(),(0,xt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xn.D)(this.ref.get(e)).pipe(ui.iC)}}class TB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BT(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),On(t=>t.length>0),ui.iC):BT(this.query,this.afs.schedulers.outsideAngular).pipe(ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(Fr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=qR(e);return WR(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return CA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ui.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(ui.iC)}}const KR=new u.OlP("angularfire2.enableFirestorePersistence"),QR=new u.OlP("angularfire2.firestore.persistenceSettings"),SB=new u.OlP("angularfire2.firestore.settings"),IB=new u.OlP("angularfire2.firestore.use-emulator");function JR(n,e=(t=>t)){return{query:e(n),ref:n}}let Nb=(()=>{class n{constructor(t,r,i,a,c,f,_,D,S,A,N,B,$,ee,_e,Be,Oe){this.schedulers=_;const ze=(0,$a.on)(t,f,r),We=S;A&&YR(ze,f,N,$,ee,_e,B,Be),[this.firestore,this.persistenceEnabled$]=(0,$a.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const vt=f.runOutsideAngular(()=>ze.firestore());if(a&&vt.settings(a),We&&vt.useEmulator(...We),i&&!Nr(c)){const ut=()=>{try{return(0,Xn.D)(vt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(on){return"undefined"!=typeof console&&console.warn(on),mt(!1)}};return[vt,f.runOutsideAngular(ut)]}return[vt,mt(!1)]},[a,We,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=JR(i,r),f=this.schedulers.ngZone.run(()=>a);return new zR(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new TB(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new ZR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($a.Dh),u.LFG($a.xv,8),u.LFG(KR,8),u.LFG(SB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ui.HU),u.LFG(QR,8),u.LFG(IB,8),u.LFG($R,8),u.LFG(FR,8),u.LFG(VR,8),u.LFG(BR,8),u.LFG(UR,8),u.LFG(HR,8),u.LFG(jR,8),u.LFG(bA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UT=(()=>{class n{constructor(){vB.Z.registerVersion("angularfire",ui.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:KR,useValue:!0},{provide:QR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Nb]}),n})();const TA=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,a,c)=>void 0===i.find(f=>a[f]!==c[f]))(t,i,e))};let Pb=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("events").add(t)}getAll(t){return this._client.collection("events").valueChanges({idField:"id"}).pipe((0,xt.U)(r=>TA(r,t)))}getOne(t){return this._client.doc("events/"+t).valueChanges({idField:"id"})}remove(t){this._client.doc("events/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const XR=new u.OlP("ADDS_EVENT_DTO"),MB=new u.OlP("GETS_ONE_EVENT_DTO");let HT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Pb,{provide:XR,useExisting:Pb},{provide:vD,useExisting:Pb},{provide:MB,useExisting:Pb},{provide:x0,useExisting:Pb}],imports:[[UT]]}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li.forChild([{path:"",component:oI}]),O0,HT]]}),n})();var kB=R(5032);function eL(n){return(0,zr.e)((e,t)=>{(0,Do.Xf)(n).subscribe((0,tr.x)(t,()=>t.complete(),kB.Z)),!t.closed&&e.subscribe(t)})}function og(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Xs(n){return"string"==typeof n}function jT(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function Jf(n){return n&&n.getTime&&!isNaN(n.getTime())}function ag(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function lg(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function _r(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function bs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ug(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function tL(n){return void 0===n}function nn(n){const e=+n;let t=0;return 0!==e&&isFinite(e)&&(t=og(e)),t}const Fb={},nL={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Ds(n,e){const t=n.toLowerCase();let r=n;t in nL&&(r=nL[t]),Fb[t]=Fb[`${t}s`]=Fb[e]=r}function rL(n){return Xs(n)?Fb[n]||Fb[n.toLowerCase()]:void 0}function Qd(n,e,t){const r=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}const SA={},rv={},iL=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Ft(n,e,t,r){n&&(rv[n]=r),e&&(rv[e[0]]=function(){return Qd(r.apply(null,arguments),e[1],e[2])}),t&&(rv[t]=function(i,a){return a.locale.ordinal(r.apply(null,arguments),n)})}function FB(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function YT(n,e,t){const r=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(r.getUTCFullYear())&&r.setUTCFullYear(n),r}function $T(n,e=0,t=1,r=0,i=0,a=0,c=0){const f=new Date(n,e,t,r,i,a,c);return n<100&&n>=0&&isFinite(f.getFullYear())&&f.setFullYear(n),f}function rn(n,e=!1){return e?n.getUTCHours():n.getHours()}function iv(n,e=!1){return e?n.getUTCMinutes():n.getMinutes()}function IA(n,e=!1){return e?n.getUTCSeconds():n.getSeconds()}function Jd(n,e=!1){return e?n.getUTCMilliseconds():n.getMilliseconds()}function mc(n,e=!1){return e?n.getUTCDay():n.getDay()}function dg(n,e=!1){return e?n.getUTCDate():n.getDate()}function sn(n,e=!1){return e?n.getUTCMonth():n.getMonth()}function Ar(n,e=!1){return e?n.getUTCFullYear():n.getFullYear()}function sv(n,e){return!(!n||!e)&&ov(n,e)&&sn(n)===sn(e)}function ov(n,e){return!(!n||!e)&&Ar(n)===Ar(e)}function Xf(n,e){return!(!n||!e)&&ov(n,e)&&sv(n,e)&&dg(n)===dg(e)}const sL=/\d/,ya=/\d\d/,oL=/\d{3}/,MA=/\d{4}/,GT=/[+-]?\d{6}/,cr=/\d\d?/,aL=/\d\d\d\d?/,lL=/\d\d\d\d\d\d?/,WT=/\d{1,3}/,AA=/\d{1,4}/,qT=/[+-]?\d{1,6}/,YB=/\d+/,zT=/[+-]?\d+/,ZT=/Z|[+-]\d\d(?::?\d\d)?/gi,GB=/[+-]?\d+(\.\d{1,3})?/,Vb=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,KT={};function yt(n,e,t){KT[n]=ag(e)?e:function(r,i){return r&&t?t:e}}function WB(n,e){return bs(KT,n)?KT[n](!1,e):new RegExp(function qB(n){return hg(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,r,i,a)=>t||r||i||a))}(n))}function hg(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const kA={};function dr(n,e){const t=Xs(n)?[n]:n;let r=e;if(lg(e)&&(r=function(i,a,c){return a[e]=nn(i),c}),_r(t)&&ag(r)){let i;for(i=0;i<t.length;i++)kA[t[i]]=r}}function Bb(n,e){dr(n,function(t,r,i,a){return i._w=i._w||{},e(t,i._w,i,a)})}function zB(n,e,t){return null!=e&&bs(kA,n)&&kA[n](e,t._a,t,n),t}const ZB={};function Cs(n,e){ZB[n]=e}function bn(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function xA(n,e){return e.locale.getFullYear?e.locale.getFullYear(n,e.isUTC).toString():Ar(n,e.isUTC).toString()}function OA(n){return nn(n)+(nn(n)>68?1900:2e3)}function Ub(n){return RA(n)?366:365}function RA(n){return n%4==0&&n%100!=0||n%400==0}function QT(n,e){if(isNaN(n)||isNaN(e))return NaN;const t=function xB(n,e){return(n%e+e)%e}(e,12);return 1===t?RA(n+(e-t)/12)?29:28:31-t%7%2}const eU={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Yi(n,e){const t=Object.assign({},eU,e),r=n.getFullYear()+(t.year||0),i=n.getMonth()+(t.month||0);let a=n.getDate()+(t.day||0);return t.month&&!t.day&&(a=Math.min(a,QT(r,i))),$T(r,i,a,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function av(n,e){return lg(e)?e:n}function fg(n,e,t){const r=Math.min(dg(n),QT(Ar(n),e));return t?n.setUTCMonth(e,r):n.setMonth(e,r),n}function LA(n,e,t){return t?n.setUTCDate(e):n.setDate(e),n}function Xd(n){return new Date(n.getTime())}function eh(n,e,t){const r=Xd(n);switch(e){case"year":fg(r,0,t);case"quarter":case"month":LA(r,1,t);case"week":case"isoWeek":case"day":case"date":!function rU(n,e,t){t?n.setUTCHours(e):n.setHours(e)}(r,0,t);case"hours":!function iU(n,e,t){t?n.setUTCMinutes(e):n.setMinutes(e)}(r,0,t);case"minutes":!function sU(n,e,t){t?n.setUTCSeconds(e):n.setSeconds(e)}(r,0,t);case"seconds":!function oU(n,e,t){t?n.setUTCMilliseconds(e):n.setMilliseconds(e)}(r,0,t)}return"week"===e&&function vH(n,e,t={}){yc(n,e-qA(n,t.locale,t.isUTC),"day")}(r,0,{isUTC:t}),"isoWeek"===e&&function wH(n,e,t={}){const r=function yH(n,e=ki()){return Xs(n)?e.weekdaysParse(n)%7||7:lg(n)&&isNaN(n)?null:n}(e,t.locale);Gb(n,function pi(n,e){return mc(n,e)}(n)%7?r:r-7)}(r,1),"quarter"===e&&fg(r,3*Math.floor(sn(r,t)/3),t),r}function JT(n,e,t){let r=e;return"date"===r&&(r="day"),function mH(n,e,t,r){return NL(n,WA(e,t),-1,r)}(yc(eh(n,r,t),1,"isoWeek"===r?"week":r,t),1,"milliseconds",t)}function NA(n,e){const t=+eh(n,"day",e),r=+eh(n,"year",e);return Math.round((t-r)/864e5)+1}function XT(n,e,t){const r=e-t+7;return-(YT(n,0,r).getUTCDay()-e+7)%7+r-1}function lv(n,e,t,r){const i=XT(Ar(n,r),e,t),a=Math.floor((NA(n,r)-i-1)/7)+1;let c,f;return a<1?(f=Ar(n,r)-1,c=a+pg(f,e,t)):a>pg(Ar(n,r),e,t)?(c=a-pg(Ar(n,r),e,t),f=Ar(n,r)+1):(f=Ar(n,r),c=a),{week:c,year:f}}function pg(n,e,t){const r=XT(n,e,t),i=XT(n+1,e,t);return(Ub(n)-r+i)/7}const cL=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,uU="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dL="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cU="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dU="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fL={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},pU=Vb,mU=Vb;class pL{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];this[ag(r)?t:`_${t}`]=r}this._config=e}calendar(e,t,r){const i=this._calendar[e]||this._calendar.sameElse;return ag(i)?i.call(null,t,r):i}longDateFormat(e){const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(i){return i.slice(1)}),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return Ar(e,t)}postformat(e){return e}relativeTime(e,t,r,i){const a=this._relativeTime[r];return ag(a)?a(e,t,r,i):a.replace(/%d/i,e.toString(10))}pastFuture(e,t){const r=this._relativeTime[e>0?"future":"past"];return ag(r)?r(t):r.replace(/%s/i,t)}months(e,t,r=!1){if(!e)return _r(this._months)?this._months:this._months.standalone;if(_r(this._months))return this._months[sn(e,r)];const i=(this._months.isFormat||cL).test(t)?"format":"standalone";return this._months[i][sn(e,r)]}monthsShort(e,t,r=!1){if(!e)return _r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(_r(this._monthsShort))return this._monthsShort[sn(e,r)];const i=cL.test(t)?"format":"standalone";return this._monthsShort[i][sn(e,r)]}monthsParse(e,t,r){let i,a,c;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),c=0;c<12;c++){if(i=new Date(Date.UTC(2e3,c)),r&&!this._longMonthsParse[c]){const f=this.months(i,"",!0).replace(".",""),_=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[c]=new RegExp(`^${f}$`,"i"),this._shortMonthsParse[c]=new RegExp(`^${_}$`,"i")}if(!r&&!this._monthsParse[c]&&(a=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[c]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[c].test(e)||r&&"MMM"===t&&this._shortMonthsParse[c].test(e)||!r&&this._monthsParse[c].test(e))return c}}monthsRegex(e){return this._monthsParseExact?(bs(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(bs(this,"_monthsRegex")||(this._monthsRegex=mU),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(bs(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(bs(this,"_monthsShortRegex")||(this._monthsShortRegex=pU),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return lv(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,r){if(!e)return _r(this._weekdays)?this._weekdays:this._weekdays.standalone;if(_r(this._weekdays))return this._weekdays[mc(e,r)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][mc(e,r)]}weekdaysMin(e,t,r){return e?this._weekdaysMin[mc(e,r)]:this._weekdaysMin}weekdaysShort(e,t,r){return e?this._weekdaysShort[mc(e,r)]:this._weekdaysShort}weekdaysParse(e,t,r){let i,a;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const c=Gb(new Date(Date.UTC(2e3,1)),i,null,!0);if(r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(c,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(c,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(c,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(a=`^${this.weekdays(c,"",!0)}|^${this.weekdaysShort(c,"",!0)}|^${this.weekdaysMin(c,"",!0)}`,this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),!(_r(this._fullWeekdaysParse)&&_r(this._shortWeekdaysParse)&&_r(this._minWeekdaysParse)&&_r(this._weekdaysParse)))return;if(r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(bs(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(bs(this,"_weekdaysRegex")||(this._weekdaysRegex=Vb),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(bs(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(bs(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vb),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(bs(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(bs(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vb),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:fL;const t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,i=>i.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,r){const i=e.toLocaleLowerCase();let a,c,f;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)f=new Date(2e3,a),this._shortMonthsParse[a]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(f,"").toLocaleLowerCase();return r?"MMM"===t?(c=this._shortMonthsParse.indexOf(i),-1!==c?c:null):(c=this._longMonthsParse.indexOf(i),-1!==c?c:null):"MMM"===t?(c=this._shortMonthsParse.indexOf(i),-1!==c?c:(c=this._longMonthsParse.indexOf(i),-1!==c?c:null)):(c=this._longMonthsParse.indexOf(i),-1!==c?c:(c=this._shortMonthsParse.indexOf(i),-1!==c?c:null))}handleWeekStrictParse(e,t,r){let i;const a=e.toLocaleLowerCase();if(!this._weekdaysParse){let c;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],c=0;c<7;++c){const f=Gb(new Date(Date.UTC(2e3,1)),c,null,!0);this._minWeekdaysParse[c]=this.weekdaysMin(f).toLocaleLowerCase(),this._shortWeekdaysParse[c]=this.weekdaysShort(f).toLocaleLowerCase(),this._weekdaysParse[c]=this.weekdays(f,"").toLocaleLowerCase()}}if(_r(this._weekdaysParse)&&_r(this._shortWeekdaysParse)&&_r(this._minWeekdaysParse))return r?"dddd"===t?(i=this._weekdaysParse.indexOf(a),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(a),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(a),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(a),-1!==i||(i=this._shortWeekdaysParse.indexOf(a),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(a),-1!==i?i:null)):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(a),-1!==i||(i=this._weekdaysParse.indexOf(a),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(a),-1!==i?i:null)):(i=this._minWeekdaysParse.indexOf(a),-1!==i||(i=this._weekdaysParse.indexOf(a),-1!==i)?i:(i=this._shortWeekdaysParse.indexOf(a),-1!==i?i:null))}computeMonthsParse(){const e=[],t=[],r=[];let i,a;for(a=0;a<12;a++)i=new Date(2e3,a),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(mg),t.sort(mg),r.sort(mg),a=0;a<12;a++)e[a]=hg(e[a]),t[a]=hg(t[a]);for(a=0;a<24;a++)r[a]=hg(r[a]);this._monthsRegex=new RegExp(`^(${r.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],r=[],i=[];let a;for(a=0;a<7;a++){const c=Gb(new Date(Date.UTC(2e3,1)),a,null,!0),f=this.weekdaysMin(c),_=this.weekdaysShort(c),D=this.weekdays(c);e.push(f),t.push(_),r.push(D),i.push(f),i.push(_),i.push(D)}for(e.sort(mg),t.sort(mg),r.sort(mg),i.sort(mg),a=0;a<7;a++)t[a]=hg(t[a]),r[a]=hg(r[a]),i[a]=hg(i[a]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function mg(n,e){return e.length-n.length}const mL={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:fL,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:uU,monthsShort:dL,week:{dow:0,doy:6},weekdays:cU,weekdaysMin:dU,weekdaysShort:hL,meridiemParse:/[ap]\.?m?\.?/i};function gU(n,e,t){const r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length);let c,a=0;for(c=0;c<r;c++)(t&&n[c]!==e[c]||!t&&nn(n[c])!==nn(e[c]))&&a++;return a+i}function eS(n,e){Ft(null,[n,n.length,!1],null,e)}function gL(n,e){return FA(n,e.locale).toString()}function _L(n){return yL(n).toString()}function FA(n,e=ki(),t){return lv(n,e.firstDayOfWeek(),e.firstDayOfYear(),t).year}function yL(n,e){return lv(n,1,4,e).year}function wL(n,e){Ft(n,null,null,function(t,r){let i=function _g(n,e={}){return e._isUTC?e._offset||0:function bL(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:r.isUTC,_offset:r.offset}),a="+";return i<0&&(i=-i,a="-"),a+Qd(~~(i/60),2)+e+Qd(~~i%60,2)})}const SU=/([\+\-]|\d\d)/gi;const $i={},Hb={};let jb;function DL(n){return n&&n.toLowerCase().replace("_","-")}function EL(n){return $i[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),$i[n]}function BA(n,e){let t;return n&&(tL(e)?t=ki(n):Xs(n)&&(t=TL(n,e)),t&&(jb=t)),jb&&jb._abbr}function TL(n,e){if(null===e)return delete $i[n],jb=ki("en"),null;if(!e)return;let t=mL;if(e.abbr=n,null!=e.parentLocale){if(null==$i[e.parentLocale])return Hb[e.parentLocale]||(Hb[e.parentLocale]=[]),Hb[e.parentLocale].push({name:n,config:e}),null;t=$i[e.parentLocale]._config}return $i[n]=new pL(function CL(n,e){const t=Object.assign({},n);for(const r in e)!bs(e,r)||(ug(n[r])&&ug(e[r])?(t[r]={},Object.assign(t[r],n[r]),Object.assign(t[r],e[r])):null!=e[r]?t[r]=e[r]:delete t[r]);for(const r in n)bs(n,r)&&!bs(e,r)&&ug(n[r])&&(t[r]=Object.assign({},t[r]));return t}(t,e)),Hb[n]&&Hb[n].forEach(function(r){TL(r.name,r.config)}),BA(n),$i[n]}function ki(n){return function OU(){$i.en||(BA("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const e=n%10;return n+(1===nn(n%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function _U(){Ft("w",["ww",2,!1],"wo",function(n,e){return function gg(n,e=ki(),t){return e.week(n,t)}(n,e.locale).toString(10)}),Ft("W",["WW",2,!1],"Wo",function(n){return function PA(n,e){return lv(n,1,4,e).week}(n).toString(10)}),Ds("week","w"),Ds("isoWeek","W"),Cs("week",5),Cs("isoWeek",5),yt("w",cr),yt("ww",cr,ya),yt("W",cr),yt("WW",cr,ya),Bb(["w","ww","W","WW"],function(n,e,t,r){return e[r.substr(0,1)]=nn(n),t})}(),function yU(){Ft(null,["gg",2,!1],null,function(n,e){return(FA(n,e.locale)%100).toString()}),Ft(null,["GG",2,!1],null,function(n){return(yL(n)%100).toString()}),eS("gggg",gL),eS("ggggg",gL),eS("GGGG",_L),eS("GGGGG",_L),Ds("weekYear","gg"),Ds("isoWeekYear","GG"),Cs("weekYear",1),Cs("isoWeekYear",1),yt("G",zT),yt("g",zT),yt("GG",cr,ya),yt("gg",cr,ya),yt("GGGG",AA,MA),yt("gggg",AA,MA),yt("GGGGG",qT,GT),yt("ggggg",qT,GT),Bb(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){return e[r.substr(0,2)]=nn(n),t}),Bb(["gg","GG"],function(n,e,t,r){return e[r]=OA(n),t})}(),function JB(){Ft("Y",null,null,function(n,e){const t=Ar(n,e.isUTC);return t<=9999?t.toString(10):`+${t}`}),Ft(null,["YY",2,!1],null,function(n,e){return(Ar(n,e.isUTC)%100).toString(10)}),Ft(null,["YYYY",4,!1],null,xA),Ft(null,["YYYYY",5,!1],null,xA),Ft(null,["YYYYYY",6,!0],null,xA),Ds("year","y"),Cs("year",1),yt("Y",zT),yt("YY",cr,ya),yt("YYYY",AA,MA),yt("YYYYY",qT,GT),yt("YYYYYY",qT,GT),dr(["YYYYY","YYYYYY"],0),dr("YYYY",function(n,e,t){return e[0]=2===n.length?OA(n):nn(n),t}),dr("YY",function(n,e,t){return e[0]=OA(n),t}),dr("Y",function(n,e,t){return e[0]=parseInt(n,10),t})}(),function wU(){Ft("z",null,null,function(n,e){return e.isUTC?"UTC":""}),Ft("zz",null,null,function(n,e){return e.isUTC?"Coordinated Universal Time":""})}(),function bU(){Ft("X",null,null,function(n){return function BB(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Ft("x",null,null,function(n){return n.valueOf().toString(10)}),yt("x",zT),yt("X",GB),dr("X",function(n,e,t){return t._d=new Date(1e3*parseFloat(n)),t}),dr("x",function(n,e,t){return t._d=new Date(nn(n)),t})}(),function DU(){Ft("s",["ss",2,!1],null,function(n,e){return IA(n,e.isUTC).toString(10)}),Ds("second","s"),Cs("second",15),yt("s",cr),yt("ss",cr,ya),dr(["s","ss"],5)}(),function CU(){Ft("Q",null,"Qo",function(n,e){return function EU(n,e=!1){return Math.ceil((sn(n,e)+1)/3)}(n,e.isUTC).toString(10)}),Ds("quarter","Q"),Cs("quarter",7),yt("Q",sL),dr("Q",function(n,e,t){return e[1]=3*(nn(n)-1),t})}(),function TU(){wL("Z",":"),wL("ZZ",""),yt("Z",ZT),yt("ZZ",ZT),dr(["Z","ZZ"],function(n,e,t){return t._useUTC=!0,t._tzm=function VA(n,e){const t=(e||"").match(n);if(null===t)return null;const i=t[t.length-1].match(SU)||["-","0","0"],a=60*parseInt(i[1],10)+nn(i[2]);return 0===a?0:"+"===i[0]?a:-a}(ZT,n),t})}(),function XB(){Ft("M",["MM",2,!1],"Mo",function(n,e){return(sn(n,e.isUTC)+1).toString(10)}),Ft("MMM",null,null,function(n,e){return e.locale.monthsShort(n,e.format,e.isUTC)}),Ft("MMMM",null,null,function(n,e){return e.locale.months(n,e.format,e.isUTC)}),Ds("month","M"),Cs("month",8),yt("M",cr),yt("MM",cr,ya),yt("MMM",function(n,e){return e.monthsShortRegex(n)}),yt("MMMM",function(n,e){return e.monthsRegex(n)}),dr(["M","MM"],function(n,e,t){return e[1]=nn(n)-1,t}),dr(["MMM","MMMM"],function(n,e,t,r){const i=t._locale.monthsParse(n,r,t._strict);return null!=i?e[1]=i:bn(t).invalidMonth=!!n,t})}(),function MU(){Ft("m",["mm",2,!1],null,function(n,e){return iv(n,e.isUTC).toString(10)}),Ds("minute","m"),Cs("minute",14),yt("m",cr),yt("mm",cr,ya),dr(["m","mm"],4)}(),function AU(){let n;for(Ft("S",null,null,function(t,r){return(~~(Jd(t,r.isUTC)/100)).toString(10)}),Ft(null,["SS",2,!1],null,function(t,r){return(~~(Jd(t,r.isUTC)/10)).toString(10)}),Ft(null,["SSS",3,!1],null,function(t,r){return Jd(t,r.isUTC).toString(10)}),Ft(null,["SSSS",4,!1],null,function(t,r){return(10*Jd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSS",5,!1],null,function(t,r){return(100*Jd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSS",6,!1],null,function(t,r){return(1e3*Jd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSS",7,!1],null,function(t,r){return(1e4*Jd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSSS",8,!1],null,function(t,r){return(1e5*Jd(t,r.isUTC)).toString(10)}),Ft(null,["SSSSSSSSS",9,!1],null,function(t,r){return(1e6*Jd(t,r.isUTC)).toString(10)}),Ds("millisecond","ms"),Cs("millisecond",16),yt("S",WT,sL),yt("SS",WT,ya),yt("SSS",WT,oL),n="SSSS";n.length<=9;n+="S")yt(n,YB);function e(t,r,i){return r[6]=nn(1e3*parseFloat(`0.${t}`)),i}for(n="S";n.length<=9;n+="S")dr(n,e)}(),function kU(){function n(i,a){return rn(i,a)%12||12}function t(i,a){Ft(i,null,null,function(c,f){return f.locale.meridiem(rn(c,f.isUTC),iv(c,f.isUTC),a)})}function r(i,a){return a._meridiemParse}Ft("H",["HH",2,!1],null,function(i,a){return rn(i,a.isUTC).toString(10)}),Ft("h",["hh",2,!1],null,function(i,a){return n(i,a.isUTC).toString(10)}),Ft("k",["kk",2,!1],null,function(i,a){return function e(i,a){return rn(i,a)||24}(i,a.isUTC).toString(10)}),Ft("hmm",null,null,function(i,a){return`${n(i,a.isUTC)}${Qd(iv(i,a.isUTC),2)}`}),Ft("hmmss",null,null,function(i,a){return`${n(i,a.isUTC)}${Qd(iv(i,a.isUTC),2)}${Qd(IA(i,a.isUTC),2)}`}),Ft("Hmm",null,null,function(i,a){return`${rn(i,a.isUTC)}${Qd(iv(i,a.isUTC),2)}`}),Ft("Hmmss",null,null,function(i,a){return`${rn(i,a.isUTC)}${Qd(iv(i,a.isUTC),2)}${Qd(IA(i,a.isUTC),2)}`}),t("a",!0),t("A",!1),Ds("hour","h"),Cs("hour",13),yt("a",r),yt("A",r),yt("H",cr),yt("h",cr),yt("k",cr),yt("HH",cr,ya),yt("hh",cr,ya),yt("kk",cr,ya),yt("hmm",aL),yt("hmmss",lL),yt("Hmm",aL),yt("Hmmss",lL),dr(["H","HH"],3),dr(["k","kk"],function(i,a,c){const f=nn(i);return a[3]=24===f?0:f,c}),dr(["a","A"],function(i,a,c){return c._isPm=c._locale.isPM(i),c._meridiem=i,c}),dr(["h","hh"],function(i,a,c){return a[3]=nn(i),bn(c).bigHour=!0,c}),dr("hmm",function(i,a,c){const f=i.length-2;return a[3]=nn(i.substr(0,f)),a[4]=nn(i.substr(f)),bn(c).bigHour=!0,c}),dr("hmmss",function(i,a,c){const f=i.length-4,_=i.length-2;return a[3]=nn(i.substr(0,f)),a[4]=nn(i.substr(f,2)),a[5]=nn(i.substr(_)),bn(c).bigHour=!0,c}),dr("Hmm",function(i,a,c){const f=i.length-2;return a[3]=nn(i.substr(0,f)),a[4]=nn(i.substr(f)),c}),dr("Hmmss",function(i,a,c){const f=i.length-4,_=i.length-2;return a[3]=nn(i.substr(0,f)),a[4]=nn(i.substr(f,2)),a[5]=nn(i.substr(_)),c})}(),function lU(){Ft("DDD",["DDDD",3,!1],"DDDo",function(n){return NA(n).toString(10)}),Ds("dayOfYear","DDD"),Cs("dayOfYear",4),yt("DDD",WT),yt("DDDD",oL),dr(["DDD","DDDD"],function(n,e,t){return t._dayOfYear=nn(n),t})}(),function gH(){Ft("d",null,"do",function(n,e){return mc(n,e.isUTC).toString(10)}),Ft("dd",null,null,function(n,e){return e.locale.weekdaysMin(n,e.format,e.isUTC)}),Ft("ddd",null,null,function(n,e){return e.locale.weekdaysShort(n,e.format,e.isUTC)}),Ft("dddd",null,null,function(n,e){return e.locale.weekdays(n,e.format,e.isUTC)}),Ft("e",null,null,function(n,e){return qA(n,e.locale,e.isUTC).toString(10)}),Ft("E",null,null,function(n,e){return function PL(n,e){return mc(n,e)||7}(n,e.isUTC).toString(10)}),Ds("day","d"),Ds("weekday","e"),Ds("isoWeekday","E"),Cs("day",11),Cs("weekday",11),Cs("isoWeekday",11),yt("d",cr),yt("e",cr),yt("E",cr),yt("dd",function(n,e){return e.weekdaysMinRegex(n)}),yt("ddd",function(n,e){return e.weekdaysShortRegex(n)}),yt("dddd",function(n,e){return e.weekdaysRegex(n)}),Bb(["dd","ddd","dddd"],function(n,e,t,r){const i=t._locale.weekdaysParse(n,r,t._strict);return null!=i?e.d=i:bn(t).invalidWeekday=!!n,t}),Bb(["d","e","E"],function(n,e,t,r){return e[r]=nn(n),t})}(),function KB(){Ft("D",["DD",2,!1],"Do",function(n,e){return dg(n,e.isUTC).toString(10)}),Ds("date","D"),Cs("date",9),yt("D",cr),yt("DD",cr,ya),yt("Do",function(n,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),dr(["D","DD"],2),dr("Do",function(n,e,t){return e[2]=nn(n.match(cr)[0]),t})}())}(),n?function xU(n){let e,t,r=0;for(;r<n.length;){const i=DL(n[r]).split("-");let a=i.length;for(e=DL(n[r+1]),e=e?e.split("-"):null;a>0;){if(t=EL(i.slice(0,a).join("-")),t)return t;if(e&&e.length>=a&&gU(i,e,!0)>=a-1)break;a--}r++}return null}(_r(n)?n:[n]):jb}const Yb=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],RU=Yb.reduce((n,e)=>(n[e]=!0,n),{});function SL(n){return n<0?Math.floor(n):Math.ceil(n)}function IL(n){return 4800*n/146097}function UA(n){return 146097*n/4800}let ep=Math.round;const gc_ss=44,gc_s=45,gc_m=45,gc_h=22,gc_d=26,gc_M=11;function PU(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}class ML{constructor(e,t={}){this._data={},this._locale=ki(),this._locale=t&&t._locale||ki();const i=e.year||0,a=e.quarter||0,c=e.month||0,f=e.week||0,_=e.day||0,D=e.hours||0,S=e.minutes||0,A=e.seconds||0,N=e.milliseconds||0;return this._isValid=function LU(n){if(Object.keys(n).some(r=>r in RU&&null===n[r]||isNaN(n[r])))return!1;let t=!1;for(let r=0;r<Yb.length;++r)if(n[Yb[r]]){if(t)return!1;n[Yb[r]]!==nn(n[Yb[r]])&&(t=!0)}return!0}(e),this._milliseconds=+N+1e3*A+60*S*1e3+1e3*D*60*60,this._days=+_+7*f,this._months=+c+3*a+12*i,function NU(n){let e=n._milliseconds,t=n._days,r=n._months;const i=n._data;e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=864e5*SL(UA(r)+t),t=0,r=0),i.milliseconds=e%1e3;const a=og(e/1e3);i.seconds=a%60;const c=og(a/60);i.minutes=c%60;const f=og(c/60);i.hours=f%24,t+=og(f/24);const _=og(IL(t));r+=_,t-=SL(UA(_));const D=og(r/12);return r%=12,i.day=t,i.month=r,i.year=D,n}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let r=function FU(n,e,t){const r=WA(n).abs(),i=ep(r.as("s")),a=ep(r.as("m")),c=ep(r.as("h")),f=ep(r.as("d")),_=ep(r.as("M")),D=ep(r.as("y")),S=i<=gc_ss&&["s",i]||i<gc_s&&["ss",i]||a<=1&&["m"]||a<gc_m&&["mm",a]||c<=1&&["h"]||c<gc_h&&["hh",c]||f<=1&&["d"]||f<gc_d&&["dd",f]||_<=1&&["M"]||_<gc_M&&["MM",_]||D<=1&&["y"]||["yy",D];return PU.apply(null,[S[0],S[1],e,+n>0,t])}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}localeData(){return this._locale}locale(e){return e?(this._locale=ki(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,r;const i=this._milliseconds,a=rL(e);if("month"===a||"year"===a)return t=this._days+i/864e5,r=this._months+IL(t),"month"===a?r:r/12;switch(t=this._days+Math.round(UA(this._months)),a){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${a}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*nn(this._months/12):NaN}}function HA(n){if(null==n._isValid){const e=bn(n),t=Array.prototype.some.call(e.parsedDateParts,function(i){return null!=i});let r=!isNaN(n._d&&n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return r;n._isValid=r}return n._isValid}function nS(n,e){return n._d=new Date(NaN),Object.assign(bn(n),e||{userInvalidated:!0}),n}const UU=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,HU=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jU=/Z|[+-]\d\d(?::?\d\d)?/,rS=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],jA=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],YU=/^\/?Date\((\-?\d+)/i,$U={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},GU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function AL(n){if(!Xs(n._i))return n;const e=n._i,t=UU.exec(e)||HU.exec(e);let r,i,a,c,f,_;if(!t)return n._isValid=!1,n;for(f=0,_=rS.length;f<_;f++)if(rS[f][1].exec(t[1])){i=rS[f][0],r=!1!==rS[f][2];break}if(null==i)return n._isValid=!1,n;if(t[3]){for(f=0,_=jA.length;f<_;f++)if(jA[f][1].exec(t[3])){a=(t[2]||" ")+jA[f][0];break}if(null==a)return n._isValid=!1,n}if(!r&&null!=a)return n._isValid=!1,n;if(t[4]){if(!jU.exec(t[4]))return n._isValid=!1,n;c="Z"}return n._f=i+(a||"")+(c||""),$A(n)}function qU(n){const e=parseInt(n,10);return e<=49?e+2e3:e}function kL(n){if(!Xs(n._i))return n;const e=GU.exec(function zU(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!e)return function BU(n){return n._isValid=!1,n}(n);const t=function WU(n,e,t,r,i,a){const c=[qU(n),dL.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return a&&c.push(parseInt(a,10)),c}(e[4],e[3],e[2],e[5],e[6],e[7]);return function ZU(n,e,t){return!n||hL.indexOf(n)===new Date(e[0],e[1],e[2]).getDay()||(bn(t).weekdayMismatch=!0,t._isValid=!1,!1)}(e[1],t,n)&&(n._a=t,n._tzm=function KU(n,e,t){if(n)return $U[n];if(e)return 0;{const r=parseInt(t,10),i=r%100;return(r-i)/100*60+i}}(e[8],e[9],e[10]),n._d=YT.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),bn(n).rfc2822=!0),n}function Qa(n,e,t,r,i=0){const a=ki(t||"en");if(!a)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const f=function JU(n,e,t,r,i=0){if(!Jf(n))return t.invalidDate;const a=xL(e,t);return SA[a]=SA[a]||function PB(n){const e=n.match(iL),t=e.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=rv[e[i]]?rv[e[i]]:FB(e[i]);return function(i,a,c,f=0){let _="";for(let D=0;D<t;D++)_+=ag(r[D])?r[D].call(null,i,{format:n,locale:a,isUTC:c,offset:f}):r[D];return _}}(a),SA[a](n,t,r,i)}(n,e||(r?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),a,r,i);return f&&a.postformat(f)}function xL(n,e){let t=n,r=5;const i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,a=c=>e.formatLongDate(c)||c;for(i.lastIndex=0;r>=0&&i.test(t);)t=t.replace(i,a),i.lastIndex=0,r-=1;return t}function uv(n,e,t){return null!=n?n:null!=e?e:t}function YA(n){const e=[];let t,r,i;if(n._d)return n;const a=function XU(n){const e=new Date;return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function eH(n){let e,t,r,i,a,c,f;const _=n._w;if(null!=_.GG||null!=_.W||null!=_.E)i=1,a=4,e=uv(_.GG,n._a[0],lv(new Date,1,4).year),t=uv(_.W,1),r=uv(_.E,1),(r<1||r>7)&&(f=!0);else{i=n._locale._week.dow,a=n._locale._week.doy;const D=lv(new Date,i,a);e=uv(_.gg,n._a[0],D.year),t=uv(_.w,D.week),null!=_.d?(r=_.d,(r<0||r>6)&&(f=!0)):null!=_.e?(r=_.e+i,(_.e<0||_.e>6)&&(f=!0)):r=i}t<1||t>pg(e,i,a)?bn(n)._overflowWeeks=!0:null!=f?bn(n)._overflowWeekday=!0:(c=function uL(n,e,t,r,i){const f=1+7*(e-1)+(7+t-r)%7+XT(n,r,i);let _,D;return f<=0?(_=n-1,D=Ub(_)+f):f>Ub(n)?(_=n+1,D=f-Ub(n)):(_=n,D=f),{year:_,dayOfYear:D}}(e,t,r,i,a),n._a[0]=c.year,n._dayOfYear=c.dayOfYear)}(n),null!=n._dayOfYear&&(i=uv(n._a[0],a[0]),(n._dayOfYear>Ub(i)||0===n._dayOfYear)&&(bn(n)._overflowDayOfYear=!0),r=new Date(Date.UTC(i,0,n._dayOfYear)),n._a[1]=r.getUTCMonth(),n._a[2]=r.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=a[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?YT:$T).apply(null,e);const c=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&void 0!==n._w.d&&n._w.d!==c&&(bn(n).weekdayMismatch=!0),n}function OL(n){let e;const t=n._a;return t&&-2===bn(n).overflow&&(e=t[1]<0||t[1]>11?1:t[2]<1||t[2]>QT(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,bn(n)._overflowDayOfYear&&(e<0||e>2)&&(e=2),bn(n)._overflowWeeks&&-1===e&&(e=7),bn(n)._overflowWeekday&&-1===e&&(e=8),bn(n).overflow=e),n}function $A(n){if("ISO_8601"===n._f)return AL(n);if("RFC_2822"===n._f)return kL(n);if(n._a=[],bn(n).empty=!0,_r(n._f)||!n._i&&0!==n._i)return n;let e=n._i.toString(),t=0;const r=e.length,i=xL(n._f,n._locale).match(iL)||[];let a,c,f,_;for(a=0;a<i.length;a++)c=i[a],f=(e.match(WB(c,n._locale))||[])[0],f&&(_=e.substr(0,e.indexOf(f)),_.length>0&&bn(n).unusedInput.push(_),e=e.slice(e.indexOf(f)+f.length),t+=f.length),rv[c]?(f?bn(n).empty=!1:bn(n).unusedTokens.push(c),zB(c,f,n)):n._strict&&!f&&bn(n).unusedTokens.push(c);return bn(n).charsLeftOver=r-t,e.length>0&&bn(n).unusedInput.push(e),n._a[3]<=12&&!0===bn(n).bigHour&&n._a[3]>0&&(bn(n).bigHour=void 0),bn(n).parsedDateParts=n._a.slice(0),bn(n).meridiem=n._meridiem,n._a[3]=function rH(n,e,t){let r=e;if(null==t)return r;if(null!=n.meridiemHour)return n.meridiemHour(r,t);if(null==n.isPM)return r;const i=n.isPM(t);return i&&r<12&&(r+=12),!i&&12===r&&(r=0),r}(n._locale,n._a[3],n._meridiem),YA(n),OL(n)}function oH(n){const e=OL(function aH(n){let e=n._i;const t=n._f;return n._locale=n._locale||ki(n._l),null===e||void 0===t&&""===e?nS(n,{nullInput:!0}):(Xs(e)&&(n._i=e=n._locale.preparse(e,t)),jT(e)?(n._d=Xd(e),n):(_r(t)?function iH(n){let e,t,r,i,a;if(!n._f||0===n._f.length)return bn(n).invalidFormat=!0,nS(n);for(a=0;a<n._f.length;a++)i=0,e=Object.assign({},n),null!=n._useUTC&&(e._useUTC=n._useUTC),e._f=n._f[a],$A(e),HA(e)&&(i+=bn(e).charsLeftOver,i+=10*bn(e).unusedTokens.length,bn(e).score=i,(null==r||i<r)&&(r=i,t=e));Object.assign(n,t||e)}(n):t?$A(n):function lH(n){const e=n._i;if(tL(e))n._d=new Date;else if(jT(e))n._d=Xd(e);else if(Xs(e))!function QU(n){if(!Xs(n._i))return n;const e=YU.exec(n._i);null!==e?n._d=new Date(+e[1]):(AL(n),!1!==n._isValid||(delete n._isValid,kL(n),!1!==n._isValid||(delete n._isValid,nS(n))))}(n);else if(_r(e)&&e.length){const t=e.slice(0);n._a=t.map(r=>Xs(r)?parseInt(r,10):r),YA(n)}else if(ug(e))!function sH(n){if(n._d)return n;const e=n._i;if(ug(e)){const t=function RB(n){const e={};let t,r;for(r in n)bs(n,r)&&(t=rL(r),t&&(e[t]=n[r]));return e}(e);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(r=>Xs(r)?parseInt(r,10):r)}return YA(n)}(n);else{if(!lg(e))return nS(n);n._d=new Date(e)}}(n),HA(n)||(n._d=null),n))}(n));return e._d=new Date(null!=e._d?e._d.getTime():NaN),HA(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}function $b(n,e,t,r,i){return jT(n)?n:function uH(n,e,t,r,i){const a={};let c=n;return(ug(c)&&function OB(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let e;for(e in n)if(n.hasOwnProperty(e))return!1;return!0}(c)||_r(c)&&0===c.length)&&(c=void 0),a._useUTC=a._isUTC=i,a._l=t,a._i=c,a._f=e,a._strict=r,oH(a)}(n,e,t,r,i)._d}function RL(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function GA(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Wl(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()>e.valueOf():e.valueOf()<eh(n,t).valueOf())}function _c(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()<e.valueOf():JT(n,t).valueOf()<e.valueOf())}function cv(n,e,t="milliseconds"){if(!n||!e)return!1;if("milliseconds"===t)return n.valueOf()===e.valueOf();const r=e.valueOf();return eh(n,t).valueOf()<=r&&r<=JT(n,t).valueOf()}const dH=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,hH=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function WA(n,e,t={}){const r=function fH(n,e){if(null==n)return{};if(function VU(n){return n instanceof ML}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(lg(n))return e?{[e]:n}:{milliseconds:n};if(Xs(n)){let t=dH.exec(n);if(t){const r="-"===t[1]?-1:1;return{year:0,day:nn(t[2])*r,hours:nn(t[3])*r,minutes:nn(t[4])*r,seconds:nn(t[5])*r,milliseconds:nn(GA(1e3*nn(t[6])))*r}}if(t=hH.exec(n),t){const r="-"===t[1]?-1:1;return{year:yg(t[2],r),month:yg(t[3],r),week:yg(t[4],r),day:yg(t[5],r),hours:yg(t[6],r),minutes:yg(t[7],r),seconds:yg(t[8],r)}}}if(ug(n)&&("from"in n||"to"in n)){const t=function pH(n,e){if(!Jf(n)||!Jf(e))return{milliseconds:0,months:0};let t;const r=function IU(n,e,t={}){if(!t._isUTC)return n;const r=Xd(e),i=6e4*(t._offset||0),a=n.valueOf()-r.valueOf()+i;return r.setTime(r.valueOf()+a),r}(e,n,{_offset:n.getTimezoneOffset()});return _c(n,r)?t=LL(n,r):(t=LL(r,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}($b(n.from),$b(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,e);return new ML(r,t)}function yg(n,e){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function LL(n,e){const t={milliseconds:0,months:0};return t.months=sn(e)-sn(n)+12*(Ar(e)-Ar(n)),Wl(yc(Xd(n),t.months,"month"),e)&&--t.months,t.milliseconds=+e-+yc(Xd(n),t.months,"month"),t}function yc(n,e,t,r){return NL(n,WA(e,t),1,r)}function NL(n,e,t,r){const i=e._milliseconds,a=GA(e._days),c=GA(e._months);return c&&fg(n,sn(n,r)+c*t,r),a&&LA(n,dg(n,r)+a*t,r),i&&function aU(n,e){n.setTime(e)}(n,function VB(n){return n.getTime()}(n)+i*t),Xd(n)}function Gb(n,e,t=ki(),r){const i=mc(n,r),a=function _H(n,e){if(!Xs(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const r=e.weekdaysParse(n);return lg(r)?r:null}(e,t);return yc(n,a-i,"day")}function qA(n,e=ki(),t){return(mc(n,t)+7-e.firstDayOfWeek())%7}const FL=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},CH={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Ja=function(n){return function(e,t){const r=FL(e);let i=CH[n][FL(e)];return 2===r&&(i=i[t?0:1]),i.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Ja("s"),Ja("s"),Ja("m"),Ja("m"),Ja("h"),Ja("h"),Ja("d"),Ja("d"),Ja("M"),Ja("M"),Ja("y"),Ja("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const ZA="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),KA="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,e){let t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+n[t]+"$|^"+e[t]+"$","i")})(ZA,KA),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(KA),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(ZA),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const nN={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,e,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,e){const t=nN.longDateFormat[e]?nN.longDateFormat[e]:e;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,e=!1)=>543+(e?n.getUTCFullYear():n.getFullYear())};function gv(n){return function(e){return n+"\u043e"+(11===rn(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),gv("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),gv("[\u0417\u0430\u0432\u0442\u0440\u0430 "),gv("[\u0412\u0447\u043e\u0440\u0430 "),gv("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class rN{}const th="*";function ok(n,e=null){return{type:4,styles:e,timings:n}}function iN(n,e=null){return{type:2,steps:n,options:e}}function _v(n){return{type:6,styles:n,offset:null}}function sN(n,e,t){return{type:0,name:n,styles:e,options:t}}function ak(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oN(n){Promise.resolve(null).then(n)}class qb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?oN(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var WH=R(233);class lN extends ar{constructor(e,t,r){super(e),t.pipe((0,Ob.Q)(WH.N)).pipe(Fr((c,f)=>f?r(c,f):c,e)).subscribe(c=>this.next(c))}}class sS extends Cr.y{constructor(e,t,r){super(),this._dispatcher=e,this._reducer=t,this.source=r}select(e){var t;return((null===(t=this.source)||void 0===t?void 0:t.pipe((0,xt.U)(e)))||(new Cr.y).pipe((0,xt.U)(e))).pipe(S_())}lift(e){const t=new sS(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}class qH{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const zH={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function uk(n,e=zH){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(a=>a.split(":")).map(a=>{const c=e[a[0]]||a;return new qH(c[0],c[1])}),i=r.filter(a=>a.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const yr="undefined"!=typeof window&&window||{};let va;function ck(){if(void 0===yr.document)return"bs4";const n=yr.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),yr.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=yr.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(yr.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(yr.document.head.removeChild(n),"bs4"):(yr.document.head.removeChild(n),"bs5")}function dk(){return void 0===yr||(void 0===yr.__theme?(va||(va=ck()),"bs3"===va):"bs3"===yr.__theme)}function uN(){return!dk()&&(va||(va=ck()),"bs4"===va)}function yv(){return{isBs3:dk(),isBs4:uN(),isBs5:!dk()&&!uN()&&(va||(va=ck()),"bs5"===va)}}function tj(){const n="Change";return function(t,r){const i=` __${r}Value`;Object.defineProperty(t,r,{get(){return this[i]},set(a){const c=this[i];this[i]=a,c!==a&&this[r+n]&&this[r+n].emit(a)}})}}const cN={},nj="undefined"==typeof console||!("warn"in console);function wa(n){!(0,u.X6Q)()||nj||n in cN||(cN[n]=!0,console.warn(n))}var rj=R(1144);const ij=["addListener","removeListener"],sj=["addEventListener","removeEventListener"],oj=["on","off"];function oS(n,e,t,r){if((0,Vi.m)(t)&&(r=t,t=void 0),r)return oS(n,e,t).pipe(Hc(r));const[i,a]=function uj(n){return(0,Vi.m)(n.addEventListener)&&(0,Vi.m)(n.removeEventListener)}(n)?sj.map(c=>f=>n[c](e,f,t)):function aj(n){return(0,Vi.m)(n.addListener)&&(0,Vi.m)(n.removeListener)}(n)?ij.map(dN(n,e)):function lj(n){return(0,Vi.m)(n.on)&&(0,Vi.m)(n.off)}(n)?oj.map(dN(n,e)):[];if(!i&&(0,rj.z)(n))return(0,Bn.z)(c=>oS(c,e,t))((0,Do.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Cr.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function dN(n,e){return t=>r=>n[t](e,r)}var cj=R(4408);const zb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=zb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new fs.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=zb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=zb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var hj=R(7565);const pj=new class fj extends hj.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class dj extends cj.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=zb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(zb.cancelAnimationFrame(t),e._scheduled=void 0)}});var aS=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top"}(aS||(aS={})),aS))(),vv=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top"}(vv||(vv={})),vv))();function Dg(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function hk(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===Dg(t,"position")?hk(t):t:r?r.ownerDocument.documentElement:document.documentElement}function fk(n){return null!==n.parentNode?fk(n.parentNode):n}function lS(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);const c=a.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function mj(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||hk(n.firstElementChild)===n)}(c)?c:hk(c);const f=fk(n);return f.host?lS(f.host,e):lS(n,fk(e).host)}function hN(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===Dg(e,"transform");)e=e.parentElement;return e||document.documentElement}function fN(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function pN(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function mN(n){const e=n.body,t=n.documentElement;return{height:pN("Height",e,t),width:pN("Width",e,t)}}function Zb(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function vr(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function gN(n){const e=n.getBoundingClientRect();if(!(e&&vr(e.top)&&vr(e.left)&&vr(e.bottom)&&vr(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?mN(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||vr(e.right)&&vr(t.left)&&e.right-t.left||0,a=(null==r?void 0:r.height)||n.clientHeight||vr(e.bottom)&&vr(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,f=n.offsetHeight-a;if(c||f){const _=Dg(n);c-=fN(_,"x"),f-=fN(_,"y"),t.width-=c,t.height-=f}return Zb(t)}function pk(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function mk(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=Dg(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:mk(pk(n))}function gk(n,e,t=!1){var r,i,a,c,f,_;const D="HTML"===e.nodeName,S=gN(n),A=gN(e),B=(mk(n),Dg(e)),$=parseFloat(B.borderTopWidth),ee=parseFloat(B.borderLeftWidth);t&&D&&(A.top=Math.max(null!==(r=A.top)&&void 0!==r?r:0,0),A.left=Math.max(null!==(i=A.left)&&void 0!==i?i:0,0));const _e=Zb({top:(null!==(a=S.top)&&void 0!==a?a:0)-(null!==(c=A.top)&&void 0!==c?c:0)-$,left:(null!==(f=S.left)&&void 0!==f?f:0)-(null!==(_=A.left)&&void 0!==_?_:0)-ee,width:S.width,height:S.height});if(_e.marginTop=0,_e.marginLeft=0,D){const Be=parseFloat(B.marginTop),Oe=parseFloat(B.marginLeft);vr(_e.top)&&(_e.top-=$-Be),vr(_e.bottom)&&(_e.bottom-=$-Be),vr(_e.left)&&(_e.left-=ee-Oe),vr(_e.right)&&(_e.right-=ee-Oe),_e.marginTop=Be,_e.marginLeft=Oe}return _e}function _N(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function yN(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===Dg(n,"position")||yN(pk(n)))}function _k(n,e,t=0,r,i=!1){let a={top:0,left:0};const c=i?hN(n):lS(n,e);if("viewport"===r)a=function _j(n,e=!1){const t=n.ownerDocument.documentElement,r=gk(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),a=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:_N(t),f=e?0:_N(t,"left");return Zb({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:a})}(c,i);else{let f;"scrollParent"===r?(f=mk(pk(e)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const _=gk(f,c,i);if(_&&"HTML"===f.nodeName&&!yN(c)){const{height:D,width:S}=mN(n.ownerDocument);vr(a.top)&&vr(_.top)&&vr(_.marginTop)&&(a.top+=_.top-_.marginTop),vr(a.top)&&(a.bottom=Number(D)+Number(_.top)),vr(a.left)&&vr(_.left)&&vr(_.marginLeft)&&(a.left+=_.left-_.marginLeft),vr(a.top)&&(a.right=Number(S)+Number(_.left))}else _&&(a=_)}return vr(a.left)&&(a.left+=t),vr(a.top)&&(a.top+=t),vr(a.right)&&(a.right-=t),vr(a.bottom)&&(a.bottom-=t),a}function yj({width:n,height:e}){return n*e}function vN(n,e,t,r,i=["top","bottom","right","left"],a="viewport",c=0){var f,_,D,S,A,N,B,$,ee,_e,Be,Oe;if(-1===n.indexOf("auto"))return n;const ze=_k(t,r,c,a),We={top:{width:null!==(f=null==ze?void 0:ze.width)&&void 0!==f?f:0,height:(null!==(_=null==e?void 0:e.top)&&void 0!==_?_:0)-(null!==(D=null==ze?void 0:ze.top)&&void 0!==D?D:0)},right:{width:(null!==(S=null==ze?void 0:ze.right)&&void 0!==S?S:0)-(null!==(A=null==e?void 0:e.right)&&void 0!==A?A:0),height:null!==(N=null==ze?void 0:ze.height)&&void 0!==N?N:0},bottom:{width:null!==(B=null==ze?void 0:ze.width)&&void 0!==B?B:0,height:(null!==($=null==ze?void 0:ze.bottom)&&void 0!==$?$:0)-(null!==(ee=null==e?void 0:e.bottom)&&void 0!==ee?ee:0)},left:{width:(null!==(_e=e.left)&&void 0!==_e?_e:0)-(null!==(Be=null==ze?void 0:ze.left)&&void 0!==Be?Be:0),height:null!==(Oe=null==ze?void 0:ze.height)&&void 0!==Oe?Oe:0}},vt=Object.keys(We).map(Mn=>Object.assign(Object.assign({position:Mn},We[Mn]),{area:yj(We[Mn])})).sort((Mn,Xt)=>Xt.area-Mn.area);let ut=vt.filter(({width:Mn,height:Xt})=>Mn>=t.clientWidth&&Xt>=t.clientHeight);ut=ut.filter(({position:Mn})=>i.some(Xt=>Xt===Mn));const on=ut.length>0?ut[0].position:vt[0].position,Ln=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${yv().isBs5?vv[on]:on}`),on+(Ln?`-${Ln}`:"")}const uS=(n,e=0)=>n?parseFloat(n):e;function wN(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=uS(null==t?void 0:t.marginTop)+uS(null==t?void 0:t.marginBottom),i=uS(null==t?void 0:t.marginLeft)+uS(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function bN(n,e,t){return gk(e,t?hN(n):lS(n,e),t)}function yk(n,e,t){var r,i,a;const c=t.split(" ")[0],f=wN(n),_={width:f.width,height:f.height},D=-1!==["right","left"].indexOf(c),S=D?"top":"left",A=D?"left":"top",N=D?"height":"width",B=D?"width":"height";return _[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[N]/2-f[N]/2,_[A]=c===A?(null!==(i=e[A])&&void 0!==i?i:0)-f[B]:null!==(a=e[function wj(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(A)])&&void 0!==a?a:0,_}function DN(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const Dj={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function cS(n,e){return!!yv().isBs5&&Dj[e].includes(n)}function CN(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function gj(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function Tj(n){var e,t,r,i,a,c;let f=n.offsets.target;const _=n.instance.target.querySelector(".arrow");if(!_)return n;const D=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=D?"height":"width",A=D?"Top":"Left",N=A.toLowerCase(),B=D?"left":"top",$=D?"bottom":"right",ee=wN(_)[S],_e=n.placement.split(" ")[1];(null!==(e=n.offsets.host[$])&&void 0!==e?e:0)-ee<(null!==(t=f[N])&&void 0!==t?t:0)&&(f[N]-=(null!==(r=f[N])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[$])&&void 0!==i?i:0)-ee)),Number(n.offsets.host[N])+Number(ee)>(null!==(a=f[$])&&void 0!==a?a:0)&&(f[N]+=Number(n.offsets.host[N])+Number(ee)-Number(f[$])),f=Zb(f);const Be=Dg(n.instance.target),Oe=parseFloat(Be[`margin${A}`])||0,ze=parseFloat(Be[`border${A}Width`])||0;let We;if(_e){const ut=parseFloat(Be.borderRadius)||0,on=Number(Oe+ze+ut);We=N===_e?Number(n.offsets.host[N])+on:Number(n.offsets.host[N])+Number(n.offsets.host[S]-on)}else We=Number(n.offsets.host[N])+Number(n.offsets.host[S]/2-ee/2);let vt=We-(null!==(c=f[N])&&void 0!==c?c:0)-Oe-ze;return vt=Math.max(Math.min(f[S]-(ee+5),vt),0),n.offsets.arrow={[N]:Math.round(vt),[B]:""},n.instance.arrow=_,n}function Sj(n){if(n.offsets.target=Zb(n.offsets.target),!DN(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),yk(n.instance.target,n.offsets.host,n.placement)),n;const e=_k(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=vN("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),_=[t,f];return _.forEach((D,S)=>{var A,N,B,$,ee,_e,Be,Oe,ze,We,vt,ut,on,Ln,Mn,Xt;if(t!==D||_.length===S+1)return;t=n.placement.split(" ")[0];const Nn="left"===t&&Math.floor(null!==(A=n.offsets.target.right)&&void 0!==A?A:0)>Math.floor(null!==(N=n.offsets.host.left)&&void 0!==N?N:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==($=n.offsets.host.right)&&void 0!==$?$:0)||"top"===t&&Math.floor(null!==(ee=n.offsets.target.bottom)&&void 0!==ee?ee:0)>Math.floor(null!==(_e=n.offsets.host.top)&&void 0!==_e?_e:0)||"bottom"===t&&Math.floor(null!==(Be=n.offsets.target.top)&&void 0!==Be?Be:0)<Math.floor(null!==(Oe=n.offsets.host.bottom)&&void 0!==Oe?Oe:0),eo=Math.floor(null!==(ze=n.offsets.target.left)&&void 0!==ze?ze:0)<Math.floor(null!==(We=e.left)&&void 0!==We?We:0),wc=Math.floor(null!==(vt=n.offsets.target.right)&&void 0!==vt?vt:0)>Math.floor(null!==(ut=e.right)&&void 0!==ut?ut:0),oD=Math.floor(null!==(on=n.offsets.target.top)&&void 0!==on?on:0)<Math.floor(null!==(Ln=e.top)&&void 0!==Ln?Ln:0),aD=Math.floor(null!==(Mn=n.offsets.target.bottom)&&void 0!==Mn?Mn:0)>Math.floor(null!==(Xt=e.bottom)&&void 0!==Xt?Xt:0),it="left"===t&&eo||"right"===t&&wc||"top"===t&&oD||"bottom"===t&&aD,gt=-1!==["top","bottom"].indexOf(t),kt=gt&&"left"===r&&eo||gt&&"right"===r&&wc||!gt&&"left"===r&&oD||!gt&&"right"===r&&aD;(Nn||it||kt)&&((Nn||it)&&(t=_[S+1]),kt&&(r=function bj(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),yk(n.instance.target,n.offsets.host,n.placement)))}),n}function Mj(n){var e;if(!DN(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:a,[t]:c}=r;r.top="",r.left="",r[t]="";const f=_k(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=a,r[t]=c;const D={primary(S){var A,N,B,$;let ee=n.offsets.target[S];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)<(null!==(N=f[S])&&void 0!==N?N:0)&&(ee=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==($=f[S])&&void 0!==$?$:0)),{[S]:ee}},secondary(S){var A,N,B,$;const ee="right"===S,_e=ee?"left":"top";let Oe=n.offsets.target[_e];return(null!==(A=n.offsets.target[S])&&void 0!==A?A:0)>(null!==(N=f[S])&&void 0!==N?N:0)&&(Oe=Math.min(null!==(B=n.offsets.target[_e])&&void 0!==B?B:0,(null!==($=f[S])&&void 0!==$?$:0)-n.offsets.target[ee?"width":"height"])),{[_e]:Oe}}};return["left","right","top","bottom"].forEach(S=>{const A=-1!==["left","top","start"].indexOf(S)?D.primary:D.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),A(S))}),n}function Aj(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:a,target:c}=n.offsets,f=-1!==["bottom","top"].indexOf(r),_=f?"left":"top",D=f?"width":"height",S={start:{[_]:a[_]},end:{[_]:(null!==(e=a[_])&&void 0!==e?e:0)+a[D]-c[D]}};n.offsets.target=Object.assign(Object.assign({},c),{[_]:_===i?S.start[_]:S.end[_]})}return n}const xj=new class kj{position(e,t){return this.offset(e,t)}offset(e,t){return bN(t,e)}positionElements(e,t,r,i,a){const c=[Sj,Aj,Mj,Tj],_=function Ij(n,e,t,r){if(!n||!e)return;const i=bN(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const a=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const f=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(c=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=vN(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:yk(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:a}}(t,e,aS[r],a);if(_)return c.reduce((D,S)=>S(D),_)}};function Oj(n,e,t,r,i,a){const c=xj.positionElements(n,e,t,r,i);if(!c)return;const f=function vj(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);CN(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},a),c.instance.arrow&&CN(c.instance.arrow,c.offsets.arrow,a),function Ej(n,e){const t=n.instance.target;let r=t.className;const i=yv().isBs5?vv[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function Cj(n){return yv().isBs5?cS(n,"end")?"ms-2":cS(n,"start")?"me-2":cS(n,"top")?"mb-2":cS(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,a)}let wv=(()=>{class n{constructor(t,r,i){this.update$$=new Fn.x,this.positionElements=new Map,this.isDisabled=!1,function ii(n){return n===co}(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,dR.T)(oS(window,"scroll",{passive:!0}),oS(window,"resize",{passive:!0}),mt(0,pj),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(a=>{Oj(dS(a.target),dS(a.element),a.attachment,a.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(dS(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(dS(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(u.FYo),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dS(n){return"string"==typeof n?document.querySelector(n):n instanceof u.SBq?n.nativeElement:null!=n?n:null}var EN=R(655),Rj=R(3532);class Kb{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class Pj{constructor(e,t,r,i,a,c,f,_){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=a,this._ngZone=c,this._applicationRef=f,this._posService=_,this.onBeforeShow=new u.vpe,this.onShown=new u.vpe,this.onBeforeHide=new u.vpe,this.onHidden=new u.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=u.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof u.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,a,c,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const _=this._componentRef.location.nativeElement;return null===(t=_.parentNode)||void 0===t||t.removeChild(_),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(a=this._contentRef)||void 0===a?void 0:a.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function ZH(n,e){const t=uk(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],a=[],c=()=>{a.forEach(f=>i.push(f())),a.length=0};return t.forEach(f=>{const _=f.open===f.close,D=_?e.toggle:e.show;if(!_&&f.close&&e.hide){const S=n.listen(r,f.close,e.hide);a.push(()=>S)}D&&i.push(n.listen(r,f.open,()=>D(c)))}),()=>{i.forEach(f=>f())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function KH(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function QH(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new Kb([]);if(e instanceof u.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new Kb([c.rootNodes],c)}const a=e.createEmbeddedView({});return this._applicationRef.attachView(a),new Kb([a.rootNodes],a)}if("function"==typeof e){const a=this._componentFactoryResolver.resolveComponentFactory(e),c=u.zs3.create({providers:this._providers,parent:this._injector}),f=a.create(c);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new Kb([[f.location.nativeElement]],f.hostView,f)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new Kb([i])}}let Qb=(()=>{class n{constructor(t,r,i,a,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=a,this._applicationRef=c}createLoader(t,r,i){return new Pj(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(u.zs3),u.LFG(wv),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fj=["*"];let vk=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vj=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return yv()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=vv[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vk))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("id",r.id),u.Tol("tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass),u.ekj("show",!r._bsVersions.isBs3)("bs3",r._bsVersions.isBs3))},ngContentSelectors:Fj,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),Bj=0,Uj=(()=>{class n{constructor(t,r,i,a,c,f){this._elementRef=a,this._renderer=c,this._positionService=f,this.tooltipId=Bj++,this.adaptivePosition=!0,this.tooltipChange=new u.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new u.vpe,this._tooltip=r.createLoader(this._elementRef,t,this._renderer).provide({provide:vk,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){wa("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){wa("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){wa("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return wa("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){wa("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return wa("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){wa('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return wa('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){wa("tooltipClass deprecated")}set _tooltipContext(t){wa("tooltipContext deprecated")}set _tooltipPopupDelay(t){wa("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return wa("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){wa("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(Vj).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function Nj(n=0,e,t=aI.P){let r=-1;return null!=e&&((0,Rj.K)(e)?t=e:r=e),new Cr.y(i=>{let a=function Lj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(this.delay).subscribe(()=>{t(),r()}),this.triggers&&uk(this.triggers).forEach(i=>{!i.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,i.close,()=>{var a;null===(a=this._delaySubscription)||void 0===a||a.unsubscribe(),r()}))})):t()}hide(){var t;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&((null===(t=this._tooltip.instance)||void 0===t?void 0:t.classMap)&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(Qb),u.Y36(vk),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(wv))},n.\u0275dir=u.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,EN.gn)([tj(),(0,EN.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),Hj=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Qb,wv]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[kn]]}),n})();function jj(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function Yj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(i.minuteStep)}),u._UZ(2,"span",2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function $j(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0"),u.qZA())}function Gj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(i.secondsStep)}),u._UZ(2,"span",2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function Wj(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function qj(n,e){1&n&&u._UZ(0,"td")}function zj(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0:\xa0"),u.qZA())}function Zj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4)(1,"input",5),u.NdJ("wheel",function(i){u.CHM(t);const a=u.oxw();return a.prevDef(i),a.changeMinutes(a.minuteStep*a.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(i.minuteStep,"key")})("keydown.ArrowDown",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(-i.minuteStep,"key")})("change",function(i){return u.CHM(t),u.oxw().updateMinutes(i.target)}),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("has-error",t.invalidMinutes),u.xp6(1),u.ekj("is-invalid",t.invalidMinutes),u.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),u.uIk("aria-label",t.labelMinutes)}}function Kj(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0:\xa0"),u.qZA())}function Qj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4)(1,"input",5),u.NdJ("wheel",function(i){u.CHM(t);const a=u.oxw();return a.prevDef(i),a.changeSeconds(a.secondsStep*a.wheelSign(i),"wheel")})("keydown.ArrowUp",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(i.secondsStep,"key")})("keydown.ArrowDown",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(-i.secondsStep,"key")})("change",function(i){return u.CHM(t),u.oxw().updateSeconds(i.target)}),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("has-error",t.invalidSeconds),u.xp6(1),u.ekj("is-invalid",t.invalidSeconds),u.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),u.uIk("aria-label",t.labelSeconds)}}function Jj(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function Xj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"button",8),u.NdJ("click",function(){return u.CHM(t),u.oxw().toggleMeridian()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.isEditable||!t.canToggleMeridian),u.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),u.xp6(1),u.hij("",t.meridian," ")}}function e3(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function t3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeMinutes(-i.minuteStep)}),u._UZ(2,"span",7),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function n3(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0"),u.qZA())}function r3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"a",1),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.changeSeconds(-i.secondsStep)}),u._UZ(2,"span",7),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function i3(n,e){1&n&&(u.TgZ(0,"td"),u._uU(1,"\xa0\xa0\xa0"),u.qZA())}function s3(n,e){1&n&&u._UZ(0,"td")}function wk(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||wk(new Date(n)))}function bk(n,e){return!(n.min&&e<n.min||n.max&&e>n.max)}function Cg(n){return void 0===n?NaN:"number"==typeof n?n:parseInt(n,10)}function SN(n,e=!1){const t=Cg(n);return isNaN(t)||t<0||t>(e?12:24)?NaN:t}function IN(n){const e=Cg(n);return isNaN(e)||e<0||e>60?NaN:e}function MN(n){const e=Cg(n);return isNaN(e)||e<0||e>60?NaN:e}function AN(n){return"string"==typeof n?new Date(n):n}function sl(n,e){if(!n)return sl(hS(new Date,0,0,0),e);if(!e)return n;let t=n.getHours(),r=n.getMinutes(),i=n.getSeconds();return e.hour&&(t+=Cg(e.hour)),e.minute&&(r+=Cg(e.minute)),e.seconds&&(i+=Cg(e.seconds)),hS(n,t,r,i)}function kN(n,e){let t=SN(e.hour);const r=IN(e.minute),i=MN(e.seconds)||0;return e.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(r)?n:hS(n,t,r,i):isNaN(t)||isNaN(r)?n:hS(new Date,t,r,i)}function hS(n,e,t,r){const i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e,t,r,n.getMilliseconds());return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),i}function Dk(n){const e=n.toString();return e.length>1?e:`0${e}`}function xN(n,e){return!isNaN(SN(n,e))}function ON(n){return!isNaN(IN(n))}function RN(n){return!isNaN(MN(n))}function LN(n,e="0",t="0",r){return xN(n,r)&&ON(e)&&RN(t)}function fS(n,e){return!(n.readonlyInput||n.disabled||e&&("wheel"===e.source&&!n.mousewheel||"key"===e.source&&!n.arrowkeys))}function NN(n){const{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:a,mousewheel:c,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:N,max:B}=n;return{hourStep:e,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:a,mousewheel:c,arrowkeys:f,showSpinners:_,showMeridian:D,showSeconds:S,meridians:A,min:N,max:B}}let PN=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nh=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const FN={value:void 0,config:new PN,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function VN(n=FN,e){switch(e.type){case nh.WRITE_VALUE:return Object.assign({},n,{value:e.payload});case nh.CHANGE_HOURS:{if(!fS(n.config,e.payload)||!function h3(n,e){return!(!n.step||n.step>0&&!e.canIncrementHours||n.step<0&&!e.canDecrementHours)}(e.payload,n.controls))return n;const t=sl(n.value,{hour:e.payload.step});return!n.config.max&&!n.config.min||bk(n.config,t)?Object.assign({},n,{value:t}):n}case nh.CHANGE_MINUTES:{if(!fS(n.config,e.payload)||!function f3(n,e){return!(!n.step||n.step>0&&!e.canIncrementMinutes||n.step<0&&!e.canDecrementMinutes)}(e.payload,n.controls))return n;const t=sl(n.value,{minute:e.payload.step});return!n.config.max&&!n.config.min||bk(n.config,t)?Object.assign({},n,{value:t}):n}case nh.CHANGE_SECONDS:{if(!fS(n.config,e.payload)||!function p3(n,e){return!(!n.step||n.step>0&&!e.canIncrementSeconds||n.step<0&&!e.canDecrementSeconds)}(e.payload,n.controls))return n;const t=sl(n.value,{seconds:e.payload.step});return!n.config.max&&!n.config.min||bk(n.config,t)?Object.assign({},n,{value:t}):n}case nh.SET_TIME_UNIT:{if(!fS(n.config))return n;const t=kN(n.value,e.payload);return Object.assign({},n,{value:t})}case nh.UPDATE_CONTROLS:{const t=function m3(n,e){const{min:i,max:a,hourStep:c,minuteStep:f,secondsStep:_,showSeconds:D}=e,S={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return S;if(a){const A=sl(n,{hour:c});if(S.canIncrementHours=a>A&&n.getHours()+c<24,!S.canIncrementHours){const N=sl(n,{minute:f});S.canIncrementMinutes=D?a>N:a>=N}if(!S.canIncrementMinutes){const N=sl(n,{seconds:_});S.canIncrementSeconds=a>=N}n.getHours()<12&&(S.canToggleMeridian=sl(n,{hour:12})<a)}if(i){const A=sl(n,{hour:-c});if(S.canDecrementHours=i<A,!S.canDecrementHours){const N=sl(n,{minute:-f});S.canDecrementMinutes=D?i<N:i<=N}if(!S.canDecrementMinutes){const N=sl(n,{seconds:-_});S.canDecrementSeconds=i<=N}n.getHours()>=12&&(S.canToggleMeridian=sl(n,{hour:-12})>i)}return S}(n.value,e.payload),r={value:n.value,config:e.payload,controls:t};return n.config.showMeridian!==r.config.showMeridian&&n.value&&(r.value=new Date(n.value)),Object.assign({},n,r)}default:return n}}let pS=(()=>{class n extends sS{constructor(){const t=new ar({type:"[mini-ngrx] dispatcher init"});super(t,VN,new lN(FN,t,VN))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const g3={provide:_s,useExisting:(0,u.Gpc)(()=>Ck),multi:!0};let Ck=(()=>{class n{constructor(t,r,i,a){this._cd=r,this._store=i,this._timepickerActions=a,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new u.vpe,this.meridianChange=new u.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(c=>c.value).subscribe(c=>{this._renderTime(c),this.onChange(c),this._store.dispatch(this._timepickerActions.updateControls(NN(this)))}),i.select(c=>c.controls).subscribe(c=>{const f=LN(this.hours,this.minutes,this.seconds,this.isPM()),_=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||f;this.isValid.emit(_),Object.assign(this,c),r.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(NN(this)))}changeHours(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:r}))}changeMinutes(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:r}))}changeSeconds(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:r}))}updateHours(t){this.resetValidation(),this.hours=t.value;const r=xN(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const r=ON(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const r=RN(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function c3(n,e,t){const r=kN(new Date,n);return!(!r||e&&r>e||t&&r<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function d3(n,e,t){return 0===n.length||0===e.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=LN(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){wk(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(AN(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){var t;null===(t=this.timepickerSub)||void 0===t||t.unsubscribe()}_renderTime(t){if(!t||!wk(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const r=AN(t);if(!r)return;let a=r.getHours();this.showMeridian&&(this.meridian=this.meridians[a>=12?1:0],this.meridianChange.emit(this.meridian),a%=12,0===a&&(a=12)),this.hours=Dk(a),this.minutes=Dk(r.getMinutes()),this.seconds=Dk(r.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(PN),u.Y36(u.sBO),u.Y36(pS),u.Y36(nh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[u._Bn([g3,pS]),u.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,r){1&t&&(u.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),u.NdJ("click",function(){return r.changeHours(r.hourStep)}),u._UZ(5,"span",2),u.qZA()(),u.YNc(6,jj,2,0,"td",3),u.YNc(7,Yj,3,2,"td",3),u.YNc(8,$j,2,0,"td",3),u.YNc(9,Gj,3,2,"td",3),u.YNc(10,Wj,2,0,"td",3),u.YNc(11,qj,1,0,"td",3),u.qZA(),u.TgZ(12,"tr")(13,"td",4)(14,"input",5),u.NdJ("wheel",function(a){return r.prevDef(a),r.changeHours(r.hourStep*r.wheelSign(a),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(a){return r.updateHours(a.target)}),u.qZA()(),u.YNc(15,zj,2,0,"td",3),u.YNc(16,Zj,2,9,"td",6),u.YNc(17,Kj,2,0,"td",3),u.YNc(18,Qj,2,9,"td",6),u.YNc(19,Jj,2,0,"td",3),u.YNc(20,Xj,3,4,"td",3),u.qZA(),u.TgZ(21,"tr",0)(22,"td")(23,"a",1),u.NdJ("click",function(){return r.changeHours(-r.hourStep)}),u._UZ(24,"span",7),u.qZA()(),u.YNc(25,e3,2,0,"td",3),u.YNc(26,t3,3,2,"td",3),u.YNc(27,n3,2,0,"td",3),u.YNc(28,r3,3,2,"td",3),u.YNc(29,i3,2,0,"td",3),u.YNc(30,s3,1,0,"td",3),u.qZA()()()),2&t&&(u.xp6(2),u.Q6J("hidden",!r.showSpinners),u.xp6(2),u.ekj("disabled",!r.canIncrementHours||!r.isEditable),u.xp6(2),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(2),u.ekj("has-error",r.invalidHours),u.xp6(1),u.ekj("is-invalid",r.invalidHours),u.Q6J("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),u.uIk("aria-label",r.labelHours),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("hidden",!r.showSpinners),u.xp6(2),u.ekj("disabled",!r.canDecrementHours||!r.isEditable),u.xp6(2),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showMinutes),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showSeconds),u.xp6(1),u.Q6J("ngIf",r.showMeridian),u.xp6(1),u.Q6J("ngIf",r.showMeridian))},directives:[Pn],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),_3=(()=>{class n{static forRoot(){return{ngModule:n,providers:[nh,pS]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[pS],imports:[[kn]]}),n})();function y3(n,e){1&n&&u._UZ(0,"bs-current-date",4)}function v3(n,e){1&n&&u._UZ(0,"bs-timepicker")}const w3=[[["bs-datepicker-navigation-view"]],"*"],b3=["bs-datepicker-navigation-view","*"];function D3(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._uU(1," \u200b "),u.TgZ(2,"button",2),u.NdJ("click",function(){return u.CHM(t),u.oxw().view("month")}),u.TgZ(3,"span"),u._uU(4),u.qZA()(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(4),u.Oqu(t.calendar.monthTitle)}}const C3=["bsDatepickerDayDecorator",""];function E3(n,e){1&n&&u._UZ(0,"th")}function T3(n,e){if(1&n&&(u.TgZ(0,"th",5),u._uU(1),u.qZA()),2&n){const t=e.index,r=u.oxw();u.xp6(1),u.hij("",r.calendar.weekdays[t]," ")}}function S3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().selectWeek(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2).index,r=u.oxw();u.xp6(1),u.Oqu(r.calendar.weekNumbers[t])}}function I3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",12),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().selectWeek(i)})("mouseenter",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().weekHoverHandler(i,!0)})("mouseleave",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().weekHoverHandler(i,!1)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2).index,r=u.oxw();u.xp6(1),u.Oqu(r.calendar.weekNumbers[t])}}function M3(n,e){if(1&n&&(u.TgZ(0,"td",8),u.YNc(1,S3,2,1,"span",9),u.YNc(2,I3,2,1,"span",10),u.qZA()),2&n){const t=u.oxw(2);u.ekj("active-week",t.isWeekHovered),u.xp6(1),u.Q6J("ngIf",t.isiOS),u.xp6(1),u.Q6J("ngIf",!t.isiOS)}}function A3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",17),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).selectDay(i)})("mouseenter",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!0)})("mouseleave",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!1)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.s9C("tooltip",t.tooltipText),u.Q6J("day",t),u.xp6(1),u.hij("",t.label," 3")}}function k3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).selectDay(i)})("mouseenter",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!0)})("mouseleave",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).hoverDay(i,!1)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.Q6J("day",t),u.xp6(1),u.hij("",t.label," 2")}}function x3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",19),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw(2).selectDay(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.Q6J("day",t),u.xp6(1),u.hij("",t.label," 1")}}function O3(n,e){if(1&n&&(u.TgZ(0,"td",13),u.YNc(1,A3,2,3,"span",14),u.YNc(2,k3,2,2,"span",15),u.YNc(3,x3,2,2,"span",16),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),u.xp6(1),u.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),u.xp6(1),u.Q6J("ngIf",t.isiOS)}}function R3(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,M3,3,4,"td",6),u.YNc(2,O3,4,3,"td",7),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("ngIf",r.options&&r.options.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",t.days)}}function L3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(2).viewMonth(a)})("mouseenter",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverMonth(a,!0)})("mouseleave",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverMonth(a,!1)}),u.TgZ(1,"span"),u._uU(2),u.qZA()()}if(2&n){const t=e.$implicit;u.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),u.xp6(1),u.ekj("selected",t.isSelected),u.xp6(1),u.Oqu(t.label)}}function N3(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,L3,3,7,"td",3),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngForOf",t)}}function P3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",4),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(2).viewYear(a)})("mouseenter",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverYear(a,!0)})("mouseleave",function(){const a=u.CHM(t).$implicit;return u.oxw(2).hoverYear(a,!1)}),u.TgZ(1,"span"),u._uU(2),u.qZA()()}if(2&n){const t=e.$implicit;u.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),u.xp6(1),u.ekj("selected",t.isSelected),u.xp6(1),u.Oqu(t.label)}}function F3(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,P3,3,7,"td",3),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngForOf",t)}}function V3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",2),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().selectFromRanges(a)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw();u.ekj("selected",t.value===r.selectedRange),u.xp6(1),u.hij(" ",t.label," ")}}const BN=["startTP"];function B3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-days-calendar-view",11),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return u.CHM(t),u.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).daySelectHandler(i)}),u.ALo(1,"async"),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)("options",u.lcZ(1,4,r.options$))}}function U3(n,e){1&n&&u._UZ(0,"timepicker",null,15)}function H3(n,e){if(1&n&&(u.TgZ(0,"div",12),u._UZ(1,"timepicker",null,13),u.YNc(3,U3,2,0,"timepicker",14),u.qZA()),2&n){const t=u.oxw(3);u.xp6(3),u.Q6J("ngIf",t.isRangePicker)}}function j3(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",8),u.YNc(2,B3,2,6,"bs-days-calendar-view",9),u.ALo(3,"async"),u.qZA(),u.YNc(4,H3,4,1,"div",10),u.BQk()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,2,t.daysCalendar$)),u.xp6(2),u.Q6J("ngIf",t.withTimepicker)}}function Y3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-month-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).monthSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function $3(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,Y3,1,3,"bs-month-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.monthsCalendar))}}function G3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-years-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).yearSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function W3(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,G3,1,3,"bs-years-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.yearsCalendar))}}function q3(n,e){1&n&&(u.TgZ(0,"div",18)(1,"button",19),u._uU(2,"Apply"),u.qZA(),u.TgZ(3,"button",20),u._uU(4,"Cancel"),u.qZA()())}function z3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).setToday()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),u.xp6(2),u.Oqu(t.todayBtnLbl)}}function Z3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",25)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).clearDate()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),u.xp6(2),u.Oqu(t.clearBtnLbl)}}function K3(n,e){if(1&n&&(u.TgZ(0,"div",18),u.YNc(1,z3,3,7,"div",21),u.YNc(2,Z3,3,7,"div",22),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.showTodayBtn),u.xp6(1),u.Q6J("ngIf",t.showClearBtn)}}function Q3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"bs-custom-date-view",27),u.NdJ("onSelect",function(i){return u.CHM(t),u.oxw(2).setRangeOnCalendar(i)}),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function J3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",1)(1,"div",2),u.NdJ("@datepickerAnimation.done",function(){return u.CHM(t),u.oxw().positionServiceEnable()}),u.TgZ(2,"div",3),u.ALo(3,"async"),u.YNc(4,j3,5,4,"ng-container",4),u.YNc(5,$3,3,3,"div",5),u.YNc(6,W3,3,3,"div",5),u.qZA(),u.YNc(7,q3,5,0,"div",6),u.YNc(8,K3,3,2,"div",6),u.qZA(),u.YNc(9,Q3,2,3,"div",7),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngClass",t.containerClass),u.xp6(1),u.Q6J("@datepickerAnimation",t.animationState),u.xp6(1),u.Q6J("ngSwitch",u.lcZ(3,9,t.viewMode)),u.xp6(2),u.Q6J("ngSwitchCase","day"),u.xp6(1),u.Q6J("ngSwitchCase","month"),u.xp6(1),u.Q6J("ngSwitchCase","year"),u.xp6(1),u.Q6J("ngIf",!1),u.xp6(1),u.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),u.xp6(1),u.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const hY=["endTP"];function fY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-days-calendar-view",11),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).dayHoverHandler(i)})("onHoverWeek",function(i){return u.CHM(t),u.oxw(3).weekHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).daySelectHandler(i)}),u.ALo(1,"async"),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)("options",u.lcZ(1,4,r.options$))}}function pY(n,e){1&n&&u._UZ(0,"timepicker",null,15)}function mY(n,e){if(1&n&&(u.TgZ(0,"div",12),u._UZ(1,"timepicker",null,13),u.YNc(3,pY,2,0,"timepicker",14),u.qZA()),2&n){const t=u.oxw(3);u.xp6(3),u.Q6J("ngIf",t.isRangePicker)}}function gY(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",8),u.YNc(2,fY,2,6,"bs-days-calendar-view",9),u.ALo(3,"async"),u.qZA(),u.YNc(4,mY,4,1,"div",10),u.BQk()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,2,t.daysCalendar$)),u.xp6(2),u.Q6J("ngIf",t.withTimepicker)}}function _Y(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-month-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).monthHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).monthSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function yY(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,_Y,1,3,"bs-month-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.monthsCalendar))}}function vY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"bs-years-calendar-view",17),u.NdJ("onNavigate",function(i){return u.CHM(t),u.oxw(3).navigateTo(i)})("onViewMode",function(i){return u.CHM(t),u.oxw(3).setViewMode(i)})("onHover",function(i){return u.CHM(t),u.oxw(3).yearHoverHandler(i)})("onSelect",function(i){return u.CHM(t),u.oxw(3).yearSelectHandler(i)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.ekj("bs-datepicker-multiple",r.multipleCalendars),u.Q6J("calendar",t)}}function wY(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,vY,1,3,"bs-years-calendar-view",16),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.yearsCalendar))}}function bY(n,e){1&n&&(u.TgZ(0,"div",18)(1,"button",19),u._uU(2,"Apply"),u.qZA(),u.TgZ(3,"button",20),u._uU(4,"Cancel"),u.qZA()())}function DY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).setToday()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),u.xp6(2),u.Oqu(t.todayBtnLbl)}}function CY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",25)(1,"button",24),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).clearDate()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw(3);u.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),u.xp6(2),u.Oqu(t.clearBtnLbl)}}function EY(n,e){if(1&n&&(u.TgZ(0,"div",18),u.YNc(1,DY,3,7,"div",21),u.YNc(2,CY,3,7,"div",22),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.showTodayBtn),u.xp6(1),u.Q6J("ngIf",t.showClearBtn)}}function TY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"bs-custom-date-view",27),u.NdJ("onSelect",function(i){return u.CHM(t),u.oxw(2).setRangeOnCalendar(i)}),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function SY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",1)(1,"div",2),u.NdJ("@datepickerAnimation.done",function(){return u.CHM(t),u.oxw().positionServiceEnable()}),u.TgZ(2,"div",3),u.ALo(3,"async"),u.YNc(4,gY,5,4,"ng-container",4),u.YNc(5,yY,3,3,"div",5),u.YNc(6,wY,3,3,"div",5),u.qZA(),u.YNc(7,bY,5,0,"div",6),u.YNc(8,EY,3,2,"div",6),u.qZA(),u.YNc(9,TY,2,3,"div",7),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngClass",t.containerClass),u.xp6(1),u.Q6J("@datepickerAnimation",t.animationState),u.xp6(1),u.Q6J("ngSwitch",u.lcZ(3,9,t.viewMode)),u.xp6(2),u.Q6J("ngSwitchCase","day"),u.xp6(1),u.Q6J("ngSwitchCase","month"),u.xp6(1),u.Q6J("ngSwitchCase","year"),u.xp6(1),u.Q6J("ngIf",!1),u.xp6(1),u.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),u.xp6(1),u.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let rh=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UN="220ms cubic-bezier(0, 0, 0.2, 1)",HN=function GH(n,e){return{type:7,name:n,definitions:e,options:{}}}("datepickerAnimation",[sN("animated-down",_v({height:"*",overflow:"hidden"})),ak("* => animated-down",[_v({height:0,overflow:"hidden"}),ok(UN)]),sN("animated-up",_v({height:"*",overflow:"hidden"})),ak("* => animated-up",[_v({height:"*",overflow:"hidden"}),ok(UN)]),ak("* => unanimated",ok("0s"))]);class jN{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new fs.w0,this.selectedTimeSub=new fs.w0}set minDate(e){var t;null===(t=this._effects)||void 0===t||t.setMinDate(e)}set maxDate(e){var t;null===(t=this._effects)||void 0===t||t.setMaxDate(e)}set daysDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDaysDisabled(e)}set datesDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesDisabled(e)}set datesEnabled(e){var t;null===(t=this._effects)||void 0===t||t.setDatesEnabled(e)}set isDisabled(e){var t;null===(t=this._effects)||void 0===t||t.setDisabled(e)}set dateCustomClasses(e){var t;null===(t=this._effects)||void 0===t||t.setDateCustomClasses(e)}set dateTooltipTexts(e){var t;null===(t=this._effects)||void 0===t||t.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}let mi=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,r){return{type:n.SELECT_TIME,payload:{date:t,index:r}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),mS=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new ar(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Jb=(()=>{class n{constructor(t,r){this._actions=t,this._localeService=r,this._subs=[]}init(t){return this._store=t,this}setValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.select(t))}setRangeValue(t){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.selectRange(t))}setMinDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.minDate(t)),this}setMaxDate(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){var r;const i=Object.assign({locale:this._localeService.currentLocale},t);return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(r=>r.selectedTime).pipe(On(r=>!!r)),t.daysCalendar$=this._store.select(r=>r.flaggedMonths).pipe(On(r=>!!r)),t.monthsCalendar=this._store.select(r=>r.flaggedMonthsCalendar).pipe(On(r=>!!r)),t.yearsCalendar=this._store.select(r=>r.yearsCalendarFlagged).pipe(On(r=>!!r)),t.viewMode=this._store.select(r=>{var i;return null===(i=r.view)||void 0===i?void 0:i.mode}),t.options$=Jo([this._store.select(r=>r.showWeekNumbers),this._store.select(r=>r.displayMonths)]).pipe((0,xt.U)(r=>({showWeekNumbers:r[0],displayMonths:r[1]}))),this):this}setEventHandlers(t){return t.setViewMode=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.changeViewMode(r))},t.navigateTo=r=>{var i;null===(i=this._store)||void 0===i||i.dispatch(this._actions.navigateStep(r.step))},t.dayHoverHandler=r=>{var i;const a=r.cell;a.isOtherMonth||a.isDisabled||(null===(i=this._store)||void 0===i||i.dispatch(this._actions.hoverDay(r)),a.isHovered=r.isHovered)},t.monthHoverHandler=r=>{r.cell.isHovered=r.isHovered},t.yearHoverHandler=r=>{r.cell.isHovered=r.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{var t;null===(t=this._store)||void 0===t||t.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.format())})),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedDate).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.selectedRange).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(On(t=>!!t)).subscribe(()=>{var t;return null===(t=this._store)||void 0===t?void 0:t.dispatch(this._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(t=>{var r;return null===(r=this._store)||void 0===r?void 0:r.dispatch(this._actions.setLocale(t))})),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mi),u.LFG(mS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jY={date:new Date,mode:"day"},YN=Object.assign(new rh,{locale:"en",view:jY,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function Ek(n,e,t){const r=e&&_c(JT(n,"month"),e,"day"),i=t&&Wl(eh(n,"month"),t,"day");return r||i||!1}function Xb(n,e,t){const r=e&&_c(JT(n,"year"),e,"day"),i=t&&Wl(eh(n,"year"),t,"day");return r||i||!1}function Tk(n,e,t){return!!(e&&_r(e)&&e.length)&&(t&&"year"===t&&!e[0].getDate()?e.some(r=>cv(n,r,"year")):e.some(r=>cv(n,r,"date")))}function Sk(n,e,t){return!!(e&&_r(e)&&e.length)&&!e.some(r=>cv(n,r,t||"date"))}function $N(n,e=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[e];return(null==t?void 0:t.years[0])&&t.years[0][0]&&t.years[0][0].date}function GY(n,e){return!n||!e||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=WN(t.value,e)),n)),n}function GN(n,e){return!n||!e||n instanceof Array&&!n.length||n instanceof Date?n:WN(n,e)}function WN(n,e){return n instanceof Array?n.map(r=>r&&(Wl(r,e,"date")&&(r=e),r)):n}function qN(n){return n&&ZN(n)}function zN(n){return(null==n?void 0:n.length)&&n.map(e=>e&&ZN(e)),n}function ZN(n){const e=new Date;return n.setMilliseconds(e.getMilliseconds()),n.setSeconds(e.getSeconds()),n.setMinutes(e.getMinutes()),n.setHours(e.getHours()),n}function Ik(n,e){let t=n.initialDate;const r=new Array(n.height);for(let i=0;i<n.height;i++){r[i]=new Array(n.width);for(let a=0;a<n.width;a++)r[i][a]=e(t),t=Yi(t,n.shift)}return r}function Mk(n,e){const t=function UB(n){return $T(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),r=function YY(n,e){if(function jB(n,e){return n.getDay()===Number(e)}(n,e.firstDayOfWeek))return n;const r=function $Y(n,e){const t=Number(e);if(isNaN(t))return 0;if(0===t)return n;const r=n-t%7;return r<0?r+7:r}(mc(n),e.firstDayOfWeek);return Yi(n,{day:-r})}(t,e);return{daysMatrix:Ik({width:e.width||0,height:e.height||0,initialDate:r,shift:{day:1}},c=>c),month:t}}function qY(n,e,t){return n.map(r=>r[0]?Qa(r[0],e,t):"")}function zY(n){const e=ki(n),t=e.weekdaysShort(),r=e.firstDayOfWeek();return[...t.slice(r),...t.slice(0,r)]}function KN(n,e){return!e||n>=e}const XY={month:1};function QN(n,e){return{months:Ik({width:3,height:4,initialDate:eh(n,"year"),shift:XY},a=>({date:a,label:Qa(a,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:Qa(n,e.yearTitle,e.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const JN=-1*(Math.floor(8)-1),t6={year:1};function XN(n,e,t){const r=function n6(n,e){return e&&n.getFullYear()>=e.getFullYear()&&n.getFullYear()<e.getFullYear()+16?e:Yi(n,{year:JN})}(n,t),a=Ik({width:4,height:4,initialDate:r,shift:t6},f=>({date:f,label:Qa(f,e.yearLabel,e.locale)})),c=function r6(n,e){return`${Qa(n[0][0].date,e.yearTitle,e.locale)} - ${Qa(n[3][3].date,e.yearTitle,e.locale)}`}(a,e);return{years:a,monthTitle:"",yearTitle:c,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function xk(n,e){!n||!isNaN(n.getTime())||(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds()),n.setMilliseconds(e.getMilliseconds()))}function eP(n=YN,e){var t;switch(e.type){case mi.CALCULATE:return function s6(n){if(!n.view)return n;let e;e=n.displayOneMonthRange&&tP(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=Yi(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=ki(n.locale).firstDayOfWeek();let r=new Array(e);for(let i=0;i<e;i++)r[i]=Mk(t,n.monthViewOptions),t=Yi(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const i=Mk(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===i.month.getMonth()&&(r=n.flaggedMonths.map(a=>n.monthViewOptions?Mk(a.month,n.monthViewOptions):null).filter(a=>null!==a))}return Object.assign({},n,{monthsModel:r})}if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=QN(t,eD(n)),t=Yi(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=XN(t,eD(n),"year"===n.minMode?$N(n,i):void 0),t=Yi(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case mi.FORMAT:return function o6(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const r=n.monthsModel.map((i,a)=>function WY(n,e,t){return{month:n.month,monthTitle:Qa(n.month,e.monthTitle,e.locale),yearTitle:Qa(n.month,e.yearTitle,e.locale),weekNumbers:qY(n.daysMatrix,e.weekNumbers,e.locale),weekdays:zY(e.locale),weeks:n.daysMatrix.map((r,i)=>({days:r.map((a,c)=>({date:a,label:Qa(a,e.dayLabel,e.locale),monthIndex:t,weekIndex:i,dayIndex:c}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(i,eD(n),a));return Object.assign({},n,{formattedMonths:r})}const e=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=QN(t,eD(n)),t=Yi(t,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){const r=new Array(e);for(let i=0;i<e;i++)r[i]=XN(t,eD(n)),t=Yi(t,{year:16});return Object.assign({},n,{yearsCalendarModel:r})}return n}(n);case mi.FLAG:return function a6(n){if(!n.view)return n;const e=tP(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((r,i)=>function ZY(n,e){return n.weeks.forEach(t=>{t.days.forEach((r,i)=>{const a=!sv(r.date,n.month),c=!a&&Xf(r.date,e.hoveredDate),f=!a&&e.selectedRange&&Xf(r.date,e.selectedRange[0]),_=!a&&e.selectedRange&&Xf(r.date,e.selectedRange[1]),D=!a&&Xf(r.date,e.selectedDate)||f||_,S=!a&&e.selectedRange&&function KY(n,e,t){return!!(n&&e&&e[0])&&(e[1]?n>e[0]&&n<=e[1]:!!t&&n>e[0]&&n<=t)}(r.date,e.selectedRange,e.hoveredDate),A=e.isDisabled||_c(r.date,e.minDate,"day")||Wl(r.date,e.maxDate,"day")||function cH(n,e){return!(void 0===e||!e||!e.length)&&e.some(t=>t===n.getDay())}(r.date,e.daysDisabled)||Tk(r.date,e.datesDisabled)||Sk(r.date,e.datesEnabled),N=new Date,B=!a&&Xf(r.date,N),$=e.dateCustomClasses&&e.dateCustomClasses.map(Be=>Xf(r.date,Be.date)?Be.classes:[]).reduce((Be,Oe)=>Be.concat(Oe),[]).join(" ")||"",ee=e.dateTooltipTexts&&e.dateTooltipTexts.map(Be=>Xf(r.date,Be.date)?Be.tooltipText:"").reduce((Be,Oe)=>(Be.push(Oe),Be),[]).join(" ")||"",_e=Object.assign({},r,{isOtherMonth:a,isHovered:c,isSelected:D,isSelectionStart:f,isSelectionEnd:_,isInRange:S,isDisabled:A,isToday:B,customClasses:$,tooltipText:ee});(r.isOtherMonth!==_e.isOtherMonth||r.isHovered!==_e.isHovered||r.isSelected!==_e.isSelected||r.isSelectionStart!==_e.isSelectionStart||r.isSelectionEnd!==_e.isSelectionEnd||r.isDisabled!==_e.isDisabled||r.isInRange!==_e.isInRange||r.customClasses!==_e.customClasses||r.tooltipText!==_e.tooltipText)&&(t.days[i]=_e)})}),n.hideLeftArrow=e.isDisabled||!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=e.isDisabled||(!!e.monthIndex||0===e.monthIndex)&&!!e.displayMonths&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=Ek(Yi(n.month,{month:-1}),e.minDate,e.maxDate),n.disableRightArrow=Ek(Yi(n.month,{month:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:e,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:i}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((r,i)=>function e6(n,e){return n.months.forEach((t,r)=>{t.forEach((i,a)=>{let c;const f=sv(i.date,e.hoveredMonth),_=e.isDisabled||Tk(i.date,e.datesDisabled)||Sk(i.date,e.datesEnabled,"month")||Ek(i.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(c=sv(i.date,e.selectedRange[0]),c||(c=sv(i.date,e.selectedRange[1]))):c=sv(i.date,e.selectedDate);const D=Object.assign(i,{isHovered:f,isDisabled:_,isSelected:c});(i.isHovered!==D.isHovered||i.isDisabled!==D.isDisabled||i.isSelected!==D.isSelected)&&(n.months[r][a]=D)})}),n.hideLeftArrow=!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=(!!e.monthIndex||0===e.monthIndex)&&(!!e.displayMonths||0===e.displayMonths)&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=Xb(Yi(n.months[0][0].date,{year:-1}),e.minDate,e.maxDate),n.disableRightArrow=Xb(Yi(n.months[0][0].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,monthIndex:i}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((r,i)=>function i6(n,e){n.years.forEach((i,a)=>{i.forEach((c,f)=>{let _;const D=ov(c.date,e.hoveredYear),S=e.isDisabled||Tk(c.date,e.datesDisabled,"year")||Sk(c.date,e.datesEnabled,"year")||Xb(c.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(_=ov(c.date,e.selectedRange[0]),_||(_=ov(c.date,e.selectedRange[1]))):_=ov(c.date,e.selectedDate);const A=Object.assign(c,{isHovered:D,isDisabled:S,isSelected:_});(c.isHovered!==A.isHovered||c.isDisabled!==A.isDisabled||c.isSelected!==A.isSelected)&&(n.years[a][f]=A)})}),n.hideLeftArrow=!!e.yearIndex&&e.yearIndex>0&&e.yearIndex!==e.displayMonths,n.hideRightArrow=!!e.yearIndex&&!!e.displayMonths&&e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,n.disableLeftArrow=Xb(Yi(n.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const t=n.years.length-1;return n.disableRightArrow=Xb(Yi(n.years[t][n.years[t].length-1].date,{year:1}),e.minDate,e.maxDate),n}(r,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,yearIndex:i}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case mi.NAVIGATE_OFFSET:return function l6(n,e){if(!n.view)return n;const t=function u6(n,e){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=$N(n,0);if(t){const r=Yi(t,{year:-JN});return Yi(r,e.payload)}}return Yi(eh(n.view.date,"month"),e.payload)}}(n,e);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}(n,e);case mi.NAVIGATE_TO:{const r=e.payload;if(!n.view||!r.unit)return n;const i=function tU(n,e){return $T(av(n.getFullYear(),e.year),av(n.getMonth(),e.month),1,av(n.getHours(),e.hour),av(n.getMinutes(),e.minute),av(n.getSeconds(),e.seconds),av(n.getMilliseconds(),e.milliseconds))}(n.view.date,r.unit);let a,c;return KN(r.viewMode,n.minMode)?(c=r.viewMode,a={view:{date:i,mode:c}}):(c=n.view.mode,a={selectedDate:i,view:{date:i,mode:c}}),Object.assign({},n,a)}case mi.CHANGE_VIEWMODE:return KN(e.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:e.payload}}):n;case mi.HOVER:return Object.assign({},n,{hoveredDate:e.payload});case mi.SELECT:{if(!n.view)return n;const r={selectedDate:e.payload,view:n.view};if(Array.isArray(n.selectedTime)){const f=n.selectedTime[0];r.selectedDate&&f&&xk(r.selectedDate,f)}const i=n.view.mode,c=Ok(e.payload||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:c},Object.assign({},n,r)}case mi.SELECT_TIME:{const{date:r,index:i}=e.payload,a=n.selectedTime?[...n.selectedTime]:[];return a[i]=r,Object.assign({},n,{selectedTime:a})}case mi.SET_OPTIONS:{if(!n.view)return n;const r=e.payload,i=r.minMode?r.minMode:n.view.mode,c=Ok(Jf(r.value)&&r.value||_r(r.value)&&Jf(r.value[0])&&r.value[0]||n.view.date,r.minDate,r.maxDate);return r.view={mode:i,date:c},r.value&&(_r(r.value)&&(r.selectedRange=r.value,r.selectedTime=r.value.map(f=>f)),r.value instanceof Date&&(r.selectedDate=r.value,r.selectedTime=[r.value])),Object.assign({},n,r)}case mi.SELECT_RANGE:{if(!n.view)return n;const r={selectedRange:e.payload,view:n.view};null===(t=r.selectedRange)||void 0===t||t.forEach((f,_)=>{if(Array.isArray(n.selectedTime)){const D=n.selectedTime[_];D&&xk(f,D)}});const i=n.view.mode,c=Ok(e.payload&&e.payload[0]||n.view.date,n.minDate,n.maxDate);return r.view={mode:i,date:c},Object.assign({},n,r)}case mi.SET_MIN_DATE:return Object.assign({},n,{minDate:e.payload});case mi.SET_MAX_DATE:return Object.assign({},n,{maxDate:e.payload});case mi.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:e.payload});case mi.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:e.payload});case mi.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:e.payload});default:return n}}function eD(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function Ok(n,e,t){const r=Array.isArray(n)?n[0]:n;return e&&Wl(e,r,"day")?e:t&&_c(t,r,"day")?t:r}function tP(n,e,t){return!(!t||!cv(t,n,"day"))||e&&t&&e.getMonth()===t.getMonth()}let tD=(()=>{class n extends sS{constructor(){const t=new ar({type:"[datepicker] dispatcher init"});super(t,eP,new lN(YN,t,eP))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();var rp=(()=>(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN"}(rp||(rp={})),rp))();let c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"span"),u._uU(2),u.qZA()()),2&t&&(u.xp6(2),u.Oqu(r.title))},encapsulation:2}),n})(),d6=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u._uU(3,"-"),u.qZA(),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._uU(6,"+"),u.qZA()(),u.TgZ(7,"div",1)(8,"button",2),u._uU(9,"-"),u.qZA(),u._UZ(10,"input",3),u.TgZ(11,"button",4),u._uU(12,"+"),u.qZA()(),u.TgZ(13,"button",5),u._uU(14),u._UZ(15,"img",6),u.qZA()()),2&t&&(u.xp6(4),u.Q6J("value",r.hours),u.xp6(6),u.Q6J("value",r.minutes),u.xp6(4),u.hij("",r.ampm," "))},encapsulation:2}),n})(),Rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:b3,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,r){1&t&&(u.F$t(w3),u.YNc(0,y3,1,0,"bs-current-date",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u.TgZ(3,"div",2),u.Hsn(4,1),u.qZA(),u.YNc(5,v3,1,0,"bs-timepicker",3)),2&t&&(u.Q6J("ngIf",!1),u.xp6(5),u.Q6J("ngIf",!1))},directives:[c6,d6,Pn],encapsulation:2}),n})(),Lk=(()=>{class n{constructor(){this.onNavigate=new u.vpe,this.onViewMode=new u.vpe}navTo(t){this.onNavigate.emit(t?rp.DOWN:rp.UP)}view(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,r){1&t&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return r.navTo(!0)}),u.TgZ(1,"span"),u._uU(2,"\u2039"),u.qZA()(),u.YNc(3,D3,5,1,"ng-container",1),u._uU(4," \u200b "),u.TgZ(5,"button",2),u.NdJ("click",function(){return r.view("year")}),u.TgZ(6,"span"),u._uU(7),u.qZA()(),u._uU(8," \u200b "),u.TgZ(9,"button",3),u.NdJ("click",function(){return r.navTo(!1)}),u.TgZ(10,"span"),u._uU(11,"\u203a"),u.qZA()()),2&t&&(u.Udp("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),u.Q6J("disabled",r.calendar.disableLeftArrow),u.xp6(3),u.Q6J("ngIf",r.calendar&&r.calendar.monthTitle),u.xp6(4),u.Oqu(r.calendar.yearTitle),u.xp6(2),u.Udp("visibility",r.calendar.hideRightArrow?"hidden":"visible"),u.Q6J("disabled",r.calendar.disableRightArrow))},directives:[Pn],encapsulation:2,changeDetection:0}),n})(),h6=(()=>{class n{constructor(t,r,i){this._config=t,this._elRef=r,this._renderer=i,this.day={date:new Date,label:""}}ngOnInit(){var t,r,i;(null===(t=this.day)||void 0===t?void 0:t.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(r=this.day)||void 0===r?void 0:r.customClasses)&&(null===(i=this.day)||void 0===i||i.customClasses.split(" ").filter(a=>a).forEach(a=>{this._renderer.addClass(this._elRef.nativeElement,a)}))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rh),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:C3,decls:1,vars:1,template:function(t,r){1&t&&u._uU(0),2&t&&u.Oqu(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0}),n})(),nP=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new u.vpe,this.onViewMode=new u.vpe,this.onSelect=new u.vpe,this.onHover=new u.vpe,this.onHoverWeek=new u.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:rp.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const r=t.days.find(i=>(this._config.selectFromOtherMonth||!i.isOtherMonth)&&!i.isDisabled);if(this.onSelect.emit(r),this._config.selectWeekDateRange){const a=t.days.slice(0).reverse().find(c=>(this._config.selectFromOtherMonth||!c.isOtherMonth)&&!c.isDisabled);this.onSelect.emit(a)}}weekHoverHandler(t,r){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(a=>(this._config.selectFromOtherMonth||!a.isOtherMonth)&&!a.isDisabled)&&(t.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(t))}hoverDay(t,r){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(i=>{Xf(i.date,t.date)&&(t.tooltipText=i.tooltipText)})),this.onHover.emit({cell:t,isHovered:r})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,r){1&t&&(u.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),u.NdJ("onNavigate",function(a){return r.navigateTo(a)})("onViewMode",function(a){return r.changeViewMode(a)}),u.qZA(),u.TgZ(2,"table",1)(3,"thead")(4,"tr"),u.YNc(5,E3,1,0,"th",2),u.YNc(6,T3,2,1,"th",3),u.qZA()(),u.TgZ(7,"tbody"),u.YNc(8,R3,3,2,"tr",4),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("calendar",r.calendar),u.xp6(4),u.Q6J("ngIf",r.options&&r.options.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",r.calendar.weekdays),u.xp6(2),u.Q6J("ngForOf",r.calendar.weeks))},directives:[Rk,Lk,h6,Pn,Sn,Uj],encapsulation:2}),n})(),rP=(()=>{class n{constructor(){this.onNavigate=new u.vpe,this.onViewMode=new u.vpe,this.onSelect=new u.vpe,this.onHover=new u.vpe}navigateTo(t){this.onNavigate.emit({step:{year:rp.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(u.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),u.NdJ("onNavigate",function(a){return r.navigateTo(a)})("onViewMode",function(a){return r.changeViewMode(a)}),u.qZA(),u.TgZ(2,"table",1)(3,"tbody"),u.YNc(4,N3,2,1,"tr",2),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("calendar",r.calendar),u.xp6(3),u.Q6J("ngForOf",null==r.calendar?null:r.calendar.months))},directives:[Rk,Lk,Sn],encapsulation:2}),n})(),iP=(()=>{class n{constructor(){this.onNavigate=new u.vpe,this.onViewMode=new u.vpe,this.onSelect=new u.vpe,this.onHover=new u.vpe}navigateTo(t){this.onNavigate.emit({step:{year:16*(rp.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(u.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),u.NdJ("onNavigate",function(a){return r.navigateTo(a)})("onViewMode",function(a){return r.changeViewMode(a)}),u.qZA(),u.TgZ(2,"table",1)(3,"tbody"),u.YNc(4,F3,2,1,"tr",2),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("calendar",r.calendar),u.xp6(3),u.Q6J("ngForOf",null==r.calendar?null:r.calendar.years))},directives:[Rk,Lk,Sn],encapsulation:2}),n})(),sP=(()=>{class n{constructor(){this.onSelect=new u.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,V3,2,3,"button",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.ranges))},directives:[Sn],encapsulation:2,changeDetection:0}),n})(),f6=(()=>{class n extends jN{constructor(t,r,i,a,c,f,_){super(),this._config=r,this._store=i,this._element=a,this._actions=c,this._positionService=_,this.valueChange=new u.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=f,t.setStyle(a.nativeElement,"display","block"),t.setStyle(a.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Co.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>this.valueChange.emit(i))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){var t,r;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(i=>{var a;Array.isArray(i)&&i.length>=1&&(null===(a=this.startTimepicker)||void 0===a||a.writeValue(i[0]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(i=>{this.timeSelectHandler(i,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:sn(t.date),year:Ar(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Ar(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(rh),u.Y36(tD),u.Y36(u.SBq),u.Y36(mi),u.Y36(Jb),u.Y36(wv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(BN,5),2&t){let i;u.iGM(i=u.CRH())&&(r.startTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r._stopPropagation(a)})},features:[u._Bn([tD,Jb]),u.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(u.YNc(0,J3,10,11,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.viewMode))},directives:[nP,Ck,rP,iP,sP,Pn,Ms,_i,ri,Sn],pipes:[cs],encapsulation:2,data:{animation:[HN]}}),n})(),p6=(()=>{class n{constructor(t,r,i,a,c){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Fn.x,this.isDisabled=!1,this.bsValueChange=new u.vpe,this._subs=[],this._dateInputFormat$=new Fn.x,Object.assign(this,this._config),this._datepicker=c.createLoader(r,a,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new ar(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue||!t||this._config.withTimepicker||xk(t,new Date),t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=qN(t)),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,a,c;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(a=t.bsConfig.previousValue)||void 0===a?void 0:a.initCurrentTime)&&this._bsValue&&(this._bsValue=qN(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&((null===(c=this._elementRef)||void 0===c?void 0:c.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe(On(t=>t!==this.isOpen),eL(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:rh,useValue:this._config}).attach(f6).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:GN(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rh),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.s_b),u.Y36(Qb))},n.\u0275dir=u.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[u.TTD]}),n})(),m6=(()=>{class n extends jN{constructor(t,r,i,a,c,f,_){super(),this._config=r,this._store=i,this._element=a,this._actions=c,this._positionService=_,this.valueChange=new u.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=f,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(a.nativeElement,"display","block"),t.setStyle(a.nativeElement,"position","absolute")}set value(t){var r;null===(r=this._effects)||void 0===r||r.setRangeValue(t)}ngOnInit(){var t,r;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(t=this._positionService.event$)||void 0===t||t.pipe((0,Co.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,null===(r=this._effects)||void 0===r||r.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{this.valueChange.emit(i),this.chosenRange=i||[]}))}ngAfterViewInit(){var t,r,i;this.selectedTimeSub.add(null===(t=this.selectedTime)||void 0===t?void 0:t.subscribe(a=>{var c,f;Array.isArray(a)&&a.length>=2&&(null===(c=this.startTimepicker)||void 0===c||c.writeValue(a[0]),null===(f=this.endTimepicker)||void 0===f||f.writeValue(a[1]))})),null===(r=this.startTimepicker)||void 0===r||r.registerOnChange(a=>{this.timeSelectHandler(a,0)}),null===(i=this.endTimepicker)||void 0===i||i.registerOnChange(a=>{this.timeSelectHandler(a,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:sn(t.date),year:Ar(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Ar(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){var t;for(const r of this._subs)r.unsubscribe();this.selectedTimeSub.unsubscribe(),null===(t=this._effects)||void 0===t||t.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){var r;let i=new Date(t);if(this._config.maxDate){const a=this._config.maxDate.getTime(),c=t.getTime()+864e5*(this._config.maxDateRange||0);i=c>a?new Date(this._config.maxDate):new Date(c)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));null===(r=this._effects)||void 0===r||r.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(rh),u.Y36(tD),u.Y36(u.SBq),u.Y36(mi),u.Y36(Jb),u.Y36(wv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,r){if(1&t&&(u.Gf(BN,5),u.Gf(hY,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.startTimepicker=i.first),u.iGM(i=u.CRH())&&(r.endTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r._stopPropagation(a)})},features:[u._Bn([tD,Jb]),u.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(u.YNc(0,SY,10,11,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.viewMode))},directives:[nP,Ck,rP,iP,sP,Pn,Ms,_i,ri,Sn],pipes:[cs],encapsulation:2,data:{animation:[HN]}}),n})();const g6={provide:_s,useExisting:(0,u.Gpc)(()=>oP),multi:!0},_6={provide:Rn,useExisting:(0,u.Gpc)(()=>oP),multi:!0};let oP=(()=>{class n{constructor(t,r,i,a,c){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=a,this.changeDetection=c,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new fs.w0}ngOnInit(){const t=r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(S_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const r=t?Qa(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const r=t.value;if(null==r||""===r)return null;if(jT(r)){if(!Jf(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&_c(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Wl(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!ki(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);this._value=$b(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=RL(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(p6,1),u.Y36(mS),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a)})("keyup.esc",function(){return r.hide()})("keydown",function(a){return r.onKeydownEvent(a)})("blur",function(){return r.onBlur()})},features:[u._Bn([g6,_6])]}),n})(),y6=(()=>{class n extends rh{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aP=(()=>{class n{constructor(t,r,i,a,c){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Fn.x,this.isDisabled=!1,this.bsValueChange=new u.vpe,this._subs=[],this._rangeInputFormat$=new Fn.x,this._datepicker=c.createLoader(r,a,i),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new ar(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){var r;this._bsValue!==t&&(t&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(t=zN(t)),this._bsValue=t,this.bsValueChange.emit(t))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Fn.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){var r,i,a,c;t.bsConfig&&((null===(r=t.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(i=t.bsConfig.currentValue)||void 0===i?void 0:i.initCurrentTime)!==(null===(a=t.bsConfig.previousValue)||void 0===a?void 0:a.initCurrentTime)&&this._bsValue&&(this._bsValue=zN(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&((null===(c=this._elementRef)||void 0===c?void 0:c.nativeElement)&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(On(t=>t!==this.isOpen),eL(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:rh,useValue:this._config}).attach(m6).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(On(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()}))}setConfig(){var t;this._config=Object.assign({},this._config,this.bsConfig,{value:GN(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:GY(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:null===(t=this.bsConfig)||void 0===t?void 0:t.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){var t;(null===(t=this._subs)||void 0===t?void 0:t.length)&&(this._subs.map(r=>r.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(y6),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.s_b),u.Y36(Qb))},n.\u0275dir=u.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[u.TTD]}),n})();const v6={provide:_s,useExisting:(0,u.Gpc)(()=>Nk),multi:!0},w6={provide:Rn,useExisting:(0,u.Gpc)(()=>Nk),multi:!0};let Nk=(()=>{class n{constructor(t,r,i,a,c){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=a,this.changeDetection=c,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new fs.w0}ngOnInit(){this._picker._bsValue&&(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(S_()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let r="";if(t){const i=t[0]?Qa(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",a=t[1]?Qa(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=i&&a?i+this._picker._config.rangeSeparator+a:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let r=t.value;const i=[];if(null==r||!_r(r))return null;r=r.slice().sort((f,_)=>f.getTime()-_.getTime());const a=Jf(r[0]),c=Jf(r[1]);return a?c?(this._picker&&this._picker.minDate&&_c(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,i.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Wl(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,i.push({bsDate:{maxDate:this._picker.maxDate}})),i.length>0?(this.writeValue(r),i):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!ki(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);let a=[];if("string"==typeof t){const c=this._picker._config.rangeSeparator.trim();a=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(c.length>0?c:this._picker._config.rangeSeparator).map(f=>f.trim())}Array.isArray(t)&&(a=t),this._value=a.map(c=>this._picker._config.useUtc?RL($b(c,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):$b(c,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(c=>isNaN(c.valueOf())?void 0:c)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(aP,1),u.Y36(mS),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a)})("keyup.esc",function(){return r.hide()})("keydown",function(a){return r.onKeydownEvent(a)})("blur",function(){return r.onBlur()})},features:[u._Bn([v6,w6])]}),n})(),b6=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Qb,wv,tD,mi,Jb,mS,nh]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[kn,Hj,_3]]}),n})();const D6=function(){return{isAnimated:!0}};let C6=(()=>{class n{constructor(t){this._addsEventDto=t,this.createEvent=new Vu({imageUrl:new aa("",Lu.required),description:new aa("",Lu.required),title:new aa("",Lu.required),date:new aa("",Lu.required)}),this.minDate=new Date}onCreateEventSubmited(t){var r,i,a,c;t.invalid||(this._addsEventDto.add({imageUrl:null===(r=t.get("imageUrl"))||void 0===r?void 0:r.value,description:null===(i=t.get("description"))||void 0===i?void 0:i.value,title:null===(a=t.get("title"))||void 0===a?void 0:a.value,date:null===(c=t.get("date"))||void 0===c?void 0:c.value}),this.createEvent.reset())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(XR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-create-event"]],decls:20,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"grid","mt-5"],[1,"g-col-6","d-flex","flex-column"],["rows","4","formControlName","imageUrl","placeholder","Add link to your image",1,"form-control","pt-2"],["rows","4","formControlName","description","placeholder","Write event description",1,"form-control","pt-2"],["type","text","formControlName","title","placeholder","Add event title",1,"form-control"],["type","text","formControlName","date","placeholder","Daterangepicker","bsDaterangepicker","",1,"form-control",3,"minDate","bsConfig"],[1,"text-end","mt-5"],["type","submit","value","Save changes",1,"btn","bg-success","text-white",3,"disabled"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onCreateEventSubmited(r.createEvent)}),u.TgZ(1,"div",1)(2,"div",2)(3,"p"),u._uU(4,"Add event image"),u.qZA(),u._UZ(5,"textarea",3),u.qZA(),u.TgZ(6,"div",2)(7,"p"),u._uU(8,"Event Description"),u.qZA(),u._UZ(9,"textarea",4),u.qZA(),u.TgZ(10,"div",2)(11,"p"),u._uU(12,"Event Title"),u.qZA(),u._UZ(13,"input",5),u.qZA(),u.TgZ(14,"div",2)(15,"p"),u._uU(16,"Event Date"),u.qZA(),u._UZ(17,"input",6),u.qZA()(),u.TgZ(18,"div",7),u._UZ(19,"input",8),u.qZA()()),2&t&&(u.Q6J("formGroup",r.createEvent),u.xp6(17),u.Q6J("minDate",r.minDate)("bsConfig",u.DdM(4,D6)),u.xp6(2),u.Q6J("disabled",!r.createEvent.valid))},directives:[Bu,Nu,kl,Ua,ld,Uu,Nk,aP],encapsulation:2,changeDetection:0}),n})(),E6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-event-form-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","pt-3","border-bottom","mx-auto","w-75"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"container-flex","w-75","mx-auto"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Event - Create your event"),u.qZA(),u.TgZ(3,"a",2),u.O4$(),u.TgZ(4,"svg",3),u._UZ(5,"path",4),u.qZA()()(),u.kcU(),u.TgZ(6,"div",5),u._UZ(7,"lib-create-event"),u.qZA())},directives:[xu,C6],encapsulation:2,changeDetection:0}),n})(),T6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,Qh,b6.forRoot()]]}),n})();const bv=new u.OlP("CONTEXT_DTO_STORAGE");let lP=(()=>{class n{constructor(t){this._contextDtoStorage=t}resolve(t,r){var i;return this._contextDtoStorage.next({eventId:null===(i=t.params)||void 0===i?void 0:i.eventId}),mt(!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),S6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[lP],imports:[[]]}),n})(),I6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li,li.forChild([{path:"",component:E6}]),T6,HT]]}),n})();const uP=new u.OlP("ADDS_DIET_DTO");function M6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",1),u.NdJ("ngSubmit",function(){const a=u.CHM(t).ngIf,c=u.oxw();return c.onNewDietSubmited(c.newDiet,a.eventId)}),u.TgZ(1,"p",2),u._uU(2,"Add your diet"),u.qZA(),u._UZ(3,"input",3)(4,"input",4),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("formGroup",t.newDiet),u.xp6(4),u.Q6J("disabled",!t.newDiet.valid)}}let A6=(()=>{class n{constructor(t,r){this._addsDietDto=t,this._contextDtoStorage=r,this.newDiet=new Vu({name:new aa("",Lu.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewDietSubmited(t,r){var i;this._addsDietDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newDiet.reset()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uP),u.Y36(bv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-add-diet-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your diet",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50",3,"disabled"]],template:function(t,r){1&t&&(u.YNc(0,M6,5,2,"form",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.currentEvent$))},directives:[Pn,Bu,Nu,kl,Ua,ld,Uu],pipes:[cs],encapsulation:2,changeDetection:0}),n})();const cP=new u.OlP("GETS_ALL_DIET_DTO"),dP=new u.OlP("REMOVES_DIET_DTO"),hP=new u.OlP("SETS_DIET_DTO"),fP=new u.OlP("INPUT_STATE_DTO_STORAGE");function k6(n,e){1&n&&u._UZ(0,"div")}function x6(n,e){if(1&n&&(u.TgZ(0,"div",7),u.YNc(1,k6,1,0,"div",8),u.qZA()),2&n){const t=e.ngIf,r=u.oxw().$implicit,i=u.MAs(4),a=u.MAs(7);u.xp6(1),u.Q6J("ngIf",t.dietId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",a)}}function O6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",9),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onSaveChangesClicked(i)}),u._UZ(1,"input",10)(2,"input",11),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("formGroup",t.editingDiet),u.xp6(2),u.Q6J("disabled",!t.editingDiet.valid)}}function R6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13),u.O4$(),u.TgZ(2,"svg",14),u._UZ(3,"path",15),u.qZA(),u.kcU(),u.TgZ(4,"p",16),u._uU(5),u.qZA()(),u.TgZ(6,"div",17)(7,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onEditClicked(i)}),u.O4$(),u.TgZ(8,"svg",19),u._UZ(9,"path",20),u.qZA()(),u.kcU(),u.TgZ(10,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onDeleteClicked(i.id)}),u.O4$(),u.TgZ(11,"svg",21),u._UZ(12,"path",22)(13,"path",23),u.qZA()()()()}if(2&n){const t=u.oxw().$implicit;u.xp6(5),u.Oqu(t.name)}}function L6(n,e){if(1&n&&(u.TgZ(0,"div",3),u.YNc(1,x6,2,3,"div",4),u.ALo(2,"async"),u.YNc(3,O6,3,2,"ng-template",null,5,u.W1O),u.YNc(5,R6,14,1,"ng-template",null,6,u.W1O),u.qZA()),2&n){const t=u.MAs(6),r=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let N6=(()=>{class n{constructor(t,r,i,a,c){this._getsAllDietDto=t,this._removesDietDto=r,this._setsDietDto=i,this._inputStateDtoStorage=a,this._contextDtoStoragePort=c,this.inputState$=this._inputStateDtoStorage.asObservable(),this.editingDiet=new Vu({name:new aa("",Lu.required)}),this.diets$=this._contextDtoStoragePort.asObservable().pipe(Vn(f=>this._getsAllDietDto.getAll({eventId:f.eventId})))}onDeleteClicked(t){this._removesDietDto.remove(t)}onSaveChangesClicked(t){var r;this._setsDietDto.set({id:t.id,name:null===(r=this.editingDiet.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}onEditClicked(t){var r;this._inputStateDtoStorage.next({dietId:t.id,isEditing:!0}),null===(r=this.editingDiet.get("name"))||void 0===r||r.setValue(t.name)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cP),u.Y36(dP),u.Y36(hP),u.Y36(fP),u.Y36(bv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-diet-list"]],decls:4,vars:3,consts:[[1,"w-100","border-top"],[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,L6,8,4,"div",2),u.ALo(3,"async"),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,1,r.diets$)))},directives:[Sn,Pn,Bu,Nu,kl,Ua,ld,Uu],pipes:[cs],encapsulation:2,changeDetection:0}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-diet-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Diet - Set up your diet"),u.qZA(),u.TgZ(3,"a",2),u.O4$(),u.TgZ(4,"svg",3),u._UZ(5,"path",4),u.qZA()()(),u.kcU(),u._UZ(6,"lib-add-diet-form")(7,"lib-diet-list"))},directives:[xu,A6,N6],encapsulation:2,changeDetection:0}),n})(),F6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,Qh]]}),n})(),V6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,Qh]]}),n})(),pP=(()=>{class n extends kT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),B6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[pP,{provide:fP,useExisting:pP}],imports:[[]]}),n})(),nD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("diets").add(t)}getAll(t){return this._client.collection("diets").valueChanges({idField:"id"}).pipe((0,xt.U)(r=>TA(r,t)))}remove(t){this._client.doc("diets/"+t).delete()}set(t){this._client.doc("diets/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),U6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[nD,{provide:uP,useExisting:nD},{provide:cP,useExisting:nD},{provide:dP,useExisting:nD},{provide:hP,useExisting:nD}],imports:[[UT]]}),n})(),mP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li,li.forChild([{path:"",component:P6}]),F6,U6,V6,B6]]}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-events-list-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-events-list")},directives:[bC],encapsulation:2,changeDetection:0}),n})(),j6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li.forChild([{path:"",component:H6}]),O0,HT]]}),n})();const gP=new u.OlP("GETS_ALL_NAV_LINK_DTO");function Y6(n,e){if(1&n&&(u.TgZ(0,"li",2)(1,"a",3),u._UZ(2,"img",4),u.qZA()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("routerLink",t.link),u.xp6(1),u.Q6J("src",t.icon,u.LSH)}}let $6=(()=>{class n{constructor(t){this._getsAllNavLinkDto=t,this.navLink$=this._getsAllNavLinkDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gP))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-navigation"]],decls:3,vars:3,consts:[[1,"nav","flex-column","pt-5","d-flex","align-items-center"],["class","nav-item fw-bold",4,"ngFor","ngForOf"],[1,"nav-item","fw-bold"],[1,"nav-link","d-inline-flex","fs-6","text-decoration-none","text-dark",3,"routerLink"],[1,"pe-2",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"ul",0),u.YNc(1,Y6,3,2,"li",1),u.ALo(2,"async"),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,r.navLink$)))},directives:[Sn,xu],pipes:[cs],encapsulation:2,changeDetection:0}),n})(),G6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-event-home-page"]],decls:5,vars:0,consts:[[1,"grid","bg-dark","vh-100"],[1,"g-col-1","bg-white"],[1,"g-col-9","g-start-3","text-white"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"lib-navigation"),u.qZA(),u.TgZ(3,"div",2),u._UZ(4,"router-outlet"),u.qZA()())},directives:[$6,Iu],encapsulation:2,changeDetection:0}),n})(),W6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn]]}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li]]}),n})(),yP=(()=>{class n{constructor(t){this._client=t}getAll(t){return mt([{name:"Dashboard",link:"dashboard",icon:"assets/icons/nav-links/dashboard.svg"},{name:"Event",link:"event-form",icon:"assets/icons/nav-links/event.svg"},{name:"Diet",link:"diet",icon:"assets/icons/nav-links/diet.svg"},{name:"Transport",link:"transport",icon:"assets/icons/nav-links/transport.svg"},{name:"Attractions",link:"/",icon:"assets/icons/nav-links/attractions.svg"},{name:"Users",link:"/",icon:"assets/icons/nav-links/users.svg"}])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yP,{provide:gP,useExisting:yP}],imports:[[UT]]}),n})(),q6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-event-dashboard-page"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"h1"),u._uU(1,"EventDashboardPage"),u.qZA())},encapsulation:2,changeDetection:0}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li.forChild([{path:"",component:q6}])]]}),n})();const bP=new u.OlP("ADDS_TRANSPORT_DTO");function z6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",1),u.NdJ("ngSubmit",function(){const a=u.CHM(t).ngIf,c=u.oxw();return c.onNewTransportButtonSubmited(c.newTransport,a.eventId)}),u.TgZ(1,"p",2),u._uU(2,"Add your diet"),u.qZA(),u._UZ(3,"input",3)(4,"input",4),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("formGroup",t.newTransport)}}let Z6=(()=>{class n{constructor(t,r){this._addsTransportDto=t,this._contextDtoStorage=r,this.newTransport=new Vu({name:new aa("",Lu.required)}),this.currentEvent$=this._contextDtoStorage.asObservable()}onNewTransportButtonSubmited(t,r){var i;this._addsTransportDto.add({name:null===(i=t.get("name"))||void 0===i?void 0:i.value,eventId:r}),this.newTransport.reset()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bP),u.Y36(bv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-add-transport-form"]],decls:2,vars:3,consts:[["class","pb-5 d-flex flex-column align-items-end w-25 mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"pb-5","d-flex","flex-column","align-items-end","w-25","mt-4",3,"formGroup","ngSubmit"],[1,"fs-6","my-2","align-self-start"],["type","text","formControlName","name","placeholder","Add your transport option",1,"ps-2","mb-3","w-100"],["type","submit","value","Save changes",1,"bg-success","btn","w-50"]],template:function(t,r){1&t&&(u.YNc(0,z6,5,1,"form",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.currentEvent$))},directives:[Pn,Bu,Nu,kl,Ua,ld,Uu],pipes:[cs],encapsulation:2,changeDetection:0}),n})();const DP=new u.OlP("GETS_ALL_TRANSPORT_DTO"),CP=new u.OlP("INPUT_STATE_DTO_STORAGE"),EP=new u.OlP("REMOVES_TRANSPORT_DTO"),TP=new u.OlP("SETS_TRANSPORT_DTO");function K6(n,e){1&n&&u._UZ(0,"div")}function Q6(n,e){if(1&n&&(u.TgZ(0,"div",7),u.YNc(1,K6,1,0,"div",8),u.qZA()),2&n){const t=e.ngIf,r=u.oxw().$implicit,i=u.MAs(4),a=u.MAs(7);u.xp6(1),u.Q6J("ngIf",t.transportId===r.id&&t.isEditing)("ngIfThen",i)("ngIfElse",a)}}function J6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",9),u._UZ(1,"input",10),u.TgZ(2,"input",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onSaveButtonClicked(i)}),u.qZA()()}if(2&n){const t=u.oxw(2);u.Q6J("formGroup",t.editingTransport),u.xp6(2),u.Q6J("disabled",!t.editingTransport.valid)}}function X6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13),u.O4$(),u.TgZ(2,"svg",14),u._UZ(3,"path",15),u.qZA(),u.kcU(),u.TgZ(4,"p",16),u._uU(5),u.qZA()(),u.TgZ(6,"div",17)(7,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onEditButtonClicked(i)}),u.O4$(),u.TgZ(8,"svg",19),u._UZ(9,"path",20),u.qZA()(),u.kcU(),u.TgZ(10,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit;return u.oxw().onDeleteButtonClicked(i.id)}),u.O4$(),u.TgZ(11,"svg",21),u._UZ(12,"path",22)(13,"path",23),u.qZA()()()()}if(2&n){const t=u.oxw().$implicit;u.xp6(5),u.Oqu(t.name)}}function e$(n,e){if(1&n&&(u.TgZ(0,"div",3),u.YNc(1,Q6,2,3,"div",4),u.ALo(2,"async"),u.YNc(3,J6,3,2,"ng-template",null,5,u.W1O),u.YNc(5,X6,14,1,"ng-template",null,6,u.W1O),u.qZA()),2&n){const t=u.MAs(6),r=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,2,r.inputState$))("ngIfElse",t)}}let t$=(()=>{class n{constructor(t,r,i,a,c){this._getsAllTransportDto=t,this._contextDtoStoragePort=r,this._inputStateDtoStorage=i,this._removesTransportDto=a,this._setsTransportDto=c,this.inputState$=this._inputStateDtoStorage.asObservable(),this.transports$=this._contextDtoStoragePort.asObservable().pipe(Vn(f=>this._getsAllTransportDto.getAll({eventId:f.eventId}))),this.editingTransport=new Vu({name:new aa("",Lu.required)})}onDeleteButtonClicked(t){this._removesTransportDto.remove(t)}onEditButtonClicked(t){var r;this._inputStateDtoStorage.next({transportId:t.id,isEditing:!0}),null===(r=this.editingTransport.get("name"))||void 0===r||r.setValue(t.name)}onSaveButtonClicked(t){var r;this._setsTransportDto.set({id:t.id,name:null===(r=this.editingTransport.get("name"))||void 0===r?void 0:r.value}),this._inputStateDtoStorage.next({isEditing:!1})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(DP),u.Y36(bv),u.Y36(CP),u.Y36(EP),u.Y36(TP))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-transport-list"]],decls:4,vars:3,consts:[[1,"w-100","border-top"],[1,"list-group","w-50","py-5"],["class","w-75 border-0 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"w-75","border-0","d-flex","justify-content-between","align-items-center"],["class","w-100",4,"ngIf","ngIfElse"],["editing",""],["template","","notEditing",""],[1,"w-100"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","mb-1",3,"formGroup"],["type","text","formControlName","name",1,"fs-6","ps-2","me-1"],["type","submit","value","Save changes",1,"bg-success","btn",3,"disabled","click"],[1,"w-100","d-flex","align-items-center","justify-content-between","mb-1"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots-vertical","me-2"],["d","M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],[1,"m-0","me-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil","text-white"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash","fs-6","text-white"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,e$,8,4,"div",2),u.ALo(3,"async"),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,1,r.transports$)))},directives:[Sn,Pn,Bu,Nu,kl,Ua,ld,Uu],pipes:[cs],encapsulation:2,changeDetection:0}),n})(),n$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-transport-page"]],decls:8,vars:0,consts:[[1,"container","d-flex","align-items-center","justify-content-between","mt-3","border-bottom","mx-auto"],[1,"fs-3","fw-bold","me-3"],["routerLink","/"],["width","24","height","19","viewBox","0 0 24 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.793 17.032L2.02172 9.55692L10.7504 2.03206M22.0216 9.50003L2.02172 9.55692L22.0216 9.50003Z","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Transport - Set up your transport options"),u.qZA(),u.TgZ(3,"a",2),u.O4$(),u.TgZ(4,"svg",3),u._UZ(5,"path",4),u.qZA()()(),u.kcU(),u._UZ(6,"lib-add-transport-form")(7,"lib-transport-list"))},directives:[xu,Z6,t$],encapsulation:2,changeDetection:0}),n})(),r$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,Qh]]}),n})(),rD=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("transports").add(t)}getAll(t){return this._client.collection("transports").valueChanges({idField:"id"}).pipe((0,xt.U)(r=>TA(r,t)))}remove(t){this._client.doc("transports/"+t).delete()}set(t){this._client.doc("transports/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),i$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[rD,{provide:bP,useExisting:rD},{provide:DP,useExisting:rD},{provide:EP,useExisting:rD},{provide:TP,useExisting:rD}],imports:[[UT]]}),n})(),s$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,Qh]]}),n})(),SP=(()=>{class n extends kT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),o$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[SP,{provide:CP,useExisting:SP}],imports:[[]]}),n})(),a$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li,li.forChild([{path:"",component:n$}]),r$,i$,s$,o$]]}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[kn,li.forChild([{path:"",component:G6,resolve:{eventId:lP},children:[{path:"",loadChildren:()=>wP},{path:"diet",loadChildren:()=>mP},{path:"dashboard",loadChildren:()=>wP},{path:"transport",loadChildren:()=>a$}]}]),W6,HT,S6,_P,vP]]}),n})();const u$=[{path:"",loadChildren:()=>AB},{path:"event-form",loadChildren:()=>I6},{path:"diet",loadChildren:()=>mP},{path:"event",loadChildren:()=>j6},{path:"event/:eventId",loadChildren:()=>l$}];let c$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[li.forRoot(u$)],li]}),n})(),d$=(()=>{class n{constructor(){this.title="niedzielny-projekt"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"py-1","container-flex","bg-success","text-white"],[1,"py-2","ps-4","d-flex","align-items-center"],["width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 0C11.2311 0 8.52431 0.821086 6.22202 2.35943C3.91973 3.89777 2.12532 6.08427 1.06569 8.64243C0.00606596 11.2006 -0.271181 14.0155 0.269012 16.7313C0.809205 19.447 2.14258 21.9416 4.10051 23.8995C6.05845 25.8574 8.55301 27.1908 11.2687 27.731C13.9845 28.2712 16.7994 27.9939 19.3576 26.9343C21.9157 25.8747 24.1022 24.0803 25.6406 21.778C27.1789 19.4757 28 16.7689 28 14C28 10.287 26.525 6.72601 23.8995 4.1005C21.274 1.475 17.713 0 14 0ZM13.91 10.45C13.6872 10.45 13.4736 10.5385 13.316 10.696C13.1585 10.8536 13.07 11.0672 13.07 11.29V16.43C13.07 17.3715 12.696 18.2745 12.0302 18.9402C11.3645 19.606 10.4615 19.98 9.52001 19.98C8.57849 19.98 7.67553 19.606 7.00978 18.9402C6.34402 18.2745 5.97001 17.3715 5.97001 16.43V14.09H8.68001V16.33C8.68001 16.5528 8.76851 16.7664 8.92604 16.924C9.08357 17.0815 9.29722 17.17 9.52001 17.17C9.74279 17.17 9.95645 17.0815 10.114 16.924C10.2715 16.7664 10.36 16.5528 10.36 16.33V11.33C10.4082 10.4224 10.8027 9.56781 11.4623 8.94239C12.1218 8.31697 12.9961 7.96835 13.905 7.96835C14.8139 7.96835 15.6882 8.31697 16.3477 8.94239C17.0073 9.56781 17.4018 10.4224 17.45 11.33V12.33L15.87 12.84L14.75 12.33V11.33C14.754 11.2167 14.7353 11.1038 14.695 10.9978C14.6547 10.8919 14.5937 10.795 14.5154 10.713C14.4371 10.631 14.3432 10.5655 14.2393 10.5204C14.1353 10.4752 14.0234 10.4513 13.91 10.45ZM21.84 16.45C21.7918 17.3576 21.3973 18.2122 20.7377 18.8376C20.0782 19.463 19.2039 19.8117 18.295 19.8117C17.3861 19.8117 16.5118 19.463 15.8523 18.8376C15.1927 18.2122 14.7982 17.3576 14.75 16.45V14.14L15.87 14.65L17.45 14.14V16.43C17.45 16.6528 17.5385 16.8664 17.696 17.024C17.8536 17.1815 18.0672 17.27 18.29 17.27C18.5128 17.27 18.7264 17.1815 18.884 17.024C19.0415 16.8664 19.13 16.6528 19.13 16.43V14.19H21.84V16.45Z","fill","black"],[1,"ps-2","m-0"],[1,"bg-dark","vh-100","text-white"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3),u.qZA(),u.kcU(),u.TgZ(4,"h4",4),u._uU(5,"EVENT ADMIN"),u.qZA()()(),u.TgZ(6,"div",5),u._UZ(7,"router-outlet"),u.qZA())},directives:[Iu],styles:[""]}),n})();const IP_firebase={projectId:"sundaybootcamp-67f93",appId:"1:777656207743:web:9536bb56ef77efc0de324a",storageBucket:"sundaybootcamp-67f93.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAnJs2shS5FhTPMf8yVnS4UZNWqpnvek8E",authDomain:"sundaybootcamp-67f93.firebaseapp.com",messagingSenderId:"777656207743"},cn=!1;function MP(n){return new u.vHH(3e3,cn)}function G$(){return"undefined"!=typeof window&&void 0!==window.document}function Pk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ip(n){switch(n.length){case 0:return new qb;case 1:return n[0];default:return new aN(n)}}function AP(n,e,t,r,i={},a={}){const c=[],f=[];let _=-1,D=null;if(r.forEach(S=>{const A=S.offset,N=A==_,B=N&&D||{};Object.keys(S).forEach($=>{let ee=$,_e=S[$];if("offset"!==$)switch(ee=e.normalizePropertyName(ee,c),_e){case"!":_e=i[$];break;case th:_e=a[$];break;default:_e=e.normalizeStyleValue($,ee,_e,c)}B[ee]=_e}),N||f.push(B),D=B,_=A}),c.length)throw function L$(n){return new u.vHH(3502,cn)}();return f}function Fk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Vk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Vk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Vk(t,"destroy",n)))}}function Vk(n,e,t){const r=t.totalTime,a=Bk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function Bk(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function ba(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function kP(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Uk=(n,e)=>!1,xP=(n,e,t)=>[],OP=null;function Hk(n){const e=n.parentNode||n.host;return e===OP?null:e}(Pk()||"undefined"!=typeof Element)&&(G$()?(OP=(()=>document.documentElement)(),Uk=(n,e)=>{for(;e;){if(e===n)return!0;e=Hk(e)}return!1}):Uk=(n,e)=>n.contains(e),xP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Eg=null,RP=!1;function LP(n){Eg||(Eg=function q$(){return"undefined"!=typeof document?document.body:null}()||{},RP=!!Eg.style&&"WebkitAppearance"in Eg.style);let e=!0;return Eg.style&&!function W$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Eg.style,!e&&RP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Eg.style)),e}const NP=Uk,PP=xP;let FP=(()=>{class n{validateStyleProperty(t){return LP(t)}matchesElement(t,r){return!1}containsElement(t,r){return NP(t,r)}getParentElement(t){return Hk(t)}query(t,r,i){return PP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new qb(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),jk=(()=>{class n{}return n.NOOP=new FP,n})();const Yk="ng-enter",yS="ng-leave",vS="ng-trigger",wS=".ng-trigger",BP="ng-animating",$k=".ng-animating";function Tg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Gk(parseFloat(e[1]),e[2])}function Gk(n,e){return"s"===e?1e3*n:n}function bS(n,e,t){return n.hasOwnProperty("duration")?n:function K$(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(MP()),{duration:0,delay:0,easing:""};i=Gk(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=Gk(parseFloat(_),f[4]));const D=f[5];D&&(c=D)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function h$(){return new u.vHH(3100,cn)}()),f=!0),a<0&&(e.push(function f$(){return new u.vHH(3101,cn)}()),f=!0),f&&e.splice(_,0,MP())}return{duration:i,delay:a,easing:c}}(n,e,t)}function Dv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sp(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Dv(n,t);return t}function HP(n,e,t){return t?e+":"+t+";":""}function jP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=HP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=HP(0,X$(t),n.style[t]));n.setAttribute("style",e)}function vc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=qk(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Pk()&&jP(n))}function Sg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=qk(t);n.style[r]=""}),Pk()&&jP(n))}function iD(n){return Array.isArray(n)?1==n.length?n[0]:iN(n):n}const Wk=new RegExp("{{\\s*(.+?)\\s*}}","g");function YP(n){let e=[];if("string"==typeof n){let t;for(;t=Wk.exec(n);)e.push(t[1]);Wk.lastIndex=0}return e}function DS(n,e,t){const r=n.toString(),i=r.replace(Wk,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function m$(n){return new u.vHH(3003,cn)}()),f=""),f.toString()});return i==r?n:i}function CS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const J$=/-+([a-z0-9])/g;function qk(n){return n.replace(J$,(...e)=>e[1].toUpperCase())}function X$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Da(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function g$(n){return new u.vHH(3004,cn)}()}}function $P(n,e){return window.getComputedStyle(n)[e]}function s4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function o4(n,e,t){if(":"==n[0]){const _=function a4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function k$(n){return new u.vHH(3016,cn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function A$(n){return new u.vHH(3015,cn)}()),e;const i=r[1],a=r[2],c=r[3];e.push(GP(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(GP(c,i))}(r,t,e)):t.push(n),t}const IS=new Set(["true","1"]),MS=new Set(["false","0"]);function GP(n,e){const t=IS.has(n)||MS.has(n),r=IS.has(e)||MS.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?IS.has(n):MS.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?IS.has(e):MS.has(e)),c&&f}}const l4=new RegExp("s*:selfs*,?","g");function zk(n,e,t,r){return new u4(n).build(e,t,r)}class u4{constructor(e){this._driver=e}build(e,t,r){const i=new h4(t);this._resetContextStyleTimingState(i);const a=Da(this,iD(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function y$(){return new u.vHH(3006,cn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,D=_.name;D.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,a.push(this.visitState(_,t))}),_.name=D}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function v$(){return new u.vHH(3007,cn)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(AS(f)){const _=f;Object.keys(_).forEach(D=>{YP(_[D]).forEach(S=>{c.hasOwnProperty(S)||a.add(S)})})}}),a.size&&(CS(a.values()),t.errors.push(function w$(n,e){return new u.vHH(3008,cn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Da(this,iD(e.animation),t);return{type:1,matchers:s4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ig(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Da(this,r,t)),options:Ig(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Da(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Ig(e.options)}}visitAnimate(e,t){const r=function p4(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Zk(bS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Zk(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||bS(r,e),Zk(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:_v({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const D={};r.easing&&(D.easing=r.easing),c=_v(D)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==th?r.push(c):t.errors.push(function b$(n){return new u.vHH(3002,cn)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(AS(c)){const f=c,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let D in f)if(f[D].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],D=_[f];let S=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function D$(n,e,t,r,i){return new u.vHH(3010,cn)}()),S=!1),a=D.startTime),S&&(_[f]={startTime:a,endTime:i}),t.options&&function Q$(n,e,t){const r=e.params||{},i=YP(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function p$(n){return new u.vHH(3001,cn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function C$(){return new u.vHH(3011,cn)}()),r;let a=0;const c=[];let f=!1,_=!1,D=0;const S=e.steps.map(Be=>{const Oe=this._makeStyleAst(Be,t);let ze=null!=Oe.offset?Oe.offset:function f4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(AS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(AS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Oe.styles),We=0;return null!=ze&&(a++,We=Oe.offset=ze),_=_||We<0||We>1,f=f||We<D,D=We,c.push(We),Oe});_&&t.errors.push(function E$(){return new u.vHH(3012,cn)}()),f&&t.errors.push(function T$(){return new u.vHH(3200,cn)}());const A=e.steps.length;let N=0;a>0&&a<A?t.errors.push(function S$(){return new u.vHH(3202,cn)}()):0==a&&(N=1/(A-1));const B=A-1,$=t.currentTime,ee=t.currentAnimateTimings,_e=ee.duration;return S.forEach((Be,Oe)=>{const ze=N>0?Oe==B?1:N*Oe:c[Oe],We=ze*_e;t.currentTime=$+ee.delay+We,ee.duration=We,this._validateStyleAst(Be,t),Be.offset=ze,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:Da(this,iD(e.animation),t),options:Ig(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ig(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ig(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function c4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(l4,"")),n=n.replace(/@\*/g,wS).replace(/@\w+/g,t=>wS+"-"+t.substr(1)).replace(/:animating/g,$k),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ba(t.collectedStyles,t.currentQuerySelector,{});const f=Da(this,iD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Ig(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function I$(){return new u.vHH(3013,cn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:bS(e.timings,t.errors,!0);return{type:12,animation:Da(this,iD(e.animation),t),timings:r,options:null}}}class h4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function AS(n){return!Array.isArray(n)&&"object"==typeof n}function Ig(n){return n?(n=Dv(n)).params&&(n.params=function d4(n){return n?Dv(n):null}(n.params)):n={},n}function Zk(n,e,t){return{duration:n,delay:e,easing:t}}function Kk(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class kS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _4=new RegExp(":enter","g"),v4=new RegExp(":leave","g");function Qk(n,e,t,r,i,a={},c={},f,_,D=[]){return(new w4).buildKeyframes(n,e,t,r,i,a,c,f,_,D)}class w4{buildKeyframes(e,t,r,i,a,c,f,_,D,S=[]){D=D||new kS;const A=new Jk(e,t,D,i,a,S,[]);A.options=_,A.currentTimeline.setStyles([c],null,A.errors,_),Da(this,r,A);const N=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let $=N.length-1;$>=0;$--){const ee=N[$];if(ee.element===t){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,_)}return N.length?N.map(B=>B.buildKeyframes()):[Kk(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Tg(r.duration):null,f=null!=r.delay?Tg(r.delay):null;return 0!==c&&e.forEach(_=>{const D=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,D.duration+D.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Da(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xS);const c=Tg(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Da(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Tg(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Da(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return bS(t.params?DS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Tg(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xS);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((D,S)=>{t.currentQueryIndex=S;const A=t.createSubContext(e.options,D);a&&A.delayNextStep(a),D===t.element&&(_=A.currentTimeline),Da(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const A=S.currentTime;Da(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const xS={};class Jk{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new OS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Tg(r.duration)),null!=r.delay&&(i.delay=Tg(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=DS(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Jk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=xS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new b4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(_4,"."+this._enterClassName)).replace(v4,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),f.push(...D)}return!a&&0==f.length&&c.push(function M$(n){return new u.vHH(3014,cn)}()),f}}class OS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new OS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||th,this._currentKeyframe[t]=th}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function D4(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=th})):sp(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const _=DS(c[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:th),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const D=sp(f,!0);Object.keys(D).forEach(S=>{const A=D[S];"!"==A?e.add(S):A==th&&t.add(S)}),r||(D.offset=_/this.duration),i.push(D)});const a=e.size?CS(e.values()):[],c=t.size?CS(t.values()):[];if(r){const f=i[0],_=Dv(f);f.offset=0,_.offset=1,i=[f,_]}return Kk(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class b4 extends OS{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=sp(e[0],!1);_.offset=0,a.push(_);const D=sp(e[0],!1);D.offset=zP(f),a.push(D);const S=e.length-1;for(let A=1;A<=S;A++){let N=sp(e[A],!1);N.offset=zP((t+N.offset*r)/c),a.push(N)}r=c,t=0,i="",e=a}return Kk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function zP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Xk{}class C4 extends Xk{normalizePropertyName(e,t){return qk(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(E4[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function _$(n,e){return new u.vHH(3005,cn)}())}return c+a}}const E4=(()=>function T4(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ZP(n,e,t,r,i,a,c,f,_,D,S,A,N){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:D,postStyleProps:S,totalTime:A,errors:N}}const ex={};class KP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function S4(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,_,D,S){const A=[],N=this.ast.options&&this.ast.options.params||ex,$=this.buildStyles(r,f&&f.params||ex,A),ee=_&&_.params||ex,_e=this.buildStyles(i,ee,A),Be=new Set,Oe=new Map,ze=new Map,We="void"===i,vt={params:Object.assign(Object.assign({},N),ee)},ut=S?[]:Qk(e,t,this.ast.animation,a,c,$,_e,vt,D,A);let on=0;if(ut.forEach(Mn=>{on=Math.max(Mn.duration+Mn.delay,on)}),A.length)return ZP(t,this._triggerName,r,i,We,$,_e,[],[],Oe,ze,on,A);ut.forEach(Mn=>{const Xt=Mn.element,Nn=ba(Oe,Xt,{});Mn.preStyleProps.forEach(wc=>Nn[wc]=!0);const eo=ba(ze,Xt,{});Mn.postStyleProps.forEach(wc=>eo[wc]=!0),Xt!==t&&Be.add(Xt)});const Ln=CS(Be.values());return ZP(t,this._triggerName,r,i,We,$,_e,ut,Ln,Oe,ze,on)}}class I4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Dv(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let _=c[f];_.length>1&&(_=DS(_,i,t));const D=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,D,_,t),r[D]=_})}}),r}}class A4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new I4(i.style,i.options&&i.options.params||{},r)}),QP(this.states,"true","1"),QP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new KP(e,i,this.states))}),this.fallbackTransition=function k4(n,e,t){return new KP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function QP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const x4=new kS;class O4{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=zk(this._driver,t,r,[]);if(r.length)throw function N$(n){return new u.vHH(3503,cn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=AP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=Qk(this._driver,t,a,Yk,yS,{},{},r,x4,i),c.forEach(S=>{const A=ba(f,S.element,{});S.postStyleProps.forEach(N=>A[N]=null)})):(i.push(function P$(){return new u.vHH(3300,cn)}()),c=[]),i.length)throw function F$(n){return new u.vHH(3504,cn)}();f.forEach((S,A)=>{Object.keys(S).forEach(N=>{S[N]=this._driver.computeStyle(A,N,th)})});const D=ip(c.map(S=>{const A=f.get(S.element);return this._buildPlayer(S,{},A)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function V$(n){return new u.vHH(3301,cn)}();return t}listen(e,t,r,i){const a=Bk(t,"","","");return Fk(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const JP="ng-animate-queued",tx="ng-animate-disabled",F4=[],XP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ol="__ng_removed";class nx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function j4(n){return null!=n?n:null}(r?e.value:e),r){const a=Dv(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const sD="void",rx=new nx(sD);class B4{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,al(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function B$(n,e){return new u.vHH(3302,cn)}();if(null==r||0==r.length)throw function U$(n){return new u.vHH(3303,cn)}();if(!function Y4(n){return"start"==n||"done"==n}(r))throw function H$(n,e){return new u.vHH(3400,cn)}();const a=ba(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=ba(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(al(e,vS),al(e,vS+"-"+t),f[t]=rx),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function j$(n){return new u.vHH(3401,cn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new ix(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(al(e,vS),al(e,vS+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const D=new nx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&D.absorbOptions(_.options),f[t]=D,_||(_=rx),D.value!==sD&&_.value===D.value){if(!function W4(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,D.params)){const ee=[],_e=a.matchStyles(_.value,_.params,ee),Be=a.matchStyles(D.value,D.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Sg(e,_e),vc(e,Be)})}return}const N=ba(this._engine.playersByElement,e,[]);N.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=a.matchTransition(_.value,D.value,e,D.params),$=!1;if(!B){if(!i)return;B=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:D,player:c,isFallbackTransition:$}),$||(al(e,JP),c.onStart(()=>{Cv(e,JP)})),c.onDone(()=>{let ee=this.players.indexOf(c);ee>=0&&this.players.splice(ee,1);const _e=this._engine.playersByElement.get(e);if(_e){let Be=_e.indexOf(c);Be>=0&&_e.splice(Be,1)}}),this.players.push(c),N.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,wS,!0);r.forEach(i=>{if(i[ol])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(c.set(_,a[_].value),this._triggers[_]){const D=this.trigger(e,_,sD,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&ip(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,D=r[c]||rx,S=new nx(sD),A=new ix(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:D,toState:S,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ol];(!a||a===XP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){al(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=Bk(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Fk(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class U4{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new B4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const D=r.indexOf(_);r.splice(D+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(RS(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!RS(t))return;const a=t[ol];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),al(e,tx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cv(e,tx))}removeNode(e,t,r,i){if(RS(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[ol]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return RS(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,wS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$k,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ip(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ol];if(r&&r.setForRemoval){if(e[ol]=XP,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(tx))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)al(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ip(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Y$(n){return new u.vHH(3402,cn)}()}_flushAnimations(e,t){const r=new kS,i=[],a=new Map,c=[],f=new Map,_=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(it=>{S.add(it);const gt=this.driver.query(it,".ng-animate-queued",!0);for(let kt=0;kt<gt.length;kt++)S.add(gt[kt])});const A=this.bodyNode,N=Array.from(this.statesByElement.keys()),B=nF(N,this.collectedEnterElements),$=new Map;let ee=0;B.forEach((it,gt)=>{const kt=Yk+ee++;$.set(gt,kt),it.forEach(Dn=>al(Dn,kt))});const _e=[],Be=new Set,Oe=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const gt=this.collectedLeaveElements[it],kt=gt[ol];kt&&kt.setForRemoval&&(_e.push(gt),Be.add(gt),kt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Dn=>Be.add(Dn)):Oe.add(gt))}const ze=new Map,We=nF(N,Array.from(Be));We.forEach((it,gt)=>{const kt=yS+ee++;ze.set(gt,kt),it.forEach(Dn=>al(Dn,kt))}),e.push(()=>{B.forEach((it,gt)=>{const kt=$.get(gt);it.forEach(Dn=>Cv(Dn,kt))}),We.forEach((it,gt)=>{const kt=ze.get(gt);it.forEach(Dn=>Cv(Dn,kt))}),_e.forEach(it=>{this.processLeaveNode(it)})});const vt=[],ut=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(kt=>{const Dn=kt.player,Gi=kt.element;if(vt.push(Dn),this.collectedEnterElements.length){const to=Gi[ol];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(kt.triggerName)){const Mg=to.previousTriggersValues.get(kt.triggerName),ap=this.statesByElement.get(kt.element);ap&&ap[kt.triggerName]&&(ap[kt.triggerName].value=Mg)}return void Dn.destroy()}}const bc=!A||!this.driver.containsElement(A,Gi),Ca=ze.get(Gi),op=$.get(Gi),kr=this._buildInstruction(kt,r,op,Ca,bc);if(kr.errors&&kr.errors.length)return void ut.push(kr);if(bc)return Dn.onStart(()=>Sg(Gi,kr.fromStyles)),Dn.onDestroy(()=>vc(Gi,kr.toStyles)),void i.push(Dn);if(kt.isFallbackTransition)return Dn.onStart(()=>Sg(Gi,kr.fromStyles)),Dn.onDestroy(()=>vc(Gi,kr.toStyles)),void i.push(Dn);const fF=[];kr.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||fF.push(to)}),kr.timelines=fF,r.append(Gi,kr.timelines),c.push({instruction:kr,player:Dn,element:Gi}),kr.queriedElements.forEach(to=>ba(f,to,[]).push(Dn)),kr.preStyleProps.forEach((to,Mg)=>{const ap=Object.keys(to);if(ap.length){let Ag=_.get(Mg);Ag||_.set(Mg,Ag=new Set),ap.forEach(ox=>Ag.add(ox))}}),kr.postStyleProps.forEach((to,Mg)=>{const ap=Object.keys(to);let Ag=D.get(Mg);Ag||D.set(Mg,Ag=new Set),ap.forEach(ox=>Ag.add(ox))})});if(ut.length){const it=[];ut.forEach(gt=>{it.push(function $$(n,e){return new u.vHH(3505,cn)}())}),vt.forEach(gt=>gt.destroy()),this.reportError(it)}const on=new Map,Ln=new Map;c.forEach(it=>{const gt=it.element;r.has(gt)&&(Ln.set(gt,gt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,on))}),i.forEach(it=>{const gt=it.element;this._getPreviousPlayers(gt,!1,it.namespaceId,it.triggerName,null).forEach(Dn=>{ba(on,gt,[]).push(Dn),Dn.destroy()})});const Mn=_e.filter(it=>iF(it,_,D)),Xt=new Map;tF(Xt,this.driver,Oe,D,th).forEach(it=>{iF(it,_,D)&&Mn.push(it)});const eo=new Map;B.forEach((it,gt)=>{tF(eo,this.driver,new Set(it),_,"!")}),Mn.forEach(it=>{const gt=Xt.get(it),kt=eo.get(it);Xt.set(it,Object.assign(Object.assign({},gt),kt))});const wc=[],oD=[],aD={};c.forEach(it=>{const{element:gt,player:kt,instruction:Dn}=it;if(r.has(gt)){if(S.has(gt))return kt.onDestroy(()=>vc(gt,Dn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(Dn.totalTime),void i.push(kt);let Gi=aD;if(Ln.size>1){let Ca=gt;const op=[];for(;Ca=Ca.parentNode;){const kr=Ln.get(Ca);if(kr){Gi=kr;break}op.push(Ca)}op.forEach(kr=>Ln.set(kr,Gi))}const bc=this._buildAnimation(kt.namespaceId,Dn,on,a,eo,Xt);if(kt.setRealPlayer(bc),Gi===aD)wc.push(kt);else{const Ca=this.playersByElement.get(Gi);Ca&&Ca.length&&(kt.parentPlayer=ip(Ca)),i.push(kt)}}else Sg(gt,Dn.fromStyles),kt.onDestroy(()=>vc(gt,Dn.toStyles)),oD.push(kt),S.has(gt)&&i.push(kt)}),oD.forEach(it=>{const gt=a.get(it.element);if(gt&&gt.length){const kt=ip(gt);it.setRealPlayer(kt)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<_e.length;it++){const gt=_e[it],kt=gt[ol];if(Cv(gt,yS),kt&&kt.hasAnimation)continue;let Dn=[];if(f.size){let bc=f.get(gt);bc&&bc.length&&Dn.push(...bc);let Ca=this.driver.query(gt,$k,!0);for(let op=0;op<Ca.length;op++){let kr=f.get(Ca[op]);kr&&kr.length&&Dn.push(...kr)}}const Gi=Dn.filter(bc=>!bc.destroyed);Gi.length?$4(this,gt,Gi):this.processLeaveNode(gt)}return _e.length=0,wc.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const gt=this.players.indexOf(it);this.players.splice(gt,1)}),it.play()}),wc}elementContainsData(e,t){let r=!1;const i=t[ol];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==sD;f.forEach(D=>{D.queued||!_&&D.triggerName!=i||c.push(D)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const D=_.element,S=D!==a,A=ba(r,D,[]);this._getPreviousPlayers(D,S,c,f,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),A.push(B)})}Sg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,D=[],S=new Set,A=new Set,N=t.timelines.map($=>{const ee=$.element;S.add(ee);const _e=ee[ol];if(_e&&_e.removedBeforeQueried)return new qb($.duration,$.delay);const Be=ee!==_,Oe=function G4(n){const e=[];return rF(n,e),e}((r.get(ee)||F4).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===ee),ze=a.get(ee),We=c.get(ee),vt=AP(0,this._normalizer,0,$.keyframes,ze,We),ut=this._buildPlayer($,vt,Oe);if($.subTimeline&&i&&A.add(ee),Be){const on=new ix(e,f,ee);on.setRealPlayer(ut),D.push(on)}return ut});D.forEach($=>{ba(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function H4(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>al($,BP));const B=ip(N);return B.onDestroy(()=>{S.forEach($=>Cv($,BP)),vc(_,t.toStyles)}),A.forEach($=>{ba(i,$,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new qb(e.duration,e.delay)}}class ix{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new qb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Fk(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ba(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function RS(n){return n&&1===n.nodeType}function eF(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function tF(n,e,t,r,i){const a=[];t.forEach(_=>a.push(eF(_)));const c=[];r.forEach((_,D)=>{const S={};_.forEach(A=>{const N=S[A]=e.computeStyle(D,A,i);(!N||0==N.length)&&(D[ol]=V4,c.push(D))}),n.set(D,S)});let f=0;return t.forEach(_=>eF(_,a[f++])),c}function nF(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const D=f.parentNode;return _=t.has(D)?D:i.has(D)?1:c(D),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function al(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Cv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function $4(n,e,t){ip(t).onDone(()=>n.processLeaveNode(e))}function rF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aN?rF(r.players,e):e.push(r)}}function iF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class LS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new U4(e,t,r),this._timelineEngine=new O4(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],S=zk(this._driver,a,_,[]);if(_.length)throw function R$(n,e){return new u.vHH(3404,cn)}();f=function M4(n,e,t){return new A4(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=kP(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=kP(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let z4=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vc(this._element,this._initialStyles),this._endStyles&&(vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Sg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sg(this._element,this._endStyles),this._endStyles=null),vc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sx(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Z4(i)&&(e=e||{},e[i]=n[i])}return e}function Z4(n){return"display"===n||"position"===n}class sF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:$P(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class K4{validateStyleProperty(e){return LP(e)}matchesElement(e,t){return!1}containsElement(e,t){return NP(e,t)}getParentElement(e){return Hk(e)}query(e,t,r){return PP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const D={},S=c.filter(N=>N instanceof sF);(function e4(n,e){return 0===n||0===e})(r,i)&&S.forEach(N=>{let B=N.currentSnapshot;Object.keys(B).forEach($=>D[$]=B[$])}),t=function t4(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(_){f[_]=$P(n,_)})}}return e}(e,t=t.map(N=>sp(N,!1)),D);const A=function q4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=sx(e[0]),e.length>1&&(r=sx(e[e.length-1]))):e&&(t=sx(e)),t||r?new z4(n,t,r):null}(e,t);return new sF(e,t,_,A)}}let Q4=(()=>{class n extends rN{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?iN(t):t;return oF(this._renderer,null,r,"register",[i]),new J4(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class J4 extends class $H{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new X4(this._id,e,t||{},this._renderer)}}class X4{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return oF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function oF(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const aF="@.disabled";let e5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(a);return S||(S=new lF("",a,this.engine),this._rendererCache.set(a,S)),S}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,f,t,S.name,S)};return r.data.animation.forEach(_),new t5(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(LS),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class lF{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==aF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class t5 extends lF{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==aF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function n5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function r5(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let s5=(()=>{class n extends LS{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(jk),u.LFG(Xk))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const uF=new u.OlP("AnimationModuleType"),cF=[{provide:rN,useClass:Q4},{provide:Xk,useFactory:function o5(){return new C4}},{provide:LS,useClass:s5},{provide:u.FYo,useFactory:function a5(n,e,t){return new e5(n,e,t)},deps:[xn,LS,u.R0b]}],dF=[{provide:jk,useFactory:()=>new K4},{provide:uF,useValue:"BrowserAnimations"},...cF],l5=[{provide:jk,useClass:FP},{provide:uF,useValue:"NoopAnimations"},...cF];let u5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?l5:dF}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:dF,imports:[ka]}),n})(),hF=(()=>{class n extends kT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),c5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hF,{provide:bv,useExisting:hF}],imports:[[]]}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[d$]}),n.\u0275inj=u.cJS({providers:[],imports:[[ka,c$,$a.hO.initializeApp(IP_firebase),u5,li,_P,vP,c5]]}),n})();(0,u.G48)(),Oc().bootstrapModule(d5).catch(n=>console.error(n))},5867:(st,Ce,R)=>{R.d(Ce,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=R(9681);(0,u.registerVersion)("firebase","9.6.10","app")},127:(st,Ce,R)=>{R.d(Ce,{Z:()=>u.Z});var u=R(3942);u.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(st,Ce,R)=>{R.r(Ce);var u=R(5861),K=R(3942),L=R(2090),le=R(9681),X=R(655),me=R(1877),oe=R(4859);const Re=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new me.Yd("@firebase/auth");function Ze(y,...p){tt.logLevel<=me.in.ERROR&&tt.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw Ye(y,...p)}function ve(y,...p){return Ye(y,...p)}function be(y,p,g){const w=Object.assign(Object.assign({},Fe()),{[p]:g});return new L.LL("auth","Firebase",w).create(p,{appName:y.name})}function $e(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),be(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return pe.create(y,...p)}function te(y,p,...g){if(!y)throw Ye(p,...g)}function z(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ze(p),new Error(p)}function se(y,p){y||z(p)}const ge=new Map;function ae(y){se(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(se(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function At(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function an(){return"http:"===Kn()||"https:"===Kn()}function Kn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class _n{constructor(p,g){this.shortDelay=p,this.longDelay=g,se(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(an()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yn(y,p){se(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Wi{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Es=new _n(3e4,6e4);function ln(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function zt(y,p,g,w){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(y,p,g,w,I={}){return xi(y,I,(0,u.Z)(function*(){let O={},W={};w&&("GET"===p?W=w:O={body:JSON.stringify(w)});const ue=(0,L.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),Wi.fetch()(ni(y,y.config.apiHost,g,ue),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function xi(y,p,g){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},fn),p);try{const I=new Ts(y),O=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw Ss(y,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const ue=O.ok?W.errorMessage:W.error.message,[He,et]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Ss(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===He)throw Ss(y,"email-already-in-use",W);const Et=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw be(y,Et,et);Se(y,Et)}}catch(I){if(I instanceof L.ZR)throw I;Se(y,"network-request-failed")}})).apply(this,arguments)}function ti(y,p,g,w){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(y,p,g,w,I={}){const O=yield zt(y,p,g,w,I);return"mfaPendingCredential"in O&&Se(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ni(y,p,g,w){const I=`${p}${g}?${w}`;return y.config.emulator?yn(y.config,I):`${y.config.apiScheme}://${I}`}class Ts{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),Es.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ss(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const I=ve(y,p,w);return I.customData._tokenResponse=g,I}function gi(){return(gi=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function wr(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Oi(y,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function An(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ll(){return(ll=(0,u.Z)(function*(y,p=!1){const g=(0,L.m9)(y),w=yield g.getIdToken(p),I=ot(w);te(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,W=null==O?void 0:O.sign_in_provider;return{claims:I,token:w,authTime:An(Zt(I.auth_time)),issuedAtTime:An(Zt(I.iat)),expirationTime:An(Zt(I.exp)),signInProvider:W||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function ot(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,L.tV)(g);return I?JSON.parse(I):(Ze("Failed to decode base64 JWT payload"),null)}catch(I){return Ze("Caught error parsing JWT payload as JSON",I),null}}function Or(y,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&Wt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Wt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ho{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class jr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(y){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),I=yield Or(y,Oi(g,{idToken:w}));te(null==I?void 0:I.users.length,g,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const W=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Ie(O.providerUserInfo):[],ue=Ke(y.providerData,W),Et=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ue?void 0:ue.length)),at={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new jr(O.createdAt,O.lastLoginAt),isAnonymous:Et};Object.assign(y,at)})).apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(y){const p=(0,L.m9)(y);yield Rr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ke(y,p){return[...y.filter(w=>!p.some(I=>I.providerId===w.providerId)),...p]}function Ie(y){return y.map(p=>{var{providerId:g}=p,w=(0,X._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ft(){return(ft=(0,u.Z)(function*(y,p){const g=yield xi(y,{},(0,u.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,W=ni(y,I,"/v1/token",`key=${O}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Wi.fetch()(W,{method:"POST",headers:ue,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(void 0!==p.idToken,"internal-error"),te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function St(y){const p=ot(y);return te(p,"internal-error"),te(void 0!==p.exp,"internal-error"),te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,u.Z)(function*(){return te(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,u.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:W}=yield function Je(y,p){return ft.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(I,O,Number(W))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:I,expirationTime:O}=g,W=new Gt;return w&&(te("string"==typeof w,"internal-error",{appName:p}),W.refreshToken=w),I&&(te("string"==typeof I,"internal-error",{appName:p}),W.accessToken=I),O&&(te("number"==typeof O,"internal-error",{appName:p}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Ut(y,p){te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:g,auth:w,stsTokenManager:I}=p,O=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new jr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const w=yield Or(g,g.stsTokenManager.getToken(g.auth,p));return te(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function ro(y){return ll.apply(this,arguments)}(this,p)}reload(){return function Yr(y){return Yt.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,u.Z)(function*(){let I=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield Rr(w)),yield w.auth._persistUserIfCurrent(w),I&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield Or(p,function ct(y,p){return gi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,I,O,W,ue,He,et,Et;const at=null!==(w=g.displayName)&&void 0!==w?w:void 0,Wn=null!==(I=g.email)&&void 0!==I?I:void 0,gs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,sd=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Au=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,ku=null!==(He=g._redirectEventId)&&void 0!==He?He:void 0,Hp=null!==(et=g.createdAt)&&void 0!==et?et:void 0,e0=null!==(Et=g.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:Ba,emailVerified:jh,isAnonymous:Yh,providerData:jp,stsTokenManager:$h}=g;te(Ba&&$h,p,"internal-error");const rs=Gt.fromJSON(this.name,$h);te("string"==typeof Ba,p,"internal-error"),Ut(at,p.name),Ut(Wn,p.name),te("boolean"==typeof jh,p,"internal-error"),te("boolean"==typeof Yh,p,"internal-error"),Ut(gs,p.name),Ut(sd,p.name),Ut(Au,p.name),Ut(ku,p.name),Ut(Hp,p.name),Ut(e0,p.name);const Yp=new H({uid:Ba,auth:p,email:Wn,emailVerified:jh,displayName:at,isAnonymous:Yh,photoURL:sd,phoneNumber:gs,tenantId:Au,stsTokenManager:rs,createdAt:Hp,lastLoginAt:e0});return jp&&Array.isArray(jp)&&(Yp.providerData=jp.map(t_=>Object.assign({},t_))),ku&&(Yp._redirectEventId=ku),Yp}static _fromIdTokenResponse(p,g,w=!1){return(0,u.Z)(function*(){const I=new Gt;I.updateFromServerResponse(g);const O=new H({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:w});return yield Rr(O),O})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,w){var I=this;return(0,u.Z)(function*(){I.storage[g]=w})()}_get(g){var w=this;return(0,u.Z)(function*(){const I=w.storage[g];return void 0===I?null:I})()}_remove(g){var w=this;return(0,u.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function he(y,p,g){return`firebase:${y}:${p}:${g}`}class Q{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:I,name:O}=this.auth;this.fullUserKey=he(this.userKey,I.apiKey,O),this.fullPersistenceKey=he("persistence",I.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?H._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Q(ae(G),p,w);const I=(yield Promise.all(g.map(function(){var et=(0,u.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return et.apply(this,arguments)}}()))).filter(et=>et);let O=I[0]||ae(G);const W=he(w,p.config.apiKey,p.name);let ue=null;for(const et of g)try{const Et=yield et._get(W);if(Et){const at=H._fromJSON(p,Et);et!==O&&(ue=at),O=et;break}}catch(Et){}const He=I.filter(et=>et._shouldAllowMigration);return O._shouldAllowMigration&&He.length?(O=He[0],ue&&(yield O._set(W,ue.toJSON())),yield Promise.all(g.map(function(){var et=(0,u.Z)(function*(Et){if(Et!==O)try{yield Et._remove(W)}catch(at){}});return function(Et){return et.apply(this,arguments)}}())),new Q(O,p,w)):new Q(O,p,w)})()}}function Ue(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Kt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(bt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(Cn(p))return"Webos";if(en(p))return"Safari";if((p.includes("chrome/")||$r(p))&&!p.includes("edge/"))return"Chrome";if(Yn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function bt(y=(0,L.z$)()){return/firefox\//i.test(y)}function en(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $r(y=(0,L.z$)()){return/crios\//i.test(y)}function Kt(y=(0,L.z$)()){return/iemobile/i.test(y)}function Yn(y=(0,L.z$)()){return/android/i.test(y)}function Pt(y=(0,L.z$)()){return/blackberry/i.test(y)}function Cn(y=(0,L.z$)()){return/webos/i.test(y)}function Dr(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Is(y=(0,L.z$)()){return Dr(y)||Yn(y)||Cn(y)||Pt(y)||/windows phone/i.test(y)||Kt(y)}function cl(y,p=[]){let g;switch(y){case"Browser":g=Ue((0,L.z$)());break;case"Worker":g=`${Ue((0,L.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${w}`}class Ri{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vt(this),this.idTokenSubscription=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var I,O;if(!w._deleted&&(w.persistenceManager=yield Q.create(w,p),!w._deleted)){if(null===(I=w._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(W){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var w;let I=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,W=null==I?void 0:I._redirectEventId,ue=yield g.tryRedirectSignIn(p);(!O||O===W)&&(null==ue?void 0:ue.user)&&(I=ue.user)}return I?I._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(I){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield Rr(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function wt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&te(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,u.Z)(function*(){const I=yield w.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ae(p)||g._popupRedirectResolver;te(w,g,"argument-error"),g.redirectPersistenceManager=yield Q.create(g,[ae(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var w,I;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,I){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return te(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,w,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=cl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return I&&(w["X-Firebase-Client"]=I),w})()}}function Le(y){return(0,L.m9)(y)}class Vt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ir(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class pn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(p){return z("not implemented")}_linkToIdToken(p,g){return z("not implemented")}_getReauthenticationResolver(p){return z("not implemented")}}function Qn(y,p){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:resetPassword",ln(y,p))})).apply(this,arguments)}function Rt(y,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ms(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",ln(y,p))})).apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPassword",ln(y,p))})).apply(this,arguments)}function As(y,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:sendOobCode",ln(y,p))})).apply(this,arguments)}function Pn(y,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(y,p){return As(y,p)})).apply(this,arguments)}function Zl(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,u.Z)(function*(y,p){return As(y,p)})).apply(this,arguments)}function _i(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(y,p){return As(y,p)})).apply(this,arguments)}function ih(y,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(y,p){return As(y,p)})).apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",ln(y,p))})).apply(this,arguments)}function sh(){return(sh=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",ln(y,p))})).apply(this,arguments)}class Jl extends pn{constructor(p,g,w,I=null){super("password",w),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new Jl(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Jl(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function oo(y,p){return Sn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ql(y,p){return yi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return Rt(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function lp(y,p){return sh.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function sr(y,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithIdp",ln(y,p))})).apply(this,arguments)}class xs extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new xs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I}=g,O=(0,X._T)(g,["providerId","signInMethod"]);if(!w||!I)return null;const W=new xs(w,I);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(p){return sr(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,sr(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,sr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function xg(y,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:sendVerificationCode",ln(y,p))})).apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,p))})).apply(this,arguments)}function ah(){return(ah=(0,u.Z)(function*(y,p){const g=yield ti(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,p));if(g.temporaryProof)throw Ss(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Rg={USER_NOT_FOUND:"user-not-found"};function lh(){return(lh=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Rg)})).apply(this,arguments)}class Ta extends pn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Ta({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Ta({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Dc(y,p){return lo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Og(y,p){return ah.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function up(y,p){return lh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:I,temporaryProof:O}=p;return w||g||I||O?new Ta({verificationId:g,verificationCode:w,phoneNumber:I,temporaryProof:O}):null}}class Yo{constructor(p){var g,w,I,O,W,ue;const He=(0,L.zd)((0,L.pd)(p)),et=null!==(g=He.apiKey)&&void 0!==g?g:null,Et=null!==(w=He.oobCode)&&void 0!==w?w:null,at=function Ev(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=He.mode)&&void 0!==I?I:null);te(et&&Et&&at,"argument-error"),this.apiKey=et,this.operation=at,this.code=Et,this.continueUrl=null!==(O=He.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=He.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ue=He.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function Xl(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||p||y}(p);try{return new Yo(g)}catch(w){return null}}}let Cc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Jl._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const I=Yo.parseLink(w);return te(I,"argument-error"),Jl._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class uo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vi extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Sa extends vi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return te("providerId"in g&&"signInMethod"in g,"argument-error"),xs._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),xs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Sa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Sa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:I,pendingToken:O,nonce:W,providerId:ue}=p;if(!w&&!I&&!g&&!O||!ue)return null;try{return new Sa(ue)._credential({idToken:g,accessToken:w,nonce:W,pendingToken:O})}catch(He){return null}}}let $o=(()=>{class y extends vi{constructor(){super("facebook.com")}static credential(g){return xs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),hl=(()=>{class y extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return xs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:I}=g;if(!w&&!I)return null;try{return y.credential(w,I)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),uh=(()=>{class y extends vi{constructor(){super("github.com")}static credential(g){return xs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class kn extends pn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return sr(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,sr(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,sr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I,pendingToken:O}=g;return w&&I&&O&&w===I?new kn(w,O):null}static _create(p,g){return new kn(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Li extends uo{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Li.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Li.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=kn.fromJSON(p);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return kn._create(w,g)}catch(I){return null}}}let eu=(()=>{class y extends vi{constructor(){super("twitter.com")}static credential(g,w){return xs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:I}=g;if(!w||!I)return null;try{return y.credential(w,I)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function tu(y,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signUp",ln(y,p))})).apply(this,arguments)}class Nr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,I=!1){return(0,u.Z)(function*(){const O=yield H._fromIdTokenResponse(p,w,I),W=dp(w);return new Nr({user:O,providerId:W,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const I=dp(w);return new Nr({user:p,providerId:I,_tokenResponse:w,operationType:g})})()}}function dp(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ch(){return(ch=(0,u.Z)(function*(y){var p;const g=Le(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Nr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield tu(g,{returnSecureToken:!0}),I=yield Nr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ru extends L.ZR{constructor(p,g,w,I){var O;super(g.code,g.message),this.operationType=w,this.user=I,Object.setPrototypeOf(this,ru.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,I){return new ru(p,g,w,I)}}function iu(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ru._fromErrorAndOperation(y,O,p,w):O})}function Os(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ec(){return(Ec=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y);yield ho(!0,g,p);const{providerUserInfo:w}=yield wr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=Os(w||[]);return g.providerData=g.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function In(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(y,p,g=!1){const w=yield Or(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Nr._forOperation(y,"link",w)})).apply(this,arguments)}function ho(y,p,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(y,p,g){yield Rr(p);const I=!1===y?"provider-already-linked":"no-such-provider";te(Os(p.providerData).has(g)===y,p.auth,I)})).apply(this,arguments)}function dh(y,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(y,p,g=!1){const{auth:w}=y,I="reauthenticate";try{const O=yield Or(y,iu(w,I,p,y),g);te(O.idToken,w,"internal-error");const W=ot(O.idToken);te(W,w,"internal-error");const{sub:ue}=W;return te(y.uid===ue,w,"user-mismatch"),Nr._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(w,"user-mismatch"),O}})).apply(this,arguments)}function Wo(y,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(y,p,g=!1){const w="signIn",I=yield iu(y,w,p),O=yield Nr._fromIdTokenResponse(y,w,I);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Jn(y,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(y,p){return Wo(Le(y),p)})).apply(this,arguments)}function qi(y,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y);return yield ho(!1,g,p.providerId),In(g,p)})).apply(this,arguments)}function fo(y,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(y,p){return dh((0,L.m9)(y),p)})).apply(this,arguments)}function su(y,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithCustomToken",ln(y,p))})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(y,p){const g=Le(y),w=yield su(g,{token:p,returnSecureToken:!0}),I=yield Nr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class pt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ou._fromServerResponse(p,g):Se(p,"internal-error")}}class ou extends pt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ou(g)}}function ml(y,p,g){var w;te((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function lu(){return(lu=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y),I={requestType:"PASSWORD_RESET",email:p};g&&ml(w,I,g),yield Zl(w,I)})).apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*(y,p,g){yield Qn((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(y,p){yield Ms((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ht(y,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y),w=yield Qn(g,{oobCode:p}),I=w.requestType;switch(te(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(w.mfaInfo,g,"internal-error");default:te(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=pt._fromServerResponse(Le(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(y,p){const{data:g}=yield Ht((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(y,p,g){const w=Le(y),I=yield tu(w,{returnSecureToken:!0,email:p,password:g}),O=yield Nr._fromIdTokenResponse(w,"signIn",I);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function hh(){return(hh=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};te(g.handleCodeInApp,w,"argument-error"),g&&ml(w,I,g),yield _i(w,I)})).apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y),I=Cc.credentialWithLink(p,g||At());return te(I._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Jn(w,I)})).apply(this,arguments)}function Pr(y,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:createAuthUri",ln(y,p))})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(y,p){const w={identifier:p,continueUri:an()?At():"http://localhost"},{signinMethods:I}=yield Pr((0,L.m9)(y),w);return I||[]})).apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ml(g.auth,I,p);const{email:O}=yield Pn(g.auth,I);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&ml(w.auth,O,g);const{email:W}=yield ih(w.auth,O);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function Oc(y,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(y,p){return zt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rc(){return(Rc=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,L.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield Or(w,Oc(w.auth,O));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const ue=w.providerData.find(({providerId:He})=>"password"===He);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)})).apply(this,arguments)}function Nc(y,p,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(y,p,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const W=yield Or(y,Rt(w,O));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class zo{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class mh extends zo{constructor(p,g,w,I){super(p,g,w),this.username=I}}class gh extends zo{constructor(p,g){super(p,"facebook.com",g)}}class Zo extends mh{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class yo extends zo{constructor(p,g){super(p,"google.com",g)}}class Pc extends mh{constructor(p,g,w){super(p,"twitter.com",g,w)}}function qr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ph(y){var p,g;if(!y)return null;const{providerId:w}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const W=null===(g=null===(p=ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new zo(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new gh(O,I);case"github.com":return new Zo(O,I);case"google.com":return new yo(O,I);case"twitter.com":return new Pc(O,I,y.screenName||null);case"custom":case"anonymous":return new zo(O,null);default:return new zo(O,w,I)}}(g)}class Ls{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ls("enroll",p)}static _fromMfaPendingCredential(p){return new Ls("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ls._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Ls._fromIdtoken(p.multiFactorSession.idToken)}return null}}class _l{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Le(p),I=g.customData._serverResponse,O=(I.mfaInfo||[]).map(ue=>pt._fromServerResponse(w,ue));te(I.mfaPendingCredential,w,"internal-error");const W=Ls._fromMfaPendingCredential(I.mfaPendingCredential);return new _l(W,O,function(){var ue=(0,u.Z)(function*(He){const et=yield He._process(w,W);delete I.mfaInfo,delete I.mfaPendingCredential;const Et=Object.assign(Object.assign({},I),{idToken:et.idToken,refreshToken:et.refreshToken});switch(g.operationType){case"signIn":const at=yield Nr._fromIdTokenResponse(w,g.operationType,Et);return yield w._updateCurrentUser(at.user),at;case"reauthenticate":return te(g.user,w,"internal-error"),Nr._forOperation(g.user,g.operationType,Et);default:Se(w,"internal-error")}});return function(He){return ue.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function or(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:start",ln(y,p))}class Ns{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>pt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ns(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ls._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,u.Z)(function*(){const I=p,O=yield w.getSession(),W=yield Or(w.user,I._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const w="string"==typeof p?p:p.uid,I=yield g.user.getIdToken(),O=yield Or(g.user,function Ng(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(y,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==w),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const xa=new WeakMap,Bc="__sak";class Ko{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const er=(()=>{class y extends Ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wh(){const y=(0,L.z$)();return en(y)||Dr(y)}()&&function fr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Is(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const I=this.storage.getItem(w),O=this.localCache[w];I!==O&&g(w,O,I)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ue,He,et)=>{this.notifyListeners(ue,et)});const I=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(I);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!w)return}const O=()=>{const ue=this.storage.getItem(I);!w&&this.localCache[I]===ue||this.notifyListeners(I,ue)},W=this.storage.getItem(I);!function ul(){return(0,L.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var I=()=>super._set,O=this;return(0,u.Z)(function*(){yield I().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,I=this;return(0,u.Z)(function*(){const O=yield w().call(I,g);return I.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,I=this;return(0,u.Z)(function*(){yield w().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),Fn=(()=>{class y extends Ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Cr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,u.Z)(function*(){const I=g,{eventId:O,eventType:W,data:ue}=I.data,He=w.handlersMap[W];if(!(null==He?void 0:He.size))return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const et=Array.from(He).map(function(){var at=(0,u.Z)(function*(Wn){return Wn(I.origin,ue)});return function(Wn){return at.apply(this,arguments)}}()),Et=yield function ar(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(et);I.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:Et})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Oa(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class bh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var I=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,ue;return new Promise((He,et)=>{const Et=Oa("",20);O.port1.start();const at=setTimeout(()=>{et(new Error("unsupported_event"))},w);ue={messageChannel:O,onMessage(Wn){const gs=Wn;if(gs.data.eventId===Et)switch(gs.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),He(gs.data.response);break;default:clearTimeout(at),clearTimeout(W),et(new Error("invalid_response"))}}},I.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),I.target.postMessage({eventType:p,eventId:Et,data:g},[O.port2])}).finally(()=>{ue&&I.removeMessageHandler(ue)})})()}}function Tn(){return window}function Zi(){return void 0!==Tn().WorkerGlobalScope&&"function"==typeof Tn().importScripts}function Pi(){return(Pi=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Uc="firebaseLocalStorageDb",Qo="firebaseLocalStorage",tr="fbase_key";class Ps{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Jo(y,p){return y.transaction([Qo],p?"readwrite":"readonly").objectStore(Qo)}function wo(){const y=indexedDB.open(Uc,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Qo,{keyPath:tr})}catch(I){g(I)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Qo)?p(w):(w.close(),yield function Fi(){const y=indexedDB.deleteDatabase(Uc);return new Ps(y).toPromise()}(),p(yield wo()))}))})}function Vi(y,p,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(y,p,g){const w=Jo(y,!0).put({[tr]:p,value:g});return new Ps(w).toPromise()})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(y,p){const g=Jo(y,!1).get(p),w=yield new Ps(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hs(y,p){const g=Jo(y,!0).delete(p);return new Ps(g).toPromise()}const Ki=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield wo()),g.db})()}_withRetries(g){var w=this;return(0,u.Z)(function*(){let I=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(I++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Zi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Cr._getInstance(function Dh(){return Zi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(I,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(I,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var w,I;if(g.activeServiceWorker=yield function mu(){return Pi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new bh(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(I=O[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function xt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield wo();return yield Vi(g,Bc,"1"),yield hs(g,Bc),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(O=>Vi(O,g,w)),I.localCache[g]=w,I.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,u.Z)(function*(){const I=yield w._withRetries(O=>function jc(y,p){return bo.apply(this,arguments)}(O,g));return w.localCache[g]=I,I})()}_remove(g){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(I=>hs(I,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const w=yield g._withRetries(W=>{const ue=Jo(W,!1).getAll();return new Ps(ue).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:W,value:ue}of w)O.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ue)&&(g.notifyListeners(W,ue),I.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!O.has(W)&&(g.notifyListeners(W,null),I.push(W));return I})()}notifyListeners(g,w){this.localCache[g]=w;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ra(y,p){return zt(y,"POST","/v2/accounts/mfaSignIn:start",ln(y,p))}function Qi(){return(Qi=(0,u.Z)(function*(y){return(yield zt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vn(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=I=>{const O=ve("internal-error");O.customData=I,g(O)},w.type="text/javascript",w.charset="UTF-8",function Eh(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Co(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Fr=1e12;class On{constructor(p){this.auth=p,this.counter=Fr,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new ps(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Fr;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Fr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var w;return null===(w=g._widgets.get(p||Fr))||void 0===w||w.execute(),""})()}}class ps{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;te(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bn(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Eo=Co("rcb"),Th=new _n(3e4,6e4);class Fg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tn().grecaptcha}load(p,g=""){return te(function Vg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Tn().grecaptcha):new Promise((w,I)=>{const O=Tn().setTimeout(()=>{I(ve(p,"network-request-failed"))},Th.get());Tn()[Eo]=()=>{Tn().clearTimeout(O),delete Tn()[Eo];const ue=Tn().grecaptcha;if(!ue)return void I(ve(p,"internal-error"));const He=ue.render;ue.render=(et,Et)=>{const at=He(et,Et);return this.counter++,at},this.hostLanguage=g,w(ue)},Vn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Eo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),I(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Tn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bg{load(p){return(0,u.Z)(function*(){return new On(p)})()}clearedOneInstance(){}}const To="recaptcha",Di={theme:"light",type:"image"};class Ug{constructor(p,g=Object.assign({},Di),w){this.parameters=g,this.type=To,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Le(w),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;te(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bg:new Fg,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const W=ue=>{!ue||(p.tokenChangeListeners.delete(W),O(ue))};p.tokenChangeListeners.add(W),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Tn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){te(an()&&!Zi(),p.auth,"internal-error"),yield function So(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function zr(y){return Qi.apply(this,arguments)}(p.auth);te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fs{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Ta._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Un(){return(Un=(0,u.Z)(function*(y,p,g){const w=Le(y),I=yield Er(w,p,(0,L.m9)(g));return new Fs(I,O=>Jn(w,O))})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y);yield ho(!1,w,"phone");const I=yield Er(w.auth,p,(0,L.m9)(g));return new Fs(I,O=>qi(w,O))})).apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y),I=yield Er(w.auth,p,(0,L.m9)(g));return new Fs(I,O=>fo(w,O))})).apply(this,arguments)}function Er(y,p,g){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(y,p,g){var w;const I=yield g.verify();try{let O;if(te("string"==typeof I,y,"argument-error"),te(g.type===To,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const W=O.session;if("phoneNumber"in O)return te("enroll"===W.type,y,"internal-error"),(yield or(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{te("signin"===W.type,y,"internal-error");const ue=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return te(ue,y,"missing-multi-factor-info"),(yield Ra(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield xg(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return W}}finally{g._reset()}})).apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(y,p){yield In((0,L.m9)(y),p)})).apply(this,arguments)}let Xi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Le(g)}verifyPhoneNumber(g,w){return Er(this.auth,g,(0,L.m9)(w))}static credential(g,w){return Ta._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:I}=g;return w&&I?Ta._fromTokenResponse(w,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ea(y,p){return p?ae(p):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ih extends pn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return sr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return sr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return sr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Hg(y){return Wo(y.auth,new Ih(y),y.bypassAuthState)}function pp(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),dh(g,new Ih(y),y.bypassAuthState)}function $t(y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return te(g,p,"internal-error"),In(g,new Ih(y),y.bypassAuthState)})).apply(this,arguments)}class nr{constructor(p,g,w,I,O=!1){this.auth=p,this.resolver=w,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(w,I){p.pendingPromise={resolve:w,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:I,postBody:O,tenantId:W,error:ue,type:He}=p;if(ue)return void g.reject(ue);const et={auth:g.auth,requestUri:w,sessionId:I,tenantId:W||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(He)(et))}catch(Et){g.reject(Et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Hg;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return pp;default:Se(this.auth,"internal-error")}}resolve(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _u=new _n(2e3,1e4);function Mo(){return(Mo=(0,u.Z)(function*(y,p,g){const w=Le(y);$e(y,p,uo);const I=ea(w,g);return new wl(w,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y);$e(w.auth,p,uo);const I=ea(w.auth,g);return new wl(w.auth,"reauthViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}function Gc(){return(Gc=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y);$e(w.auth,p,uo);const I=ea(w.auth,g);return new wl(w.auth,"linkViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}let wl=(()=>{class y extends nr{constructor(g,w,I,O,W){super(g,w,O,W),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return te(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){se(1===g.filter.length,"Popup operations only handle one event");const w=Oa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,I;this.pollId=(null===(I=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,_u.get())};g()}}return y.currentPopupAction=null,y})();const yu=new Map;class pr extends nr{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=yu.get(g.auth._key());if(!w){try{const O=(yield function E(y,p){return T.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(O)}catch(I){w=()=>Promise.reject(I)}yu.set(g.auth._key(),w)}return g.bypassAuthState||yu.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const I=yield w.auth._redirectUserForId(p.eventId);if(I)return w.user=I,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,u.Z)(function*(y,p){const g=ke(p),w=re(y);if(!(yield w._isAvailable()))return!1;const I="true"===(yield w._get(g));return yield w._remove(g),I})).apply(this,arguments)}function x(y,p){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(y,p){return re(y)._set(ke(p),"true")})).apply(this,arguments)}function re(y){return ae(y._redirectPersistence)}function ke(y){return he("pendingRedirect",y.config.apiKey,y.name)}function Tt(){return(Tt=(0,u.Z)(function*(y,p,g){const w=Le(y);$e(y,p,uo);const I=ea(w,g);return yield x(I,w),I._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y);$e(w.auth,p,uo);const I=ea(w.auth,g);yield x(I,w.auth);const O=yield Wc(w);return I._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(y,p,g){const w=(0,L.m9)(y);$e(w.auth,p,uo);const I=ea(w.auth,g);yield ho(!1,w,p.providerId),yield x(I,w.auth);const O=yield Wc(w);return I._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(y,p){return yield Le(y)._initializationPromise,ms(y,p,!1)})).apply(this,arguments)}function ms(y,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,u.Z)(function*(y,p,g=!1){const w=Le(y),I=ea(w,p),W=yield new pr(w,I,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,p)),W})).apply(this,arguments)}function Wc(y){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(y){const p=Oa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class bu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function qc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kh(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!kh(p)){const I=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(p))}saveEventToCache(p){this.cachedEventUids.add(Du(p)),this.lastProcessedEventTime=Date.now()}}function Du(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function kh({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function zc(y){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,u.Z)(function*(y,p={}){return zt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const jg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iv=/^https?/;function js(){return(js=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield zc(y);for(const g of p)try{if(Zc(g))return}catch(w){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Zc(y){const p=At(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===w}if(!Iv.test(g))return!1;if(jg.test(y))return w===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(w)}const Av=new _n(3e4,6e4);function kv(){const y=Tn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let xh=null;function xv(y){return xh=xh||function Yg(y){return new Promise((p,g)=>{var w,I,O;function W(){kv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{kv(),g(ve(y,"network-request-failed"))},timeout:Av.get()})}if(null===(I=null===(w=Tn().gapi)||void 0===w?void 0:w.iframes)||void 0===I?void 0:I.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Tn().gapi)||void 0===O?void 0:O.load)){const ue=Co("iframefcb");return Tn()[ue]=()=>{gapi.load?W():g(ve(y,"network-request-failed"))},Vn(`https://apis.google.com/js/api.js?onload=${ue}`).catch(He=>g(He))}W()}}).catch(p=>{throw xh=null,p})}(y),xh}const mp=new _n(5e3,15e3),ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(y){const p=y.config;te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?yn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},I=Oh.get(y.config.apiHost);I&&(w.eid=I);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function Na(){return Na=(0,u.Z)(function*(y){const p=yield xv(y),g=Tn().gapi;return te(g,y,"internal-error"),p.open({where:document.body,url:Cl(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ra,dontclear:!0},w=>new Promise(function(){var I=(0,u.Z)(function*(O,W){yield w.restyle({setHideOnLeave:!1});const ue=ve(y,"network-request-failed"),He=Tn().setTimeout(()=>{W(ue)},mp.get());function et(){Tn().clearTimeout(He),O(w)}w.ping(et).then(et,()=>{W(ue)})});return function(O,W){return I.apply(this,arguments)}}()))}),Na.apply(this,arguments)}const Rv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function vp(y,p,g,w,I,O){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:le.SDK_VERSION,eventId:I};if(p instanceof uo){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,et]of Object.entries(O||{}))W[He]=et}if(p instanceof vi){const He=p.getScopes().filter(et=>""!==et);He.length>0&&(W.scopes=He.join(","))}y.tenantId&&(W.tid=y.tenantId);const ue=W;for(const He of Object.keys(ue))void 0===ue[He]&&delete ue[He];return`${function Nv({config:y}){return y.emulator?yn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ue).slice(1)}`}const ko="webStorageSupport";class wp extends class $g{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new wp(p)}_finalizeEnroll(p,g,w){return function yh(y,p){return zt(y,"POST","/v2/accounts/mfaEnrollment:finalize",ln(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function fs(y,p){return zt(y,"POST","/v2/accounts/mfaSignIn:finalize",ln(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pv=(()=>{class y{constructor(){}static assertion(g){return wp._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Fv="@firebase/auth",bp="0.19.11";class Gg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var I;p((null===(I=w)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xo(){return window}function Tu(){return(Tu=(0,u.Z)(function*(y,p,g){var w;const{BuildInfo:I}=xo();se(p.sessionId,"AuthEvent did not contain a session ID");const O=yield El(p.sessionId),W={};return Dr()?W.ibi=I.packageName:Yn()?W.apn=I.packageName:Se(y,"operation-not-supported-in-this-environment"),I.displayName&&(W.appDisplayName=I.displayName),W.sessionId=O,vp(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,W)})).apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(y){const{BuildInfo:p}=xo(),g={};Dr()?g.iosBundleId=p.packageName:Yn()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield zc(y,g)})).apply(this,arguments)}function Fh(){return(Fh=(0,u.Z)(function*(y,p,g){const{cordova:w}=xo();let I=()=>{};try{yield new Promise((O,W)=>{let ue=null;function He(){var at;O();const Wn=null===(at=w.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function et(){ue||(ue=window.setTimeout(()=>{W(ve(y,"redirect-cancelled-by-user"))},2e3))}function Et(){"visible"===(null==document?void 0:document.visibilityState)&&et()}p.addPassiveListener(He),document.addEventListener("resume",et,!1),Yn()&&document.addEventListener("visibilitychange",Et,!1),I=()=>{p.removePassiveListener(He),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",Et,!1),ue&&window.clearTimeout(ue)}})}finally{I()}})).apply(this,arguments)}function El(y){return qg.apply(this,arguments)}function qg(){return(qg=(0,u.Z)(function*(y){const p=Su(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Su(y){if(se(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function Bv(y){(0,le._registerComponent)(new oe.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),{apiKey:O,authDomain:W}=w.options;return((ue,He)=>{te(O&&!O.includes(":"),"invalid-api-key",{appName:ue.name}),te(!(null==W?void 0:W.includes(":")),"argument-error",{appName:ue.name});const et={apiKey:O,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cl(y)},Et=new Ri(ue,He,et);return function ce(y,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Et,g),Et})(w,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new oe.wA("auth-internal",p=>{const g=Le(p.getProvider("auth").getImmediate());return new Gg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Fv,bp,function Vv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Fv,bp,"esm2017")}("Browser");class Tp extends bu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Jc(y){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(y){const p=yield Iu()._get(Ip(y));return p&&(yield Iu()._remove(Ip(y))),p})).apply(this,arguments)}function Xc(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Iu(){return ae(er)}function Ip(y){return he("authEvent",y.config.apiKey,y.name)}function Bh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function xp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Uh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Zg(y=(0,L.z$)()){return!("file:"!==Uh()&&"ionic:"!==Uh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zr(){try{const y=self.localStorage,p=Oa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Va(y=(0,L.z$)()){return function $v(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Gv(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return ia()&&(0,L.hl)()}return!1}function ia(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nd(){return(function Yv(){return"http:"===Uh()||"https:"===Uh()}()||(0,L.ru)()||Zg())&&!function Hh(){return(0,L.b$)()||(0,L.UG)()}()&&Zr()&&!ia()}function Op(){return Zg()&&"undefined"!=typeof document}function Tl(){return(Tl=(0,u.Z)(function*(){return!!Op()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ns={LOCAL:"local",NONE:"none",SESSION:"session"},Sl=te,Lp="persistence";function Il(y){return Np.apply(this,arguments)}function Np(){return(Np=(0,u.Z)(function*(y){yield y._initializationPromise;const p=rd(),g=he(Lp,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function rd(){var y;try{return(null===(y=function Rp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Wv=te;class Bi{constructor(){this.browserResolver=ae(class Pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fn,this._completeRedirectFn=ms}_openPopup(p,g,w,I){var O=this;return(0,u.Z)(function*(){var W;se(null===(W=O.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ue=vp(p,g,w,At(),I);return function Ph(y,p,g,w=500,I=600){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const He=Object.assign(Object.assign({},Rv),{width:w.toString(),height:I.toString(),top:O,left:W}),et=(0,L.z$)().toLowerCase();g&&(ue=$r(et)?"_blank":g),bt(et)&&(p=p||"http://localhost",He.scrollbars="yes");const Et=Object.entries(He).reduce((Wn,[gs,sd])=>`${Wn}${gs}=${sd},`,"");if(function zl(y=(0,L.z$)()){var p;return Dr(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(et)&&"_self"!==ue)return function yp(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ue),new Nh(null);const at=window.open(p||"",ue,Et);te(at,y,"popup-blocked");try{at.focus()}catch(Wn){}return new Nh(at)}(p,ue,Oa())})()}_openRedirect(p,g,w,I){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(p),function fp(y){Tn().location.href=y}(vp(p,g,w,At(),I)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:O}=this.eventManagers[g];return I?Promise.resolve(I):(se(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const w=yield function Ov(y){return Na.apply(this,arguments)}(p),I=new bu(p);return w.register("authEvent",O=>(te(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=w,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ko,{type:ko},I=>{var O;const W=null===(O=null==I?void 0:I[0])||void 0===O?void 0:O[ko];void 0!==W&&g(!!W),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Mv(y){return js.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Is()||en()||Dr()}}),this.cordovaResolver=ae(class kp{constructor(){this._redirectPersistence=Fn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ms}_initialize(p){var g=this;return(0,u.Z)(function*(){const w=p._key();let I=g.eventManagers.get(w);return I||(I=new Tp(p),g.eventManagers.set(w,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,I){var O=this;return(0,u.Z)(function*(){!function Vh(y){var p,g,w,I,O,W,ue,He,et,Et;const at=xo();te("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(O=null===(I=null===(w=null==at?void 0:at.cordova)||void 0===w?void 0:w.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(He=null===(ue=null===(W=null==at?void 0:at.cordova)||void 0===W?void 0:W.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Et=null===(et=null==at?void 0:at.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===Et?void 0:Et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield O._initialize(p);yield W.initialized(),W.resetRedirect(),function q(){yu.clear()}(),yield O._originValidation(p);const ue=function Sp(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Xc(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,w,I);yield function cD(y,p){return Iu()._set(Ip(y),p)}(p,ue);const He=yield function Dp(y,p,g){return Tu.apply(this,arguments)}(p,ue,g),et=yield function Qc(y){const{cordova:p}=xo();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let I=null;w?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function jo(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(He);return function Wg(y,p,g){return Fh.apply(this,arguments)}(p,W,et)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Cp(y){return ts.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:I,BuildInfo:O}=xo(),W=setTimeout((0,u.Z)(function*(){yield Jc(p),g.onEvent(xp())}),500),ue=function(){var Et=(0,u.Z)(function*(at){clearTimeout(W);const Wn=yield Jc(p);let gs=null;Wn&&(null==at?void 0:at.url)&&(gs=function Hv(y,p){var g,w;const I=function ed(y){const p=Bh(y),g=p.link?decodeURIComponent(p.link):void 0,w=Bh(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Bh(I).link||I||w||g||y}(p);if(I.includes("/__/auth/callback")){const O=Bh(I),W=O.firebaseError?function Mp(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ue=null===(w=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],He=ue?ve(ue):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Wn,at.url)),g.onEvent(gs||xp())});return function(Wn){return Et.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const He=I,et=`${O.packageName.toLowerCase()}://`;xo().handleOpenURL=function(){var Et=(0,u.Z)(function*(at){if(at.toLowerCase().startsWith(et)&&ue({url:at}),"function"==typeof He)try{He(at)}catch(Wn){console.error(Wn)}});return function(at){return Et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fn,this._completeRedirectFn=ms}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,I){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,w,I)})()}_openRedirect(p,g,w,I){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,w,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Op()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function ai(){return Tl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Jg(y){return y.unwrap()}function Ml(y){return Xg(y)}function Xg(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Xi.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=hl;break;case"facebook.com":w=$o;break;case"github.com":w=uh;break;case"twitter.com":w=eu;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:ue,nonce:He}=p;return O||W||I||ue?ue?g.startsWith("saml.")?kn._create(g,ue):xs._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:I,accessToken:O}):new Sa(g).credential({idToken:I,accessToken:O,rawNonce:He}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Kr(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function zv(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Zv(y,function pu(y,p){var g;const w=(0,L.m9)(y),I=p;return te(p.customData.operationType,w,"argument-error"),te(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),_l._fromError(w,I)}(y,p));else if(w){const I=Xg(p),O=p;I&&(O.credential=I,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:Ml(g),additionalUserInfo:qr(g),user:sa.getOrCreate(I)}})}function Pp(y,p){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Kr(y,g.confirm(w))}})).apply(this,arguments)}class Zv{constructor(p,g){this.resolver=g,this.auth=function qv(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Kr(Jg(this.auth),this.resolver.resolveSignIn(p))}}class sa{constructor(p){this._delegate=p,this.multiFactor=function vh(y){const p=(0,L.m9)(y);return xa.has(p)||xa.set(p,Ns._fromUser(p)),xa.get(p)}(p)}static getOrCreate(p){return sa.USER_MAP.has(p)||sa.USER_MAP.set(p,new sa(p)),sa.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Kr(g.auth,qi(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,u.Z)(function*(){return Pp(w.auth,function $c(y,p,g){return Xo.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Kr(g.auth,function Hs(y,p,g){return Gc.apply(this,arguments)}(g._delegate,p,Bi))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Il(Le(g.auth)),function jt(y,p,g){return function bl(y,p,g){return es.apply(this,arguments)}(y,p,g)}(g._delegate,p,Bi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Kr(g.auth,fo(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Pp(this.auth,function Sh(y,p,g){return yl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Kr(this.auth,function Mh(y,p,g){return Us.apply(this,arguments)}(this._delegate,p,Bi))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Il(Le(g.auth)),function Bt(y,p,g){return function Dt(y,p,g){return Ct.apply(this,arguments)}(y,p,g)}(g._delegate,p,Bi)})()}sendEmailVerification(p){return function zi(y,p){return xc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function fl(y,p){return Ec.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Lc(y,p){return Nc((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function fh(y,p){return Nc((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function vl(y,p){return Vs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ka(y,p){return Rc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function hu(y,p,g){return fu.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sa.USER_MAP=new WeakMap;const id=te;let Vp=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;id(I,"invalid-api-key",{appName:g.name}),id(I,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Bi:void 0;this._delegate=w.initialize({options:{persistence:Kv(I,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function En(y,p,g){const w=Le(y);te(w._canInitEmulator,w,"emulator-config-failed"),te(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),O=Lr(p),{host:W,port:ue}=function io(y){const p=Lr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(w);if(I){const O=I[1];return{host:O,port:ir(w.substr(O.length+1))}}{const[O,W]=w.split(":");return{host:O,port:ir(W)}}}(p);w.config.emulator={url:`${O}//${W}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function us(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Sc(y,p){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ht(this._delegate,g)}confirmPasswordReset(g,w){return function uu(y,p,g){return Tc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var I=this;return(0,u.Z)(function*(){return Kr(I._delegate,function Aa(y,p,g){return bi.apply(this,arguments)}(I._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function du(y,p){return _o.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function kc(y,p){const g=Yo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){id(nd(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function ta(y,p){return oi.apply(this,arguments)}(g._delegate,Bi);return w?Kr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function zg(y,p){Le(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,I){const{next:O,error:W,complete:ue}=Bp(g,w,I);return this._delegate.onAuthStateChanged(O,W,ue)}onIdTokenChanged(g,w,I){const{next:O,error:W,complete:ue}=Bp(g,w,I);return this._delegate.onIdTokenChanged(O,W,ue)}sendSignInLinkToEmail(g,w){return function Ac(y,p,g){return hh.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function au(y,p,g){return lu.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,u.Z)(function*(){let I;switch(function Kg(y,p){Sl(Object.values(ns).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Sl(p!==ns.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Sl(p===ns.NONE,y,"unsupported-persistence-type"):ia()?Sl(p===ns.NONE||p===ns.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Sl(p===ns.NONE||Zr(),y,"unsupported-persistence-type")}(w._delegate,g),g){case ns.SESSION:I=Fn;break;case ns.LOCAL:I=(yield ae(Ki)._isAvailable())?Ki:er;break;case ns.NONE:I=G;break;default:return Se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Kr(this._delegate,function nu(y){return ch.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Kr(this._delegate,Jn(this._delegate,g))}signInWithCustomToken(g){return Kr(this._delegate,function po(y,p){return mo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Kr(this._delegate,function Mc(y,p,g){return Jn((0,L.m9)(y),Cc.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Kr(this._delegate,function cu(y,p,g){return go.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Pp(this._delegate,function gu(y,p,g){return Un.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,u.Z)(function*(){return id(nd(),w._delegate,"operation-not-supported-in-this-environment"),Kr(w._delegate,function Io(y,p,g){return Mo.apply(this,arguments)}(w._delegate,g,Bi))})()}signInWithRedirect(g){var w=this;return(0,u.Z)(function*(){return id(nd(),w._delegate,"operation-not-supported-in-this-environment"),yield Il(w._delegate),function Xe(y,p,g){return function It(y,p,g){return Tt.apply(this,arguments)}(y,p,g)}(w._delegate,g,Bi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function xn(y,p){return Ma.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ns,y})();function Bp(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const I=w;return{next:W=>I(W&&sa.getOrCreate(W)),error:p,complete:g}}function Kv(y,p){const g=function Qg(y,p){const g=rd();if(!g)return[];const w=he(Lp,y,p);switch(g.getItem(w)){case ns.NONE:return[G];case ns.LOCAL:return[Ki,Fn];case ns.SESSION:return[Fn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(Ki)&&g.push(Ki),"undefined"!=typeof window)for(const w of[er,Fn])g.includes(w)||g.push(w);return g.includes(G)||g.push(G),g}class Up{constructor(){this.providerId="phone",this._delegate=new Xi(Jg(K.Z.auth()))}static credential(p,g){return Xi.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Up.PHONE_SIGN_IN_METHOD=Xi.PHONE_SIGN_IN_METHOD,Up.PROVIDER_ID=Xi.PROVIDER_ID;const Qv=te;class Jv{constructor(p,g,w=K.Z.app()){var I;Qv(null===(I=w.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ug(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function e_(y){y.INTERNAL.registerComponent(new oe.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Vp(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cc,FacebookAuthProvider:$o,GithubAuthProvider:uh,GoogleAuthProvider:hl,OAuthProvider:Sa,SAMLAuthProvider:Li,PhoneAuthProvider:Up,PhoneMultiFactorGenerator:Pv,RecaptchaVerifier:Jv,TwitterAuthProvider:eu,Auth:Vp,AuthCredential:pn,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(st,Ce,R)=>{R.d(Ce,{y:()=>j});var u=R(930),K=R(727),L=R(8822),le=R(4671);var oe=R(2416),ie=R(576),ne=R(2806);let j=(()=>{class Me{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const pe=new Me;return pe.source=this,pe.operator=Fe,pe}subscribe(Fe,pe,De){const tt=function qe(Me){return Me&&Me instanceof u.Lv||function J(Me){return Me&&(0,ie.m)(Me.next)&&(0,ie.m)(Me.error)&&(0,ie.m)(Me.complete)}(Me)&&(0,K.Nn)(Me)}(Fe)?Fe:new u.Hp(Fe,pe,De);return(0,ne.x)(()=>{const{operator:Ze,source:Se}=this;tt.add(Ze?Ze.call(tt,Se):Se?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(pe){Fe.error(pe)}}forEach(Fe,pe){return new(pe=Y(pe))((De,tt)=>{const Ze=new u.Hp({next:Se=>{try{Fe(Se)}catch(ve){tt(ve),Ze.unsubscribe()}},error:tt,complete:De});this.subscribe(Ze)})}_subscribe(Fe){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Fe)}[L.L](){return this}pipe(...Fe){return function me(Me){return 0===Me.length?le.y:1===Me.length?Me[0]:function(Fe){return Me.reduce((pe,De)=>De(pe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=Y(Fe))((pe,De)=>{let tt;this.subscribe(Ze=>tt=Ze,Ze=>De(Ze),()=>pe(tt))})}}return Me.create=Re=>new Me(Re),Me})();function Y(Me){var Re;return null!==(Re=null!=Me?Me:oe.v.Promise)&&void 0!==Re?Re:Promise}},7579:(st,Ce,R)=>{R.d(Ce,{x:()=>oe});var u=R(8306),K=R(727);const le=(0,R(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=R(8737),me=R(2806);let oe=(()=>{class ne extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const J=new ie(this,this);return J.operator=Y,J}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Y)}})}error(Y){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:J}=this;for(;J.length;)J.shift().error(Y)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:J,isStopped:qe,observers:Me}=this;return J||qe?K.Lc:(this.currentObservers=null,Me.push(Y),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Me,Y)}))}_checkFinalizedStatuses(Y){const{hasError:J,thrownError:qe,isStopped:Me}=this;J?Y.error(qe):Me&&Y.complete()}asObservable(){const Y=new u.y;return Y.source=this,Y}}return ne.create=(j,Y)=>new ie(j,Y),ne})();class ie extends oe{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===J||J.call(Y,j)}error(j){var Y,J;null===(J=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===J||J.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,J;return null!==(J=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==J?J:K.Lc}}},930:(st,Ce,R)=>{R.d(Ce,{Hp:()=>Fe,Lv:()=>J});var u=R(576),K=R(727),L=R(2416),le=R(7849),X=R(5032);const me=ne("C",void 0,void 0);function ne(Se,ve,be){return{kind:Se,value:ve,error:be}}var j=R(3410),Y=R(2806);class J extends K.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,K.Nn)(ve)&&ve.add(this)):this.destination=Ze}static create(ve,be,$e){return new Fe(ve,be,$e)}next(ve){this.isStopped?tt(function ie(Se){return ne("N",Se,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?tt(function oe(Se){return ne("E",void 0,Se)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?tt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Me(Se,ve){return qe.call(Se,ve)}class Re{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:be}=this;if(be.next)try{be.next(ve)}catch($e){pe($e)}}error(ve){const{partialObserver:be}=this;if(be.error)try{be.error(ve)}catch($e){pe($e)}else pe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(be){pe(be)}}}class Fe extends J{constructor(ve,be,$e){let Ye;if(super(),(0,u.m)(ve)||!ve)Ye={next:null!=ve?ve:void 0,error:null!=be?be:void 0,complete:null!=$e?$e:void 0};else{let te;this&&L.v.useDeprecatedNextContext?(te=Object.create(ve),te.unsubscribe=()=>this.unsubscribe(),Ye={next:ve.next&&Me(ve.next,te),error:ve.error&&Me(ve.error,te),complete:ve.complete&&Me(ve.complete,te)}):Ye=ve}this.destination=new Re(Ye)}}function pe(Se){L.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Se):(0,le.h)(Se)}function tt(Se,ve){const{onStoppedNotification:be}=L.v;be&&j.z.setTimeout(()=>be(Se,ve))}const Ze={closed:!0,next:X.Z,error:function De(Se){throw Se},complete:X.Z}},727:(st,Ce,R)=>{R.d(Ce,{Lc:()=>me,w0:()=>X,Nn:()=>oe});var u=R(576);const L=(0,R(3888).d)(ne=>function(Y){ne(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((J,qe)=>`${qe+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=R(8737);class X{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Me of Y)Me.remove(this);else Y.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(Me){j=Me instanceof L?Me.errors:[Me]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Me of qe)try{ie(Me)}catch(Re){j=null!=j?j:[],Re instanceof L?j=[...j,...Re.errors]:j.push(Re)}}if(j)throw new L(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)ie(j);else{if(j instanceof X){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,le.P)(Y,j),j instanceof X&&j._removeParent(this)}}X.EMPTY=(()=>{const ne=new X;return ne.closed=!0,ne})();const me=X.EMPTY;function oe(ne){return ne instanceof X||ne&&"closed"in ne&&(0,u.m)(ne.remove)&&(0,u.m)(ne.add)&&(0,u.m)(ne.unsubscribe)}function ie(ne){(0,u.m)(ne)?ne():ne.unsubscribe()}},2416:(st,Ce,R)=>{R.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,R)=>{R.d(Ce,{E:()=>K});const K=new(R(8306).y)(X=>X.complete())},8996:(st,Ce,R)=>{R.d(Ce,{D:()=>ve});var u=R(8421),K=R(5363),L=R(9468),me=R(8306),ie=R(2202),ne=R(576),j=R(9672);function J(be,$e){if(!be)throw new Error("Iterable cannot be null");return new me.y(Ye=>{(0,j.f)(Ye,$e,()=>{const te=be[Symbol.asyncIterator]();(0,j.f)(Ye,$e,()=>{te.next().then(z=>{z.done?Ye.complete():Ye.next(z.value)})},0,!0)})})}var qe=R(3670),Me=R(8239),Re=R(1144),Fe=R(6495),pe=R(2206),De=R(4532),tt=R(3260);function ve(be,$e){return $e?function Se(be,$e){if(null!=be){if((0,qe.c)(be))return function le(be,$e){return(0,u.Xf)(be).pipe((0,L.R)($e),(0,K.Q)($e))}(be,$e);if((0,Re.z)(be))return function oe(be,$e){return new me.y(Ye=>{let te=0;return $e.schedule(function(){te===be.length?Ye.complete():(Ye.next(be[te++]),Ye.closed||this.schedule())})})}(be,$e);if((0,Me.t)(be))return function X(be,$e){return(0,u.Xf)(be).pipe((0,L.R)($e),(0,K.Q)($e))}(be,$e);if((0,pe.D)(be))return J(be,$e);if((0,Fe.T)(be))return function Y(be,$e){return new me.y(Ye=>{let te;return(0,j.f)(Ye,$e,()=>{te=be[ie.h](),(0,j.f)(Ye,$e,()=>{let z,se;try{({value:z,done:se}=te.next())}catch(ge){return void Ye.error(ge)}se?Ye.complete():Ye.next(z)},0,!0)}),()=>(0,ne.m)(null==te?void 0:te.return)&&te.return()})}(be,$e);if((0,tt.L)(be))return function Ze(be,$e){return J((0,tt.Q)(be),$e)}(be,$e)}throw(0,De.z)(be)}(be,$e):(0,u.Xf)(be)}},8421:(st,Ce,R)=>{R.d(Ce,{Xf:()=>qe});var u=R(655),K=R(1144),L=R(8239),le=R(8306),X=R(3670),me=R(2206),oe=R(4532),ie=R(6495),ne=R(3260),j=R(576),Y=R(7849),J=R(8822);function qe(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,X.c)(Se))return function Me(Se){return new le.y(ve=>{const be=Se[J.L]();if((0,j.m)(be.subscribe))return be.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,K.z)(Se))return function Re(Se){return new le.y(ve=>{for(let be=0;be<Se.length&&!ve.closed;be++)ve.next(Se[be]);ve.complete()})}(Se);if((0,L.t)(Se))return function Fe(Se){return new le.y(ve=>{Se.then(be=>{ve.closed||(ve.next(be),ve.complete())},be=>ve.error(be)).then(null,Y.h)})}(Se);if((0,me.D)(Se))return De(Se);if((0,ie.T)(Se))return function pe(Se){return new le.y(ve=>{for(const be of Se)if(ve.next(be),ve.closed)return;ve.complete()})}(Se);if((0,ne.L)(Se))return function tt(Se){return De((0,ne.Q)(Se))}(Se)}throw(0,oe.z)(Se)}function De(Se){return new le.y(ve=>{(function Ze(Se,ve){var be,$e,Ye,te;return(0,u.mG)(this,void 0,void 0,function*(){try{for(be=(0,u.KL)(Se);!($e=yield be.next()).done;)if(ve.next($e.value),ve.closed)return}catch(z){Ye={error:z}}finally{try{$e&&!$e.done&&(te=be.return)&&(yield te.call(be))}finally{if(Ye)throw Ye.error}}ve.complete()})})(Se,ve).catch(be=>ve.error(be))})}},6451:(st,Ce,R)=>{R.d(Ce,{T:()=>me});var u=R(8189),K=R(8421),L=R(515),le=R(3269),X=R(8996);function me(...oe){const ie=(0,le.yG)(oe),ne=(0,le._6)(oe,1/0),j=oe;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,u.J)(ne)((0,X.D)(j,ie)):L.E}},5403:(st,Ce,R)=>{R.d(Ce,{x:()=>K});var u=R(930);function K(le,X,me,oe,ie){return new L(le,X,me,oe,ie)}class L extends u.Lv{constructor(X,me,oe,ie,ne,j){super(X),this.onFinalize=ne,this.shouldUnsubscribe=j,this._next=me?function(Y){try{me(Y)}catch(J){X.error(J)}}:super._next,this._error=ie?function(Y){try{ie(Y)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(Y){X.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(st,Ce,R)=>{R.d(Ce,{U:()=>L});var u=R(4482),K=R(5403);function L(le,X){return(0,u.e)((me,oe)=>{let ie=0;me.subscribe((0,K.x)(oe,ne=>{oe.next(le.call(X,ne,ie++))}))})}},8189:(st,Ce,R)=>{R.d(Ce,{J:()=>L});var u=R(5577),K=R(4671);function L(le=1/0){return(0,u.z)(K.y,le)}},5577:(st,Ce,R)=>{R.d(Ce,{z:()=>ie});var u=R(4004),K=R(8421),L=R(4482),le=R(9672),X=R(5403),oe=R(576);function ie(ne,j,Y=1/0){return(0,oe.m)(j)?ie((J,qe)=>(0,u.U)((Me,Re)=>j(J,Me,qe,Re))((0,K.Xf)(ne(J,qe))),Y):("number"==typeof j&&(Y=j),(0,L.e)((J,qe)=>function me(ne,j,Y,J,qe,Me,Re,Fe){const pe=[];let De=0,tt=0,Ze=!1;const Se=()=>{Ze&&!pe.length&&!De&&j.complete()},ve=$e=>De<J?be($e):pe.push($e),be=$e=>{Me&&j.next($e),De++;let Ye=!1;(0,K.Xf)(Y($e,tt++)).subscribe((0,X.x)(j,te=>{null==qe||qe(te),Me?ve(te):j.next(te)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(De--;pe.length&&De<J;){const te=pe.shift();Re?(0,le.f)(j,Re,()=>be(te)):be(te)}Se()}catch(te){j.error(te)}}))};return ne.subscribe((0,X.x)(j,ve,()=>{Ze=!0,Se()})),()=>{null==Fe||Fe()}}(J,qe,ne,Y)))}},5363:(st,Ce,R)=>{R.d(Ce,{Q:()=>le});var u=R(9672),K=R(4482),L=R(5403);function le(X,me=0){return(0,K.e)((oe,ie)=>{oe.subscribe((0,L.x)(ie,ne=>(0,u.f)(ie,X,()=>ie.next(ne),me),()=>(0,u.f)(ie,X,()=>ie.complete(),me),ne=>(0,u.f)(ie,X,()=>ie.error(ne),me)))})}},3099:(st,Ce,R)=>{R.d(Ce,{B:()=>me});var u=R(8996),K=R(5698),L=R(7579),le=R(930),X=R(4482);function me(ie={}){const{connector:ne=(()=>new L.x),resetOnError:j=!0,resetOnComplete:Y=!0,resetOnRefCountZero:J=!0}=ie;return qe=>{let Me=null,Re=null,Fe=null,pe=0,De=!1,tt=!1;const Ze=()=>{null==Re||Re.unsubscribe(),Re=null},Se=()=>{Ze(),Me=Fe=null,De=tt=!1},ve=()=>{const be=Me;Se(),null==be||be.unsubscribe()};return(0,X.e)((be,$e)=>{pe++,!tt&&!De&&Ze();const Ye=Fe=null!=Fe?Fe:ne();$e.add(()=>{pe--,0===pe&&!tt&&!De&&(Re=oe(ve,J))}),Ye.subscribe($e),Me||(Me=new le.Hp({next:te=>Ye.next(te),error:te=>{tt=!0,Ze(),Re=oe(Se,j,te),Ye.error(te)},complete:()=>{De=!0,Ze(),Re=oe(Se,Y),Ye.complete()}}),(0,u.D)(be).subscribe(Me))})(qe)}}function oe(ie,ne,...j){return!0===ne?(ie(),null):!1===ne?null:ne(...j).pipe((0,K.q)(1)).subscribe(()=>ie())}},9468:(st,Ce,R)=>{R.d(Ce,{R:()=>K});var u=R(4482);function K(L,le=0){return(0,u.e)((X,me)=>{me.add(L.schedule(()=>X.subscribe(me),le))})}},5698:(st,Ce,R)=>{R.d(Ce,{q:()=>le});var u=R(515),K=R(4482),L=R(5403);function le(X){return X<=0?()=>u.E:(0,K.e)((me,oe)=>{let ie=0;me.subscribe((0,L.x)(oe,ne=>{++ie<=X&&(oe.next(ne),X<=ie&&oe.complete())}))})}},8505:(st,Ce,R)=>{R.d(Ce,{b:()=>X});var u=R(576),K=R(4482),L=R(5403),le=R(4671);function X(me,oe,ie){const ne=(0,u.m)(me)||oe||ie?{next:me,error:oe,complete:ie}:me;return ne?(0,K.e)((j,Y)=>{var J;null===(J=ne.subscribe)||void 0===J||J.call(ne);let qe=!0;j.subscribe((0,L.x)(Y,Me=>{var Re;null===(Re=ne.next)||void 0===Re||Re.call(ne,Me),Y.next(Me)},()=>{var Me;qe=!1,null===(Me=ne.complete)||void 0===Me||Me.call(ne),Y.complete()},Me=>{var Re;qe=!1,null===(Re=ne.error)||void 0===Re||Re.call(ne,Me),Y.error(Me)},()=>{var Me,Re;qe&&(null===(Me=ne.unsubscribe)||void 0===Me||Me.call(ne)),null===(Re=ne.finalize)||void 0===Re||Re.call(ne)}))}):le.y}},4408:(st,Ce,R)=>{R.d(Ce,{o:()=>X});var u=R(727);class K extends u.w0{constructor(oe,ie){super()}schedule(oe,ie=0){return this}}const L={setInterval(me,oe,...ie){const{delegate:ne}=L;return(null==ne?void 0:ne.setInterval)?ne.setInterval(me,oe,...ie):setInterval(me,oe,...ie)},clearInterval(me){const{delegate:oe}=L;return((null==oe?void 0:oe.clearInterval)||clearInterval)(me)},delegate:void 0};var le=R(8737);class X extends K{constructor(oe,ie){super(oe,ie),this.scheduler=oe,this.work=ie,this.pending=!1}schedule(oe,ie=0){if(this.closed)return this;this.state=oe;const ne=this.id,j=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(j,ne,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(j,this.id,ie),this}requestAsyncId(oe,ie,ne=0){return L.setInterval(oe.flush.bind(oe,this),ne)}recycleAsyncId(oe,ie,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return ie;L.clearInterval(ie)}execute(oe,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(oe,ie);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ie){let j,ne=!1;try{this.work(oe)}catch(Y){ne=!0,j=Y||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ie}=this,{actions:ne}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ne,this),null!=oe&&(this.id=this.recycleAsyncId(ie,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,R)=>{R.d(Ce,{v:()=>L});var u=R(6063);class K{constructor(X,me=K.now){this.schedulerActionCtor=X,this.now=me}schedule(X,me=0,oe){return new this.schedulerActionCtor(this,X).schedule(oe,me)}}K.now=u.l.now;class L extends K{constructor(X,me=K.now){super(X,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:me}=this;if(this._active)return void me.push(X);let oe;this._active=!0;do{if(oe=X.execute(X.state,X.delay))break}while(X=me.shift());if(this._active=!1,oe){for(;X=me.shift();)X.unsubscribe();throw oe}}}},4986:(st,Ce,R)=>{R.d(Ce,{z:()=>L,P:()=>le});var u=R(4408);const L=new(R(7565).v)(u.o),le=L},6063:(st,Ce,R)=>{R.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(st,Ce,R)=>{R.d(Ce,{N:()=>X});var u=R(4408),L=R(7565);const X=new class le extends L.v{}(class K extends u.o{constructor(ie,ne){super(ie,ne),this.scheduler=ie,this.work=ne}schedule(ie,ne=0){return ne>0?super.schedule(ie,ne):(this.delay=ne,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ne){return ne>0||this.closed?super.execute(ie,ne):this._execute(ie,ne)}requestAsyncId(ie,ne,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(ie,ne,j):ie.flush(this)}})},3410:(st,Ce,R)=>{R.d(Ce,{z:()=>u});const u={setTimeout(K,L,...le){const{delegate:X}=u;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,L,...le):setTimeout(K,L,...le)},clearTimeout(K){const{delegate:L}=u;return((null==L?void 0:L.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(st,Ce,R)=>{R.d(Ce,{h:()=>K});const K=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,R)=>{R.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,R)=>{R.d(Ce,{jO:()=>le,yG:()=>X,_6:()=>me});var u=R(576),K=R(3532);function L(oe){return oe[oe.length-1]}function le(oe){return(0,u.m)(L(oe))?oe.pop():void 0}function X(oe){return(0,K.K)(L(oe))?oe.pop():void 0}function me(oe,ie){return"number"==typeof L(oe)?oe.pop():ie}},8737:(st,Ce,R)=>{function u(K,L){if(K){const le=K.indexOf(L);0<=le&&K.splice(le,1)}}R.d(Ce,{P:()=>u})},3888:(st,Ce,R)=>{function u(K){const le=K(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}R.d(Ce,{d:()=>u})},2806:(st,Ce,R)=>{R.d(Ce,{x:()=>L,O:()=>le});var u=R(2416);let K=null;function L(X){if(u.v.useDeprecatedSynchronousErrorHandling){const me=!K;if(me&&(K={errorThrown:!1,error:null}),X(),me){const{errorThrown:oe,error:ie}=K;if(K=null,oe)throw ie}}else X()}function le(X){u.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(st,Ce,R)=>{function u(K,L,le,X=0,me=!1){const oe=L.schedule(function(){le(),me?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(oe),!me)return oe}R.d(Ce,{f:()=>u})},4671:(st,Ce,R)=>{function u(K){return K}R.d(Ce,{y:()=>u})},1144:(st,Ce,R)=>{R.d(Ce,{z:()=>u});const u=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(st,Ce,R)=>{R.d(Ce,{D:()=>K});var u=R(576);function K(L){return Symbol.asyncIterator&&(0,u.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(st,Ce,R)=>{function u(K){return"function"==typeof K}R.d(Ce,{m:()=>u})},3670:(st,Ce,R)=>{R.d(Ce,{c:()=>L});var u=R(8822),K=R(576);function L(le){return(0,K.m)(le[u.L])}},6495:(st,Ce,R)=>{R.d(Ce,{T:()=>L});var u=R(2202),K=R(576);function L(le){return(0,K.m)(null==le?void 0:le[u.h])}},8239:(st,Ce,R)=>{R.d(Ce,{t:()=>K});var u=R(576);function K(L){return(0,u.m)(null==L?void 0:L.then)}},3260:(st,Ce,R)=>{R.d(Ce,{Q:()=>L,L:()=>le});var u=R(655),K=R(576);function L(X){return(0,u.FC)(this,arguments,function*(){const oe=X.getReader();try{for(;;){const{value:ie,done:ne}=yield(0,u.qq)(oe.read());if(ne)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ie)}}finally{oe.releaseLock()}})}function le(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(st,Ce,R)=>{R.d(Ce,{K:()=>K});var u=R(576);function K(L){return L&&(0,u.m)(L.schedule)}},4482:(st,Ce,R)=>{R.d(Ce,{A:()=>K,e:()=>L});var u=R(576);function K(le){return(0,u.m)(null==le?void 0:le.lift)}function L(le){return X=>{if(K(X))return X.lift(function(me){try{return le(me,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,R)=>{function u(){}R.d(Ce,{Z:()=>u})},7849:(st,Ce,R)=>{R.d(Ce,{h:()=>L});var u=R(2416),K=R(3410);function L(le){K.z.setTimeout(()=>{const{onUnhandledError:X}=u.v;if(!X)throw le;X(le)})}},4532:(st,Ce,R)=>{function u(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ce,{z:()=>u})},655:(st,Ce,R)=>{function le(z,se){var ge={};for(var ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&se.indexOf(ae)<0&&(ge[ae]=z[ae]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ae=Object.getOwnPropertySymbols(z);xe<ae.length;xe++)se.indexOf(ae[xe])<0&&Object.prototype.propertyIsEnumerable.call(z,ae[xe])&&(ge[ae[xe]]=z[ae[xe]])}return ge}function X(z,se,ge,ae){var At,xe=arguments.length,ce=xe<3?se:null===ae?ae=Object.getOwnPropertyDescriptor(se,ge):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(z,se,ge,ae);else for(var an=z.length-1;an>=0;an--)(At=z[an])&&(ce=(xe<3?At(ce):xe>3?At(se,ge,ce):At(se,ge))||ce);return xe>3&&ce&&Object.defineProperty(se,ge,ce),ce}function oe(z,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,se)}function ie(z,se,ge,ae){return new(ge||(ge=Promise))(function(ce,At){function an(wt){try{lt(ae.next(wt))}catch(_n){At(_n)}}function Kn(wt){try{lt(ae.throw(wt))}catch(_n){At(_n)}}function lt(wt){wt.done?ce(wt.value):function xe(ce){return ce instanceof ge?ce:new ge(function(At){At(ce)})}(wt.value).then(an,Kn)}lt((ae=ae.apply(z,se||[])).next())})}function pe(z){return this instanceof pe?(this.v=z,this):new pe(z)}function De(z,se,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ae=ge.apply(z,se||[]),ce=[];return xe={},At("next"),At("throw"),At("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function At(yn){ae[yn]&&(xe[yn]=function(Wi){return new Promise(function(fn,Es){ce.push([yn,Wi,fn,Es])>1||an(yn,Wi)})})}function an(yn,Wi){try{!function Kn(yn){yn.value instanceof pe?Promise.resolve(yn.value.v).then(lt,wt):_n(ce[0][2],yn)}(ae[yn](Wi))}catch(fn){_n(ce[0][3],fn)}}function lt(yn){an("next",yn)}function wt(yn){an("throw",yn)}function _n(yn,Wi){yn(Wi),ce.shift(),ce.length&&an(ce[0][0],ce[0][1])}}function Ze(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,se=z[Symbol.asyncIterator];return se?se.call(z):(z=function J(z){var se="function"==typeof Symbol&&Symbol.iterator,ge=se&&z[se],ae=0;if(ge)return ge.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ae>=z.length&&(z=void 0),{value:z&&z[ae++],done:!z}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),ge={},ae("next"),ae("throw"),ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ae(ce){ge[ce]=z[ce]&&function(At){return new Promise(function(an,Kn){!function xe(ce,At,an,Kn){Promise.resolve(Kn).then(function(lt){ce({value:lt,done:an})},At)}(an,Kn,(At=z[ce](At)).done,At.value)})}}}R.d(Ce,{_T:()=>le,gn:()=>X,w6:()=>oe,mG:()=>ie,qq:()=>pe,FC:()=>De,KL:()=>Ze})},5e3:(st,Ce,R)=>{R.d(Ce,{deG:()=>Fg,tb:()=>Qw,AFp:()=>KE,ip1:()=>ZE,CZH:()=>zw,hGG:()=>VM,z2F:()=>ob,sBO:()=>iT,Sil:()=>XE,_Vd:()=>Po,EJc:()=>CM,SBq:()=>Cf,qLn:()=>Kr,vpe:()=>Fo,tBr:()=>Ao,XFs:()=>ct,OlP:()=>Gn,zs3:()=>Ya,ZZ4:()=>zm,aQg:()=>$y,soG:()=>qs,YKP:()=>xm,h0i:()=>Ul,PXZ:()=>Uf,R0b:()=>zs,FiY:()=>wu,Lbi:()=>JE,g9A:()=>Kw,Qsj:()=>my,FYo:()=>Ef,JOm:()=>ue,tp0:()=>Du,Rgc:()=>kf,dDg:()=>Vf,q4F:()=>bE,GfV:()=>wE,s_b:()=>Nm,ifc:()=>Zt,eFA:()=>ib,G48:()=>By,Gpc:()=>Y,X6Q:()=>Gm,_c5:()=>hT,VLi:()=>nb,c2e:()=>fe,zSh:()=>C_,wAp:()=>_t,vHH:()=>Re,cg1:()=>iy,kL8:()=>sy,dqk:()=>Wt,sIi:()=>Xh,CqO:()=>Q0,QGY:()=>j_,F4k:()=>cm,RDi:()=>Os,AaK:()=>ie,qOj:()=>fd,TTD:()=>$o,_Bn:()=>Am,xp6:()=>$p,uIk:()=>x_,Tol:()=>qn,ekj:()=>df,Suo:()=>PE,Xpm:()=>Ut,lG2:()=>en,Yz7:()=>fn,cJS:()=>ln,oAB:()=>Q,Yjl:()=>$r,Y36:()=>vd,_UZ:()=>of,BQk:()=>H_,ynx:()=>Ol,qZA:()=>um,TgZ:()=>lm,EpF:()=>Gu,n5z:()=>Eh,LFG:()=>jt,$8M:()=>Co,$Z:()=>Z0,NdJ:()=>bd,CRH:()=>Fm,kcU:()=>Tv,O4$:()=>_h,oxw:()=>ew,ALo:()=>Nd,lcZ:()=>Lw,xi3:()=>Af,Hsn:()=>rw,F$t:()=>nw,Q6J:()=>K0,s9C:()=>Dd,DdM:()=>Dy,iGM:()=>NE,MAs:()=>U0,CHM:()=>Ic,LSH:()=>Mu,Udp:()=>cf,YNc:()=>TC,W1O:()=>Hw,_uU:()=>fw,Oqu:()=>pw,hij:()=>_m,AsE:()=>z_,Gf:()=>vn});var u=R(7579),K=R(727),L=R(8306),le=R(6451),X=R(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function oe(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ne(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=me({__forward_ref__:me});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return ie(this())},s}function J(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===Y}class Re extends Error{constructor(o,l){super(function Fe(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function ve(s,o){const l=o?` in ${o}`:"";throw new Re(-201,`No provider for ${De(s)} found${l}`)}function lt(s,o){null==s&&function wt(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ln(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return xr(s,as)||xr(s,Ts)}function xr(s,o){return s.hasOwnProperty(o)?s[o]:null}function ti(s){return s&&(s.hasOwnProperty(ni)||s.hasOwnProperty(Ss))?s[ni]:null}const as=me({\u0275prov:me}),ni=me({\u0275inj:me}),Ts=me({ngInjectableDef:me}),Ss=me({ngInjectorDef:me});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let gi;function hr(s){const o=gi;return gi=s,o}function Oi(s,o,l){const d=zt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ct.Optional?null:void 0!==o?o:void ve(ie(s),"Injector")}function An(s){return{toString:s}.toString()}var br=(()=>((br=br||{})[br.OnPush=0]="OnPush",br[br.Default=1]="Default",br))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=ot||"undefined"!=typeof global&&global||St||Or,Rr={},ht=[],Yr=me({\u0275cmp:me}),Yt=me({\u0275dir:me}),Ke=me({\u0275pipe:me}),Ie=me({\u0275mod:me}),Je=me({\u0275fac:me}),ft=me({__NG_ELEMENT_ID__:me});let Gt=0;function Ut(s){return An(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===br.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=Gt++,d.inputs=bt(s.inputs,l),d.outputs=bt(s.outputs),m&&m.forEach(b=>b(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(G):null,d})}function V(s){return Kt(s)||function Yn(s){return s[Yt]||null}(s)}function G(s){return function Pt(s){return s[Ke]||null}(s)}const he={};function Q(s){return An(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function bt(s,o){if(null==s)return Rr;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,o&&(o[h]=m)}return l}const en=Ut;function $r(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kt(s){return s[Yr]||null}function Cn(s,o){const l=s[Ie]||null;if(!l&&!0===o)throw new Error(`Type ${ie(s)} does not have '\u0275mod' property.`);return l}function _i(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function ih(s){return 0!=(8&s.flags)}function ao(s){return 2==(2&s.flags)}function Ql(s){return 1==(1&s.flags)}function yi(s){return null!==s.template}function lp(s){return 0!=(512&s[2])}function vi(s,o){return s.hasOwnProperty(Je)?s[Je]:null}class Sa{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function $o(){return hl}function hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Lg),uh}function uh(){const s=co(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Rr)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Lg(s,o,l,d){const h=co(s)||function Li(s,o){return s[kn]=o}(s,{previous:Rr,current:null}),m=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[l],C=v[b];m[b]=new Sa(C&&C.currentValue,o,v===Rr),s[d]=o}$o.ngInherit=!0;const kn="__ngSimpleChanges__";function co(s){return s[kn]||null}let iu;function Os(s){iu=s}function In(s){return!!s.listen}const Ia={createRenderer:(s,o)=>function fl(){return void 0!==iu?iu:"undefined"!=typeof document?document:void 0}()};function gn(s){for(;Array.isArray(s);)s=s[0];return s}function Wo(s,o){return gn(o[s])}function Gr(s,o){return gn(o[s.index])}function pl(s,o){return s.data[o]}function qi(s,o){return s[o]}function Wr(s,o){const l=o[s];return _i(l)?l:l[0]}function fo(s){return 4==(4&s[2])}function Rs(s){return 128==(128&s[2])}function wi(s,o){return null==o?null:s[o]}function po(s){s[18]=0}function mo(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const pt={lFrame:zo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uu(){return pt.bindingsEnabled}function Ee(){return pt.lFrame.lView}function Ht(){return pt.lFrame.tView}function Ic(s){return pt.lFrame.contextLView=s,s[8]}function xn(){let s=Ma();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ma(){return pt.lFrame.currentTNode}function bi(s,o){const l=pt.lFrame;l.currentTNode=s,l.isParent=o}function Mc(){return pt.lFrame.isParent}function Ac(){pt.lFrame.isParent=!1}function cu(){return pt.isInCheckNoChangesMode}function go(s){pt.isInCheckNoChangesMode=s}function Pr(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function _o(){return pt.lFrame.bindingIndex++}function zi(s){const o=pt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function fu(s,o){const l=pt.lFrame;l.bindingIndex=l.bindingRootIndex=s,gl(o)}function gl(s){pt.lFrame.currentDirectiveIndex=s}function Rc(){return pt.lFrame.currentQueryIndex}function Lc(s){pt.lFrame.currentQueryIndex=s}function fh(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Nc(s,o,l){if(l&ct.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&ct.Host||(h=fh(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=pt.lFrame=ph();return d.currentTNode=o,d.lView=s,!0}function qo(s){const o=ph(),l=s[1];pt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function ph(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?zo(s):o}function zo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function mh(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const gh=mh;function Zo(){const s=mh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qr(){return pt.lFrame.selectedIndex}function vo(s){pt.lFrame.selectedIndex=s}function $n(){const s=pt.lFrame;return pl(s.tView,s.selectedIndex)}function _h(){pt.lFrame.currentNamespace="svg"}function Tv(){!function Fc(){pt.lFrame.currentNamespace=null}()}function Ls(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function _l(s,o,l){yh(s,o,3,l)}function pu(s,o,l,d){(3&s[2])===l&&yh(s,o,l,d)}function or(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function yh(s,o,l,d){const m=null!=d?d:-1,v=o.length-1;let b=0;for(let C=void 0!==d?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=d&&b>=d)break}else o[C]<0&&(s[18]+=65536),(b<m||-1==m)&&(Ng(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Ng(s,o,l,d){const h=l[d]<0,m=l[d+1],b=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(b)}finally{}}}else try{m.call(b)}finally{}}class xa{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function mt(s,o,l){const d=In(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const v=l[h++],b=l[h++],C=l[h++];d?s.setAttribute(o,b,C,v):o.setAttributeNS(v,b,C)}else{const v=m,b=l[++h];ar(v)?d&&s.setProperty(o,v,b):d?s.setAttribute(o,v,b):o.setAttribute(v,b),h++}}return h}function Fn(s){return 3===s||4===s||6===s}function ar(s){return 64===s.charCodeAt(0)}function Cr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Oa(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Oa(s,o,l,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const b=s[m++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=m-1;break}}}for(;m<s.length;){const b=s[m];if("number"==typeof b)break;if(b===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function bh(s){return-1!==s}function Tn(s){return 32767&s}function Zi(s,o){let l=function fp(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let mu=!0;function Pi(s){const o=mu;return mu=s,o}let Hc=0;function tr(s,o){const l=Jo(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ps(d.data,s),Ps(o,null),Ps(d.blueprint,null));const h=Fi(s,o),m=s.injectorIndex;if(bh(h)){const v=Tn(h),b=Zi(h,o),C=b[1].data;for(let M=0;M<8;M++)o[m+M]=b[v+M]|C[v+M]}return o[m+8]=h,m}function Ps(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Jo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Fi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function wo(s,o,l){!function Qo(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ft)&&(d=l[ft]),null==d&&(d=l[ft]=Hc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function ds(s,o,l){if(l&ct.Optional)return s;ve(o,"NodeInjector")}function jc(s,o,l,d){if(l&ct.Optional&&void 0===d&&(d=null),0==(l&(ct.Self|ct.Host))){const h=s[9],m=hr(void 0);try{return h?h.get(o,d,l&ct.Optional):Oi(o,d,l&ct.Optional)}finally{hr(m)}}return ds(d,o,l)}function bo(s,o,l,d=ct.Default,h){if(null!==s){const m=function Ra(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:Yc:o}(l);if("function"==typeof m){if(!Nc(o,s,d))return d&ct.Host?ds(h,l,d):jc(o,l,d,h);try{const v=m(d);if(null!=v||d&ct.Optional)return v;ve(l)}finally{gh()}}else if("number"==typeof m){let v=null,b=Jo(s,o),C=-1,M=d&ct.Host?o[16][6]:null;for((-1===b||d&ct.SkipSelf)&&(C=-1===b?Fi(s,o):o[b+8],-1!==C&&zr(d,!1)?(v=o[1],b=Tn(C),o=Zi(C,o)):b=-1);-1!==b;){const k=o[1];if(fs(m,b,k.data)){const P=Ch(b,o,l,v,d,M);if(P!==hs)return P}C=o[b+8],-1!==C&&zr(d,o[1].data[b+8]===M)&&fs(m,b,o)?(v=k,b=Tn(C),o=Zi(C,o)):b=-1}}}return jc(o,l,d,h)}const hs={};function Yc(){return new Qi(xn(),Ee())}function Ch(s,o,l,d,h,m){const v=o[1],b=v.data[s+8],k=Do(b,v,l,null==d?ao(b)&&mu:d!=v&&0!=(3&b.type),h&ct.Host&&m===b);return null!==k?Ki(o,v,k,b):hs}function Do(s,o,l,d,h){const m=s.providerIndexes,v=o.data,b=1048575&m,C=s.directiveStart,k=m>>20,U=h?b+k:s.directiveEnd;for(let Z=d?b:b+k;Z<U;Z++){const ye=v[Z];if(Z<C&&l===ye||Z>=C&&ye.type===l)return Z}if(h){const Z=v[C];if(Z&&yi(Z)&&Z.type===l)return C}return null}function Ki(s,o,l,d){let h=s[l];const m=o.data;if(function vh(s){return s instanceof xa}(h)){const v=h;v.resolving&&function tt(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(De(m[l]));const b=Pi(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?hr(v.injectImpl):null;Nc(s,d,ct.Default);try{h=s[l]=v.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Vc(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=hl(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==C&&hr(C),Pi(b),v.resolving=!1,gh()}}return h}function fs(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function zr(s,o){return!(s&ct.Self||s&ct.Host&&o)}class Qi{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return bo(this._tNode,this._lView,o,d,l)}}function Eh(s){return An(()=>{const o=s.prototype.constructor,l=o[Je]||Vn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Je]||Vn(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Vn(s){return qe(s)?()=>{const o=Vn(J(s));return o&&o()}:vi(s)}function Co(s){return function Vi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Fn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(xn(),s)}const La="__parameters__";function Bn(s,o,l){return An(()=>{const d=function ps(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return b.annotation=v,b;function b(C,M,k){const P=C.hasOwnProperty(La)?C[La]:Object.defineProperty(C,La,{value:[]})[La];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Gn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=fn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fg=new Gn("AnalyzeForEntryComponents");function Er(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Er(d,o)):o!==s&&o.push(d)}return o}function si(s,o){s.forEach(l=>Array.isArray(l)?si(l,o):o(l))}function vl(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Vs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function nr(s,o,l){let d=Io(s,o);return d>=0?s[1|d]=l:(d=~d,function Hg(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function _u(s,o){const l=Io(s,o);if(l>=0)return s[1|l]}function Io(s,o){return function Mh(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:d=m+1}return~(h<<l)}(s,o,1)}const x={},F="__NG_DI_FLAG__",q="ngTempTokenPath",ke=/\n/gm,It="__source",Tt=me({provide:String,useValue:me});let Bt;function Dt(s){const o=Bt;return Bt=s,o}function Ct(s,o=ct.Default){if(void 0===Bt)throw new Re(203,"");return null===Bt?Oi(s,void 0,o):Bt.get(s,o&ct.Optional?null:void 0,o)}function jt(s,o=ct.Default){return(function wr(){return gi}()||Ct)(J(s),o)}const es=jt;function ta(s){const o=[];for(let l=0;l<s.length;l++){const d=J(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let h,m=ct.Default;for(let v=0;v<d.length;v++){const b=d[v],C=ms(b);"number"==typeof C?-1===C?h=b.token:m|=C:h=b}o.push(jt(h,m))}else o.push(jt(d))}return o}function oi(s,o){return s[F]=o,s.prototype[F]=o,s}function ms(s){return s[F]}const Ao=oi(Bn("Inject",s=>({token:s})),-1),wu=oi(Bn("Optional"),8),Du=oi(Bn("SkipSelf"),4);class Ph{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ko(s){return s instanceof Ph?s.changingThisBreaksApplicationSecurity:s}const xo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var dn=(()=>((dn=dn||{})[dn.NONE=0]="NONE",dn[dn.HTML=1]="HTML",dn[dn.STYLE=2]="STYLE",dn[dn.SCRIPT=3]="SCRIPT",dn[dn.URL=4]="URL",dn[dn.RESOURCE_URL=5]="RESOURCE_URL",dn))();function Mu(s){const o=function Va(){const s=Ee();return s&&s[12]}();return o?o.sanitize(dn.URL,s)||"":function Pa(s,o){const l=function Eu(s){return s instanceof Ph&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?ko(s):function Tu(s){return(s=String(s)).match(xo)||s.match(Dp)?s:"unsafe:"+s}(pe(s))}const Op="__ngContext__";function ai(s,o){s[Op]=o}function Rp(s){const o=function Tl(s){return s[Op]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ml(s){return s.ngOriginalError}function Xg(s,...o){s.error(...o)}class Kr{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function zv(s){return s&&s.ngErrorLogger||Xg}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ml(o);for(;l&&Ml(l);)l=Ml(l);return l||null}}const Jv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function g(s){return s instanceof Function?s():s}var ue=(()=>((ue=ue||{})[ue.Important=1]="Important",ue[ue.DashCase=2]="DashCase",ue))();function et(s,o){return undefined(s,o)}function Wn(s){const o=s[3];return ri(o)?o[3]:o}function Au(s){return Hp(s[13])}function ku(s){return Hp(s[4])}function Hp(s){for(;null!==s&&!ri(s);)s=s[4];return s}function Ba(s,o,l,d,h){if(null!=d){let m,v=!1;ri(d)?m=d:_i(d)&&(v=!0,d=d[0]);const b=gn(d);0===s&&null!==l?null==h?o0(o,l,b):Ys(o,l,b,h||null,!0):1===s&&null!==l?Ys(o,l,b,h||null,!0):2===s?function c0(s,o,l){const d=li(s,o);d&&function FS(s,o,l,d){In(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,b,v):3===s&&o.destroyNode(b),null!=m&&function bD(s,o,l,d,h){const m=l[7];m!==gn(l)&&Ba(o,s,d,m,h);for(let b=10;b<l.length;b++){const C=l[b];i_(C[1],C,s,o,d,m)}}(o,s,m,l,h)}}function $h(s,o,l){if(In(s))return s.createElement(o,l);{const d=null!==l?function ru(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function dD(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,mo(h,-1)),l.splice(d,1)}function n0(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&dD(h,d),o>0&&(s[l-1][4]=d[4]);const m=Vs(s,10+o);!function rs(s,o){i_(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function r0(s,o){if(!(256&o[2])){const l=o[11];In(l)&&l.destroyNode&&i_(s,o,l,3,null,null),function t0(s){let o=s[13];if(!o)return s0(s[1],s);for(;o;){let l=null;if(_i(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)_i(o)&&s0(o[1],o),o=o[3];null===o&&(o=s),_i(o)&&s0(o[1],o),l=o&&o[4]}o=l}}(o)}}function s0(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function fD(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof xa)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const b=h[m[v]],C=m[v+1];try{C.call(b)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function hD(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],b="function"==typeof v?v(o):gn(o[v]),C=d[h=l[m+2]],M=l[m+3];"boolean"==typeof M?b.removeEventListener(l[m],C,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(s,o),1===o[1].type&&In(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&ri(o[3])){l!==o[3]&&dD(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function n_(s,o,l){return function PS(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return Gr(d,l)}(s,o.parent,l)}function Ys(s,o,l,d,h){In(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function o0(s,o,l){In(s)?s.appendChild(o,l):o.appendChild(l)}function pD(s,o,l,d,h){null!==d?Ys(s,o,l,d,h):o0(s,o,l)}function li(s,o){return In(s)?s.parentNode(o):o.parentNode}function mD(s,o,l){return a0(s,o,l)}let a0=function gD(s,o,l){return 40&s.type?Gr(s,l):null};function r_(s,o,l,d){const h=n_(s,d,o),m=o[11],b=mD(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)pD(m,h,l[C],b,!1);else pD(m,h,l,b,!1)}function Wh(s,o){if(null!==o){const l=o.type;if(3&l)return Gr(o,s);if(4&l)return u0(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Wh(s,d);{const h=s[o.index];return ri(h)?u0(-1,h):gn(h)}}if(32&l)return et(o,s)()||gn(s[o.index]);{const d=yD(s,o);return null!==d?Array.isArray(d)?d[0]:Wh(Wn(s[16]),d):Wh(s,o.next)}}return null}function yD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function u0(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Wh(d,h)}return o[7]}function d0(s,o,l,d,h,m,v){for(;null!=l;){const b=d[l.index],C=l.type;if(v&&0===o&&(b&&ai(gn(b),d),l.flags|=4),64!=(64&l.flags))if(8&C)d0(s,o,l.child,d,h,m,!1),Ba(o,s,h,b,m);else if(32&C){const M=et(l,d);let k;for(;k=M();)Ba(o,s,h,k,m);Ba(o,s,h,b,m)}else 16&C?wD(s,o,d,l,h,m):Ba(o,s,h,b,m);l=v?l.projectionNext:l.next}}function i_(s,o,l,d,h,m){d0(l,d,s.firstChild,o,h,m,!1)}function wD(s,o,l,d,h,m){const v=l[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Ba(o,s,h,C[M],m);else d0(s,o,C,v[3],h,m,!0)}function _s(s,o,l){In(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function h0(s,o,l){In(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function f0(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const DD="ng-template";function BS(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==f0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ua(s){return 4===s.type&&s.value!==DD}function Ou(s,o,l){return o===(4!==s.type||l?s.value:DD)}function CD(s,o,l){let d=4;const h=s.attrs||[],m=function TD(s){for(let o=0;o<s.length;o++)if(Fn(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!Ou(s,C,l)||""===C&&1===o.length){if(Rn(d))return!1;v=!0}}else{const M=8&d?C:o[++b];if(8&d&&null!==s.attrs){if(!BS(s.attrs,M,l)){if(Rn(d))return!1;v=!0}continue}const P=Ru(8&d?"class":C,h,Ua(s),l);if(-1===P){if(Rn(d))return!1;v=!0;continue}if(""!==M){let U;U=P>m?"":h[P+1].toLowerCase();const Z=8&d?U:null;if(Z&&-1!==f0(Z,M,0)||2&d&&M!==U){if(Rn(d))return!1;v=!0}}}}else{if(!v&&!Rn(d)&&!Rn(C))return!1;if(v&&Rn(C))continue;v=!1,d=C|1&d}}return Rn(d)||v}function Rn(s){return 0==(1&s)}function Ru(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function SD(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function ED(s,o,l=!1){for(let d=0;d<o.length;d++)if(CD(s,o[d],l))return!0;return!1}function ID(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function p0(s,o){return s?":not("+o.trim()+")":o}function MD(s){let o=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const b=s[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Rn(v)&&(o+=p0(m,h),h=""),d=v,m=m||!Rn(d);l++}return""!==h&&(o+=p0(m,h)),o}const Lt={};function $p(s){m0(Ht(),Ee(),qr()+s,cu())}function m0(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&_l(o,m,l)}else{const m=s.preOrderHooks;null!==m&&pu(o,m,0,l)}vo(l)}function Gp(s,o){return s<<17|o<<2}function Oo(s){return s>>17&32767}function s_(s){return 2|s}function oa(s){return(131068&s)>>2}function o_(s,o){return-131069&s|o<<2}function l_(s){return 1|s}function HD(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];Lc(h),v.contentQueries(2,o[m],m)}}}function ud(s,o,l,d,h,m,v,b,C,M){const k=o.blueprint.slice();return k[0]=h,k[2]=140|d,po(k),k[3]=k[15]=s,k[8]=l,k[10]=v||s&&s[10],k[11]=b||s&&s[11],k[12]=C||s&&s[12]||null,k[9]=M||s&&s[9]||null,k[6]=m,k[16]=2==o.type?s[16]:k,k}function zh(s,o,l,d,h){let m=s.data[o];if(null===m)m=function p_(s,o,l,d,h){const m=Ma(),v=Mc(),C=s.data[o]=function C0(s,o,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,l,d,h),function xc(){return pt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function Aa(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return bi(m,!0),m}function Pu(s,o,l,d){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function cd(s,o,l){qo(o);try{const d=s.viewQuery;null!==d&&b_(1,d,l);const h=s.template;null!==h&&Zh(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&HD(s,o),s.staticViewQueries&&b_(2,s.viewQuery,l);const m=s.components;null!==m&&function _x(s,o){for(let l=0;l<o.length;l++)zS(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Zo()}}function Zp(s,o,l,d){const h=o[2];if(256==(256&h))return;qo(o);const m=cu();try{po(o),function du(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Zh(s,o,l,2,d);const v=3==(3&h);if(!m)if(v){const M=s.preOrderCheckHooks;null!==M&&_l(o,M,null)}else{const M=s.preOrderHooks;null!==M&&pu(o,M,0,null),or(o,0)}if(function S0(s){for(let o=Au(s);null!==o;o=ku(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(1024&h[2])&&mo(m,1),h[2]|=1024}}}(o),function sC(s){for(let o=Au(s);null!==o;o=ku(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Rs(d)&&Zp(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&HD(s,o),!m)if(v){const M=s.contentCheckHooks;null!==M&&_l(o,M)}else{const M=s.contentHooks;null!==M&&pu(o,M,1),or(o,1)}!function gx(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)vo(~h);else{const m=h,v=l[++d],b=l[++d];fu(v,m),b(2,o[m])}}}finally{vo(-1)}}(s,o);const b=s.components;null!==b&&function jD(s,o){for(let l=0;l<o.length;l++)qS(s,o[l])}(o,b);const C=s.viewQuery;if(null!==C&&b_(2,C,d),!m)if(v){const M=s.viewCheckHooks;null!==M&&_l(o,M)}else{const M=s.viewHooks;null!==M&&pu(o,M,2),or(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,mo(o[3],-1))}finally{Zo()}}function b0(s,o,l,d){const h=o[10],m=!cu(),v=fo(o);try{m&&!v&&h.begin&&h.begin(),v&&cd(s,o,d),Zp(s,o,l,d)}finally{m&&!v&&h.end&&h.end()}}function Zh(s,o,l,d,h){const m=qr(),v=2&d;try{vo(-1),v&&o.length>20&&m0(s,o,20,cu()),l(d,h)}finally{vo(m)}}function Kp(s,o,l){if(ih(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function Fu(s,o,l){!uu()||(function wx(s,o,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||tr(l,o),ai(d,o);const v=l.initialInputs;for(let b=h;b<m;b++){const C=s.data[b],M=yi(C);M&&tC(o,l,C);const k=Ki(o,s,b,l);ai(k,o),null!==v&&rC(0,b-h,k,C,0,v),M&&(Wr(l.index,o)[8]=k)}}(s,o,l,Gr(l,o)),128==(128&l.flags)&&function bx(s,o,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,b=function Oc(){return pt.lFrame.currentDirectiveIndex}();try{vo(v);for(let C=d;C<h;C++){const M=s.data[C],k=o[C];gl(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&ZD(M,k)}}finally{vo(-1),gl(b)}}(s,o,l))}function dd(s,o,l=Gr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],b=-1===v?l(o,s):s[v];s[h++]=b}}}function YD(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Kh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Kh(s,o,l,d,h,m,v,b,C,M){const k=20+d,P=k+h,U=function $D(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Lt);return l}(k,P),Z="function"==typeof M?M():M;return U[1]={type:s,blueprint:U,template:l,queries:null,viewQuery:b,declTNode:o,data:U.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Z,incompleteFirstPass:!1}}function D0(s,o,l,d){const h=aC(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&lC(s).push(d,h.length-1))}function GD(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function vs(s,o,l,d,h,m,v,b){const C=Gr(o,l);let k,M=o.inputs;!b&&null!=M&&(k=M[d])?(QS(s,l,k,d,h),ao(o)&&function E0(s,o){const l=Wr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function qD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,In(m)?m.setProperty(C,d,h):ar(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function __(s,o,l,d){let h=!1;if(uu()){const m=function KD(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];ED(l,v.selectors,!1)&&(h||(h=[]),wo(tr(l,o),s,v.type),yi(v)?(QD(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==m){h=!0,Bu(l,s.data.length,m.length);for(let k=0;k<m.length;k++){const P=m[k];P.providersResolver&&P.providersResolver(P)}let b=!1,C=!1,M=Pu(s,o,m.length,null);for(let k=0;k<m.length;k++){const P=m[k];l.mergedAttrs=Cr(l.mergedAttrs,P.hostAttrs),eC(s,l,o,M,P),XD(M,P,v),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const U=P.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),M++}!function WD(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let b=null,C=null;for(let M=o.directiveStart;M<d;M++){const k=h[M],P=k.inputs,U=null===m||Ua(o)?null:GS(P,m);v.push(U),b=GD(P,M,b),C=GD(k.outputs,M,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=C}(s,l)}v&&function JD(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Re(-301,!1);d.push(o[h],m)}}}(l,d,v)}return l.mergedAttrs=Cr(l.mergedAttrs,l.attrs),h}function $S(s,o,l,d,h,m){const v=m.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function vx(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=C&&b.push(C),b.push(d,h,v)}}function ZD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function QD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function XD(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;yi(o)&&(l[""]=s)}}function Bu(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function eC(s,o,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=vi(h.type)),v=new xa(m,yi(h),null);s.blueprint[d]=v,l[d]=v,$S(s,o,0,d,Pu(s,l,h.hostVars,Lt),h)}function tC(s,o,l){const d=Gr(o,s),h=YD(l),m=s[10],v=v_(s,ud(s,h,null,l.onPush?64:16,d,o,m,m.createRenderer(d,l),null,null));s[o.index]=v}function ja(s,o,l,d,h,m){const v=Gr(s,o);!function nC(s,o,l,d,h,m,v){if(null==m)In(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==v?pe(m):v(m,d||"",h);In(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}(o[11],v,m,s.value,l,d,h)}function rC(s,o,l,d,h,m){const v=m[o];if(null!==v){const b=d.setInput;for(let C=0;C<v.length;){const M=v[C++],k=v[C++],P=v[C++];null!==b?d.setInput(l,P,M,k):l[k]=P}}}function GS(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function iC(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function qS(s,o){const l=Wr(o,s);if(Rs(l)){const d=l[1];80&l[2]?Zp(d,l,d.template,l[8]):l[5]>0&&y_(l)}}function y_(s){for(let d=Au(s);null!==d;d=ku(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];Zp(v,m,v.template,m[8])}else m[5]>0&&y_(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Wr(l[d],s);Rs(h)&&h[5]>0&&y_(h)}}function zS(s,o){const l=Wr(o,s),d=l[1];(function kl(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),cd(d,l,l[8])}function v_(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Jp(s){for(;s;){s[2]|=64;const o=Wn(s);if(lp(s)&&!o)return s;s=o}return null}function w_(s,o,l){const d=o[10];d.begin&&d.begin();try{Zp(s,o,s.template,l)}catch(h){throw uC(o,h),h}finally{d.end&&d.end()}}function oC(s){!function Xp(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Rp(l),h=d[1];b0(h,d,h.template,l)}}(s[8])}function b_(s,o,l){Lc(0),o(s,l)}const I0=(()=>Promise.resolve(null))();function aC(s){return s[7]||(s[7]=[])}function lC(s){return s.cleanup||(s.cleanup=[])}function uC(s,o){const l=s[9],d=l?l.get(Kr,null):null;d&&d.handleError(o)}function QS(s,o,l,d,h){for(let m=0;m<l.length;){const v=l[m++],b=l[m++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,d,b):C[b]=h}}function la(s,o,l){const d=Wo(o,s);!function Yh(s,o,l){In(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function D_(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?m=b:1==m?h=ne(h,b):2==m&&(d=ne(d,b+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const xl=new Gn("INJECTOR",-1);class dC{get(o,l=x){if(l===x){const d=new Error(`NullInjectorError: No provider for ${ie(o)}!`);throw d.name="NullInjectorError",d}return l}}const C_=new Gn("Set Injector scope."),em={},hC={};let A0;function fC(){return void 0===A0&&(A0=new dC),A0}function E_(s,o=null,l=null,d){const h=k0(s,o,l,d);return h._resolveInjectorDefTypes(),h}function k0(s,o=null,l=null,d){return new eI(s,l,o||fC(),d)}class eI{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&si(l,b=>this.processProvider(b,o,l)),si([o],b=>this.processInjectorType(b,[],m)),this.records.set(xl,hd(void 0,this));const v=this.records.get(C_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ie(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=x,d=ct.Default){this.assertNotDestroyed();const h=Dt(this),m=hr(void 0);try{if(!(d&ct.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function Qh(s){return"function"==typeof s||"object"==typeof s&&s instanceof Gn}(o)&&zt(o);b=C&&this.injectableDefInScope(C)?hd(T_(o),em):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(d&ct.Self?fC():this.parent).get(o,l=d&ct.Optional&&l===x?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[q]=v[q]||[]).unshift(ie(o)),h)throw v;return function vu(s,o,l,d){const h=s[q];throw o[It]&&h.unshift(o[It]),s.message=function Wc(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ie(o);if(Array.isArray(o))h=o.map(ie).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];m.push(v+":"+("string"==typeof b?JSON.stringify(b):ie(b)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(ke,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[q]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{hr(m),Dt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ie(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,l,d){if(!(o=J(o)))return!1;let h=ti(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,b=-1!==d.indexOf(v);if(void 0!==m&&(h=ti(m)),null==h)return!1;if(null!=h.imports&&!b){let k;d.push(v);try{si(h.imports,P=>{this.processInjectorType(P,l,d)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:U,providers:Z}=k[P];si(Z,ye=>this.processProvider(ye,U,Z||ht))}}this.injectorDefTypes.add(v);const C=vi(v)||(()=>new v);this.records.set(v,hd(C,em));const M=h.providers;if(null!=M&&!b){const k=o;si(M,P=>this.processProvider(P,k,M))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,d){let h=tm(o=J(o))?o:J(o&&o.provide);const m=function pC(s,o,l){return gC(s)?hd(void 0,s.useValue):hd(mC(s),em)}(o);if(tm(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=hd(void 0,em,!0),v.factory=()=>ta(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===em&&(l.value=hC,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Tx(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=J(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function T_(s){const o=zt(s),l=null!==o?o.factory:vi(s);if(null!==l)return l;if(s instanceof Gn)throw new Re(204,!1);if(s instanceof Function)return function tI(s){const o=s.length;if(o>0)throw Xi(o,"?"),new Re(204,!1);const l=function xi(s){const o=s&&(s[as]||s[Ts]);if(o){const l=function no(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function mC(s,o,l){let d;if(tm(s)){const h=J(s);return vi(h)||T_(h)}if(gC(s))d=()=>J(s.useValue);else if(function Cx(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...ta(s.deps||[]));else if(function _C(s){return!(!s||!s.useExisting)}(s))d=()=>jt(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function nI(s){return!!s.deps}(s))return vi(h)||T_(h);d=()=>new h(...ta(s.deps))}return d}function hd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function gC(s){return null!==s&&"object"==typeof s&&Tt in s}function tm(s){return"function"==typeof s}let Ya=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return E_({name:""},d,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return E_({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=x,s.NULL=new dC,s.\u0275prov=fn({token:s,providedIn:"any",factory:()=>jt(xl)}),s.__NG_ELEMENT_ID__=-1,s})();function Nt(s,o){Ls(Rp(s)[1],xn())}function fd(s){let o=function M_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(yi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=nm(s.inputs),v.declaredInputs=nm(s.declaredInputs),v.outputs=nm(s.outputs);const b=h.hostBindings;b&&hI(s,b);const C=h.viewQuery,M=h.contentQueries;if(C&&cI(s,C),M&&dI(s,M),oe(s.inputs,h.inputs),oe(s.declaredInputs,h.declaredInputs),oe(s.outputs,h.outputs),yi(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const b=m[v];b&&b.ngInherit&&b(s),b===fd&&(l=!1)}}o=Object.getPrototypeOf(o)}!function uI(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Cr(h.hostAttrs,l=Cr(l,h.hostAttrs))}}(d)}function nm(s){return s===Rr?{}:s===ht?[]:s}function cI(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function dI(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{o(d,h,m),l(d,h,m)}:o}function hI(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let ua=null;function Jh(){if(!ua){const s=Wt.Symbol;if(s&&s.iterator)ua=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(ua=d)}}}return ua}function Xh(s){return!!k_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Jh()in s)}function k_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Lo(s,o,l){return s[o]=l}function Ti(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Tr(s,o,l,d){const h=Ti(s,o,l);return Ti(s,o+1,d)||h}function x_(s,o,l,d){const h=Ee();return Ti(h,_o(),o)&&(Ht(),ja($n(),h,s,o,l,d)),x_}function Yu(s,o,l,d){return Ti(s,_o(),l)?o+pe(l)+d:Lt}function md(s,o,l,d,h,m){const b=Tr(s,function Ni(){return pt.lFrame.bindingIndex}(),l,h);return zi(2),b?o+pe(l)+d+pe(h)+m:Lt}function TC(s,o,l,d,h,m,v,b){const C=Ee(),M=Ht(),k=s+20,P=M.firstCreatePass?function mI(s,o,l,d,h,m,v,b,C){const M=o.consts,k=zh(o,s,4,v||null,wi(M,b));__(o,l,k,wi(M,C)),Ls(o,k);const P=k.tViews=Kh(2,k,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,M,C,o,l,d,h,m,v):M.data[k];bi(P,!1);const U=C[11].createComment("");r_(M,C,U,P),ai(U,C),v_(C,C[k]=iC(U,C,U,P)),Ql(P)&&Fu(M,C,P),null!=v&&dd(C,P,b)}function U0(s){return qi(function kc(){return pt.lFrame.contextLView}(),20+s)}function vd(s,o=ct.Default){const l=Ee();return null===l?jt(s,o):bo(xn(),l,J(s),o)}function Z0(){throw new Error("invalid")}function K0(s,o,l){const d=Ee();return Ti(d,_o(),o)&&vs(Ht(),$n(),d,s,o,d[11],l,!1),K0}function wd(s,o,l,d,h){const v=h?"class":"style";QS(s,l,o.inputs[v],v,d)}function lm(s,o,l,d){const h=Ee(),m=Ht(),v=20+s,b=h[11],C=h[v]=$h(b,o,function Sv(){return pt.lFrame.currentNamespace}()),M=m.firstCreatePass?function OC(s,o,l,d,h,m,v){const b=o.consts,M=zh(o,s,2,h,wi(b,m));return __(o,l,M,wi(b,v)),null!==M.attrs&&D_(M,M.attrs,!1),null!==M.mergedAttrs&&D_(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,l,d):m.data[v];bi(M,!0);const k=M.mergedAttrs;null!==k&&mt(b,C,k);const P=M.classes;null!==P&&h0(b,C,P);const U=M.styles;return null!==U&&_s(b,C,U),64!=(64&M.flags)&&r_(m,h,C,M),0===function ml(){return pt.lFrame.elementDepthCount}()&&ai(C,h),function au(){pt.lFrame.elementDepthCount++}(),Ql(M)&&(Fu(m,h,M),Kp(m,M,h)),null!==d&&dd(h,M),lm}function um(){let s=xn();Mc()?Ac():(s=s.parent,bi(s,!1));const o=s;!function lu(){pt.lFrame.elementDepthCount--}();const l=Ht();return l.firstCreatePass&&(Ls(l,s),ih(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function hp(s){return 0!=(16&s.flags)}(o)&&wd(l,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pg(s){return 0!=(32&s.flags)}(o)&&wd(l,o,Ee(),o.stylesWithoutHost,!1),um}function of(s,o,l,d){return lm(s,o,l,d),um(),of}function Ol(s,o,l){const d=Ee(),h=Ht(),m=s+20,v=h.firstCreatePass?function AI(s,o,l,d,h){const m=o.consts,v=wi(m,d),b=zh(o,s,8,"ng-container",v);return null!==v&&D_(b,v,!0),__(o,l,b,wi(m,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(m,h,d,o,l):h.data[m];bi(v,!0);const b=d[m]=d[11].createComment("");return r_(h,d,b,v),ai(b,d),Ql(v)&&(Fu(h,d,v),Kp(h,v,d)),null!=l&&dd(d,v),Ol}function H_(){let s=xn();const o=Ht();return Mc()?Ac():(s=s.parent,bi(s,!1)),o.firstCreatePass&&(Ls(o,s),ih(s)&&o.queries.elementEnd(s)),H_}function Gu(){return Ee()}function j_(s){return!!s&&"function"==typeof s.then}function cm(s){return!!s&&"function"==typeof s.subscribe}const Q0=cm;function bd(s,o,l,d){const h=Ee(),m=Ht(),v=xn();return function X0(s,o,l,d,h,m,v,b){const C=Ql(d),k=s.firstCreatePass&&lC(s),P=o[8],U=aC(o);let Z=!0;if(3&d.type||b){const Ve=Gr(d,o),Qe=b?b(Ve):Ve,Te=U.length,dt=b?qt=>b(gn(qt[d.index])):d.index;if(In(l)){let qt=null;if(!b&&C&&(qt=function is(s,o,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const b=o[7],C=h[m+2];return b.length>C?b[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=m,qt.__ngLastListenerFn__=m,Z=!1;else{m=lf(d,o,P,m,!1);const wn=l.listen(Qe,h,m);U.push(m,wn),k&&k.push(h,dt,Te,Te+1)}}else m=lf(d,o,P,m,!0),Qe.addEventListener(h,m,v),U.push(m),k&&k.push(h,dt,Te,v)}else m=lf(d,o,P,m,!1);const ye=d.outputs;let Ne;if(Z&&null!==ye&&(Ne=ye[h])){const Ve=Ne.length;if(Ve)for(let Qe=0;Qe<Ve;Qe+=2){const Zs=o[Ne[Qe]][Ne[Qe+1]].subscribe(m),dc=U.length;U.push(m,Zs),k&&k.push(h,d.index,dc,-(dc+1))}}}(m,h,h[11],v,s,o,!!l,d),bd}function af(s,o,l,d){try{return!1!==l(d)}catch(h){return uC(s,h),!1}}function lf(s,o,l,d,h){return function m(v){if(v===Function)return d;const b=2&s.flags?Wr(s.index,o):o;0==(32&o[2])&&Jp(b);let C=af(o,0,d,v),M=m.__ngNextListenerFn__;for(;M;)C=af(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function ew(s=1){return function yo(s){return(pt.lFrame.contextLView=function Pc(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function tw(s,o){let l=null;const d=function Lu(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?ED(s,m,!0):ID(d,m))return h}else l=h}return l}function nw(s){const o=Ee()[16][6];if(!o.projection){const d=o.projection=Xi(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?tw(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function rw(s,o=0,l){const d=Ee(),h=Ht(),m=zh(h,20+s,16,null,l||null);null===m.projection&&(m.projection=o),Ac(),64!=(64&m.flags)&&function vD(s,o,l){wD(o[11],0,o,l,n_(s,l,o),mD(l.parent||o[6],l,o))}(h,d,m)}function Dd(s,o,l){return dm(s,"",o,"",l),Dd}function dm(s,o,l,d,h){const m=Ee(),v=Yu(m,o,l,d);return v!==Lt&&vs(Ht(),$n(),m,s,v,m[11],h,!1),dm}function sw(s,o,l,d,h){const m=s[l+1],v=null===o;let b=d?Oo(m):oa(m),C=!1;for(;0!==b&&(!1===C||v);){const k=s[b+1];kI(s[b],o)&&(C=!0,s[b+1]=d?l_(k):s_(k)),b=d?Oo(k):oa(k)}C&&(s[l+1]=d?s_(m):l_(m))}function kI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Io(s,o)>=0}const lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ow(s){return s.substring(lr.key,lr.keyEnd)}function Wu(s,o){const l=lr.textEnd;return l===o?-1:(o=lr.keyEnd=function lw(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,lr.key=o,l),da(s,o,l))}function da(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function cf(s,o,l){return ha(s,o,l,!1),cf}function df(s,o){return ha(s,o,null,!0),df}function qn(s){!function fa(s,o,l,d){const h=Ht(),m=zi(2);h.firstUpdatePass&&ff(h,null,m,d);const v=Ee();if(l!==Lt&&Ti(v,m,l)){const b=h.data[qr()];if(jC(b,d)&&!hf(h,m)){let C=d?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(l=ne(C,l||"")),wd(h,b,v,l,d)}else!function HC(s,o,l,d,h,m,v,b){h===Lt&&(h=ht);let C=0,M=0,k=0<h.length?h[0]:null,P=0<m.length?m[0]:null;for(;null!==k||null!==P;){const U=C<h.length?h[C+1]:void 0,Z=M<m.length?m[M+1]:void 0;let Ne,ye=null;k===P?(C+=2,M+=2,U!==Z&&(ye=P,Ne=Z)):null===P||null!==k&&k<P?(C+=2,ye=k):(M+=2,ye=P,Ne=Z),null!==ye&&dw(s,o,l,d,ye,Ne,v,b),k=C<h.length?h[C]:null,P=M<m.length?m[M]:null}}(h,b,v,v[11],v[m+1],v[m+1]=function gm(s,o,l){if(null==l||""===l)return ht;const d=[],h=ko(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,m)}}(nr,Gs,s,!0)}function Gs(s,o){for(let l=function pm(s){return function q_(s){lr.key=0,lr.keyEnd=0,lr.value=0,lr.valueEnd=0,lr.textEnd=s.length}(s),Wu(s,da(s,0,lr.textEnd))}(o);l>=0;l=Wu(o,l))nr(s,ow(o),!0)}function ha(s,o,l,d){const h=Ee(),m=Ht(),v=zi(2);m.firstUpdatePass&&ff(m,s,v,d),o!==Lt&&Ti(h,v,o)&&dw(m,m.data[qr()],h,h[11],s,h[v+1]=function NI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ie(ko(s)))),s}(o,l),d,v)}function hf(s,o){return o>=s.expandoStartIndex}function ff(s,o,l,d){const h=s.data;if(null===h[l+1]){const m=h[qr()],v=hf(s,l);jC(m,d)&&null===o&&!v&&(o=!1),o=function OI(s,o,l,d){const h=function ka(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=mm(l=cw(null,s,o,l,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=cw(h,s,o,l,d),null===m){let C=function UC(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==oa(d))return s[Oo(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=cw(null,s,o,C[1],d),C=mm(C,o.attrs,d),function RI(s,o,l,d){s[Oo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else m=function LI(s,o,l){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=mm(d,s[m].hostAttrs,l);return mm(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,d),function PC(s,o,l,d,h,m){let v=m?o.classBindings:o.styleBindings,b=Oo(v),C=oa(v);s[d]=l;let k,M=!1;if(Array.isArray(l)){const P=l;k=P[1],(null===k||Io(P,k)>0)&&(M=!0)}else k=l;if(h)if(0!==C){const U=Oo(s[b+1]);s[d+1]=Gp(U,b),0!==U&&(s[U+1]=o_(s[U+1],d)),s[b+1]=function OD(s,o){return 131071&s|o<<17}(s[b+1],d)}else s[d+1]=Gp(b,0),0!==b&&(s[b+1]=o_(s[b+1],d)),b=d;else s[d+1]=Gp(C,0),0===b?b=d:s[C+1]=o_(s[C+1],d),C=d;M&&(s[d+1]=s_(s[d+1])),sw(s,k,d,!0),sw(s,k,d,!1),function FC(s,o,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Io(m,o)>=0&&(l[d+1]=l_(l[d+1]))}(o,k,s,d,m),v=Gp(b,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,d)}}function cw(s,o,l,d,h){let m=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(m=o[b],d=mm(d,m.hostAttrs,h),m!==s);)b++;return null!==s&&(l.directiveStylingLast=b),d}function mm(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nr(s,v,!!l||o[++m]))}return void 0===s?null:s}function dw(s,o,l,d,h,m,v,b){if(!(3&o.type))return;const C=s.data,M=C[b+1];Ll(function a_(s){return 1==(1&s)}(M)?hw(C,o,l,h,oa(M),v):void 0)||(Ll(m)||function xD(s){return 2==(2&s)}(M)&&(m=hw(C,null,l,h,b,v)),function od(s,o,l,d,h){const m=In(s);if(o)h?m?s.addClass(l,d):l.classList.add(d):m?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ue.DashCase;if(null==h)m?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=ue.Important),m?s.setStyle(l,d,h,v):l.style.setProperty(d,h,b?"important":"")}}}(d,v,Wo(qr(),l),h,m))}function hw(s,o,l,d,h,m){const v=null===o;let b;for(;h>0;){const C=s[h],M=Array.isArray(C),k=M?C[1]:C,P=null===k;let U=l[h+1];U===Lt&&(U=P?ht:void 0);let Z=P?_u(U,d):k===d?U:void 0;if(M&&!Ll(Z)&&(Z=_u(C,d)),Ll(Z)&&(b=Z,v))return b;const ye=s[h+1];h=v?Oo(ye):oa(ye)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(b=_u(C,d))}return b}function Ll(s){return void 0!==s}function jC(s,o){return 0!=(s.flags&(o?16:32))}function fw(s,o=""){const l=Ee(),d=Ht(),h=s+20,m=d.firstCreatePass?zh(d,h,1,o,null):d.data[h],v=l[h]=function jh(s,o){return In(s)?s.createText(o):s.createTextNode(o)}(l[11],o);r_(d,l,v,m),bi(m,!1)}function pw(s){return _m("",s,""),pw}function _m(s,o,l){const d=Ee(),h=Yu(d,s,o,l);return h!==Lt&&la(d,qr(),h),_m}function z_(s,o,l,d,h){const m=Ee(),v=md(m,s,o,l,d,h);return v!==Lt&&la(m,qr(),v),z_}const Nl=void 0;var jI=["en",[["a","p"],["AM","PM"],Nl],[["AM","PM"],Nl,Nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nl,"{1} 'at' {0}",Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ny(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ed={};function iy(s){const o=function QC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=oy(o);if(l)return l;const d=o.split("-")[0];if(l=oy(d),l)return l;if("en"===d)return jI;throw new Error(`Missing locale data for the locale "${s}".`)}function sy(s){return iy(s)[_t.PluralCase]}function oy(s){return s in Ed||(Ed[s]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[s]),Ed[s]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const Cm="en-US";let Dw=Cm;function wf(s,o,l,d,h){if(s=J(s),Array.isArray(s))for(let m=0;m<s.length;m++)wf(s[m],o,l,d,h);else{const m=Ht(),v=Ee();let b=tm(s)?s:J(s.provide),C=mC(s);const M=xn(),k=1048575&M.providerIndexes,P=M.directiveStart,U=M.providerIndexes>>20;if(tm(s)||!s.multi){const Z=new xa(C,h,vd),ye=hy(b,o,h?k:k+U,P);-1===ye?(wo(tr(M,v),m,b),xd(m,s,o.length),o.push(b),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(Z),v.push(Z)):(l[ye]=Z,v[ye]=Z)}else{const Z=hy(b,o,k+U,P),ye=hy(b,o,k,k+U),Ne=Z>=0&&l[Z],Ve=ye>=0&&l[ye];if(h&&!Ve||!h&&!Ne){wo(tr(M,v),m,b);const Qe=function Zn(s,o,l,d,h){const m=new xa(s,l,vd);return m.multi=[],m.index=o,m.componentProviders=0,Mw(m,h,d&&!l),m}(h?Hi:vE,l.length,h,d,C);!h&&Ve&&(l[ye].providerFactory=Qe),xd(m,s,o.length,0),o.push(b),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(Qe),v.push(Qe)}else xd(m,s,Z>-1?Z:ye,Mw(l[h?ye:Z],C,!h&&d));!h&&d&&Ve&&l[ye].componentProviders++}}}function xd(s,o,l,d){const h=tm(o),m=function Ex(s){return!!s.useClass}(o);if(h||m){const C=(m?J(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(l);-1===k?M.push(l,[d,C]):M[k+1].push(d,C)}else M.push(l,C)}}}function Mw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function hy(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function vE(s,o,l,d){return fy(this.multi,[])}function Hi(s,o,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Ki(l,l[1],this.providerFactory.index,d);m=b.slice(0,v),fy(h,m);for(let C=v;C<b.length;C++)m.push(b[C])}else m=[],fy(h,m);return m}function fy(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Am(s,o=[]){return l=>{l.providersResolver=(d,h)=>function yE(s,o,l){const d=Ht();if(d.firstCreatePass){const h=yi(s);wf(l,d.data,d.blueprint,h,!0),wf(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Od{}class XI{resolveComponentFactory(o){throw function py(s){const o=Error(`No component factory found for ${ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Po=(()=>{class s{}return s.NULL=new XI,s})();function eM(){return Df(xn(),Ee())}function Df(s,o){return new Cf(Gr(s,o))}let Cf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=eM,s})();function Rd(s){return s instanceof Cf?s.nativeElement:s}class Ef{}let my=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Mi(){const s=Ee(),l=Wr(xn().index,s);return function gy(s){return s[11]}(_i(l)?l:s)}(),s})(),tM=(()=>{class s{}return s.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null}),s})();class wE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const bE=new wE("13.2.7"),_y={};function yy(s,o,l,d,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(gn(m)),ri(m))for(let b=10;b<m.length;b++){const C=m[b],M=C[1].firstChild;null!==M&&yy(C[1],C,M,d)}const v=l.type;if(8&v)yy(s,o,l.child,d);else if(32&v){const b=et(l,o);let C;for(;C=b();)d.push(C)}else if(16&v){const b=yD(o,l);if(Array.isArray(b))d.push(...b);else{const C=Wn(o[16]);yy(C[1],C,b,d,!0)}}l=h?l.projectionNext:l.next}return d}class km{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return yy(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ri(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(n0(o,d),Vs(l,d))}this._attachedToViewContainer=!1}r0(this._lView[1],this._lView)}onDestroy(o){D0(this._lView[1],this._lView,null,o)}markForCheck(){Jp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){w_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Uu(s,o,l){go(!0);try{w_(s,o,l)}finally{go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t_(s,o){i_(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class nM extends km{constructor(o){super(o),this._view=o}detectChanges(){oC(this._view)}checkNoChanges(){!function KS(s){go(!0);try{oC(s)}finally{go(!1)}}(this._view)}get context(){return null}}class DE extends Po{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Kt(o);return new vy(l,this.ngModule)}}function Bl(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class vy extends Od{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function AD(s){return s.map(MD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Bl(this.componentDef.inputs)}get outputs(){return Bl(this.componentDef.outputs)}create(o,l,d,h){const m=(h=h||this.ngModule)?function rM(s,o){return{get:(l,d,h)=>{const m=s.get(l,_y,h);return m!==_y||d===_y?m:o.get(l,d,h)}}}(o,h.injector):o,v=m.get(Ef,Ia),b=m.get(tM,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=d?function Qp(s,o,l){if(In(s))return s.selectRootElement(o,l===Zt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(C,d,this.componentDef.encapsulation):$h(v.createRenderer(null,this.componentDef),M,function Tf(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),P=this.componentDef.onPush?576:528,U=function I_(s,o){return{components:[],scheduler:s||Jv,clean:I0,playerHandler:o||null,flags:0}}(),Z=Kh(0,null,null,1,0,null,null,null,null,null),ye=ud(null,Z,U,P,null,null,v,C,b,m);let Ne,Ve;qo(ye);try{const Qe=function Ga(s,o,l,d,h,m){const v=l[1];l[20]=s;const C=zh(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(D_(C,M,!0),null!==s&&(mt(h,s,M),null!==C.classes&&h0(h,s,C.classes),null!==C.styles&&_s(h,s,C.styles)));const k=d.createRenderer(s,o),P=ud(l,YD(o),null,o.onPush?64:16,l[20],C,d,k,m||null,null);return v.firstCreatePass&&(wo(tr(C,l),v,o.type),QD(v,C),Bu(C,l.length,1)),v_(l,P),l[20]=P}(k,this.componentDef,ye,v,C);if(k)if(d)mt(C,k,["ng-version",bE.full]);else{const{attrs:Te,classes:dt}=function kD(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&l.push(m);else{if(!Rn(h))break;h=m}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Te&&mt(C,k,Te),dt&&dt.length>0&&h0(C,k,dt.join(" "))}if(Ve=pl(Z,20),void 0!==l){const Te=Ve.projection=[];for(let dt=0;dt<this.ngContentSelectors.length;dt++){const qt=l[dt];Te.push(null!=qt?Array.from(qt):null)}}Ne=function nt(s,o,l,d,h){const m=l[1],v=function T0(s,o,l){const d=xn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),eC(s,d,o,Pu(s,o,1,null),l));const h=Ki(o,s,d.directiveStart,d);ai(h,o);const m=Gr(d,o);return m&&ai(m,o),h}(m,l,o);if(d.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=xn();o.contentQueries(1,v,C.directiveStart)}const b=xn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(vo(b.index),$S(l[1],b,0,b.directiveStart,b.directiveEnd,o),ZD(o,v)),v}(Qe,this.componentDef,ye,U,[Nt]),cd(Z,ye,null)}finally{Zo()}return new EE(this.componentType,Ne,Df(Ve,ye),ye,Ve)}}class EE extends class Aw{}{constructor(o,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new nM(h),this.componentType=o}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ul{}class xm{}const Xu=new Map;class xw extends Ul{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DE(this);const d=Cn(o);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=k0(o,l,[{provide:Ul,useValue:this},{provide:Po,useValue:this.componentFactoryResolver}],ie(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ya.THROW_IF_NOT_FOUND,d=ct.Default){return o===Ya||o===Ul||o===xl?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Om extends xm{constructor(o){super(),this.moduleType=o,null!==Cn(o)&&function If(s){const o=new Set;!function l(d){const h=Cn(d,!0),m=h.id;null!==m&&(function wy(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ie(o)} vs ${ie(o.name)}`)}(m,Xu.get(m),d),Xu.set(m,d));const v=g(h.imports);for(const b of v)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new xw(this.moduleType,o)}}function Dy(s,o,l){const d=Pr()+s,h=Ee();return h[d]===Lt?Lo(h,d,l?o.call(l):o()):function ju(s,o){return s[o]}(h,d)}function Mf(s,o){const l=s[o];return l===Lt?void 0:l}function Nd(s,o){const l=Ht();let d;const h=s+20;l.firstCreatePass?(d=function xE(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const m=d.factory||(d.factory=vi(d.type)),v=hr(vd);try{const b=Pi(!1),C=m();return Pi(b),function B0(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ee(),h,C),C}finally{hr(v)}}function Lw(s,o,l){const d=s+20,h=Ee(),m=qi(h,d);return nc(h,d)?function Ld(s,o,l,d,h,m){const v=o+l;return Ti(s,v,h)?Lo(s,v+1,m?d.call(m,h):d(h)):Mf(s,v+1)}(h,Pr(),o,m.transform,l,m):m.transform(l)}function Af(s,o,l,d){const h=s+20,m=Ee(),v=qi(m,h);return nc(m,h)?function ec(s,o,l,d,h,m,v){const b=o+l;return Tr(s,b,h,m)?Lo(s,b+2,v?d.call(v,h,m):d(h,m)):Mf(s,b+2)}(m,Pr(),o,v.transform,l,d,v):v.transform(l,d)}function nc(s,o){return s[1].data[o].pure}function Nw(s){return o=>{setTimeout(s,void 0,o)}}const Fo=class Ey extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,m,v;let b=o,C=l||(()=>null),M=d;if(o&&"object"==typeof o){const P=o;b=null===(h=P.next)||void 0===h?void 0:h.bind(P),C=null===(m=P.error)||void 0===m?void 0:m.bind(P),M=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(C=Nw(C),b&&(b=Nw(b)),M&&(M=Nw(M)));const k=super.subscribe({next:b,error:C,complete:M});return o instanceof K.w0&&o.add(k),k}};function uM(){return this._results[Jh()]()}class Ty{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Jh(),d=Ty.prototype;d[l]||(d[l]=uM)}get changes(){return this._changes||(this._changes=new Fo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Er(o);(this._changesDetected=!function yl(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kf=(()=>{class s{}return s.__NG_ELEMENT_ID__=OE,s})();const Rm=kf,Pd=class extends Rm{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=ud(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(l)),cd(l,d,o),new km(d)}};function OE(){return Lm(xn(),Ee())}function Lm(s,o){return 4&s.type?new Pd(o,s,Df(s,o)):null}let Nm=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pm,s})();function Pm(){return Fw(xn(),Ee())}const Pw=Nm,RE=class extends Pw{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Df(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const o=Fi(this._hostTNode,this._hostLView);if(bh(o)){const l=Zi(o,this._hostLView),d=Tn(o);return new Qi(l[1].data[d+8],l)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Mr(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,m){const v=o&&!function Xo(s){return"function"==typeof s}(o);let b;if(v)b=l;else{const P=l||{};b=P.index,d=P.injector,h=P.projectableNodes,m=P.ngModuleRef}const C=v?o:new vy(Kt(o)),M=d||this.parentInjector;if(!m&&null==C.ngModule){const U=(v?M:this.parentInjector).get(Ul,null);U&&(m=U)}const k=C.create(M,h,void 0,m);return this.insert(k.hostView,b),k}insert(o,l){const d=o._lView,h=d[1];if(function su(s){return ri(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=d[3],U=new RE(P,P[6],P[3]);U.detach(U.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function xu(s,o,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=o),d<m-10?(o[4]=l[h],vl(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Gh(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,d,v,m);const b=u0(m,v),C=d[11],M=li(C,v[7]);return null!==M&&function Yp(s,o,l,d,h,m){d[0]=h,d[6]=o,i_(s,d,l,1,h,m)}(h,v[6],C,d,M,b),o.attachToViewContainerRef(),vl(tn(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Mr(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=n0(this._lContainer,l);d&&(Vs(tn(this._lContainer),l),r0(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=n0(this._lContainer,l);return d&&null!=Vs(tn(this._lContainer),l)?new km(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Mr(s){return s[8]}function tn(s){return s[8]||(s[8]=[])}function Fw(s,o){let l;const d=o[s.index];if(ri(d))l=d;else{let h;if(8&s.type)h=gn(d);else{const m=o[11];h=m.createComment("");const v=Gr(s,o);Ys(m,li(m,v),h,function VS(s,o){return In(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=l=iC(d,o,h,s),v_(o,l)}return new RE(l,s,o)}class xf{constructor(o){this.queryList=o,this.matches=null}clone(){return new xf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jr{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Jr(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Uw(o,l).matches&&this.queries[l].setDirty()}}class jn{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Sy{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Sy(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ic{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ic(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,l,cM(l,m)),this.matchTNodeWithReadOption(o,l,Do(l,o,m,!1,!1))}else d===kf?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Do(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Cf||h===Nm||h===kf&&4&l.type)this.addMatch(l.index,-2);else{const m=Do(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function cM(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function dM(s,o,l,d){return-1===l?function Vo(s,o){return 11&s.type?Df(s,o):4&s.type?Lm(s,o):null}(o,s):-2===l?function Vw(s,o,l){return l===Cf?Df(o,s):l===kf?Lm(o,s):l===Nm?Fw(o,s):void 0}(s,o,d):Ki(s,s[1],l,o)}function Of(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=l.matches,b=[];for(let C=0;C<v.length;C+=2){const M=v[C];b.push(M<0?null:dM(o,m[M],v[C+1],l.metadata.read))}h.matches=b}return h.matches}function Bw(s,o,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Of(s,o,h,l);for(let b=0;b<m.length;b+=2){const C=m[b];if(C>0)d.push(v[b/2]);else{const M=m[b+1],k=o[-C];for(let P=10;P<k.length;P++){const U=k[P];U[17]===U[3]&&Bw(U[1],U,M,d)}if(null!==k[9]){const P=k[9];for(let U=0;U<P.length;U++){const Z=P[U];Bw(Z[1],Z,M,d)}}}}}return d}function NE(s){const o=Ee(),l=Ht(),d=Rc();Lc(d+1);const h=Uw(l,d);if(s.dirty&&fo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Bw(l,o,d,[]):Of(l,o,h,d);s.reset(m,Rd),s.notifyOnChanges()}return!0}return!1}function vn(s,o,l){const d=Ht();d.firstCreatePass&&(Bm(d,new jn(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Rf(d,Ee(),o)}function PE(s,o,l,d){const h=Ht();if(h.firstCreatePass){const m=xn();Bm(h,new jn(o,l,d),m.index),function FE(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Rf(h,Ee(),l)}function Fm(){return function Vm(s,o){return s[19].queries[o].queryList}(Ee(),Rc())}function Rf(s,o,l){const d=new Ty(4==(4&l));D0(s,o,d,d.destroy),null===o[19]&&(o[19]=new Jr),o[19].queries.push(new xf(d))}function Bm(s,o,l){null===s.queries&&(s.queries=new Sy),s.queries.track(new ic(o,l))}function Uw(s,o){return s.queries.getByIndex(o)}function Hw(s,o){return Lm(s,o)}function Oy(...s){}const ZE=new Gn("Application Initializer");let zw=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Oy,this.reject=Oy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(j_(m))l.push(m);else if(Q0(m)){const v=new Promise((b,C)=>{m.subscribe({complete:b,error:C})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(jt(ZE,8))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const KE=new Gn("AppId",{providedIn:"root",factory:function QE(){return`${Zw()}${Zw()}${Zw()}`}});function Zw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kw=new Gn("Platform Initializer"),JE=new Gn("Platform ID"),Qw=new Gn("appBootstrapListener");let fe=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const qs=new Gn("LocaleId",{providedIn:"root",factory:()=>es(qs,ct.Optional|ct.SkipSelf)||function Ry(){return"undefined"!=typeof $localize&&$localize.locale||Cm}()}),CM=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jd{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let XE=(()=>{class s{compileModuleSync(l){return new Om(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=g(Cn(l).declarations).reduce((v,b)=>{const C=Kt(b);return C&&v.push(new vy(C)),v},[]);return new jd(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const hi=(()=>Promise.resolve(0))();function Ym(s){"undefined"==typeof Zone?hi.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class zs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fo(!1),this.onMicrotaskEmpty=new Fo(!1),this.onStable=new Fo(!1),this.onError=new Fo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Xw(){let s=Wt.requestAnimationFrame,o=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function eT(s){const o=()=>{!function TM(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Wt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Pf(s),s.isCheckStableRunning=!0,Ny(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Pf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,b)=>{try{return oc(s),l.invokeTask(h,m,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),ac(s)}},onInvoke:(l,d,h,m,v,b,C)=>{try{return oc(s),l.invoke(h,m,v,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),ac(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Pf(s),Ny(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,sc,Oy,Oy);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const sc={};function Ny(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Pf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function oc(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ac(s){s._nesting--,Ny(s)}class Ff{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fo,this.onMicrotaskEmpty=new Fo,this.onStable=new Fo,this.onError=new Fo}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let Vf=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zs.assertNotInAngularZone(),Ym(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ym(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(jt(zs))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})(),eb=(()=>{class s{constructor(){this._applications=new Map,Py.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Py.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();class tb{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function nb(s){Py=s}let _a,Py=new tb;const Bf=new Gn("AllowMultipleToken");class Uf{constructor(o,l){this.name=o,this.token=l}}function ib(s,o,l=[]){const d=`Platform: ${o}`,h=new Gn(d);return(m=[])=>{let v=nT();if(!v||v.injector.get(Bf,!1))if(s)s(l.concat(m).concat({provide:h,useValue:!0}));else{const b=l.concat(m).concat({provide:h,useValue:!0},{provide:C_,useValue:"platform"});!function IM(s){if(_a&&!_a.destroyed&&!_a.injector.get(Bf,!1))throw new Re(400,"");_a=s.get($m);const o=s.get(Kw,null);o&&o.forEach(l=>l())}(Ya.create({providers:b,name:d}))}return function MM(s){const o=nT();if(!o)throw new Re(401,"");return o}()}}function nT(){return _a&&!_a.destroyed?_a:null}let $m=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const b=function lc(s,o){let l;return l="noop"===s?new Ff:("zone.js"===s?void 0:s)||new zs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:zs,useValue:b}];return b.run(()=>{const M=Ya.create({providers:C,parent:this.injector,name:l.moduleType.name}),k=l.create(M),P=k.injector.get(Kr,null);if(!P)throw new Re(402,"");return b.runOutsideAngular(()=>{const U=b.onError.subscribe({next:Z=>{P.handleError(Z)}});k.onDestroy(()=>{ab(this._modules,k),U.unsubscribe()})}),function Yd(s,o,l){try{const d=l();return j_(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(P,b,()=>{const U=k.injector.get(zw);return U.runInitializers(),U.donePromise.then(()=>(function eE(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(Dw=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(qs,Cm)||Cm),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,d=[]){const h=sb({},d);return function tT(s,o,l){const d=new Om(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(ob);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Re(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(jt(Ya))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();function sb(s,o){return Array.isArray(o)?o.reduce(sb,s):Object.assign(Object.assign({},s),o)}let ob=(()=>{class s{constructor(l,d,h,m,v){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new L.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new L.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{zs.assertNotInAngularZone(),Ym(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(b,C.pipe((0,X.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Re(405,"");let h;h=l instanceof Od?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function rb(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Ul),b=h.create(Ya.NULL,[],d||h.selector,m),C=b.location.nativeElement,M=b.injector.get(Vf,null),k=M&&b.injector.get(eb);return M&&k&&k.registerApplication(C,M),b.onDestroy(()=>{this.detachView(b.hostView),ab(this.components,b),k&&k.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;ab(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Qw,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(jt(zs),jt(Ya),jt(Kr),jt(Po),jt(zw))},s.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ab(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let rT=!0,lb=!1;function Gm(){return lb=!0,rT}function By(){if(lb)throw new Error("Cannot enable prod mode after platform setup.");rT=!1}let iT=(()=>{class s{}return s.__NG_ELEMENT_ID__=Uy,s})();function Uy(s){return function cb(s,o,l){if(ao(s)&&!l){const d=Wr(s.index,o);return new km(d,d)}return 47&s.type?new km(o[16],o):null}(xn(),Ee(),16==(16&s))}class $f{constructor(){}supports(o){return Xh(o)}create(o){return new aT(o)}}const oT=(s,o)=>o;class aT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||oT}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<jy(d,h,m)?l:d,b=jy(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const M=b-h,k=C-h;if(M!=k){for(let U=0;U<M;U++){const Z=U<m.length?m[U]:m[U]=0,ye=Z+U;k<=ye&&ye<M&&(m[U]=Z+1)}m[v.previousIndex]=k-M}}b!==C&&o(v,b,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Xh(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)m=o[b],v=this._trackByFn(b,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,b)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,b),d=!0),l=l._next}else h=0,function pI(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Jh()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new NM(l,d),m,h),o}_verifyReinsertion(o,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Hy),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class NM{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Hy{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new lT,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jy(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class Gf{constructor(){}supports(o){return o instanceof Map||k_(o)}create(){return new Yy}}class Yy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||k_(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new mb(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class mb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uT(){return new zm([new $f])}let zm=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||uT()),deps:[[s,new Du,new wu]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Re(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:uT}),s})();function cT(){return new $y([new Gf])}let $y=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||cT()),deps:[[s,new Du,new wu]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(d)return d;throw new Re(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:cT}),s})();const hT=ib(null,"core",[{provide:JE,useValue:"unknown"},{provide:$m,deps:[Ya]},{provide:eb,deps:[]},{provide:fe,deps:[]}]);let VM=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(jt(ob))},s.\u0275mod=Q({type:s}),s.\u0275inj=ln({}),s})()},3942:(st,Ce,R)=>{R.d(Ce,{Z:()=>Re});var u=R(2090),K=R(4859),L=R(9681),le=R(1877);class X{constructor(pe,De){this._delegate=pe,this.firebase=De,(0,L._addComponent)(pe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(pe,De=L._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(pe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(tt=Ze.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:De})}_removeServiceInstance(pe,De=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(De)}_addComponent(pe){(0,L._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,L._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ne(){const Fe=function ie(Fe){const pe={},De={__esModule:!0,initializeApp:function Se(Ye,te={}){const z=L.initializeApp(Ye,te);if((0,u.r3)(pe,z.name))return pe[z.name];const se=new Fe(z,De);return pe[z.name]=se,se},app:Ze,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function be(Ye){const te=Ye.name,z=te.replace("-compat","");if(L._registerComponent(Ye)&&"PUBLIC"===Ye.type){const se=(ge=Ze())=>{if("function"!=typeof ge[z])throw oe.create("invalid-app-argument",{appName:te});return ge[z]()};void 0!==Ye.serviceProps&&(0,u.ZB)(se,Ye.serviceProps),De[z]=se,Fe.prototype[z]=function(...ge){return this._getService.bind(this,te).apply(this,Ye.multipleInstances?ge:[])}}return"PUBLIC"===Ye.type?De[z]:null},removeApp:function tt(Ye){delete pe[Ye]},useAsService:function $e(Ye,te){return"serverAuth"===te?null:te},modularAPIs:L}};function Ze(Ye){if(!(0,u.r3)(pe,Ye=Ye||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ye});return pe[Ye]}return De.default=De,Object.defineProperty(De,"apps",{get:function ve(){return Object.keys(pe).map(Ye=>pe[Ye])}}),Ze.App=Fe,De}(X);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function pe(De){(0,u.ZB)(Fe,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Fe}(),Y=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=j;!function Me(Fe){(0,L.registerVersion)("@firebase/app-compat","0.1.21",Fe)}()},9681:(st,Ce,R)=>{R.r(Ce),R.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Kn,_addComponent:()=>yn,_addOrOverwriteComponent:()=>Wi,_apps:()=>wt,_clearComponents:()=>zt,_components:()=>_n,_getProvider:()=>Es,_registerComponent:()=>fn,_removeServiceInstance:()=>ln,deleteApp:()=>Ss,getApp:()=>ni,getApps:()=>Ts,initializeApp:()=>as,onLog:()=>wr,registerVersion:()=>gi,setLogLevel:()=>hr});var u=R(5861),K=R(4859),L=R(1877),le=R(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function me(Ke){const Ie=Ke.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Je)){const ft=Je.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Je=>Je).join(" ")}}const oe="@firebase/app",ne=new L.Yd("@firebase/app"),Kn="[DEFAULT]",lt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,_n=new Map;function yn(Ke,Ie){try{Ke.container.addComponent(Ie)}catch(Je){ne.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ke.name}`,Je)}}function Wi(Ke,Ie){Ke.container.addOrOverwriteComponent(Ie)}function fn(Ke){const Ie=Ke.name;if(_n.has(Ie))return ne.debug(`There were multiple attempts to register component ${Ie}.`),!1;_n.set(Ie,Ke);for(const Je of wt.values())yn(Je,Ke);return!0}function Es(Ke,Ie){const Je=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Ke.container.getProvider(Ie)}function ln(Ke,Ie,Je=Kn){Es(Ke,Ie).clearInstance(Je)}function zt(){_n.clear()}const xi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class no{constructor(Ie,Je,ft){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}const ti="9.6.10";function as(Ke,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Je=Object.assign({name:Kn,automaticDataCollectionEnabled:!1},Ie),ft=Je.name;if("string"!=typeof ft||!ft)throw xi.create("bad-app-name",{appName:String(ft)});const Gt=wt.get(ft);if(Gt){if((0,le.vZ)(Ke,Gt.options)&&(0,le.vZ)(Je,Gt.config))return Gt;throw xi.create("duplicate-app",{appName:ft})}const Ut=new K.H0(ft);for(const V of _n.values())Ut.addComponent(V);const H=new no(Ke,Je,Ut);return wt.set(ft,H),H}function ni(Ke=Kn){const Ie=wt.get(Ke);if(!Ie)throw xi.create("no-app",{appName:Ke});return Ie}function Ts(){return Array.from(wt.values())}function Ss(Ke){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(Ke){const Ie=Ke.name;wt.has(Ie)&&(wt.delete(Ie),yield Promise.all(Ke.container.getProviders().map(Je=>Je.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function gi(Ke,Ie,Je){var ft;let Gt=null!==(ft=lt[Ke])&&void 0!==ft?ft:Ke;Je&&(Gt+=`-${Je}`);const Ut=Gt.match(/\s|\//),H=Ie.match(/\s|\//);if(Ut||H){const V=[`Unable to register library "${Gt}" with version "${Ie}":`];return Ut&&V.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Ut&&H&&V.push("and"),H&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ne.warn(V.join(" "))}fn(new K.wA(`${Gt}-version`,()=>({library:Gt,version:Ie}),"VERSION"))}function wr(Ke,Ie){if(null!==Ke&&"function"!=typeof Ke)throw xi.create("invalid-log-argument");(0,L.Am)(Ke,Ie)}function hr(Ke){(0,L.Ub)(Ke)}const An="firebase-heartbeat-store";let br=null;function ro(){return br||(br=(0,le.X3)("firebase-heartbeat-database",1,(Ke,Ie)=>{0===Ie&&Ke.createObjectStore(An)}).catch(Ke=>{throw xi.create("storage-open",{originalErrorMessage:Ke.message})})),br}function Zt(){return(Zt=(0,u.Z)(function*(Ke){try{return(yield ro()).transaction(An).objectStore(An).get(Or(Ke))}catch(Ie){throw xi.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function ot(Ke,Ie){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(Ke,Ie){try{const ft=(yield ro()).transaction(An,"readwrite");return yield ft.objectStore(An).put(Ie,Or(Ke)),ft.complete}catch(Je){throw xi.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function Or(Ke){return`${Ke.name}!${Ke.options.appId}`}class Ho{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new ht(Je),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Ie=this;return(0,u.Z)(function*(){const ft=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=jr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!Ie._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Gt))return Ie._heartbeatsCache.heartbeats.push({date:Gt,agent:ft}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ut=>{const H=new Date(Ut.date).valueOf();return Date.now()-H<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,u.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Je=jr(),{heartbeatsToSend:ft,unsentEntries:Gt}=function Rr(Ke,Ie=1024){const Je=[];let ft=Ke.slice();for(const Gt of Ke){const Ut=Je.find(H=>H.agent===Gt.agent);if(Ut){if(Ut.dates.push(Gt.date),Yr(Je)>Ie){Ut.dates.pop();break}}else if(Je.push({agent:Gt.agent,dates:[Gt.date]}),Yr(Je)>Ie){Je.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Je,unsentEntries:ft}}(Ie._heartbeatsCache.heartbeats),Ut=(0,le.L)(JSON.stringify({version:2,heartbeats:ft}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Je,Gt.length>0?(Ie._heartbeatsCache.heartbeats=Gt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ut})()}}function jr(){return(new Date).toISOString().substring(0,10)}class ht{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,u.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function ll(Ke){return Zt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Je=this;return(0,u.Z)(function*(){var ft;if(yield Je._canUseIndexedDBPromise){const Ut=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ft=Ie.lastSentHeartbeatDate)&&void 0!==ft?ft:Ut.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Je=this;return(0,u.Z)(function*(){var ft;if(yield Je._canUseIndexedDBPromise){const Ut=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(ft=Ie.lastSentHeartbeatDate)&&void 0!==ft?ft:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ie.heartbeats]})}})()}}function Yr(Ke){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Yt(Ke){fn(new K.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),fn(new K.wA("heartbeat",Ie=>new Ho(Ie),"PRIVATE")),gi(oe,"0.7.20",Ke),gi(oe,"0.7.20","esm2017"),gi("fire-js","")}("")},4859:(st,Ce,R)=>{R.d(Ce,{wA:()=>L,H0:()=>ie});var u=R(5861),K=R(2090);class L{constructor(j,Y,J){this.name=j,this.instanceFactory=Y,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class X{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const J=new K.BH;if(this.instancesDeferred.set(Y,J),this.isInitialized(Y)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Y});qe&&J.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const J=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),qe=null!==(Y=null==j?void 0:j.optional)&&void 0!==Y&&Y;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Me){if(qe)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function oe(ne){return"EAGER"===ne.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Y){}for(const[Y,J]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Y);try{const Me=this.getOrInitializeService({instanceIdentifier:qe});J.resolve(Me)}catch(Me){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,u.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Y.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,J=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:J,options:Y});for(const[Me,Re]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Me)&&Re.resolve(qe);return qe}onInit(j,Y){var J;const qe=this.normalizeInstanceIdentifier(Y),Me=null!==(J=this.onInitCallbacks.get(qe))&&void 0!==J?J:new Set;Me.add(j),this.onInitCallbacks.set(qe,Me);const Re=this.instances.get(qe);return Re&&j(Re,qe),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,Y){const J=this.onInitCallbacks.get(Y);if(J)for(const qe of J)try{qe(j,Y)}catch(Me){}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let J=this.instances.get(j);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=j,ne===le?void 0:ne),options:Y}),this.instances.set(j,J),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(J,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,J)}catch(qe){}var ne;return J||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new X(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,R)=>{R.d(Ce,{in:()=>K,Yd:()=>oe,Ub:()=>ie,Am:()=>ne});const u=[];var K=(()=>{return(j=K||(K={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",K;var j})();const L={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},le=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},me=(j,Y,...J)=>{if(Y<j.logLevel)return;const qe=(new Date).toISOString(),Me=X[Y];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Me](`[${qe}]  ${j.name}:`,...J)};class oe{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=me,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?L[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function ie(j){u.forEach(Y=>{Y.setLogLevel(j)})}function ne(j,Y){for(const J of u){let qe=null;Y&&Y.level&&(qe=L[Y.level]),J.userLogHandler=null===j?null:(Me,Re,...Fe)=>{const pe=Fe.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(tt){return null}}).filter(De=>De).join(" ");Re>=(null!=qe?qe:Me.logLevel)&&j({level:K[Re].toLowerCase(),message:pe,args:Fe,type:Me.name})}}}},5861:(st,Ce,R)=>{function u(L,le,X,me,oe,ie,ne){try{var j=L[ie](ne),Y=j.value}catch(J){return void X(J)}j.done?le(Y):Promise.resolve(Y).then(me,oe)}function K(L){return function(){var le=this,X=arguments;return new Promise(function(me,oe){var ie=L.apply(le,X);function ne(Y){u(ie,me,oe,ne,j,"next",Y)}function j(Y){u(ie,me,oe,ne,j,"throw",Y)}ne(void 0)})}}R.d(Ce,{Z:()=>K})}},st=>{st(st.s=9541)}]);